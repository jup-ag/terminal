/*! For license information please see main-0.1.6.vendors.js.LICENSE.txt */
(self.webpackChunkJupiter=self.webpackChunkJupiter||[]).push([[216],{3369:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(9174),s=n(8191),a=n(5380),u=n(7614),c=i(n(9098)),l=n(6267),d=n(5815),f=n(5710),p=n(7614),h=n(5380),m=i(n(6572)),g=i(n(4903));class y{constructor(e,t){this.publicKey=e,this.spotOpenOrdersAccounts=new Array(a.MAX_PAIRS).fill(void 0),this.advancedOrders=[],Object.assign(this,t)}get name(){return this.info?String.fromCharCode(...this.info).replace(new RegExp(String.fromCharCode(0),"g"),""):""}getLiquidationPrice(e,t,n){const{spot:r,perps:i,quote:o}=this.getHealthComponents(e,t);let c=o,l=s.ZERO_I80F48;for(let o=0;o<e.numOracles;o++){const s=(0,u.getWeights)(e,o,"Maint");if(o===n){const e=r[o].mul(r[o].isPos()?s.spotAssetWeight:s.spotLiabWeight),t=i[o].mul(i[o].isPos()?s.perpAssetWeight:s.perpLiabWeight);l=e.add(t).neg()}else{const e=t.priceCache[o].price,n=r[o].mul(e).mul(r[o].isPos()?s.spotAssetWeight:s.spotLiabWeight),a=i[o].mul(e).mul(i[o].isPos()?s.perpAssetWeight:s.perpLiabWeight);c=c.add(n).add(a)}}if(l.isZero())return;const d=c.div(l);return d.isNeg()?void 0:d.mul(s.I80F48.fromNumber(Math.pow(10,e.tokens[n].decimals-e.tokens[a.QUOTE_INDEX].decimals)))}hasAnySpotOrders(){return this.inMarginBasket.some((e=>e))}reload(e,t){return r(this,void 0,void 0,(function*(){const n=yield e.getAccountInfo(this.publicKey);return Object.assign(this,a.MangoAccountLayout.decode(null==n?void 0:n.data)),t&&(yield this.loadOpenOrders(e,t)),this}))}reloadFromSlot(e,t=0,n){var i;return r(this,void 0,void 0,(function*(){let r=-1,o=null;for(;r<=t;){const t=yield e.getAccountInfoAndContext(this.publicKey);r=null===(i=t.context)||void 0===i?void 0:i.slot,o=t.value,yield(0,p.sleep)(250)}const s=a.MangoAccountLayout.decode(null==o?void 0:o.data),u=new y(this.publicKey,s);return u.spotOpenOrdersAccounts=this.spotOpenOrdersAccounts,u.advancedOrders=this.advancedOrders,n&&(yield u.loadOpenOrders(e,n)),Object.assign(this,u),[u,r]}))}loadSpotOrdersForMarket(e,t,n){return r(this,void 0,void 0,(function*(){const[r,i]=yield(0,p.getMultipleAccounts)(e,[t.bidsAddress,t.asksAddress]);return[...o.Orderbook.decode(t,r.accountInfo.data),...o.Orderbook.decode(t,i.accountInfo.data)].filter((e=>e.openOrdersAddress.equals(this.spotOpenOrders[n])))}))}loadOpenOrders(e,t){return r(this,void 0,void 0,(function*(){const n=yield(0,p.getMultipleAccounts)(e,this.spotOpenOrders.filter((e=>!e.equals(u.zeroKey))));return this.spotOpenOrdersAccounts=this.spotOpenOrders.map((e=>{if(e.equals(u.zeroKey))return;const r=n.find((t=>t.publicKey.equals(e)));return r?o.OpenOrders.fromAccountInfo(e,r.accountInfo,t):void 0})),this.spotOpenOrdersAccounts}))}loadAdvancedOrders(e){return r(this,void 0,void 0,(function*(){if(this.advancedOrdersKey.equals(u.zeroKey))return[];const t=yield e.getAccountInfo(this.advancedOrdersKey),n=h.AdvancedOrdersLayout.decode(null==t?void 0:t.data);return this.advancedOrders=n.orders,n.orders}))}getNativeDeposit(e,t){return e.depositIndex.mul(this.deposits[t])}getNativeBorrow(e,t){return e.borrowIndex.mul(this.borrows[t])}getUiDeposit(e,t,n){return(0,u.nativeI80F48ToUi)(this.getNativeDeposit(e,n).floor(),t.getTokenDecimals(n))}getUiBorrow(e,t,n){return(0,u.nativeI80F48ToUi)(this.getNativeBorrow(e,n).ceil(),t.getTokenDecimals(n))}getSpotVal(e,t,n,r){let i=s.ZERO_I80F48;const o=e.getPrice(n,t),c=this.getUiDeposit(t.rootBankCache[n],e,n).mul(o).mul(r);i=i.add(c);const l=this.spotOpenOrdersAccounts[n];return void 0!==l&&(i=i.add(s.I80F48.fromNumber((0,u.nativeToUi)(l.baseTokenTotal.toNumber(),e.tokens[n].decimals)).mul(o).mul(r)),i=i.add(s.I80F48.fromNumber((0,u.nativeToUi)(l.quoteTokenTotal.toNumber()+l.referrerRebatesAccrued.toNumber(),e.tokens[a.QUOTE_INDEX].decimals)))),i}getAssetsVal(e,t,n){let r=s.ZERO_I80F48;r=r.add(this.getUiDeposit(t.rootBankCache[a.QUOTE_INDEX],e,a.QUOTE_INDEX));for(let i=0;i<e.numOracles;i++){let o=s.ONE_I80F48;"Maint"===n?o=e.spotMarkets[i].maintAssetWeight:"Init"===n&&(o=e.spotMarkets[i].initAssetWeight);const c=this.getSpotVal(e,t,i,o);r=r.add(c);const l=t.priceCache[i].price,d=(0,u.nativeI80F48ToUi)(this.perpAccounts[i].getAssetVal(e.perpMarkets[i],l,t.perpMarketCache[i].shortFunding,t.perpMarketCache[i].longFunding),e.tokens[a.QUOTE_INDEX].decimals);r=r.add(d)}return r}getLiabsVal(e,t,n){let r=s.ZERO_I80F48;r=r.add(this.getUiBorrow(t.rootBankCache[a.QUOTE_INDEX],e,a.QUOTE_INDEX));for(let i=0;i<e.numOracles;i++){let o=s.ONE_I80F48;const c=e.getPrice(i,t);"Maint"===n?o=e.spotMarkets[i].maintLiabWeight:"Init"===n&&(o=e.spotMarkets[i].initLiabWeight),r=r.add(this.getUiBorrow(t.rootBankCache[i],e,i).mul(c.mul(o)));const l=(0,u.nativeI80F48ToUi)(this.perpAccounts[i].getLiabsVal(e.perpMarkets[i],t.priceCache[i].price,t.perpMarketCache[i].shortFunding,t.perpMarketCache[i].longFunding),e.tokens[a.QUOTE_INDEX].decimals);r=r.add(l)}return r}getNativeLiabsVal(e,t,n){let r=s.ZERO_I80F48;r=r.add(this.getNativeBorrow(t.rootBankCache[a.QUOTE_INDEX],a.QUOTE_INDEX));for(let i=0;i<e.numOracles;i++){const o=t.priceCache[i].price;let a=s.ONE_I80F48;"Maint"===n?a=e.spotMarkets[i].maintLiabWeight:"Init"===n&&(a=e.spotMarkets[i].initLiabWeight),r=r.add(this.getNativeBorrow(t.rootBankCache[i],i).mul(o.mul(a))),r=r.add(this.perpAccounts[i].getLiabsVal(e.perpMarkets[i],o,t.perpMarketCache[i].shortFunding,t.perpMarketCache[i].longFunding))}return r}getNet(e,t){return this.deposits[t].mul(e.depositIndex).sub(this.borrows[t].mul(e.borrowIndex))}getWeightedAssetsLiabsVals(e,t,n,r,i,o){let a=s.ZERO_I80F48,c=s.ZERO_I80F48;i.isPos()?a=a.add(i):c=c.add(i.neg());for(let i=0;i<e.numOracles;i++){const s=(0,u.getWeights)(e,i,o),l=t.priceCache[i].price;n[i].isPos()?a=n[i].mul(l).mul(s.spotAssetWeight).add(a):c=n[i].neg().mul(l).mul(s.spotLiabWeight).add(c),r[i].isPos()?a=r[i].mul(l).mul(s.perpAssetWeight).add(a):c=r[i].neg().mul(l).mul(s.perpLiabWeight).add(c)}return{assets:a,liabs:c}}getModWeightedAssetsLiabsVals(e,t,n,r,i,o,c){let l=s.ZERO_I80F48,d=s.ZERO_I80F48;i.isPos()?l=l.add(i):d=d.add(i.neg());for(let i=0;i<e.numOracles;i++){let f=s.ONE_I80F48;i==a.QUOTE_INDEX&&4==i||(f=o);const p=(0,u.getWeights)(e,i,c),h=t.priceCache[i].price.mul(f);n[i].isPos()?l=n[i].mul(h).mul(p.spotAssetWeight).add(l):d=n[i].neg().mul(h).mul(p.spotLiabWeight).add(d),r[i].isPos()?l=r[i].mul(h).mul(p.perpAssetWeight).add(l):d=r[i].neg().mul(h).mul(p.perpLiabWeight).add(d)}return{assets:l,liabs:d}}getHealthFromComponents(e,t,n,r,i,o){const s=i;for(let i=0;i<e.numOracles;i++){const a=(0,u.getWeights)(e,i,o),c=t.priceCache[i].price,l=n[i].mul(c).imul(n[i].isPos()?a.spotAssetWeight:a.spotLiabWeight),d=r[i].mul(c).imul(r[i].isPos()?a.perpAssetWeight:a.perpLiabWeight);s.iadd(l).iadd(d)}return s}getHealthsFromComponents(e,t,n,r,i,o){const s=i,a=i;for(let i=0;i<e.numOracles;i++){const c=(0,u.getWeights)(e,i,o),l=t.priceCache[i].price,d=n[i].mul(l).imul(n[i].isPos()?c.spotAssetWeight:c.spotLiabWeight),f=r[i].mul(l).imul(r[i].isPos()?c.perpAssetWeight:c.perpLiabWeight);s.iadd(d),a.iadd(f)}return{spot:s,perp:a}}getMarketMarginAvailable(e,t,n,r){const i=this.getHealth(e,t,"Init");if(i.lte(s.ZERO_I80F48))return s.ZERO_I80F48;const o=(0,u.getWeights)(e,n,"Init"),a="spot"===r?o.spotAssetWeight:o.perpAssetWeight;return a.gte(s.ONE_I80F48)?i:i.div(s.ONE_I80F48.sub(a))}getAvailableBalance(e,t,n){const r=this.getHealth(e,t,"Init"),i=this.getNet(t.rootBankCache[n],n);if(n===a.QUOTE_INDEX)return r.min(i).max(s.ZERO_I80F48);{const o=(0,u.getWeights)(e,n,"Init");return i.min(r.div(o.spotAssetWeight).div(t.priceCache[n].price)).max(s.ZERO_I80F48)}}getHealthComponents(e,t){const n=Array(e.numOracles).fill(s.ZERO_I80F48),r=Array(e.numOracles).fill(s.ZERO_I80F48),i=this.getNet(t.rootBankCache[a.QUOTE_INDEX],a.QUOTE_INDEX);for(let o=0;o<e.numOracles;o++){const a=t.rootBankCache[o],c=t.priceCache[o].price,l=this.getNet(a,o),d=this.spotOpenOrdersAccounts[o];if(this.inMarginBasket[o]&&void 0!==d){const{quoteFree:e,quoteLocked:t,baseFree:r,baseLocked:s}=(0,u.splitOpenOrders)(d),a=l.add(t.div(c)).iadd(r).iadd(s),f=l.add(r);a.abs().gt(f.abs())?(n[o]=a,i.iadd(e)):(n[o]=f,i.iadd(s.mul(c)).iadd(e).iadd(t))}else n[o]=l;if(e.perpMarkets[o].perpMarket.equals(u.zeroKey))r[o]=s.ZERO_I80F48;else{const n=t.perpMarketCache[o],a=this.perpAccounts[o],u=e.perpMarkets[o].baseLotSize,l=e.perpMarkets[o].quoteLotSize,d=s.I80F48.fromI64(a.takerQuote.mul(l)),f=s.I80F48.fromI64(a.basePosition.add(a.takerBase).imul(u)),p=s.I80F48.fromI64(a.bidsQuantity.mul(u)),h=s.I80F48.fromI64(a.asksQuantity.mul(u)),m=f.add(p),g=f.sub(h);if(m.abs().gt(g.abs())){const e=a.getQuotePosition(n).add(d).isub(p.mul(c));i.iadd(e),r[o]=m}else{const e=a.getQuotePosition(n).add(d).iadd(h.mul(c));i.iadd(e),r[o]=g}}}return{spot:n,perps:r,quote:i}}getHealth(e,t,n){const{spot:r,perps:i,quote:o}=this.getHealthComponents(e,t);return this.getHealthFromComponents(e,t,r,i,o,n)}getHealthRatio(e,t,n){const{spot:r,perps:i,quote:o}=this.getHealthComponents(e,t),{assets:a,liabs:u}=this.getWeightedAssetsLiabsVals(e,t,r,i,o,n);return u.gt(s.ZERO_I80F48)?a.div(u).sub(s.ONE_I80F48).mul(s.I80F48.fromNumber(100)):s.I80F48.fromNumber(100)}getModHealthComponents(e,t,n){const r=Array(e.numOracles).fill(s.ZERO_I80F48),i=Array(e.numOracles).fill(s.ZERO_I80F48),o=this.getNet(t.rootBankCache[a.QUOTE_INDEX],a.QUOTE_INDEX);for(let c=0;c<e.numOracles;c++){let l=s.ONE_I80F48;c==a.QUOTE_INDEX&&4==c||(l=n);const d=t.rootBankCache[c],f=t.priceCache[c].price.mul(l),p=this.getNet(d,c),h=this.spotOpenOrdersAccounts[c];if(this.inMarginBasket[c]&&void 0!==h){const{quoteFree:e,quoteLocked:t,baseFree:n,baseLocked:i}=(0,u.splitOpenOrders)(h),s=p.add(t.div(f)).iadd(n).iadd(i),a=p.add(n);s.abs().gt(a.abs())?(r[c]=s,o.iadd(e)):(r[c]=a,o.iadd(i.mul(f)).iadd(e).iadd(t))}else r[c]=p;if(e.perpMarkets[c].perpMarket.equals(u.zeroKey))i[c]=s.ZERO_I80F48;else{const n=t.perpMarketCache[c],r=this.perpAccounts[c],a=e.perpMarkets[c].baseLotSize,u=e.perpMarkets[c].quoteLotSize,l=s.I80F48.fromI64(r.takerQuote.mul(u)),d=s.I80F48.fromI64(r.basePosition.add(r.takerBase).imul(a)),p=s.I80F48.fromI64(r.bidsQuantity.mul(a)),h=s.I80F48.fromI64(r.asksQuantity.mul(a)),m=d.add(p),g=d.sub(h);if(m.abs().gt(g.abs())){const e=r.getQuotePosition(n).add(l).isub(p.mul(f));o.iadd(e),i[c]=m}else{const e=r.getQuotePosition(n).add(l).iadd(h.mul(f));o.iadd(e),i[c]=g}}}return{spot:r,perps:i,quote:o}}getPriceMoveToLiquidate(e,t){const n=this.getHealthComponents(e,t),r=this.getWeightedAssetsLiabsVals(e,t,n.spot,n.perps,n.quote,"Maint"),i=this.getModHealthComponents(e,t,s.I80F48.fromNumber(1.01)),o=this.getModWeightedAssetsLiabsVals(e,t,i.spot,i.perps,i.quote,s.I80F48.fromNumber(1.01),"Maint"),a=r.assets.sub(r.liabs),u=o.assets.sub(r.assets),c=o.liabs.sub(r.liabs).sub(u);let l=s.ZERO_I80F48;return l=c.isZero()?s.ZERO_I80F48:a.div(c),l}computeValue(e,t){return this.getAssetsVal(e,t).sub(this.getLiabsVal(e,t))}mgnoAccruedValue(e,t){const n=new f.Config(g.default).groups.find((t=>t.publicKey.equals(e.publicKey))),r=n.oracles.findIndex((e=>"MNGO"===e.symbol)),i=n.tokens.findIndex((e=>"MNGO"===e.symbol)),o=t.priceCache[r].price,a=e.tokens[i].decimals;let c=s.ZERO_I80F48;for(let t=0;t<e.numOracles;t++){const e=(0,u.nativeI80F48ToUi)(s.I80F48.fromI64(this.perpAccounts[t].mngoAccrued).mul(o),a);c=c.add(e)}return c}getLeverage(e,t){const n=this.getLiabsVal(e,t),r=this.getAssetsVal(e,t);return r.gt(s.ZERO_I80F48)?n.div(r.sub(n)):s.ZERO_I80F48}calcTotalPerpUnsettledPnl(e,t){let n=s.ZERO_I80F48;for(let r=0;r<e.perpMarkets.length;r++){const i=e.perpMarkets[r];if(i.isEmpty())continue;const o=t.getPrice(r);n=n.add(this.perpAccounts[r].getPnl(i,t.perpMarketCache[r],o))}return n}calcTotalPerpPosUnsettledPnl(e,t){let n=s.ZERO_I80F48;for(let r=0;r<e.perpMarkets.length;r++){const i=e.perpMarkets[r];if(i.isEmpty())continue;const o=t.getPrice(r),s=this.perpAccounts[r].getPnl(i,t.perpMarketCache[r],o);s.isPos()&&(n=n.add(s))}return n}getMaxLeverageForMarket(e,t,n,r,i,o){const u=this.getHealth(e,t,"Init"),c=s.I80F48.fromNumber(Math.pow(10,e.tokens[a.QUOTE_INDEX].decimals)),l=u.div(c);let d,f,h=s.ZERO_I80F48,g=s.ZERO_I80F48,y=s.ZERO_I80F48,b=s.ZERO_I80F48;if(r instanceof m.default){({initLiabWeight:d,initAssetWeight:f}=e.perpMarkets[n]);const t=this.perpAccounts[n].basePosition;t.gt(p.ZERO_BN)?(y=s.I80F48.fromNumber(r.baseLotsToNumber(t)),h=y.mul(o)):(b=s.I80F48.fromNumber(r.baseLotsToNumber(t)).abs(),g=b.mul(o))}else({initLiabWeight:d,initAssetWeight:f}=e.spotMarkets[n]),y=this.getUiDeposit(t.rootBankCache[n],e,n),h=y.mul(o),b=this.getUiBorrow(t.rootBankCache[n],e,n),g=b.mul(o);let w=s.ZERO_I80F48;return w="buy"===i?l.add(g.mul(d.sub(s.ONE_I80F48))).div(s.ONE_I80F48.sub(f)).add(g):l.add(h.mul(s.ONE_I80F48.sub(f))).div(d.sub(s.ONE_I80F48)).add(h),{max:w,uiBorrowVal:g,uiDepositVal:h,deposits:y,borrows:b}}getMaxWithBorrowForToken(e,t,n){const r=this.getHealth(e,t,"Init").floor(),i=this.getNativeDeposit(t.rootBankCache[n],n).floor();let o,u,c;n===a.QUOTE_INDEX?o=u=c=s.ONE_I80F48:(o=e.spotMarkets[n].initLiabWeight,u=e.spotMarkets[n].initAssetWeight,c=t.priceCache[n].price);const l=r.sub(i.mul(c).mul(u)).floor(),d=e.getPrice(n,t),f=s.I80F48.fromNumber(Math.pow(10,e.tokens[a.QUOTE_INDEX].decimals));return l.div(f).div(d.mul(o))}isLiquidatable(e,t){return this.beingLiquidated&&this.getHealth(e,t,"Init").isNeg()||this.getHealth(e,t,"Maint").isNeg()}toPrettyString(e,t,n){const r=[];r.push("MangoAccount "+this.publicKey.toBase58()),r.push("Owner: "+this.owner.toBase58()),this.delegate.equals(u.zeroKey)||r.push("Delegate: "+this.delegate.toBase58()),r.push("Maint Health Ratio: "+this.getHealthRatio(t,n,"Maint").toFixed(4)),r.push("Maint Health: "+this.getHealth(t,n,"Maint").toFixed(4)),r.push("Init Health: "+this.getHealth(t,n,"Init").toFixed(4)),r.push("Equity: "+this.computeValue(t,n).toFixed(4)),r.push("isBankrupt: "+this.isBankrupt),r.push("beingLiquidated: "+this.beingLiquidated),r.push("Spot:"),r.push("Token: Net Balance / Base In Orders / Quote In Orders / Liq. Price");const i=new c.default(10).pow(new c.default(t.tokens[a.QUOTE_INDEX].decimals));for(let o=0;o<t.tokens.length;o++){if(t.tokens[o].mint.equals(u.zeroKey))continue;const l=(0,f.getTokenByMint)(e,t.tokens[o].mint);let d=p.ZERO_BN,h=p.ZERO_BN;const m=o!==a.QUOTE_INDEX?this.spotOpenOrdersAccounts[o]:void 0;if(m){const e=new c.default(10).pow(new c.default(t.tokens[o].decimals));d=m.baseTokenTotal.div(e),h=m.quoteTokenTotal.add(m.referrerRebatesAccrued).div(i)}const g=(0,u.nativeI80F48ToUi)(this.getNet(n.rootBankCache[o],o),t.tokens[o].decimals);if(g.eq(s.ZERO_I80F48)&&d.isZero()&&h.isZero())continue;const y=o!==a.QUOTE_INDEX?this.getLiquidationPrice(t,n,o):void 0,b=void 0!==y?y.toFixed(4):"N/A";r.push(`${l.symbol}: ${g.toFixed(4)} / ${d.toNumber().toFixed(4)} / ${h.toNumber().toFixed(4)} / ${b}`)}r.push("Perps:"),r.push("Market: Base Pos / Quote Pos / Unsettled Funding / Health / Liq. Price");for(let o=0;o<this.perpAccounts.length;o++){if(t.perpMarkets[o].perpMarket.equals(u.zeroKey))continue;const s=(0,f.getMarketByPublicKey)(e,t.perpMarkets[o].perpMarket);if(void 0===s)continue;const a=this.getLiquidationPrice(t,n,o),c=void 0!==a?a.toFixed(4):"N/A",l=this.perpAccounts[o],d=t.perpMarkets[o];r.push(`${s.name}: ${this.getBasePositionUiWithGroup(o,t).toFixed(4)} / ${(l.getQuotePosition(n.perpMarketCache[o]).toNumber()/i.toNumber()).toFixed(4)} / ${(l.getUnsettledFunding(n.perpMarketCache[o]).toNumber()/i.toNumber()).toFixed(4)} / ${l.getHealth(d,n.priceCache[o].price,d.maintAssetWeight,d.maintLiabWeight,n.perpMarketCache[o].longFunding,n.perpMarketCache[o].shortFunding).toFixed(4)} / ${c}`)}return r.join(l.EOL)}getPerpOpenOrders(){const e=[];for(let t=0;t<this.orders.length;t++)this.orderMarket[t]!==a.FREE_ORDER_SLOT&&e.push({marketIndex:this.orderMarket[t],price:(0,d.getPriceFromKey)(this.orders[t]),side:this.orderSide[t]});return e}getOpenOrdersKeysInBasket(){return this.spotOpenOrders.map(((e,t)=>this.inMarginBasket[t]?e:u.zeroKey))}getOpenOrdersKeysInBasketPacked(){return this.spotOpenOrders.filter(((e,t)=>this.inMarginBasket[t]))}getPerpPositionUi(e,t){return this.perpAccounts[e].getBasePositionUi(t)}getBasePositionUiWithGroup(e,t){return this.perpAccounts[e].basePosition.mul(t.perpMarkets[e].baseLotSize).toNumber()/Math.pow(10,t.tokens[e].decimals)}getEquityUi(e,t){return this.computeValue(e,t).toNumber()/Math.pow(10,e.tokens[a.QUOTE_INDEX].decimals)}getCollateralValueUi(e,t){return this.getHealth(e,t,"Init").toNumber()/Math.pow(10,e.tokens[a.QUOTE_INDEX].decimals)}getNetExposureByAsset(e,t,n,r){const i=(0,u.nativeToUi)(this.getNet(r.rootBankCache[a.QUOTE_INDEX],a.QUOTE_INDEX).toNumber(),t.tokens[a.QUOTE_INDEX].decimals);let o=[{asset:"USDC",amount:i,symbol:"USDC",value:i}];const c=o[0];for(let i=0;i<t.numOracles;++i){const l=e.oracles[i];if(!l)continue;const d=t.getPrice(i,r).toNumber();if(!t.spotMarkets[i].isEmpty()){let e=(0,u.nativeToUi)(this.getNet(r.rootBankCache[i],i).toNumber(),t.tokens[i].decimals),n=e*d;const s=this.spotOpenOrdersAccounts[i];if(void 0!==s){const r=(0,u.nativeToUi)(s.baseTokenTotal.toNumber(),t.tokens[i].decimals);e+=r,n+=r*d;const o=(0,u.nativeToUi)(s.quoteTokenTotal.toNumber()+s.referrerRebatesAccrued.toNumber(),t.tokens[a.QUOTE_INDEX].decimals);c.amount+=o,c.value+=o}o.push({asset:l.symbol,symbol:l.symbol,amount:e,value:n})}if(!t.perpMarkets[i].isEmpty()){const f=e.perpMarkets.find((e=>e.marketIndex==i)),p=n.find((e=>null==e?void 0:e.publicKey.equals(null==f?void 0:f.publicKey))),h=this.perpAccounts[i].getBasePositionUi(p),m=d*h;o.push({asset:f.name,symbol:l.symbol,amount:h,value:m});const g=(0,u.nativeToUi)(this.perpAccounts[i].getPnl(t.perpMarkets[i],r.perpMarketCache[i],s.I80F48.fromNumber(d)).toNumber(),t.tokens[a.QUOTE_INDEX].decimals);c.amount+=g,c.value+=g}}return o}}t.default=y},6336:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5827),s=n(5380),a=n(8191),u=n(5380),c=i(n(6572)),l=i(n(5869)),d=n(7614);t.default=class{constructor(e,t){this.publicKey=e,Object.assign(this,t),this.oracles=this.oracles.filter((e=>!e.equals(d.zeroKey))),this.rootBankAccounts=new Array(u.MAX_TOKENS).fill(void 0)}getOracleIndex(e){for(let t=0;t<this.numOracles;t++)if(this.oracles[t].equals(e))return t;throw new Error("This Oracle does not belong to this MangoGroup")}getSpotMarketIndex(e){for(let t=0;t<this.numOracles;t++)if(this.spotMarkets[t].spotMarket.equals(e))return t;throw new Error("This Market does not belong to this MangoGroup")}getPerpMarketIndex(e){for(let t=0;t<this.numOracles;t++)if(this.perpMarkets[t].perpMarket.equals(e))return t;throw new Error("This PerpMarket does not belong to this MangoGroup")}getTokenIndex(e){for(let t=0;t<this.tokens.length;t++)if(this.tokens[t].mint.equals(e))return t;throw new Error("This token does not belong in this MangoGroup")}getRootBankIndex(e){for(let t=0;t<this.tokens.length;t++)if(this.tokens[t].rootBank.equals(e))return t;throw new Error("This root bank does not belong in this MangoGroup")}getBorrowRate(e){const t=this.rootBankAccounts[e];if(!t)throw new Error(`Root bank at index ${e} is not loaded`);return t.getBorrowRate(this)}getDepositRate(e){const t=this.rootBankAccounts[e];if(!t)throw new Error(`Root bank at index ${e} is not loaded`);return t.getDepositRate(this)}getTokenDecimals(e){const t=this.tokens[e];if(0==t.decimals){if(this.oracles[e].equals(d.zeroKey))throw new Error("No oracle for this tokenIndex");return 6}return t.decimals}cachePriceToUi(e,t){const n=new o.Big(10).pow(this.getTokenDecimals(t)-this.getTokenDecimals(u.QUOTE_INDEX));return e.toBig().mul(n).toNumber()}getPrice(e,t){var n;if(e===u.QUOTE_INDEX)return a.ONE_I80F48;const r=new o.Big(10).pow(this.getTokenDecimals(e)-this.getTokenDecimals(u.QUOTE_INDEX));return a.I80F48.fromBig(null===(n=t.priceCache[e])||void 0===n?void 0:n.price.toBig().mul(r))}getPriceUi(e,t){var n;return e===u.QUOTE_INDEX?1:(null===(n=t.priceCache[e])||void 0===n?void 0:n.price.toNumber())*Math.pow(10,this.getTokenDecimals(e)-this.getTokenDecimals(u.QUOTE_INDEX))}getPriceNative(e,t){return e===u.QUOTE_INDEX?a.ONE_I80F48:t.priceCache[e].price}getUiTotalDeposit(e){const t=this.rootBankAccounts[e];if(!t)throw new Error(`Root bank at index ${e} is not loaded`);return t.getUiTotalDeposit(this)}getUiTotalBorrow(e){const t=this.rootBankAccounts[e];if(!t)throw new Error(`Root bank at index ${e} is not loaded`);return t.getUiTotalBorrow(this)}loadCache(e){return r(this,void 0,void 0,(function*(){const t=yield e.getAccountInfo(this.mangoCache);if(!t||!(null==t?void 0:t.data))throw new Error("Unable to load cache");const n=u.MangoCacheLayout.decode(t.data);return new u.MangoCache(this.mangoCache,n)}))}onCacheChange(e,t){return e.onAccountChange(this.mangoCache,((e,n)=>{const r=u.MangoCacheLayout.decode(e.data),i=new u.MangoCache(this.mangoCache,r);t(i)}),e.commitment)}loadRootBanks(e){return r(this,void 0,void 0,(function*(){const t=this.tokens.map((e=>e.rootBank)).filter((e=>!e.equals(d.zeroKey))),n=(yield(0,d.getMultipleAccounts)(e,t)).map((e=>{const t=u.RootBankLayout.decode(e.accountInfo.data);return new l.default(e.publicKey,t)})),r=n.map((e=>e.nodeBanks.filter((e=>!e.equals(d.zeroKey))))),i=(yield(0,d.getMultipleAccounts)(e,r.flat())).map((e=>{const t=s.NodeBankLayout.decode(e.accountInfo.data);return new s.NodeBank(e.publicKey,t)}));let o=0;for(let e=0;e<n.length;e++){const t=n[e],r=t.nodeBanks.filter((e=>!e.equals(d.zeroKey))).length;t.nodeBankAccounts=i.slice(o,o+r),o+=r}return this.rootBankAccounts=this.tokens.map((e=>{const t=n.find((t=>t.publicKey.equals(e.rootBank)));return null!=t?t:void 0})),this.rootBankAccounts}))}loadPerpMarket(e,t,n,i){return r(this,void 0,void 0,(function*(){const r=this.perpMarkets[t].perpMarket,o=yield e.getAccountInfo(r),s=u.PerpMarketLayout.decode(null==o?void 0:o.data);return new c.default(r,n,i,s)}))}getQuoteTokenInfo(){return this.tokens[this.tokens.length-1]}}},198:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(7614),o=n(8191),s=r(n(5827)),a=new s.default(0),u=new s.default(-1);t.default=class{constructor(e){Object.assign(this,e)}getAverageOpenPrice(e,t,n){if(this.basePosition.isZero())return a;const r=t.baseLotsToNumber(this.basePosition),i=e.publicKey.toString();let o=new s.default(r),c=a;for(const e of n){let t,n;if("liqor"in e){const r=e;t=new s.default(r.price);let c=new s.default(r.quantity);if(i===r.liqee.toString()&&(c=c.mul(u)),o.gt(a)&&c.gt(a))n=c.lt(o)?c:o;else{if(!o.lt(a)||!c.lt(a))continue;n=o.gt(c)?o:c}}else{const r=e;t=new s.default(r.price);let c=new s.default(r.quantity);if((i===r.taker.toString()&&"sell"===r.takerSide||i===r.maker.toString()&&"buy"===r.takerSide)&&(c=c.mul(u)),o.gt(a)&&c.gt(a))n=c.lt(o)?c:o;else{if(!o.lt(a)||!c.lt(a))continue;n=o.gt(c)?o:c}}if(c=c.sub(n.mul(t)),o=o.sub(n),o.lte(new s.default(1e-9))&&o.gte(new s.default(-1e-9)))return c.div(r).abs()}throw new Error("Trade history incomplete")}getBreakEvenPrice(e,t,n){if(this.basePosition.isZero())return a;const r=t.baseLotsToNumber(this.basePosition),i=e.publicKey.toString();let o=new s.default(r),c=a;for(const e of n){let t,n;if("liqor"in e){const r=e;t=new s.default(r.price);let c=new s.default(r.quantity);i===r.liqee.toString()&&(c=c.mul(u)),n=o.gt(a)&&c.gt(a)?c.lt(o)?c:o:o.lt(a)&&c.lt(a)&&o.gt(c)?o:c}else{const r=e;t=new s.default(r.price);let c=new s.default(r.quantity);(i===r.taker.toString()&&"sell"===r.takerSide||i===r.maker.toString()&&"buy"===r.takerSide)&&(c=c.mul(u)),n=o.gt(a)&&c.gt(a)?o.lt(c)?o:c:o.lt(a)&&c.lt(a)&&o.gt(c)?o:c}if(c=c.sub(n.mul(t)),o=o.sub(n),o.lte(new s.default(1e-9))&&o.gte(new s.default(-1e-9)))return c.mul(u).div(r)}throw new Error("Trade history incomplete")}getPnl(e,t,n){return o.I80F48.fromI64(this.basePosition.mul(e.baseLotSize)).mul(n).add(this.getQuotePosition(t))}getUnsettledFunding(e){return this.basePosition.isNeg()?o.I80F48.fromI64(this.basePosition).mul(e.shortFunding.sub(this.shortSettledFunding)):o.I80F48.fromI64(this.basePosition).mul(e.longFunding.sub(this.longSettledFunding))}getQuotePosition(e){return this.quotePosition.sub(this.getUnsettledFunding(e))}simPositionHealth(e,t,n,r,s){const a=this.basePosition.add(s);let u=this.quotePosition.sub(o.I80F48.fromI64(s.mul(e.baseLotSize)).mul(t));return u=a.gt(i.ZERO_BN)?u.add(o.I80F48.fromI64(a.mul(e.baseLotSize)).mul(t).mul(n)):u.add(o.I80F48.fromI64(a.mul(e.baseLotSize)).mul(t).mul(r)),u}getHealth(e,t,n,r,s,a){const u=this.simPositionHealth(e,t,n,r,this.bidsQuantity),c=this.simPositionHealth(e,t,n,r,this.asksQuantity.neg()),l=u.lt(c)?u:c;let d;return d=this.basePosition.gt(i.ZERO_BN)?l.sub(s.sub(this.longSettledFunding).mul(o.I80F48.fromI64(this.basePosition))):l.add(a.sub(this.shortSettledFunding).mul(o.I80F48.fromI64(this.basePosition))),d}getLiabsVal(e,t,n,r){let s=o.ZERO_I80F48;this.basePosition.lt(i.ZERO_BN)&&(s=s.add(o.I80F48.fromI64(this.basePosition.mul(e.baseLotSize)).mul(t)));let a=this.quotePosition;return this.basePosition.gt(i.ZERO_BN)?a=this.quotePosition.sub(r.sub(this.longSettledFunding).mul(o.I80F48.fromI64(this.basePosition))):this.basePosition.lt(i.ZERO_BN)&&(a=this.quotePosition.sub(n.sub(this.shortSettledFunding).mul(o.I80F48.fromI64(this.basePosition)))),a.lt(o.ZERO_I80F48)&&(s=s.add(a)),s.neg()}getAssetVal(e,t,n,r){let s=o.ZERO_I80F48;this.basePosition.gt(i.ZERO_BN)&&(s=s.add(o.I80F48.fromI64(this.basePosition.mul(e.baseLotSize)).mul(t)));let a=this.quotePosition;return this.basePosition.gt(i.ZERO_BN)?a=this.quotePosition.sub(r.sub(this.longSettledFunding).mul(o.I80F48.fromI64(this.basePosition))):this.basePosition.lt(i.ZERO_BN)&&(a=this.quotePosition.sub(n.sub(this.shortSettledFunding).mul(o.I80F48.fromI64(this.basePosition)))),a.gt(o.ZERO_I80F48)&&(s=s.add(a)),s}getBasePositionUi(e){return e.baseLotsToNumber(this.basePosition)}}},1180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7614);t.default=class{constructor(e){Object.assign(this,e)}getUnconsumedEvents(){const e=[],t=this.head.toNumber();for(let n=0;n<this.count.toNumber();n++)e.push(this.events[(t+n)%this.events.length]);return e}eventsSince(e){const t=[];for(const e of this.events){let n;if(e.fill)n=e.fill,n.eventType="fill";else if(e.out)n=e.out,n.eventType="out";else{if(!e.liquidate)continue;n=e.liquidate,n.eventType="liquidate"}t.push(n)}let n;return n=void 0===e?t.filter((e=>e.timestamp.gt(r.ZERO_BN))).sort(((e,t)=>e.seqNum.cmp(t.seqNum))):t.filter((t=>t.seqNum.gt(e))).sort(((e,t)=>e.seqNum.cmp(t.seqNum))),n.map((e=>"fill"===e.eventType?{fill:e}:"out"===e.eventType?{out:e}:"liquidate"===e.eventType?{liquidate:e}:void 0))}}},6572:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(5827)),s=i(n(9098)),a=n(7614),u=i(n(1180)),c=n(5380),l=n(5815),d=n(8191),f=n(7614),p=n(6267);t.default=class{constructor(e,t,n,r){this.publicKey=e,this.baseDecimals=t,this.quoteDecimals=n,Object.assign(this,r),this.priceLotsToUiConvertor=new o.default(10).pow(t-n).mul(new o.default(this.quoteLotSize.toString())).div(new o.default(this.baseLotSize.toString())).toNumber(),this.baseLotsToUiConvertor=new o.default(this.baseLotSize.toString()).div(new o.default(10).pow(t)).toNumber()}priceLotsToNative(e){return d.I80F48.fromI64(this.quoteLotSize.mul(e)).div(d.I80F48.fromI64(this.baseLotSize))}baseLotsToNative(e){return d.I80F48.fromI64(this.baseLotSize.mul(e))}priceLotsToNumber(e){return parseFloat(e.toString())*this.priceLotsToUiConvertor}baseLotsToNumber(e){return parseFloat(e.toString())*this.baseLotsToUiConvertor}get minOrderSize(){return void 0===this._minOrderSize&&(this._minOrderSize=this.baseLotsToNumber(a.ONE_BN)),this._minOrderSize}get tickSize(){return void 0===this._tickSize&&(this._tickSize=this.priceLotsToNumber(a.ONE_BN)),this._tickSize}getCurrentFundingRate(e,t,n,r,i){const o=new s.default(100),u=r.getImpactPriceUi(o),c=i.getImpactPriceUi(o),l=e.getPriceUi(n,t);let d;if(void 0!==u&&void 0!==c){const e=(u+c)/2;d=(0,a.clamp)(e/l-1,-.05,.05)}else d=void 0!==u?.05:void 0!==c?-.05:0;return d/24}loadEventQueue(e){return r(this,void 0,void 0,(function*(){const t=yield e.getAccountInfo(this.eventQueue),n=c.PerpEventQueueLayout.decode(null==t?void 0:t.data);return new u.default(n)}))}loadFills(e){return r(this,void 0,void 0,(function*(){return(yield this.loadEventQueue(e)).eventsSince(f.ZERO_BN).map((e=>e.fill)).filter((e=>!!e)).map(this.parseFillEvent.bind(this))}))}parseFillEvent(e){const t=this.baseLotsToNumber(e.quantity),n=this.priceLotsToNumber(e.price);return Object.assign(Object.assign({},e),{quantity:t,price:n})}loadBids(e,t=!1){return r(this,void 0,void 0,(function*(){const n=yield e.getAccountInfo(this.bids);return new l.BookSide(this.bids,this,c.BookSideLayout.decode(null==n?void 0:n.data),t)}))}loadAsks(e,t=!1){return r(this,void 0,void 0,(function*(){const n=yield e.getAccountInfo(this.asks);return new l.BookSide(this.asks,this,c.BookSideLayout.decode(null==n?void 0:n.data),t)}))}loadOrdersForAccount(e,t,n=!1){return r(this,void 0,void 0,(function*(){const[r,i]=yield Promise.all([this.loadBids(e,n),this.loadAsks(e,n)]);return[...r,...i].filter((e=>e.owner.equals(t.publicKey)))}))}uiToNativePriceQuantity(e,t){const n=Math.pow(10,this.baseDecimals),r=Math.pow(10,this.quoteDecimals);return[new s.default(e*r).mul(this.baseLotSize).div(this.quoteLotSize.mul(new s.default(n))),new s.default(t*n).div(this.baseLotSize)]}uiQuoteToLots(e){const t=Math.pow(10,this.quoteDecimals);return new s.default(e*t).div(this.quoteLotSize)}toPrettyString(e,t){const n=e.perpMarkets[t.marketIndex],r=e.oracles[t.marketIndex],i=this.liquidityMiningInfo,o=Date.now()/1e3,s=i.periodStart.toNumber(),u=o-s,c=1-i.mngoLeft.toNumber()/i.mngoPerPeriod.toNumber(),l=s+u/c;return[`${t.name}`,`version: ${this.metaData.version}`,`publicKey: ${t.publicKey.toBase58()}`,`oracle: ${r.toBase58()}`,`initAssetWeight: ${e.perpMarkets[t.marketIndex].initAssetWeight.toString()}`,`maintAssetWeight: ${e.perpMarkets[t.marketIndex].maintAssetWeight.toString()}`,`marketIndex: ${t.marketIndex}`,`bidsKey: ${this.bids.toBase58()}`,`asksKey: ${this.asks.toBase58()}`,`eventQueue: ${this.eventQueue.toBase58()}`,`quoteLotSize: ${this.quoteLotSize.toString()}`,`baseLotSize: ${this.baseLotSize.toString()}`,`longFunding: ${this.longFunding.toString()}`,`shortFunding: ${this.shortFunding.toString()}`,`openInterest: ${this.openInterest.toString()}`,`lastUpdated: ${new Date(1e3*this.lastUpdated.toNumber()).toUTCString()}`,`seqNum: ${this.seqNum.toString()}`,`liquidationFee: ${n.liquidationFee.toString()}`,`takerFee: ${n.takerFee.toString()}`,`makerFee: ${n.makerFee.toString()}`,`feesAccrued: ${(0,a.nativeToUi)(this.feesAccrued.toNumber(),6).toFixed(6)}`,`\n----- ${t.name} Liquidity Mining Info -----`,`rate: ${i.rate.toString()}`,"maxDepth: "+(0===this.metaData.version?i.maxDepthBps.toString()+" bps":i.maxDepthBps.toString()+" contracts"),`exp: ${this.metaData.extraInfo[0]||2}`,`lmSizeShift: ${this.metaData.extraInfo[1]}`,`periodStart: ${new Date(1e3*i.periodStart.toNumber()).toUTCString()}`,`targetPeriodLength: ${i.targetPeriodLength.toString()}`,`mngoLeftInPeriod: ${(i.mngoLeft.toNumber()/Math.pow(10,6)).toFixed(2)}`,`mngoPerPeriod: ${(i.mngoPerPeriod.toNumber()/Math.pow(10,6)).toFixed(2)}`,`periodProgress: ${100*c}%`,`estPeriodEnd: ${new Date(1e3*l).toUTCString()}`,`mngoVault: ${this.mngoVault.toString()}`].join(p.EOL)}}},5869:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(8191),o=n(5380),s=n(7614);t.default=class{constructor(e,t){this.publicKey=e,Object.assign(this,t),this.nodeBankAccounts=[]}loadNodeBanks(e){return r(this,void 0,void 0,(function*(){const t=this.nodeBanks.filter((e=>!e.equals(s.zeroKey))),n=(yield(0,s.getMultipleAccounts)(e,t)).map((e=>{const t=o.NodeBankLayout.decode(e.accountInfo.data);return new o.NodeBank(e.publicKey,t)}));return this.nodeBankAccounts=n,n}))}getNativeTotalDeposit(){if(!this.nodeBankAccounts.length)throw new Error("Node bank accounts empty");let e=i.ZERO_I80F48;for(let t=0;t<this.nodeBankAccounts.length;t++)e=e.add(this.nodeBankAccounts[t].deposits);return this.depositIndex.mul(e)}getNativeTotalBorrow(){if(!this.nodeBankAccounts.length)throw new Error("Node bank accounts empty");let e=i.ZERO_I80F48;for(let t=0;t<this.nodeBankAccounts.length;t++)e=e.add(this.nodeBankAccounts[t].borrows);return this.borrowIndex.mul(e)}getUiTotalDeposit(e){const t=e.getRootBankIndex(this.publicKey);return(0,s.nativeI80F48ToUi)(this.getNativeTotalDeposit(),e.tokens[t].decimals)}getUiTotalBorrow(e){const t=e.getRootBankIndex(this.publicKey);return(0,s.nativeI80F48ToUi)(this.getNativeTotalBorrow(),e.tokens[t].decimals)}getBorrowRate(e){const t=this.getUiTotalBorrow(e),n=this.getUiTotalDeposit(e);if(n.eq(i.ZERO_I80F48)&&t.eq(i.ZERO_I80F48))return i.ZERO_I80F48;if(n.lte(t))return this.maxRate;const r=t.div(n);if(r.gt(this.optimalUtil)){const e=r.sub(this.optimalUtil),t=this.maxRate.sub(this.optimalRate).div(i.I80F48.fromNumber(1).sub(this.optimalUtil));return this.optimalRate.add(t.mul(e))}return this.optimalRate.div(this.optimalUtil).mul(r)}getDepositRate(e){const t=this.getBorrowRate(e),n=this.getUiTotalBorrow(e),r=this.getUiTotalDeposit(e);return r.eq(i.ZERO_I80F48)&&n.eq(i.ZERO_I80F48)?i.ZERO_I80F48:r.eq(i.ZERO_I80F48)?this.maxRate:n.div(r).mul(t)}}},5815:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceFromKey=t.BookSide=void 0;const i=r(n(9098)),o=n(5380),s=n(7614),a=n(1194);class u{constructor(e,t,n,r=!1,s){this.publicKey=e,this.isBids=n.metaData.dataType===o.DataType.Bids,this.perpMarket=t,this.includeExpired=r,Object.assign(this,n),s=void 0===s?3600:s;let u=new i.default((0,a.getUnixTs)()-s);for(const{leafNode:e}of this.nodes)e&&e.timestamp.gt(u)&&(u=e.timestamp);this.now=u}*items(){if(0===this.leafCount)return;const e=this.now,t=[this.rootNode],[n,r]=this.isBids?[1,0]:[0,1],o=this.isBids?"buy":"sell";for(;t.length>0;){const a=t.pop(),{leafNode:u,innerNode:l}=this.nodes[a];if(u){const t=c(u.key),n=u.timeInForce?u.timestamp.add(new i.default(u.timeInForce)):s.U64_MAX_BN;(e.lt(n)||this.includeExpired)&&(yield{orderId:u.key,clientId:u.clientOrderId,owner:u.owner,openOrdersSlot:u.ownerSlot,feeTier:0,price:this.perpMarket.priceLotsToNumber(t),priceLots:t,size:this.perpMarket.baseLotsToNumber(u.quantity),sizeLots:u.quantity,side:o,bestInitial:u.bestInitial,timestamp:u.timestamp,expiryTimestamp:n})}else l&&t.push(l.children[r],l.children[n])}}getImpactPriceUi(e){const t=s.ZERO_BN.clone();for(const n of this)if(t.iadd(n.sizeLots),t.gte(e))return n.price}getBest(){if(0===this.leafCount)return;const[e,t]=this.isBids?[1,0]:[0,1],n=this.isBids?"buy":"sell",r=[this.rootNode],o=this.now;for(;r.length>0;){let a=r.pop();const{leafNode:u,innerNode:l}=this.nodes[a];if(u){const e=c(u.key),t=u.timeInForce?u.timestamp.add(new i.default(u.timeInForce)):s.U64_MAX_BN;if(o.lt(t)||this.includeExpired)return{orderId:u.key,clientId:u.clientOrderId,owner:u.owner,openOrdersSlot:u.ownerSlot,feeTier:0,price:this.perpMarket.priceLotsToNumber(e),priceLots:e,size:this.perpMarket.baseLotsToNumber(u.quantity),sizeLots:u.quantity,side:n,bestInitial:u.bestInitial,timestamp:u.timestamp,expiryTimestamp:t}}else l&&r.push(l.children[t],l.children[e])}}[Symbol.iterator](){return this.items()}getL2Ui(e){const t=[];for(const{price:n,size:r}of this.items())if(t.length>0&&t[t.length-1][0]===n)t[t.length-1][1]+=r;else{if(t.length===e)break;t.push([n,r])}return t}getL2(e){const t=[];for(const{priceLots:n,sizeLots:r}of this.items())if(t.length>0&&t[t.length-1][0].eq(n))t[t.length-1][1].iadd(r);else{if(t.length===e)break;t.push([n,r])}return t.map((([e,t])=>[this.perpMarket.priceLotsToNumber(e),this.perpMarket.baseLotsToNumber(t),e,t]))}}function c(e){return e.ushrn(64)}t.BookSide=u,t.getPriceFromKey=c},1194:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MangoClient=t.getUnixTs=void 0;const u=n(9990),c=a(n(9098)),l=a(n(5005)),d=n(7614),f=n(5380),p=a(n(3369)),h=a(n(6572)),m=n(264),g=n(9174),y=n(8191),b=n(6959),w=n(5815),v=n(8323),S=n(6604),A=a(n(6336)),k=n(264),_=n(5380),M=o(n(1511));t.getUnixTs=()=>(new Date).getTime()/1e3,t.MangoClient=class{constructor(e,t,n={}){this.connection=e,this.programId=t,this.lastSlot=0,this.lastValidBlockHeight=0,this.blockhashCommitment=(null==n?void 0:n.blockhashCommitment)||"confirmed",this.timeout=(null==n?void 0:n.timeout)||6e4,this.sendConnection=null==n?void 0:n.sendConnection,this.prioritizationFee=(null==n?void 0:n.prioritizationFee)||0,n.postSendTxCallback&&(this.postSendTxCallback=n.postSendTxCallback)}sendTransactions(e,t,n,r=this.timeout,i="processed"){return s(this,void 0,void 0,(function*(){return yield Promise.all(e.map((e=>this.sendTransaction(e,t,n,r,i))))}))}getCurrentBlockhash(){return s(this,void 0,void 0,(function*(){return yield this.connection.getLatestBlockhash(this.blockhashCommitment)}))}signTransaction({transaction:e,payer:t,signers:n,currentBlockhash:r}){return s(this,void 0,void 0,(function*(){let i=r||(yield this.getCurrentBlockhash());if(e.recentBlockhash=i.blockhash,e.setSigners(t.publicKey,...n.map((e=>e.publicKey))),n.length>0&&e.partialSign(...n),null==t?void 0:t.connected)return console.log("signing as wallet",t.publicKey),yield t.signTransaction(e);e.sign(...[t].concat(n))}))}signTransactions({transactionsAndSigners:e,payer:t,currentBlockhash:n}){return s(this,void 0,void 0,(function*(){if(!t.publicKey)return;let r=n||(yield this.getCurrentBlockhash());return e.forEach((({transaction:e,signers:n=[]})=>{e.recentBlockhash=r.blockhash,this.prioritizationFee&&(e=(0,d.prependFeePrioritizationIx)(e,this.prioritizationFee)),t.publicKey&&e.setSigners(t.publicKey,...n.map((e=>e.publicKey))),(null==n?void 0:n.length)>0&&e.partialSign(...n)})),(0,b.adapterHasSignAllTransactions)(t)?yield t.signAllTransactions(e.map((({transaction:e})=>e))):(e.forEach((({transaction:e,signers:n})=>{e.sign(...[t].concat(n))})),e.map((e=>e.transaction)))}))}sendTransaction(e,n,r,i=this.timeout,o="processed"){return s(this,void 0,void 0,(function*(){const a=yield this.getCurrentBlockhash();e=(0,d.prependFeePrioritizationIx)(e,this.prioritizationFee),yield this.signTransaction({transaction:e,payer:n,signers:r,currentBlockhash:a});const u=e.serialize();let c=M.encode(e.signatures[0].signature);const l=(0,t.getUnixTs)();if(this.sendConnection){const e=this.sendConnection.sendRawTransaction(u);if(this.postSendTxCallback)try{this.postSendTxCallback({txid:c})}catch(e){console.warn(`postSendTxCallback error ${e}`)}try{return yield e}catch(e){throw console.error(e),new d.MangoError({message:"Transaction failed",txid:c})}}else{if(c=yield this.connection.sendRawTransaction(u,{skipPreflight:!0}),this.postSendTxCallback)try{this.postSendTxCallback({txid:c})}catch(e){console.warn(`postSendTxCallback error ${e}`)}if(!i)return c;console.log("Started awaiting confirmation for",c,"size:",u.length);let n=!1,r=0;const f=2e3,p=30;(()=>{s(this,void 0,void 0,(function*(){for(;!n&&(0,t.getUnixTs)()-l<i/1e3&&(yield(0,d.sleep)(f),this.connection.sendRawTransaction(u,{skipPreflight:!0}),r<=p);)r=r++}))})();try{yield this.awaitTransactionSignatureConfirmation(c,i,o,a)}catch(t){if(t.timeout)throw new d.TimeoutError({txid:c});let n=null;try{n=(yield(0,d.simulateTransaction)(this.connection,e,"processed")).value}catch(e){console.warn("Simulate transaction failed")}if(n&&n.err){if(n.logs)for(let e=n.logs.length-1;e>=0;--e){const t=n.logs[e];if(t.startsWith("Program log: "))throw new d.MangoError({message:"Transaction failed: "+t.slice("Program log: ".length),txid:c})}throw new d.MangoError({message:JSON.stringify(n.err),txid:c})}throw new d.MangoError({message:"Transaction failed",txid:c})}finally{n=!0}}return console.log("Latency",(0,t.getUnixTs)()-l,c),c}))}sendSignedTransaction({signedTransaction:e,timeout:n=this.timeout,confirmLevel:r="processed",signedAtBlock:i}){return s(this,void 0,void 0,(function*(){const o=e.serialize();let a=M.encode(e.signatures[0].signature);const u=(0,t.getUnixTs)();if(!this.sendConnection){if(a=yield this.connection.sendRawTransaction(o,{skipPreflight:!0}),this.postSendTxCallback)try{this.postSendTxCallback({txid:a})}catch(e){console.log(`postSendTxCallback error ${e}`)}if(!n)return a;let c=!1;(()=>{s(this,void 0,void 0,(function*(){for(;!c&&(0,t.getUnixTs)()-u<n;)yield(0,d.sleep)(2e3),this.connection.sendRawTransaction(o,{skipPreflight:!0})}))})();try{yield this.awaitTransactionSignatureConfirmation(a,n,r,i)}catch(t){if(t.timeout)throw new d.TimeoutError({txid:a});let n=null;try{n=(yield(0,d.simulateTransaction)(this.connection,e,"single")).value}catch(e){console.log("Simulate tx failed")}if(n&&n.err){if(n.logs)for(let e=n.logs.length-1;e>=0;--e){const t=n.logs[e];if(t.startsWith("Program log: "))throw new d.MangoError({message:"Transaction failed: "+t.slice("Program log: ".length),txid:a})}throw new d.MangoError({message:JSON.stringify(n.err),txid:a})}throw new d.MangoError({message:"Transaction failed",txid:a})}finally{c=!0}return a}{const e=this.sendConnection.sendRawTransaction(o);if(this.postSendTxCallback)try{this.postSendTxCallback({txid:a})}catch(e){console.warn(`postSendTxCallback error ${e}`)}try{return yield e}catch(e){throw console.error(e),new d.MangoError({message:"Transaction failed",txid:a})}}}))}awaitTransactionSignatureConfirmation(e,t,n,r){return s(this,void 0,void 0,(function*(){const i=r?r.lastValidBlockHeight+d.MAXIMUM_NUMBER_OF_BLOCKS_FOR_TRANSACTION:0;let o=!1,a=!1;const u=["finalized"];let c;"confirmed"===n?u.push("confirmed"):"processed"===n&&(u.push("confirmed"),u.push("processed"));const l=yield new Promise(((n,r)=>{(()=>{s(this,void 0,void 0,(function*(){setTimeout((()=>{a||(0!==i?o=!0:(a=!0,console.log("Timed out for txid: ",e),r({timeout:!0})))}),t);try{c=this.connection.onSignature(e,((e,t)=>{c=void 0,a=!0,e.err?r(e.err):(this.lastSlot=null==t?void 0:t.slot,n(e))}),"processed")}catch(t){a=!0,console.log("WS error in setup",e,t)}for(;!a;)yield(0,d.sleep)(2e3),(()=>{s(this,void 0,void 0,(function*(){var t;try{const s=[this.connection.getSignatureStatuses([e])];o&&s.push(this.connection.getBlockHeight("confirmed"));const[c,l]=yield Promise.all(s);void 0!==typeof l&&i<=l&&(console.log("Timed out for txid: ",e),a=!0,r({timeout:!0}));const d=c&&c.value[0];if(!a){if(!d)return;d.err?(console.log("REST error for",e,d),a=!0,r(d.err)):d.confirmations||u.includes(d.confirmationStatus)?(this.lastSlot=null===(t=null==c?void 0:c.context)||void 0===t?void 0:t.slot,console.log("REST confirmed",e,d),a=!0,n(d)):console.log("REST not confirmed",e,d)}}catch(t){a||console.log("REST connection error: txid",e,t)}}))})()}))})()}));return c&&this.connection.removeSignatureListener(c).catch((e=>{console.log("WS error in cleanup",e)})),a=!0,l}))}initMangoGroup(e,t,n,r,i,o,a,l,p){return s(this,void 0,void 0,(function*(){if(!p.publicKey)return;const s=yield(0,d.createAccountInstruction)(this.connection,p.publicKey,f.MangoGroupLayout.span,this.programId),{signerKey:h,signerNonce:g}=yield(0,d.createSignerKeyAndNonce)(this.programId,s.account.publicKey),b=new u.Keypair,w=yield(0,d.createTokenAccountInstructions)(this.connection,p.publicKey,b.publicKey,e,h),v=new u.Keypair,S=yield(0,d.createTokenAccountInstructions)(this.connection,p.publicKey,v.publicKey,e,h),A=yield(0,d.createAccountInstruction)(this.connection,p.publicKey,f.NodeBankLayout.span,this.programId),k=yield(0,d.createAccountInstruction)(this.connection,p.publicKey,f.RootBankLayout.span,this.programId),_=yield(0,d.createAccountInstruction)(this.connection,p.publicKey,f.MangoCacheLayout.span,this.programId),M=new u.Transaction;M.add(s.instruction),M.add(...w),M.add(A.instruction),M.add(k.instruction),M.add(_.instruction),M.add(...S);const I=[s.account,b,A.account,k.account,_.account,v];let E;if(yield this.sendTransaction(M,p,I),t.equals(d.zeroKey))E=d.zeroKey;else{const e=new u.Keypair,n=yield(0,d.createTokenAccountInstructions)(this.connection,p.publicKey,e.publicKey,t,h),r=new u.Transaction;r.add(...n),E=e.publicKey,yield this.sendTransaction(r,p,[e])}const P=(0,m.makeInitMangoGroupInstruction)(this.programId,s.account.publicKey,h,p.publicKey,e,b.publicKey,A.account.publicKey,k.account.publicKey,v.publicKey,E,r,_.account.publicKey,n,new c.default(g),new c.default(i),y.I80F48.fromNumber(o),y.I80F48.fromNumber(a),y.I80F48.fromNumber(l)),T=new u.Transaction;return T.add(P),yield this.sendTransaction(T,p,[]),s.account.publicKey}))}getMangoGroup(e){return s(this,void 0,void 0,(function*(){const t=yield this.connection.getAccountInfo(e),n=f.MangoGroupLayout.decode(null==t?void 0:t.data);return new A.default(e,n)}))}initMangoAccount(e,t){return s(this,void 0,void 0,(function*(){if(!t.publicKey)return;const n=yield(0,d.createAccountInstruction)(this.connection,t.publicKey,f.MangoAccountLayout.span,this.programId),r=(0,m.makeInitMangoAccountInstruction)(this.programId,e.publicKey,n.account.publicKey,t.publicKey),i=new u.Transaction;i.add(n.instruction),i.add(r);const o=[n.account];return yield this.sendTransaction(i,t,o),n.account.publicKey}))}createMangoAccount(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!t.publicKey)return;const i=null!=r?r:t.publicKey,o=new c.default(n),[s]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),t.publicKey.toBytes(),o.toBuffer("le",8)],this.programId),a=(0,m.makeCreateMangoAccountInstruction)(this.programId,e.publicKey,s,t.publicKey,o,i),l=new u.Transaction;return l.add(a),yield this.sendTransaction(l,t,[]),s}))}upgradeMangoAccountV0V1(e,t,n){return s(this,void 0,void 0,(function*(){if(!t.publicKey)return;const r=new c.default(n),[i]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),t.publicKey.toBytes(),r.toBuffer()],this.programId),o=(0,m.makeUpgradeMangoAccountV0V1Instruction)(this.programId,e.publicKey,i,t.publicKey),s=new u.Transaction;return s.add(o),yield this.sendTransaction(s,t,[]),i}))}getMangoAccount(e,t){return s(this,void 0,void 0,(function*(){const n=yield this.connection.getAccountInfo(e,"processed"),r=new p.default(e,f.MangoAccountLayout.decode(null==n?void 0:n.data));return yield r.loadOpenOrders(this.connection,t),r}))}initMangoAccountAndDeposit(e,t,n,r,i,o,a,c){var l;return s(this,void 0,void 0,(function*(){if(!t.publicKey)return;const s=new u.Transaction,p=yield(0,d.createAccountInstruction)(this.connection,t.publicKey,f.MangoAccountLayout.span,this.programId),h=(0,m.makeInitMangoAccountInstruction)(this.programId,e.publicKey,p.account.publicKey,t.publicKey);s.add(p.instruction),s.add(h);const g=[p.account],y=e.getRootBankIndex(n);let b=null;if(e.tokens[y].mint.equals(v.WRAPPED_SOL_MINT)&&o.toBase58()===t.publicKey.toBase58()){b=new u.Keypair;const e=Math.round(a*u.LAMPORTS_PER_SOL)+1e7;s.add(u.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:b.publicKey,lamports:e,space:165,programId:S.TOKEN_PROGRAM_ID})),s.add((0,v.initializeAccount)({account:b.publicKey,mint:v.WRAPPED_SOL_MINT,owner:t.publicKey})),g.push(b)}const w=(0,d.uiToNative)(a,e.tokens[y].decimals),A=(0,m.makeDepositInstruction)(this.programId,e.publicKey,t.publicKey,e.mangoCache,p.account.publicKey,n,r,i,null!==(l=null==b?void 0:b.publicKey)&&void 0!==l?l:o,w);if(s.add(A),c){const n=(0,m.makeAddMangoAccountInfoInstruction)(this.programId,e.publicKey,p.account.publicKey,t.publicKey,c);s.add(n)}return b&&s.add((0,v.closeAccount)({source:b.publicKey,destination:t.publicKey,owner:t.publicKey})),yield this.sendTransaction(s,t,g),p.account.publicKey.toString()}))}createMangoAccountAndDeposit(e,t,n,r,i,o,a,l,f,p,h){var g;return s(this,void 0,void 0,(function*(){if(!t.publicKey)return;const s=new u.Transaction,y=null!=h?h:t.publicKey,b=new c.default(l),[w]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),t.publicKey.toBytes(),b.toArrayLike(Buffer,"le",8)],this.programId),A=(0,m.makeCreateMangoAccountInstruction)(this.programId,e.publicKey,w,t.publicKey,b,y);if(s.add(A),p){const[n]=yield u.PublicKey.findProgramAddress([w.toBytes(),new Buffer("ReferrerMemory","utf-8")],this.programId),r=(0,m.makeSetReferrerMemoryInstruction)(this.programId,e.publicKey,w,t.publicKey,n,p,t.publicKey);s.add(r)}const k=[],_=e.getRootBankIndex(n);let M=null;if(e.tokens[_].mint.equals(v.WRAPPED_SOL_MINT)&&o.toBase58()===t.publicKey.toBase58()){M=new u.Keypair;const e=Math.round(a*u.LAMPORTS_PER_SOL)+1e7;s.add(u.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:M.publicKey,lamports:e,space:165,programId:S.TOKEN_PROGRAM_ID})),s.add((0,v.initializeAccount)({account:M.publicKey,mint:v.WRAPPED_SOL_MINT,owner:t.publicKey})),k.push(M)}const I=(0,d.uiToNative)(a,e.tokens[_].decimals),E=(0,m.makeDepositInstruction)(this.programId,e.publicKey,t.publicKey,e.mangoCache,w,n,r,i,null!==(g=null==M?void 0:M.publicKey)&&void 0!==g?g:o,I);if(s.add(E),f){const n=(0,m.makeAddMangoAccountInfoInstruction)(this.programId,e.publicKey,w,t.publicKey,f);s.add(n)}M&&s.add((0,v.closeAccount)({source:M.publicKey,destination:t.publicKey,owner:t.publicKey}));const P=yield this.sendTransaction(s,t,k);return[w.toString(),P]}))}deposit(e,t,n,r,i,o,a,c){var l;return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const s=new u.Transaction,f=[],p=e.getRootBankIndex(r);let h=null;if(e.tokens[p].mint.equals(v.WRAPPED_SOL_MINT)&&a.toBase58()===n.publicKey.toBase58()){h=new u.Keypair;const e=Math.round(c*u.LAMPORTS_PER_SOL)+1e7;s.add(u.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:h.publicKey,lamports:e,space:165,programId:S.TOKEN_PROGRAM_ID})),s.add((0,v.initializeAccount)({account:h.publicKey,mint:v.WRAPPED_SOL_MINT,owner:n.publicKey})),f.push(h)}const g=(0,d.uiToNative)(c,e.tokens[p].decimals),y=(0,m.makeDepositInstruction)(this.programId,e.publicKey,n.publicKey,e.mangoCache,t.publicKey,r,i,o,null!==(l=null==h?void 0:h.publicKey)&&void 0!==l?l:a,g);return s.add(y),h&&s.add((0,v.closeAccount)({source:h.publicKey,destination:n.publicKey,owner:n.publicKey})),yield this.sendTransaction(s,n,f)}))}withdraw(e,t,n,r,i,o,a,c){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const s=new u.Transaction,l=[],f=e.getRootBankIndex(r),p=e.tokens[f].mint;let h=yield S.Token.getAssociatedTokenAddress(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,p,n.publicKey),g=null;if(p.equals(v.WRAPPED_SOL_MINT)){g=new u.Keypair,h=g.publicKey;const e=165,t=yield this.connection.getMinimumBalanceForRentExemption(e,"processed");s.add(u.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:h,lamports:t,space:e,programId:S.TOKEN_PROGRAM_ID})),s.add((0,v.initializeAccount)({account:h,mint:v.WRAPPED_SOL_MINT,owner:n.publicKey})),l.push(g)}else(yield this.connection.getAccountInfo(h))||s.add(S.Token.createAssociatedTokenAccountInstruction(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,p,h,n.publicKey,n.publicKey));const y=(0,d.uiToNative)(a,e.tokens[f].decimals),b=(0,m.makeWithdrawInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,e.mangoCache,r,i,o,h,e.signerKey,t.spotOpenOrders,y,c);return s.add(b),g&&s.add((0,v.closeAccount)({source:g.publicKey,destination:n.publicKey,owner:n.publicKey})),yield this.sendTransaction(s,n,l)}))}withdraw2(e,t,n,r,i,o,a,c){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const s=new u.Transaction,l=[],f=e.getRootBankIndex(r),p=e.tokens[f].mint;let h=yield S.Token.getAssociatedTokenAddress(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,p,n.publicKey),g=null;if(p.equals(v.WRAPPED_SOL_MINT)){g=new u.Keypair,h=g.publicKey;const e=165,t=yield this.connection.getMinimumBalanceForRentExemption(e,"processed");s.add(u.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:h,lamports:t,space:e,programId:S.TOKEN_PROGRAM_ID})),s.add((0,v.initializeAccount)({account:h,mint:v.WRAPPED_SOL_MINT,owner:n.publicKey})),l.push(g)}else(yield this.connection.getAccountInfo(h))||s.add(S.Token.createAssociatedTokenAccountInstruction(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,p,h,n.publicKey,n.publicKey));const y=(0,d.uiToNative)(a,e.tokens[f].decimals),b=(0,m.makeWithdrawInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,e.mangoCache,r,i,o,h,e.signerKey,t.spotOpenOrders.filter(((e,n)=>t.inMarginBasket[n])),y,c);return s.add(b),g&&s.add((0,v.closeAccount)({source:g.publicKey,destination:n.publicKey,owner:n.publicKey})),yield this.sendTransaction(s,n,l)}))}withdrawAll(e,t,n){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const r=[];for(const i of e.rootBankAccounts){const o={transaction:new u.Transaction,signers:[]};if(i){const r=e.getRootBankIndex(null==i?void 0:i.publicKey),s=e.tokens[r].mint;if(t.deposits[r].isPos()){let r=yield S.Token.getAssociatedTokenAddress(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,s,n.publicKey),a=null;if(s.equals(v.WRAPPED_SOL_MINT)){a=new u.Keypair,r=a.publicKey;const e=165,t=yield this.connection.getMinimumBalanceForRentExemption(e,"processed");o.transaction.add(u.SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r,lamports:t,space:e,programId:S.TOKEN_PROGRAM_ID})),o.transaction.add((0,v.initializeAccount)({account:r,mint:v.WRAPPED_SOL_MINT,owner:n.publicKey})),o.signers.push(a)}else(yield this.connection.getAccountInfo(r,"recent"))||o.transaction.add(S.Token.createAssociatedTokenAccountInstruction(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,s,r,n.publicKey,n.publicKey));const l=(0,m.makeWithdrawInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,e.mangoCache,i.publicKey,i.nodeBanks[0],i.nodeBankAccounts[0].vault,r,e.signerKey,t.spotOpenOrders,new c.default("18446744073709551615"),!1);o.transaction.add(l),a&&o.transaction.add((0,v.closeAccount)({source:a.publicKey,destination:n.publicKey,owner:n.publicKey}))}}r.push(o)}const i=yield this.getCurrentBlockhash(),o=yield this.signTransactions({transactionsAndSigners:r,payer:n,currentBlockhash:i});if(!o)throw new Error("Unable to sign Settle All transaction");for(const e of o){if(0==e.instructions.length)continue;const t=yield this.sendSignedTransaction({signedTransaction:e,signedAtBlock:i});console.log(t)}}))}cacheRootBanks(e,t,n,r){return s(this,void 0,void 0,(function*(){const i=(0,m.makeCacheRootBankInstruction)(this.programId,e,t,n),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,r,[])}))}cachePrices(e,t,n,r){return s(this,void 0,void 0,(function*(){const i=(0,m.makeCachePricesInstruction)(this.programId,e,t,n),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,r,[])}))}cachePerpMarkets(e,t,n,r){return s(this,void 0,void 0,(function*(){const i=(0,m.makeCachePerpMarketsInstruction)(this.programId,e,t,n),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,r,[])}))}updateRootBank(e,t,n,r){return s(this,void 0,void 0,(function*(){const i=(0,m.makeUpdateRootBankInstruction)(this.programId,e.publicKey,e.mangoCache,t,n),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,r,[])}))}consumeEvents(e,t,n,r,i){return s(this,void 0,void 0,(function*(){const o=(0,m.makeConsumeEventsInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,t.eventQueue,n,i),s=new u.Transaction;return s.add(o),yield this.sendTransaction(s,r,[],null)}))}updateFunding(e,t,n,r,i,o){return s(this,void 0,void 0,(function*(){const s=(0,m.makeUpdateFundingInstruction)(this.programId,e,t,n,r,i),a=new u.Transaction;return a.add(s),yield this.sendTransaction(a,o,[])}))}getPerpMarket(e,t,n){return s(this,void 0,void 0,(function*(){const r=yield this.connection.getAccountInfo(e);return new h.default(e,t,n,f.PerpMarketLayout.decode(null==r?void 0:r.data))}))}placePerpOrder(e,t,n,r,i,o,a,l,d,p=0,h,g,y){return s(this,void 0,void 0,(function*(){if(!i.publicKey)return;const[s,b]=r.uiToNativePriceQuantity(a,l),v=new u.Transaction,S=(0,m.makePlacePerpOrderInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,n,r.publicKey,r.bids,r.asks,r.eventQueue,t.spotOpenOrders,s,b,new c.default(p),o,d,g,y);if(v.add(S),h){let n=h.parsed;void 0===n&&(n=h.data?new w.BookSide("buy"===o?r.asks:r.bids,r,f.BookSideLayout.decode(h.data)):[]);const i=new Set;i.add(t.publicKey.toBase58());for(const e of n)if(i.add(e.owner.toBase58()),i.size>=10)break;const s=(0,m.makeConsumeEventsInstruction)(this.programId,e.publicKey,e.mangoCache,r.publicKey,r.eventQueue,Array.from(i).map((e=>new u.PublicKey(e))).sort(),new c.default(4));v.add(s)}return yield this.sendTransaction(v,i,[])}))}placePerpOrder2(e,t,n,r,i,o,a,l){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;l=l||{};let{maxQuoteQuantity:s,limit:p,orderType:h,clientOrderId:g,bookSideInfo:y,reduceOnly:b,referrerMangoAccountPk:v,expiryTimestamp:S,expiryType:A}=l;p=p||20,g=void 0===g?0:g,h=h||"limit";const[k,_]=n.uiToNativePriceQuantity(o,a),M=s?n.uiQuoteToLots(s):d.I64_MAX_BN,I=new u.Transaction,E=(0,m.makePlacePerpOrder2Instruction)(this.programId,e.publicKey,t.publicKey,r.publicKey,e.mangoCache,n.publicKey,n.bids,n.asks,n.eventQueue,t.getOpenOrdersKeysInBasketPacked(),k,_,M,new c.default(g),i,new c.default(p),h,b,v,S?new c.default(Math.floor(S)):d.ZERO_BN,A||"absolute");if(I.add(E),y){let r=y.parsed;void 0===r&&(r=y.data?new w.BookSide("buy"===i?n.asks:n.bids,n,f.BookSideLayout.decode(y.data)):[]);const o=new Set;o.add(t.publicKey.toBase58());for(const e of r)if(o.add(e.owner.toBase58()),o.size>=10)break;if(o.size>1){const t=(0,m.makeConsumeEventsInstruction)(this.programId,e.publicKey,e.mangoCache,n.publicKey,n.eventQueue,Array.from(o).map((e=>new u.PublicKey(e))).sort(),new c.default(4));I.add(t)}}return yield this.sendTransaction(I,r,[])}))}cancelPerpOrder(e,t,n,r,i,o=!1){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const s=(0,m.makeCancelPerpOrderInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,r.publicKey,r.bids,r.asks,i,o),a=new u.Transaction;return a.add(s),yield this.sendTransaction(a,n,[])}))}cancelAllPerpOrders(e,t,n,r,i=!0){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;let o=new u.Transaction;const s=[],a=new Array(e.perpMarkets.length).fill(!1);for(let e=0;e<n.orderMarket.length;e++)n.orderMarket[e]!==f.FREE_ORDER_SLOT&&(a[n.orderMarket[e]]=!0);for(let l=0;l<e.perpMarkets.length;l++){if(!a[l])continue;const d=e.perpMarkets[l];if(d.isEmpty())continue;const f=t.find((e=>e.publicKey.equals(d.perpMarket)));if(void 0===f)continue;const p=(0,m.makeCancelAllPerpOrdersInstruction)(this.programId,e.publicKey,n.publicKey,i?r.publicKey:n.owner,f.publicKey,f.bids,f.asks,new c.default(20),i);o.add(p),2===o.instructions.length&&(s.push(o),o=new u.Transaction)}o.instructions.length>0&&s.push(o);const l=s.map((e=>({transaction:e,signers:[]})));if(0===l.length)throw new Error("No orders to cancel");const d=yield this.getCurrentBlockhash(),p=yield this.signTransactions({transactionsAndSigners:l,payer:r,currentBlockhash:d});if(p)return yield Promise.all(p.map((e=>this.sendSignedTransaction({signedTransaction:e,signedAtBlock:d}))));throw new Error("Unable to sign all CancelAllPerpOrders transactions")}))}addOracle(e,t,n){return s(this,void 0,void 0,(function*(){const r=(0,m.makeAddOracleInstruction)(this.programId,e.publicKey,t,n.publicKey),i=new u.Transaction;return i.add(r),yield this.sendTransaction(i,n,[])}))}setOracle(e,t,n,r){return s(this,void 0,void 0,(function*(){const i=(0,m.makeSetOracleInstruction)(this.programId,e.publicKey,t,n.publicKey,r),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,n,[])}))}addSpotMarket(e,t,n,r,i,o,a,c,l,p,h){return s(this,void 0,void 0,(function*(){const s=new u.Keypair,g=yield(0,d.createTokenAccountInstructions)(this.connection,i.publicKey,s.publicKey,r,e.signerKey),b=yield(0,d.createAccountInstruction)(this.connection,i.publicKey,f.NodeBankLayout.span,this.programId),w=yield(0,d.createAccountInstruction)(this.connection,i.publicKey,f.RootBankLayout.span,this.programId),v=(0,m.makeAddSpotMarketInstruction)(this.programId,e.publicKey,t,n,e.dexProgramId,r,b.account.publicKey,s.publicKey,w.account.publicKey,i.publicKey,y.I80F48.fromNumber(o),y.I80F48.fromNumber(a),y.I80F48.fromNumber(c),y.I80F48.fromNumber(l),y.I80F48.fromNumber(p),y.I80F48.fromNumber(h)),S=new u.Transaction;S.add(...g),S.add(b.instruction),S.add(w.instruction),S.add(v);const A=[s,b.account,w.account];return yield this.sendTransaction(S,i,A)}))}placeSpotOrder(e,t,n,r,i,o,a,l,p,h){return s(this,void 0,void 0,(function*(){if(!i.publicKey)return;const s=r.priceNumberToLots(a),y=r.baseSizeNumberToLots(l),b=(0,g.getFeeTier)(0,(0,d.nativeToUi)(0,0)),w=(0,g.getFeeRates)(b),v=new c.default(r._decoded.quoteLotSize.toNumber()*(1+w.taker)).mul(r.baseSizeNumberToLots(l).mul(r.priceNumberToLots(a)));if(y.lte(d.ZERO_BN))throw new Error("size too small");if(s.lte(d.ZERO_BN))throw new Error("invalid price");h=null!=h?h:new c.default(Date.now());const S=e.getSpotMarketIndex(r.publicKey);e.rootBankAccounts.filter((e=>!!e)).length||(yield e.loadRootBanks(this.connection));const A=e.rootBankAccounts[S],k=null==A?void 0:A.nodeBankAccounts[0],_=e.rootBankAccounts[f.QUOTE_INDEX],M=null==_?void 0:_.nodeBankAccounts[0];if(!(A&&k&&_&&M))throw new Error("Invalid or missing banks");const I=new u.Transaction,E=[];for(let n=0;n<t.spotOpenOrders.length;n++){let o=d.zeroKey,s=!1;if(n===S)if(s=!0,t.spotOpenOrders[S].equals(d.zeroKey)){const n=g.OpenOrders.getLayout(e.dexProgramId).span,s=yield this.connection.getMinimumBalanceForRentExemption(n,"processed"),a=yield(0,d.createAccountInstruction)(this.connection,i.publicKey,n,e.dexProgramId,s),c=(0,m.makeInitSpotOpenOrdersInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,e.dexProgramId,a.account.publicKey,r.publicKey,e.signerKey),l=new u.Transaction;l.add(a.instruction),l.add(c),yield this.sendTransaction(l,i,[a.account]),o=a.account.publicKey}else o=t.spotOpenOrders[n];else t.inMarginBasket[n]&&(o=t.spotOpenOrders[n]);E.push({pubkey:o,isWritable:s})}const P=yield u.PublicKey.createProgramAddress([r.publicKey.toBuffer(),r._decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],r.programId),T=(0,m.makePlaceSpotOrderInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,n,r.programId,r.publicKey,r._decoded.bids,r._decoded.asks,r._decoded.requestQueue,r._decoded.eventQueue,r._decoded.baseVault,r._decoded.quoteVault,A.publicKey,k.publicKey,k.vault,_.publicKey,M.publicKey,M.vault,e.signerKey,P,e.srmVault,E,o,s,y,v,"decrementTake",p,h);I.add(T),S>0&&console.log(S-1,t.spotOpenOrders[S-1].toBase58(),E[S-1].pubkey.toBase58());const O=yield this.sendTransaction(I,i,[]);return t.spotOpenOrders[S]=E[S].pubkey,t.inMarginBasket[S]=!0,console.log(S,t.spotOpenOrders[S].toBase58(),E[S].pubkey.toBase58()),O}))}placeSpotOrder2(e,t,n,r,i,o,a,l,p,h){var y;return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const s=n.priceNumberToLots(o),b=n.baseSizeNumberToLots(a),w=[],v=(0,g.getFeeTier)(0,(0,d.nativeToUi)(0,0)),S=(0,g.getFeeRates)(v),A=new c.default(n._decoded.quoteLotSize.toNumber()*(1+S.taker)).mul(n.baseSizeNumberToLots(a).mul(n.priceNumberToLots(o)));if(b.lte(d.ZERO_BN))throw new Error("size too small");if(s.lte(d.ZERO_BN))throw new Error("invalid price");const _=e.getSpotMarketIndex(n.publicKey);let M;if(e.rootBankAccounts.filter((e=>!!e)).length||(yield e.loadRootBanks(this.connection)),h)M=e.msrmVault;else if(!1===h)M=e.srmVault;else{const t=yield this.connection.getTokenAccountBalance(e.msrmVault);M=(null===(y=null==t?void 0:t.value)||void 0===y?void 0:y.uiAmount)&&t.value.uiAmount>0?e.msrmVault:e.srmVault}const I=e.rootBankAccounts[_],E=null==I?void 0:I.nodeBankAccounts[0],P=e.rootBankAccounts[f.QUOTE_INDEX],T=null==P?void 0:P.nodeBankAccounts[0];if(!(I&&E&&P&&T))throw new Error("Invalid or missing banks");const O=new u.Transaction,x=[];let B=d.zeroKey;const L=new u.Transaction;for(let i=0;i<t.spotOpenOrders.length;i++){let o=d.zeroKey,s=!1;if(i===_){if(s=!0,t.spotOpenOrders[_].equals(d.zeroKey)){const i=new c.default(_),[s]=yield u.PublicKey.findProgramAddress([t.publicKey.toBytes(),i.toArrayLike(Buffer,"le",8),new Buffer("OpenOrders","utf-8")],this.programId),a=(0,k.makeCreateSpotOpenOrdersInstruction)(this.programId,e.publicKey,t.publicKey,r.publicKey,e.dexProgramId,s,n.publicKey,e.signerKey);L.add(a),w.push(L),o=s}else o=t.spotOpenOrders[i];B=o}else t.inMarginBasket[i]&&(o=t.spotOpenOrders[i]);o.equals(d.zeroKey)||x.push({pubkey:o,isWritable:s})}const C=yield u.PublicKey.createProgramAddress([n.publicKey.toBuffer(),n._decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],n.programId),R=(0,m.makePlaceSpotOrder2Instruction)(this.programId,e.publicKey,t.publicKey,r.publicKey,e.mangoCache,n.programId,n.publicKey,n._decoded.bids,n._decoded.asks,n._decoded.requestQueue,n._decoded.eventQueue,n._decoded.baseVault,n._decoded.quoteVault,I.publicKey,E.publicKey,E.vault,P.publicKey,T.publicKey,T.vault,e.signerKey,C,M,x,i,s,b,A,"decrementTake",l,null!=p?p:new c.default(Date.now()));O.add(R),w.push(O);const N=[],D=w.map((e=>({transaction:e,signers:N}))),F=yield this.getCurrentBlockhash(),K=yield this.signTransactions({transactionsAndSigners:D,payer:r,currentBlockhash:F}),U=[];if(!K)throw new Error("Unable to sign Settle All transaction");for(const e of K){if(0==e.instructions.length)continue;const t=yield this.sendSignedTransaction({signedTransaction:e,signedAtBlock:F});U.push(t)}return t.spotOpenOrders[_]=B,t.inMarginBasket[_]=!0,U}))}cancelSpotOrder(e,t,n,r,i){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const o=new u.Transaction,s=(0,m.makeCancelSpotOrderInstruction)(this.programId,e.publicKey,n.publicKey,t.publicKey,r.programId,r.publicKey,r._decoded.bids,r._decoded.asks,i.openOrdersAddress,e.signerKey,r._decoded.eventQueue,i);o.add(s);const a=yield u.PublicKey.createProgramAddress([r.publicKey.toBuffer(),r._decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],r.programId),c=e.getSpotMarketIndex(r.publicKey);e.rootBankAccounts.length||(yield e.loadRootBanks(this.connection));const l=e.rootBankAccounts[c],d=e.rootBankAccounts[f.QUOTE_INDEX],p=null==l?void 0:l.nodeBankAccounts[0],h=null==d?void 0:d.nodeBankAccounts[0];if(!p||!h)throw new Error("Invalid or missing node banks");const g=(0,m.makeSettleFundsInstruction)(this.programId,e.publicKey,e.mangoCache,n.publicKey,t.publicKey,r.programId,r.publicKey,t.spotOpenOrders[c],e.signerKey,r._decoded.baseVault,r._decoded.quoteVault,e.tokens[c].rootBank,p.publicKey,e.tokens[f.QUOTE_INDEX].rootBank,h.publicKey,p.vault,h.vault,a);return o.add(g),yield this.sendTransaction(o,n,[])}))}settleFunds(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const i=e.getSpotMarketIndex(r.publicKey),o=yield u.PublicKey.createProgramAddress([r.publicKey.toBuffer(),r._decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],r.programId);e.rootBankAccounts.length||(yield e.loadRootBanks(this.connection));const s=e.rootBankAccounts[i],a=e.rootBankAccounts[f.QUOTE_INDEX],c=null==s?void 0:s.nodeBankAccounts[0],l=null==a?void 0:a.nodeBankAccounts[0];if(!c||!l)throw new Error("Invalid or missing node banks");const d=(0,m.makeSettleFundsInstruction)(this.programId,e.publicKey,e.mangoCache,n.publicKey,t.publicKey,r.programId,r.publicKey,t.spotOpenOrders[i],e.signerKey,r._decoded.baseVault,r._decoded.quoteVault,e.tokens[i].rootBank,c.publicKey,e.tokens[f.QUOTE_INDEX].rootBank,l.publicKey,c.vault,l.vault,o),p=new u.Transaction;return p.add(d),yield this.sendTransaction(p,n,[])}))}settleAll(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const i=[];let o=0;for(let s=0;s<e.spotMarkets.length;s++){if(e.spotMarkets[s].isEmpty())continue;const a=n[o];o++;const c=new u.Transaction,l=t.spotOpenOrdersAccounts[s];if(void 0===l)continue;if(l.quoteTokenFree.toNumber()+l.referrerRebatesAccrued.toNumber()===0&&0===l.baseTokenFree.toNumber())continue;const d=yield u.PublicKey.createProgramAddress([a.publicKey.toBuffer(),a._decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],a.programId);e.rootBankAccounts.length||(yield e.loadRootBanks(this.connection));const p=e.rootBankAccounts[s],h=e.rootBankAccounts[f.QUOTE_INDEX],g=null==p?void 0:p.nodeBankAccounts[0],y=null==h?void 0:h.nodeBankAccounts[0];if(!g||!y)throw new Error("Invalid or missing node banks");const b=(0,m.makeSettleFundsInstruction)(this.programId,e.publicKey,e.mangoCache,r.publicKey,t.publicKey,a.programId,a.publicKey,t.spotOpenOrders[s],e.signerKey,a._decoded.baseVault,a._decoded.quoteVault,e.tokens[s].rootBank,g.publicKey,e.tokens[f.QUOTE_INDEX].rootBank,y.publicKey,g.vault,y.vault,d);c.add(b),i.push(c)}const s=[],a=i.map((e=>({transaction:e,signers:s}))),c=yield this.getCurrentBlockhash(),l=yield this.signTransactions({transactionsAndSigners:a,payer:r,currentBlockhash:c}),d=[];if(!l)throw new Error("Unable to sign Settle All transaction");for(const e of l){if(0==e.instructions.length)continue;const t=yield this.sendSignedTransaction({signedTransaction:e,signedAtBlock:c});d.push(t)}return d}))}fetchTopPnlAccountsFromRPC(e,t,n,r,i,o){return s(this,void 0,void 0,(function*(){const s=e.getPerpMarketIndex(n.publicKey),a=e.perpMarkets[s];return void 0===o&&(o=yield this.getAllMangoAccounts(e,[],!1)),o.map((e=>({publicKey:e.publicKey,pnl:e.perpAccounts[s].getPnl(a,t.perpMarketCache[s],r)}))).sort(((e,t)=>i*e.pnl.cmp(t.pnl)))}))}fetchTopPnlAccountsFromDB(e,t,n){return s(this,void 0,void 0,(function*(){const r=e.getPerpMarketIndex(t.publicKey),i=1===n?"ASC":"DESC",o=yield(0,l.default)(`https://mango-transaction-log.herokuapp.com/v3/stats/ranked-pnl?market-index=${r}&order=${i}&limit=20`);return(yield o.json()).map((e=>({publicKey:new u.PublicKey(e.pubkey),pnl:y.I80F48.fromNumber(e.pnl)})))}))}settlePnl(e,t,n,r,i,o,a,l){return s(this,void 0,void 0,(function*(){const s=e.getPerpMarketIndex(r.publicKey),d=e.perpMarkets[s];let f=n.perpAccounts[s].getPnl(d,t.perpMarketCache[s],o);const p=new u.Transaction,h=[];let g,b;if(f.eq(y.ZERO_I80F48))return null;if(f.gt(y.ZERO_I80F48))g=1;else{g=-1,i.nodeBankAccounts||(yield i.loadNodeBanks(this.connection));const o=(0,m.makeSettleFeesInstruction)(this.programId,e.publicKey,t.publicKey,r.publicKey,n.publicKey,i.publicKey,i.nodeBanks[0],i.nodeBankAccounts[0].vault,e.feesVault,e.signerKey);if(p.add(o),f=f.add(r.feesAccrued).min(y.I80F48.fromString("-0.000001")),(f.gt(y.ZERO_I80F48)?1:-1)!==g)return yield this.sendTransaction(p,a,h)}if(this.isMainnet())try{b=yield this.fetchTopPnlAccountsFromDB(e,r,g)}catch(e){console.error(`fetchTopPnlAccountsFromDB failed, ${e}`)}b||(b=yield this.fetchTopPnlAccountsFromRPC(e,t,r,o,g,l));for(const t of b)if(!t.publicKey.equals(n.publicKey)&&(f.isPos()&&t.pnl.isNeg()||f.isNeg()&&t.pnl.isPos())&&p.instructions.length<10){const r=(0,m.makeSettlePnlInstruction)(this.programId,e.publicKey,n.publicKey,t.publicKey,e.mangoCache,i.publicKey,i.nodeBanks[0],new c.default(s));if(p.add(r),f=f.add(t.pnl),(f.gt(y.ZERO_I80F48)?1:-1)!==g)break}return yield this.sendTransaction(p,a,h)}))}settlePosPnl(e,t,n,r,i,o,a){return s(this,void 0,void 0,(function*(){void 0!==a||this.isMainnet()||(a=yield this.getAllMangoAccounts(e,[],!1));const s=yield Promise.all(r.map((r=>{const s=e.getPerpMarketIndex(r.publicKey),u=e.perpMarkets[s],c=t.getPrice(s);return n.perpAccounts[s].getPnl(u,t.perpMarketCache[s],c).isPos()?this.settlePnl(e,t,n,r,i,t.getPrice(s),o,a):(0,d.promiseNull)()}))),u=null==s?void 0:s.filter((function(e){return null!==e}));return(null==u?void 0:u.length)?u:void 0}))}settleAllPerpPnl(e,t,n,r,i,o,a){return s(this,void 0,void 0,(function*(){return void 0!==a||this.isMainnet()||(a=yield this.getAllMangoAccounts(e,[],!1)),yield Promise.all(r.map((r=>{const s=e.getPerpMarketIndex(r.publicKey),u=e.perpMarkets[s],c=t.getPrice(s);return n.perpAccounts[s].getPnl(u,t.perpMarketCache[s],c).isZero()?(0,d.promiseNull)():this.settlePnl(e,t,n,r,i,t.getPrice(s),o,a)})))}))}getMangoAccountsForOwner(e,t,n=!1){const r=[{memcmp:{offset:f.MangoAccountLayout.offsetOf("owner"),bytes:t.toBase58()}}];return this.getAllMangoAccounts(e,r,n)}getMangoAccountsForDelegate(e,t,n=!1){const r=[{memcmp:{offset:f.MangoAccountLayout.offsetOf("delegate"),bytes:t.toBase58()}}];return this.getAllMangoAccounts(e,r,n)}getAllMangoAccounts(e,t,n=!0){return s(this,void 0,void 0,(function*(){const r=[{memcmp:{offset:f.MangoAccountLayout.offsetOf("mangoGroup"),bytes:e.publicKey.toBase58()}},{dataSize:f.MangoAccountLayout.span}];t&&t.length&&r.push(...t);const i=yield(0,d.getFilteredProgramAccounts)(this.connection,this.programId,r).then((e=>e.map((({publicKey:e,accountInfo:t})=>new p.default(e,f.MangoAccountLayout.decode(null==t?void 0:t.data))))));if(n){const t=i.map((e=>e.spotOpenOrders.filter((e=>!e.equals(d.zeroKey))))).flat(),n=(yield(0,d.getMultipleAccounts)(this.connection,t)).map((({publicKey:t,accountInfo:n})=>g.OpenOrders.fromAccountInfo(t,n,e.dexProgramId))),r={};n.forEach((e=>{r[e.publicKey.toBase58()]=e}));for(const e of i)for(let t=0;t<e.spotOpenOrders.length;t++)e.spotOpenOrders[t].toBase58()in r&&(e.spotOpenOrdersAccounts[t]=r[e.spotOpenOrders[t].toBase58()])}return i}))}addStubOracle(e,t){return s(this,void 0,void 0,(function*(){const n=yield(0,d.createAccountInstruction)(this.connection,t.publicKey,f.StubOracleLayout.span,this.programId),r=(0,m.makeAddOracleInstruction)(this.programId,e,n.account.publicKey,t.publicKey),i=new u.Transaction;i.add(n.instruction),i.add(r);const o=[n.account];return yield this.sendTransaction(i,t,o)}))}setStubOracle(e,t,n,r){return s(this,void 0,void 0,(function*(){const i=(0,m.makeSetOracleInstruction)(this.programId,e,t,n.publicKey,y.I80F48.fromNumber(r)),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,n,[])}))}addPerpMarket(e,t,n,r,i,o,a,l,p,h,g,b,w,v,S,A,k){return s(this,void 0,void 0,(function*(){const s=yield(0,d.createAccountInstruction)(this.connection,r.publicKey,f.PerpMarketLayout.span,this.programId),_=yield(0,d.createAccountInstruction)(this.connection,r.publicKey,f.PerpEventQueueHeaderLayout.span+b*f.PerpEventLayout.span,this.programId),M=yield(0,d.createAccountInstruction)(this.connection,r.publicKey,f.BookSideLayout.span,this.programId),I=yield(0,d.createAccountInstruction)(this.connection,r.publicKey,f.BookSideLayout.span,this.programId),E=new u.Keypair,P=yield(0,d.createTokenAccountInstructions)(this.connection,r.publicKey,E.publicKey,n,e.signerKey),T=yield(0,m.makeAddPerpMarketInstruction)(this.programId,e.publicKey,t,s.account.publicKey,_.account.publicKey,M.account.publicKey,I.account.publicKey,E.publicKey,r.publicKey,y.I80F48.fromNumber(i),y.I80F48.fromNumber(o),y.I80F48.fromNumber(a),y.I80F48.fromNumber(l),y.I80F48.fromNumber(p),new c.default(h),new c.default(g),y.I80F48.fromNumber(w),y.I80F48.fromNumber(v),new c.default(S),new c.default(A),new c.default(k)),O=new u.Transaction;O.add(...P),yield this.sendTransaction(O,r,[E]);const x=new u.Transaction;x.add(s.instruction),x.add(_.instruction),x.add(M.instruction),x.add(I.instruction),x.add(T);const B=[s.account,_.account,M.account,I.account];return yield this.sendTransaction(x,r,B)}))}createPerpMarket(e,t,n,r,i,o,a,l,p,h,g,b,w,v,A,k,_,M,I,E){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const[s]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),new Buffer("PerpMarket","utf-8"),t.toBytes()],this.programId),P=yield(0,d.createAccountInstruction)(this.connection,r.publicKey,f.PerpEventQueueHeaderLayout.span+b*f.PerpEventLayout.span,this.programId),T=yield(0,d.createAccountInstruction)(this.connection,r.publicKey,f.BookSideLayout.span,this.programId),O=yield(0,d.createAccountInstruction)(this.connection,r.publicKey,f.BookSideLayout.span,this.programId),[x]=yield u.PublicKey.findProgramAddress([s.toBytes(),S.TOKEN_PROGRAM_ID.toBytes(),n.toBytes()],this.programId),B=yield(0,m.makeCreatePerpMarketInstruction)(this.programId,e.publicKey,t,s,P.account.publicKey,T.account.publicKey,O.account.publicKey,n,x,r.publicKey,e.signerKey,y.I80F48.fromNumber(i),y.I80F48.fromNumber(o),y.I80F48.fromNumber(a),y.I80F48.fromNumber(l),y.I80F48.fromNumber(p),new c.default(h),new c.default(g),y.I80F48.fromNumber(w),y.I80F48.fromNumber(v),new c.default(A),new c.default(k),new c.default(_),new c.default(M),new c.default(I),new c.default(E)),L=new u.Transaction;L.add(P.instruction),L.add(T.instruction),L.add(O.instruction),L.add(B);const C=[P.account,T.account,O.account];return yield this.sendTransaction(L,r,C)}))}forceCancelSpotOrders(e,t,n,r,i,o,a){return s(this,void 0,void 0,(function*(){const s=yield r.loadNodeBanks(this.connection),c=yield i.loadNodeBanks(this.connection),l=[],f=e.getSpotMarketIndex(n.publicKey);for(let e=0;e<t.spotOpenOrders.length;e++){let n=d.zeroKey,r=!1;e===f?(r=!0,t.spotOpenOrders[f].equals(d.zeroKey)?console.log("missing oo for ",f):n=t.spotOpenOrders[e]):t.inMarginBasket[e]&&(n=t.spotOpenOrders[e]),l.push({pubkey:n,isWritable:r})}const p=yield u.PublicKey.createProgramAddress([n.publicKey.toBuffer(),n._decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],n.programId),h=(0,m.makeForceCancelSpotOrdersInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,r.publicKey,s[0].publicKey,s[0].vault,i.publicKey,c[0].publicKey,c[0].vault,n.publicKey,n.bidsAddress,n.asksAddress,e.signerKey,n._decoded.eventQueue,n._decoded.baseVault,n._decoded.quoteVault,p,e.dexProgramId,l,a),g=new u.Transaction;return g.add(h),yield this.sendTransaction(g,o,[])}))}forceCancelAllPerpOrdersInMarket(e,t,n,r,i){return s(this,void 0,void 0,(function*(){const o=new u.Transaction,s=e.getPerpMarketIndex(n.publicKey),a=(0,m.makeForceCancelPerpOrdersInstruction)(this.programId,e.publicKey,e.mangoCache,n.publicKey,n.bids,n.asks,t.publicKey,t.spotOpenOrders,new c.default(i));o.add(a);let l=0;for(let r=0;r<t.orderMarket.length;r++)if(t.orderMarket[r]===s&&(l++,l===i)){l=0;const r=(0,m.makeForceCancelPerpOrdersInstruction)(this.programId,e.publicKey,e.mangoCache,n.publicKey,n.bids,n.asks,t.publicKey,t.spotOpenOrders,new c.default(i));if(o.add(r),10===o.instructions.length)break}return yield this.sendTransaction(o,r,[])}))}forceCancelPerpOrders(e,t,n,r,i){return s(this,void 0,void 0,(function*(){const o=(0,m.makeForceCancelPerpOrdersInstruction)(this.programId,e.publicKey,e.mangoCache,n.publicKey,n.bids,n.asks,t.publicKey,t.spotOpenOrders,i),s=new u.Transaction;return s.add(o),yield this.sendTransaction(s,r,[])}))}liquidateTokenAndToken(e,t,n,r,i,o,a){return s(this,void 0,void 0,(function*(){const s=(0,m.makeLiquidateTokenAndTokenInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,n.publicKey,o.publicKey,r.publicKey,r.nodeBanks[0],i.publicKey,i.nodeBanks[0],t.getOpenOrdersKeysInBasket(),n.getOpenOrdersKeysInBasket(),a),c=new u.Transaction;return c.add(s),yield this.sendTransaction(c,o,[])}))}liquidateTokenAndPerp(e,t,n,r,i,o,a,l,d,f){return s(this,void 0,void 0,(function*(){const s=(0,m.makeLiquidateTokenAndPerpInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,n.publicKey,i.publicKey,r.publicKey,r.nodeBanks[0],t.getOpenOrdersKeysInBasket(),n.getOpenOrdersKeysInBasket(),o,new c.default(a),l,new c.default(d),f),p=new u.Transaction;return p.add(s),yield this.sendTransaction(p,i,[])}))}liquidatePerpMarket(e,t,n,r,i,o){return s(this,void 0,void 0,(function*(){const s=(0,m.makeLiquidatePerpMarketInstruction)(this.programId,e.publicKey,e.mangoCache,r.publicKey,r.eventQueue,t.publicKey,n.publicKey,i.publicKey,t.getOpenOrdersKeysInBasket(),n.getOpenOrdersKeysInBasket(),o),a=new u.Transaction;return a.add(s),yield this.sendTransaction(a,i,[])}))}settleFees(e,t,n,r,i){return s(this,void 0,void 0,(function*(){const o=yield r.loadNodeBanks(this.connection),s=(0,m.makeSettleFeesInstruction)(this.programId,e.publicKey,e.mangoCache,n.publicKey,t.publicKey,r.publicKey,o[0].publicKey,o[0].vault,e.feesVault,e.signerKey),a=new u.Transaction;return a.add(s),yield this.sendTransaction(a,i,[])}))}resolvePerpBankruptcy(e,t,n,r,i,o,a,l){return s(this,void 0,void 0,(function*(){const s=yield i.loadNodeBanks(this.connection),d=(0,m.makeResolvePerpBankruptcyInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,n.publicKey,o.publicKey,i.publicKey,s[0].publicKey,s[0].vault,e.insuranceVault,e.signerKey,r.publicKey,n.spotOpenOrders,new c.default(a),l),f=new u.Transaction;return f.add(d),yield this.sendTransaction(f,o,[])}))}resolveTokenBankruptcy(e,t,n,r,i,o,a){return s(this,void 0,void 0,(function*(){const s=yield r.loadNodeBanks(this.connection),c=(0,m.makeResolveTokenBankruptcyInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,n.publicKey,o.publicKey,r.publicKey,r.nodeBanks[0],s[0].vault,e.insuranceVault,e.signerKey,i.publicKey,i.nodeBanks[0],n.spotOpenOrders,i.nodeBanks,a),l=new u.Transaction;return l.add(c),yield this.sendTransaction(l,o,[])}))}redeemMngo(e,t,n,r,i,o,a){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const s=(0,m.makeRedeemMngoInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,r.publicKey,n.publicKey,n.mngoVault,i,o,a,e.signerKey),c=new u.Transaction;return c.add(s),yield this.sendTransaction(c,r,[])}))}redeemAllMngo(e,t,n,r,i,o){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const s=[];let a=new u.Transaction;const c=yield Promise.all(t.perpAccounts.map(((t,n)=>t.mngoAccrued.eq(d.ZERO_BN)?(0,d.promiseUndef)():this.getPerpMarket(e.perpMarkets[n].perpMarket,e.tokens[n].decimals,e.tokens[f.QUOTE_INDEX].decimals))));for(let l=0;l<t.perpAccounts.length;l++){const d=c[l];if(void 0===d)continue;const f=(0,m.makeRedeemMngoInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,n.publicKey,d.publicKey,d.mngoVault,r,i,o,e.signerKey);a.add(f),9===a.instructions.length&&(s.push(a),a=new u.Transaction)}a.instructions.length>0&&s.push(a);const l=s.map((e=>({transaction:e,signers:[]})));if(0===l.length)throw new Error("No MNGO rewards to redeem");const p=yield this.getCurrentBlockhash(),h=yield this.signTransactions({transactionsAndSigners:l,payer:n,currentBlockhash:p});if(h)return yield Promise.all(h.map((e=>this.sendSignedTransaction({signedTransaction:e,signedAtBlock:p}))));throw new Error("Unable to sign all RedeemMngo transactions")}))}addMangoAccountInfo(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const i=(0,m.makeAddMangoAccountInfoInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,r),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,n,[])}))}depositMsrm(e,t,n,r,i){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const o=(0,m.makeDepositMsrmInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,r,e.msrmVault,new c.default(Math.floor(i))),s=new u.Transaction;return s.add(o),yield this.sendTransaction(s,n,[])}))}withdrawMsrm(e,t,n,r,i){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const o=(0,m.makeWithdrawMsrmInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,r,e.msrmVault,e.signerKey,new c.default(Math.floor(i))),s=new u.Transaction;return s.add(o),yield this.sendTransaction(s,n,[])}))}changePerpMarketParams(e,t,n,r,i,o,a,l,d,f,p,h,g){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const s=(0,m.makeChangePerpMarketParamsInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,y.I80F48.fromNumberOrUndef(r),y.I80F48.fromNumberOrUndef(i),y.I80F48.fromNumberOrUndef(o),y.I80F48.fromNumberOrUndef(a),y.I80F48.fromNumberOrUndef(l),y.I80F48.fromNumberOrUndef(d),y.I80F48.fromNumberOrUndef(f),void 0!==p?new c.default(p):void 0,void 0!==h?new c.default(h):void 0,void 0!==g?new c.default(g):void 0),b=new u.Transaction;return b.add(s),yield this.sendTransaction(b,n,[])}))}changePerpMarketParams2(e,t,n,r,i,o,a,l,d,f,p,h,g,b,w){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const s=(0,m.makeChangePerpMarketParams2Instruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,y.I80F48.fromNumberOrUndef(r),y.I80F48.fromNumberOrUndef(i),y.I80F48.fromNumberOrUndef(o),y.I80F48.fromNumberOrUndef(a),y.I80F48.fromNumberOrUndef(l),y.I80F48.fromNumberOrUndef(d),y.I80F48.fromNumberOrUndef(f),void 0!==p?new c.default(p):void 0,void 0!==h?new c.default(h):void 0,void 0!==g?new c.default(g):void 0,void 0!==b?new c.default(b):void 0,void 0!==w?new c.default(w):void 0),v=new u.Transaction;return v.add(s),yield this.sendTransaction(v,n,[])}))}setGroupAdmin(e,t,n){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const r=(0,m.makeSetGroupAdminInstruction)(this.programId,e.publicKey,t,n.publicKey),i=new u.Transaction;return i.add(r),yield this.sendTransaction(i,n,[])}))}modifySpotOrder(e,t,n,r,i,o,a,l,p,h){return s(this,void 0,void 0,(function*(){if(!i.publicKey)return;const s=new u.Transaction,y=(0,m.makeCancelSpotOrderInstruction)(this.programId,e.publicKey,i.publicKey,t.publicKey,r.programId,r.publicKey,r._decoded.bids,r._decoded.asks,o.openOrdersAddress,e.signerKey,r._decoded.eventQueue,o);s.add(y);const b=yield u.PublicKey.createProgramAddress([r.publicKey.toBuffer(),r._decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],r.programId),w=e.getSpotMarketIndex(r.publicKey);e.rootBankAccounts.length||(yield e.loadRootBanks(this.connection));const v=e.rootBankAccounts[w],S=null==v?void 0:v.nodeBankAccounts[0],A=e.rootBankAccounts[f.QUOTE_INDEX],k=null==A?void 0:A.nodeBankAccounts[0];if(!S||!k)throw new Error("Invalid or missing node banks");const _=(0,m.makeSettleFundsInstruction)(this.programId,e.publicKey,e.mangoCache,i.publicKey,t.publicKey,r.programId,r.publicKey,t.spotOpenOrders[w],e.signerKey,r._decoded.baseVault,r._decoded.quoteVault,e.tokens[w].rootBank,S.publicKey,e.tokens[f.QUOTE_INDEX].rootBank,k.publicKey,S.vault,k.vault,b);s.add(_);const M=r.priceNumberToLots(l),I=r.baseSizeNumberToLots(p),E=(0,g.getFeeTier)(0,(0,d.nativeToUi)(0,0)),P=(0,g.getFeeRates)(E),T=new c.default(r._decoded.quoteLotSize.toNumber()*(1+P.taker)).mul(r.baseSizeNumberToLots(p).mul(r.priceNumberToLots(l)));if(I.lte(d.ZERO_BN))throw new Error("size too small");if(M.lte(d.ZERO_BN))throw new Error("invalid price");if(!(v&&S&&A&&k))throw new Error("Invalid or missing banks");const O=[];for(let n=0;n<t.spotOpenOrders.length;n++){let o=d.zeroKey,s=!1;if(n===w)if(s=!0,t.spotOpenOrders[w].equals(d.zeroKey)){const n=g.OpenOrders.getLayout(e.dexProgramId).span,s=yield this.connection.getMinimumBalanceForRentExemption(n,"processed"),a=yield(0,d.createAccountInstruction)(this.connection,i.publicKey,n,e.dexProgramId,s),c=(0,m.makeInitSpotOpenOrdersInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,e.dexProgramId,a.account.publicKey,r.publicKey,e.signerKey),l=new u.Transaction;l.add(a.instruction),l.add(c),yield this.sendTransaction(l,i,[a.account]),o=a.account.publicKey}else o=t.spotOpenOrders[n];else t.inMarginBasket[n]&&(o=t.spotOpenOrders[n]);O.push({pubkey:o,isWritable:s})}const x=(0,m.makePlaceSpotOrderInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,n,r.programId,r.publicKey,r._decoded.bids,r._decoded.asks,r._decoded.requestQueue,r._decoded.eventQueue,r._decoded.baseVault,r._decoded.quoteVault,v.publicKey,S.publicKey,S.vault,A.publicKey,k.publicKey,k.vault,e.signerKey,b,e.srmVault,O,a,M,I,T,"decrementTake",h,o.clientId);s.add(x),w>0&&console.log(w-1,t.spotOpenOrders[w-1].toBase58(),O[w-1].pubkey.toBase58());const B=yield this.sendTransaction(s,i,[]);return t.spotOpenOrders[w]=O[w].pubkey,t.inMarginBasket[w]=!0,console.log(w,t.spotOpenOrders[w].toBase58(),O[w].pubkey.toBase58()),B}))}modifyPerpOrder(e,t,n,r,i,o,a,l,d,p,h,g,y=!1,b){var v;return s(this,void 0,void 0,(function*(){if(!i.publicKey)return;const s=new u.Transaction,S=(0,m.makeCancelPerpOrderInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,r.publicKey,r.bids,r.asks,o,y);s.add(S);const[A,k]=r.uiToNativePriceQuantity(l,d),_=(0,m.makePlacePerpOrderInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,n,r.publicKey,r.bids,r.asks,r.eventQueue,t.spotOpenOrders,A,k,h?new c.default(h):null!==(v=o.clientId)&&void 0!==v?v:new c.default(Date.now()),a,p,!1,b);if(s.add(_),g){const n=g.data?new w.BookSide("buy"===a?r.asks:r.bids,r,f.BookSideLayout.decode(g.data)):[],i=new Set;i.add(t.publicKey.toBase58());for(const e of n)if(i.add(e.owner.toBase58()),i.size>=10)break;const o=(0,m.makeConsumeEventsInstruction)(this.programId,e.publicKey,e.mangoCache,r.publicKey,r.eventQueue,Array.from(i).map((e=>new u.PublicKey(e))).sort(),new c.default(4));s.add(o)}return yield this.sendTransaction(s,i,[])}))}addPerpTriggerOrder(e,t,n,r,i,o,a,l,p,h,g,b){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const s=new u.Transaction;let w=t.advancedOrdersKey;t.advancedOrdersKey.equals(d.zeroKey)&&([w]=yield u.PublicKey.findProgramAddress([t.publicKey.toBytes()],this.programId),console.log("AdvancedOrders PDA:",w.toBase58()),s.add((0,m.makeInitAdvancedOrdersInstruction)(this.programId,e.publicKey,t.publicKey,r.publicKey,w)));const v=e.getPerpMarketIndex(n.publicKey),S=e.tokens[v],A=e.tokens[f.QUOTE_INDEX],k=Math.pow(10,S.decimals),_=Math.pow(10,A.decimals),M=new c.default(a*_).mul(n.baseLotSize).div(n.quoteLotSize.mul(new c.default(k))),I=new c.default(l*k).div(n.baseLotSize),E=y.I80F48.fromNumber(h*Math.pow(10,n.quoteDecimals-n.baseDecimals)),P=t.spotOpenOrders.filter(((e,n)=>t.inMarginBasket[n]));s.add((0,m.makeAddPerpTriggerOrderInstruction)(this.programId,e.publicKey,t.publicKey,r.publicKey,w,e.mangoCache,n.publicKey,P,i,o,M,I,p,E,g,new c.default(null!=b?b:Date.now())));const T=yield this.sendTransaction(s,r,[]);return t.advancedOrdersKey=w,T}))}removeAdvancedOrder(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const i=(0,m.makeRemoveAdvancedOrderInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,t.advancedOrdersKey,r),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,n,[])}))}executePerpTriggerOrder(e,t,n,r,i,o){return s(this,void 0,void 0,(function*(){if(!i.publicKey)return;const s=t.spotOpenOrders.filter(((e,n)=>t.inMarginBasket[n])),a=(0,m.makeExecutePerpTriggerOrderInstruction)(this.programId,e.publicKey,t.publicKey,t.advancedOrdersKey,i.publicKey,n.publicKey,r.publicKey,r.bids,r.asks,r.eventQueue,s,new c.default(o)),l=new u.Transaction;return l.add(a),yield this.sendTransaction(l,i,[])}))}closeAdvancedOrders(e,t,n){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const r=(0,m.makeCloseAdvancedOrdersInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,t.advancedOrdersKey),i=new u.Transaction;return i.add(r),yield this.sendTransaction(i,n,[])}))}closeSpotOpenOrders(e,t,n,r,i=!0){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const o=(0,m.makeCloseSpotOpenOrdersInstruction)(this.programId,e.publicKey,t.publicKey,i?n.publicKey:t.owner,e.dexProgramId,t.spotOpenOrders[r],e.spotMarkets[r].spotMarket,e.signerKey,i),s=new u.Transaction;return s.add(o),yield this.sendTransaction(s,n,[])}))}closeMangoAccount(e,t,n){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const r=(0,m.makeCloseMangoAccountInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey),i=new u.Transaction;return i.add(r),yield this.sendTransaction(i,n,[])}))}createDustAccount(e,t){return s(this,void 0,void 0,(function*(){if(!t.publicKey)return;const[n]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),new Buffer("DustAccount","utf-8")],this.programId),r=(0,m.makeCreateDustAccountInstruction)(this.programId,e.publicKey,n,t.publicKey),i=new u.Transaction;return i.add(r),yield this.sendTransaction(i,t,[])}))}resolveDust(e,t,n,r,i){return s(this,void 0,void 0,(function*(){if(!i.publicKey)return;const[o]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),new Buffer("DustAccount","utf-8")],this.programId),s=(0,m.makeResolveDustInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,o,n.publicKey,n.nodeBanks[0],r.publicKey),a=new u.Transaction;return a.add(s),yield this.sendTransaction(a,i,[])}))}updateMarginBasket(e,t,n){return s(this,void 0,void 0,(function*(){const r=(0,m.makeUpdateMarginBasketInstruction)(this.programId,e.publicKey,t.publicKey,t.spotOpenOrders),i=new u.Transaction;return i.add(r),yield this.sendTransaction(i,n,[])}))}resolveAllDust(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const i=[],[o]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),new Buffer("DustAccount","utf-8")],this.programId);for(const s of e.rootBankAccounts){const a={transaction:new u.Transaction,signers:[]};if(s){const i=e.getRootBankIndex(null==s?void 0:s.publicKey),u=t.getNativeDeposit(s,i),c=t.getNativeBorrow(s,i);if(console.log("nativeDeposit",u.toString()),console.log("nativeBorrow",c.toString()),console.log("tokenIndex",i.toString()),u.gt(y.ZERO_I80F48)&&u.lt(y.ONE_I80F48)||c.gt(y.ZERO_I80F48)&&c.lt(y.ONE_I80F48)){const i=(0,m.makeResolveDustInstruction)(this.programId,e.publicKey,t.publicKey,r.publicKey,o,s.publicKey,s.nodeBanks[0],n.publicKey);a.transaction.add(i)}}i.push(a)}const s=yield this.getCurrentBlockhash(),a=yield this.signTransactions({transactionsAndSigners:i,payer:r,currentBlockhash:s});if(!a)throw new Error("Unable to sign ResolveDust transactions");for(const e of a){if(0==e.instructions.length)continue;const t=yield this.sendSignedTransaction({signedTransaction:e,signedAtBlock:s});console.log(t)}}))}emptyAndCloseMangoAccount(e,t,n,r,i){return s(this,void 0,void 0,(function*(){if(!i.publicKey)return;const o=[],s={transaction:new u.Transaction,signers:[]},a=e.rootBankAccounts[r],c=yield Promise.all(t.perpAccounts.map(((t,n)=>t.mngoAccrued.eq(d.ZERO_BN)?(0,d.promiseUndef)():this.getPerpMarket(e.perpMarkets[n].perpMarket,e.tokens[n].decimals,e.tokens[f.QUOTE_INDEX].decimals))));let l=!1;for(let n=0;n<t.perpAccounts.length;n++){if(t.perpAccounts[n].mngoAccrued.eq(d.ZERO_BN))continue;l=!0;const r=c[n];if(void 0===r)continue;const o=(0,m.makeRedeemMngoInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,i.publicKey,r.publicKey,r.mngoVault,a.publicKey,a.nodeBanks[0],a.nodeBankAccounts[0].vault,e.signerKey);s.transaction.add(o)}s.transaction.instructions.length>0&&o.push(s);const p={transaction:new u.Transaction,signers:[]},[h]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),new Buffer("DustAccount","utf-8")],this.programId);for(const s of e.rootBankAccounts)if(s){const a=e.getRootBankIndex(null==s?void 0:s.publicKey),c=e.tokens[a].mint,f=l&&a===r;if(t.deposits[a].isPos()||f){const n={transaction:new u.Transaction,signers:[]};let r=yield S.Token.getAssociatedTokenAddress(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,c,i.publicKey),a=null;if(c.equals(v.WRAPPED_SOL_MINT)){a=new u.Keypair,r=a.publicKey;const e=165,t=yield this.connection.getMinimumBalanceForRentExemption(e,"processed");n.transaction.add(u.SystemProgram.createAccount({fromPubkey:i.publicKey,newAccountPubkey:r,lamports:t,space:e,programId:S.TOKEN_PROGRAM_ID})),n.transaction.add((0,v.initializeAccount)({account:r,mint:v.WRAPPED_SOL_MINT,owner:i.publicKey})),n.signers.push(a)}else(yield this.connection.getAccountInfo(r,"processed"))||n.transaction.add(S.Token.createAssociatedTokenAccountInstruction(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,c,r,i.publicKey,i.publicKey));const l=(0,m.makeWithdrawInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,e.mangoCache,s.publicKey,s.nodeBanks[0],s.nodeBankAccounts[0].vault,r,e.signerKey,t.spotOpenOrders,d.U64_MAX_BN,!1);n.transaction.add(l),a&&n.transaction.add((0,v.closeAccount)({source:a.publicKey,destination:i.publicKey,owner:i.publicKey})),o.push(n)}const g=t.getNativeBorrow(n.rootBankCache[a],a);if(f||t.deposits[a].isPos()||g.gt(y.ZERO_I80F48)&&g.lt(y.ONE_I80F48)){const r=(0,m.makeResolveDustInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,h,s.publicKey,s.nodeBanks[0],n.publicKey);p.transaction.add(r)}}o.push(p);const g={transaction:new u.Transaction,signers:[]};for(let n=0;n<t.spotOpenOrders.length;n++){const r=t.spotOpenOrders[n],o=e.spotMarkets[n].spotMarket;r.equals(d.zeroKey)||g.transaction.add((0,m.makeCloseSpotOpenOrdersInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,e.dexProgramId,r,o,e.signerKey))}t.advancedOrdersKey.equals(d.zeroKey)||g.transaction.add((0,m.makeCloseAdvancedOrdersInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey,t.advancedOrdersKey)),0==t.metaData.version&&g.transaction.add((0,m.makeUpgradeMangoAccountV0V1Instruction)(this.programId,e.publicKey,t.publicKey,i.publicKey)),g.transaction.add((0,m.makeCloseMangoAccountInstruction)(this.programId,e.publicKey,t.publicKey,i.publicKey)),o.push(g);const b=yield this.getCurrentBlockhash(),w=yield this.signTransactions({transactionsAndSigners:o,payer:i,currentBlockhash:b}),A=[];if(!w)throw new Error("Unable to sign emptyAndCloseMangoAccount transactions");for(const e of w){if(0==e.instructions.length)continue;const t=yield this.sendSignedTransaction({signedTransaction:e,signedAtBlock:b});A.push(t),console.log(t)}return A}))}cancelPerpOrderSide(e,t,n,r,i,o){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const s=(0,m.makeCancelPerpOrdersSideInstruction)(this.programId,e.publicKey,t.publicKey,r.publicKey,n.publicKey,n.bids,n.asks,i,new c.default(o)),a=new u.Transaction;return a.add(s),yield this.sendTransaction(a,r,[])}))}setDelegate(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const i=(0,m.makeSetDelegateInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,r),o=new u.Transaction;return o.add(i),yield this.sendTransaction(o,n,[])}))}changeSpotMarketParams(e,t,n,r,i,o,a,l,d,f,p){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const s=(0,m.makeChangeSpotMarketParamsInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,r.publicKey,y.I80F48.fromNumberOrUndef(i),y.I80F48.fromNumberOrUndef(o),y.I80F48.fromNumberOrUndef(a),y.I80F48.fromNumberOrUndef(l),y.I80F48.fromNumberOrUndef(d),y.I80F48.fromNumberOrUndef(f),void 0!==p?new c.default(p):void 0),h=new u.Transaction;return h.add(s),yield this.sendTransaction(h,r,[])}))}changeReferralFeeParams(e,t,n,r,i){return s(this,void 0,void 0,(function*(){if(!t.publicKey)return;const o=(0,m.makeChangeReferralFeeParamsInstruction)(this.programId,e.publicKey,t.publicKey,new c.default(n*f.CENTIBPS_PER_UNIT),new c.default(r*f.CENTIBPS_PER_UNIT),new c.default(1e6*i)),s=new u.Transaction;return s.add(o),yield this.sendTransaction(s,t,[])}))}setReferrerMemory(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const[i]=yield u.PublicKey.findProgramAddress([t.publicKey.toBytes(),new Buffer("ReferrerMemory","utf-8")],this.programId),o=(0,m.makeSetReferrerMemoryInstruction)(this.programId,e.publicKey,t.publicKey,n.publicKey,i,r,n.publicKey),s=new u.Transaction;return s.add(o),yield this.sendTransaction(s,n,[])}))}getReferrerPda(e,t){return s(this,void 0,void 0,(function*(){const n=Buffer.from(t,"utf8");if(n.length>f.INFO_LEN)throw new Error(`info string too long. Must be less than or equal to ${f.INFO_LEN} bytes`);const r=Buffer.concat([n,Buffer.alloc(f.INFO_LEN-n.length,0)]),[i]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),new Buffer("ReferrerIdRecord","utf-8"),r],this.programId);return{referrerPda:i,encodedReferrerId:r}}))}registerReferrerId(e,t,n,r){return s(this,void 0,void 0,(function*(){if(!n.publicKey)return;const{referrerPda:i,encodedReferrerId:o}=yield this.getReferrerPda(e,r),s=(0,m.makeRegisterReferrerIdInstruction)(this.programId,e.publicKey,t.publicKey,i,n.publicKey,o),a=new u.Transaction;return a.add(s),yield this.sendTransaction(a,n,[])}))}getReferrerIdsForMangoAccount(e){return s(this,void 0,void 0,(function*(){const t=[{memcmp:{offset:_.ReferrerIdRecordLayout.offsetOf("referrerMangoAccount"),bytes:e.publicKey.toBase58()}},{dataSize:_.ReferrerIdRecordLayout.span}];return yield(0,d.getFilteredProgramAccounts)(this.connection,this.programId,t).then((e=>e.map((({accountInfo:e})=>new _.ReferrerIdRecord(_.ReferrerIdRecordLayout.decode(null==e?void 0:e.data))))))}))}cancelAllSpotOrders(e,t,n,r,i,o=!0){return s(this,void 0,void 0,(function*(){if(!r.publicKey)return;const s=e.getSpotMarketIndex(n.address),a=e.rootBankAccounts[s],l=e.rootBankAccounts[f.QUOTE_INDEX];if(null==a||null==l)return void console.log("A root bank is null");const d=yield a.loadNodeBanks(this.connection),p=yield l.loadNodeBanks(this.connection),h=e.getSpotMarketIndex(n.publicKey),g=yield u.PublicKey.createProgramAddress([n.publicKey.toBuffer(),n._decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],n.programId),y=(0,m.makeCancelAllSpotOrdersInstruction)(this.programId,e.publicKey,e.mangoCache,t.publicKey,o?r.publicKey:t.owner,a.publicKey,d[0].publicKey,d[0].vault,l.publicKey,p[0].publicKey,p[0].vault,n.publicKey,n.bidsAddress,n.asksAddress,t.spotOpenOrders[h],e.signerKey,n._decoded.eventQueue,n._decoded.baseVault,n._decoded.quoteVault,g,e.dexProgramId,new c.default(i),o),b=new u.Transaction;return b.add(y),yield this.sendTransaction(b,r,[])}))}ensureOpenOrdersAccount(e,t,n,r,i){return s(this,void 0,void 0,(function*(){if(e.spotOpenOrdersAccounts[i.marketIndex])return;const[o]=yield u.PublicKey.findProgramAddress([e.publicKey.toBytes(),new c.default(i.marketIndex).toArrayLike(Buffer,"le",8),new Buffer("OpenOrders","utf-8")],this.programId),s=(0,k.makeCreateSpotOpenOrdersInstruction)(this.programId,t.publicKey,e.publicKey,n.publicKey,t.dexProgramId,o,r.publicKey,t.signerKey),a=yield this.connection.getLatestBlockhash("finalized"),l=new u.Transaction({recentBlockhash:a.blockhash,feePayer:n.publicKey});l.add(s),l.sign(n);try{yield this.sendSignedTransaction({signedTransaction:l,signedAtBlock:a})}catch(e){console.error(e)}yield e.reload(this.connection,t.dexProgramId)}))}isMainnet(){var e;let t=null===(e=this.connection._rpcEndpoint)||void 0===e?void 0:e.toLowerCase();return t&&!t.includes("devnet")&&!t.includes("testnet")&&!t.includes("localhost")}}},5710:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Config=t.getTokenBySymbol=t.getTokenByMint=t.getMarketByPublicKey=t.getMarketByBaseSymbolAndKind=t.getAllMarkets=t.getSpotMarketByBaseSymbol=t.getPerpMarketByIndex=t.getPerpMarketByBaseSymbol=t.getOracleBySymbol=t.getMarketIndexBySymbol=t.getOracleConfig=t.getTokenConfig=t.getPerpMarketConfig=t.getSpotMarketConfig=t.delistedOracles=t.delistedTokens=t.delistedPerpMarkets=t.delistedSpotMarkets=t.mngoMints=t.msrmMints=void 0;const i=n(9990),o=r(n(4903)),s=n(7614);function a(e,n){let r=e.spotMarkets.find(n);return r||(r=t.delistedSpotMarkets.find(n)),r}function u(e,n){let r=e.perpMarkets.find(n);return r||(r=t.delistedPerpMarkets.find(n)),r}function c(e,n){let r=e.tokens.find(n);return r||(r=t.delistedTokens.find(n)),r}function l(e,n){let r=e.oracles.find(n);return r||(r=t.delistedOracles.find(n)),r}function d(e,t){return u(e,(e=>e.baseSymbol===t))}function f(e,t){return a(e,(e=>e.baseSymbol===t))}t.msrmMints={devnet:new i.PublicKey("8DJBo4bF4mHNxobjdax3BL9RMh5o71Jf8UiKsf5C5eVH"),mainnet:new i.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),localnet:s.zeroKey,testnet:new i.PublicKey("3Ho7PN3bYv9bp1JDErBD2FxsRepPkL88vju3oDX9c3Ez")},t.mngoMints={devnet:new i.PublicKey("Bb9bsTQa1bGEtQ5KagGkvSHyuLqDWumFUcRqFusFNJWC"),mainnet:new i.PublicKey("MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac"),testnet:new i.PublicKey("2hvukwp4UR9tqmCQhRzcsW9S2QBuU5Xcv5JJ5fUMmfvQ")},t.delistedSpotMarkets=[{publicKey:new i.PublicKey("HBTu8hNaoT3VyiSSzJYa8jwt9sDGKtJviSwFa11iXdmE"),name:"LUNA/USDC",baseSymbol:"LUNA",baseDecimals:6,marketIndex:13},{publicKey:new i.PublicKey("6fc7v3PmjZG9Lk2XTot6BywGyYLkBQuzuFKd4FpCsPxk"),name:"COPE/USDC",baseSymbol:"COPE",baseDecimals:6,marketIndex:7},{publicKey:new i.PublicKey("3zzTxtDCt9PimwzGrgWJEbxZfSLetDMkdYegPanGNpMf"),name:"BNB/USDC",baseSymbol:"BNB",baseDecimals:8,marketIndex:11}],t.delistedPerpMarkets=[{publicKey:new i.PublicKey("BCJrpvsB2BJtqiDgKVC4N6gyX1y24Jz96C6wMraYmXss"),name:"LUNA-PERP",baseSymbol:"LUNA",baseDecimals:6,quoteDecimals:6,marketIndex:13}],t.delistedTokens=[{mintKey:new i.PublicKey("F6v4wfAdJB8D8p77bMXZgYt8TDKsYxLYxH5AFhUkYx9W"),symbol:"LUNA",decimals:6},{mintKey:new i.PublicKey("8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh"),symbol:"COPE",decimals:6}],t.delistedOracles=[{publicKey:new i.PublicKey("5bmWuR1dgP4avtGYMNKLuxumZTVKGgoN2BCMXWDNL9nY"),symbol:"LUNA",marketIndex:13},{publicKey:new i.PublicKey("9xYBiDWYsh2fHzpsz3aaCnNHCKWBNtfEDLtU6kS4aFD9"),symbol:"COPE",marketIndex:7}],t.getSpotMarketConfig=a,t.getPerpMarketConfig=u,t.getTokenConfig=c,t.getOracleConfig=l,t.getMarketIndexBySymbol=function(e,t){let n=e.oracles.findIndex((e=>e.symbol===t));if(-1===n){const r=l(e,(e=>e.symbol===t));n=r?r.marketIndex:-1}return n},t.getOracleBySymbol=function(e,t){return l(e,(e=>e.symbol===t))},t.getPerpMarketByBaseSymbol=d,t.getPerpMarketByIndex=function(e,t){return u(e,(e=>e.marketIndex===t))},t.getSpotMarketByBaseSymbol=f,t.getAllMarkets=function(e){const t=e.spotMarkets.map((e=>Object.assign({kind:"spot"},e))),n=e.perpMarkets.map((e=>Object.assign({kind:"perp"},e)));return t.concat(n)},t.getMarketByBaseSymbolAndKind=function(e,t,n){const r="spot"===n?f(e,t):d(e,t);return Object.assign({kind:n},r)},t.getMarketByPublicKey=function(e,t){t instanceof i.PublicKey||(t=new i.PublicKey(t));const n=a(e,(e=>e.publicKey.equals(t)));if(n)return Object.assign({kind:"spot"},n);const r=u(e,(e=>e.publicKey.equals(t)));return r?Object.assign({kind:"perp"},r):void 0},t.getTokenByMint=function(e,t){return t instanceof i.PublicKey||(t=new i.PublicKey(t)),c(e,(e=>e.mintKey.equals(t)))},t.getTokenBySymbol=function(e,t){const n=c(e,(e=>e.symbol===t));if(void 0===n)throw new Error(`Unable to find symbol: ${t} in GroupConfig`);return n};class p{constructor(e){this.cluster_urls=e.cluster_urls,this.groups=e.groups.map((e=>{return t=e,Object.assign(Object.assign({},t),{publicKey:new i.PublicKey(t.publicKey),mangoProgramId:new i.PublicKey(t.mangoProgramId),serumProgramId:new i.PublicKey(t.serumProgramId),oracles:t.oracles.map((e=>function(e){return Object.assign(Object.assign({},e),{publicKey:new i.PublicKey(e.publicKey)})}(e))),perpMarkets:t.perpMarkets.map((e=>function(e){return Object.assign(Object.assign({},e),{publicKey:new i.PublicKey(e.publicKey),bidsKey:new i.PublicKey(e.bidsKey),asksKey:new i.PublicKey(e.asksKey),eventsKey:new i.PublicKey(e.eventsKey)})}(e))),spotMarkets:t.spotMarkets.map((e=>function(e){return Object.assign(Object.assign({},e),{publicKey:new i.PublicKey(e.publicKey),bidsKey:new i.PublicKey(e.bidsKey),asksKey:new i.PublicKey(e.asksKey),eventsKey:new i.PublicKey(e.eventsKey)})}(e))),tokens:t.tokens.map((e=>function(e){return Object.assign(Object.assign({},e),{mintKey:new i.PublicKey(e.mintKey),rootKey:new i.PublicKey(e.rootKey),nodeKeys:e.nodeKeys.map((e=>new i.PublicKey(e)))})}(e)))});var t}))}static ids(){return h}toJson(){return Object.assign(Object.assign({},this),{groups:this.groups.map((e=>function(e){return Object.assign(Object.assign({},e),{publicKey:e.publicKey.toBase58(),mangoProgramId:e.mangoProgramId.toBase58(),serumProgramId:e.serumProgramId.toBase58(),oracles:e.oracles.map((e=>function(e){return Object.assign(Object.assign({},e),{publicKey:e.publicKey.toBase58()})}(e))),perpMarkets:e.perpMarkets.map((e=>function(e){return Object.assign(Object.assign({},e),{publicKey:e.publicKey.toBase58(),bidsKey:e.bidsKey.toBase58(),asksKey:e.asksKey.toBase58(),eventsKey:e.eventsKey.toBase58()})}(e))),spotMarkets:e.spotMarkets.map((e=>function(e){return Object.assign(Object.assign({},e),{publicKey:e.publicKey.toBase58(),bidsKey:e.bidsKey.toBase58(),asksKey:e.asksKey.toBase58(),eventsKey:e.eventsKey.toBase58()})}(e))),tokens:e.tokens.map((e=>function(e){return Object.assign(Object.assign({},e),{mintKey:e.mintKey.toBase58(),rootKey:e.rootKey.toBase58(),nodeKeys:e.nodeKeys.map((e=>e.toBase58()))})}(e)))})}(e)))})}getGroup(e,t){return this.groups.find((n=>n.cluster===e&&n.name===t))}getGroupWithName(e){return this.groups.find((t=>t.name===e))}storeGroup(e){const t=this.getGroup(e.cluster,e.name);t?Object.assign(t,e):this.groups.unshift(e)}}t.Config=p;const h=new p(o.default)},8880:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RootBank=t.PublicKey=t.PerpMarket=t.PerpEventQueue=t.PerpAccount=t.MangoGroup=t.MangoAccount=t.IDS=t.IDL=t.BN=void 0;const s=o(n(4903));t.IDS=s.default;const a=o(n(9406));t.IDL=a.default;const u=o(n(3369));t.MangoAccount=u.default;const c=o(n(6336));t.MangoGroup=c.default;const l=o(n(6572));t.PerpMarket=l.default;const d=o(n(198));t.PerpAccount=d.default;const f=o(n(1180));t.PerpEventQueue=f.default;const p=o(n(5869));t.RootBank=p.default;const h=o(n(9098));t.BN=h.default;const m=n(9990);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return m.PublicKey}}),i(n(5815),t),i(n(1194),t),i(n(5710),t),i(n(8191),t),i(n(264),t),i(n(5380),t),i(n(5447),t),i(n(5506),t),i(n(7614),t),i(n(8191),t)},264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCloseAdvancedOrdersInstruction=t.makeCloseSpotOpenOrdersInstruction=t.makeCloseMangoAccountInstruction=t.makeExecutePerpTriggerOrderInstruction=t.makeAddPerpTriggerOrderInstruction=t.makeInitAdvancedOrdersInstruction=t.makeRemoveAdvancedOrderInstruction=t.makeSetGroupAdminInstruction=t.makeChangePerpMarketParams2Instruction=t.makeChangePerpMarketParamsInstruction=t.makeWithdrawMsrmInstruction=t.makeDepositMsrmInstruction=t.makeAddMangoAccountInfoInstruction=t.makeRedeemMngoInstruction=t.makeResolveTokenBankruptcyInstruction=t.makeResolvePerpBankruptcyInstruction=t.makeSettleFeesInstruction=t.makeLiquidatePerpMarketInstruction=t.makeLiquidateTokenAndPerpInstruction=t.makeLiquidateTokenAndTokenInstruction=t.makeForceCancelPerpOrdersInstruction=t.makeForceCancelSpotOrdersInstruction=t.makeUpdateFundingInstruction=t.makePlacePerpOrder2Instruction=t.makePlacePerpOrderInstruction=t.makeConsumeEventsInstruction=t.makeSettlePnlInstruction=t.makeCachePerpMarketsInstruction=t.makeCreatePerpMarketInstruction=t.makeAddPerpMarketInstruction=t.makeSetOracleInstruction=t.makeAddOracleInstruction=t.makeUpdateRootBankInstruction=t.makePlaceSpotOrder2Instruction=t.makePlaceSpotOrderInstruction=t.makeCreateSpotOpenOrdersInstruction=t.makeInitSpotOpenOrdersInstruction=t.makeAddSpotMarketInstruction=t.makeCachePerpMarketInstruction=t.makeCachePricesInstruction=t.makeCacheRootBankInstruction=t.makeDepositInstruction=t.makeCancelAllPerpOrdersInstruction=t.makeCancelPerpOrderByClientIdInstruction=t.makeCancelPerpOrderInstruction=t.makeCancelSpotOrderInstruction=t.makeSettleFundsInstruction=t.makeWithdrawInstruction=t.makeInitMangoAccountInstruction=t.makeInitMangoGroupInstruction=void 0,t.makeCancelAllSpotOrdersInstruction=t.makeForceSettlePerpPositionInstruction=t.makeLiquidateDelistingTokenInstruction=t.makeRemoveOracleInstruction=t.makeRemoveSpotMarketInstruction=t.makeSwapSpotMarketInstruction=t.makeRemovePerpMarketInstruction=t.makeSetMarketModeInstruction=t.makeWithdraw2Instruction=t.makeRegisterReferrerIdInstruction=t.makeSetReferrerMemoryInstruction=t.makeChangeReferralFeeParams2Instruction=t.makeChangeReferralFeeParamsInstruction=t.makeChangeSpotMarketParamsInstruction=t.makeSetDelegateInstruction=t.makeCancelPerpOrdersSideInstruction=t.makeChangeMaxMangoAccountsInstruction=t.makeUpgradeMangoAccountV0V1Instruction=t.makeCreateMangoAccountInstruction=t.makeUpdateMarginBasketInstruction=t.makeResolveDustInstruction=t.makeCreateDustAccountInstruction=void 0;const r=n(9990),i=n(5380),o=n(6604),s=n(8191),a=n(7614);t.makeInitMangoGroupInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p,h,m,g,y,b,w){const v=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:l},{isSigner:!1,isWritable:!1,pubkey:d},{isSigner:!1,isWritable:!1,pubkey:f},{isSigner:!1,isWritable:!0,pubkey:p},{isSigner:!1,isWritable:!1,pubkey:h}],S=(0,i.encodeMangoInstruction)({InitMangoGroup:{signerNonce:m,validInterval:g,quoteOptimalUtil:y,quoteOptimalRate:b,quoteMaxRate:w}});return new r.TransactionInstruction({keys:v,data:S,programId:e})},t.makeInitMangoAccountInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o}],a=(0,i.encodeMangoInstruction)({InitMangoAccount:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeWithdrawInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m){const g=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!1,pubkey:f},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},...p.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],y=(0,i.encodeMangoInstruction)({Withdraw:{quantity:h,allowBorrow:m}});return new r.TransactionInstruction({keys:g,data:y,programId:e})},t.makeSettleFundsInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y,b,w,v){const S=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!1,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!0,pubkey:p},{isSigner:!1,isWritable:!1,pubkey:h},{isSigner:!1,isWritable:!0,pubkey:m},{isSigner:!1,isWritable:!1,pubkey:g},{isSigner:!1,isWritable:!0,pubkey:y},{isSigner:!1,isWritable:!0,pubkey:b},{isSigner:!1,isWritable:!0,pubkey:w},{isSigner:!1,isWritable:!1,pubkey:v},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID}],A=(0,i.encodeMangoInstruction)({SettleFunds:{}});return new r.TransactionInstruction({keys:S,data:A,programId:e})},t.makeCancelSpotOrderInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p){const h=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!0,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!1,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f}],m=(0,i.encodeMangoInstruction)({CancelSpotOrder:{side:p.side,orderId:p.orderId}});return new r.TransactionInstruction({keys:h,data:m,programId:e})},t.makeCancelPerpOrderInstruction=function(e,t,n,o,s,a,u,c,l){const d=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u}],f=(0,i.encodeMangoInstruction)({CancelPerpOrder:{orderId:c.orderId,invalidIdOk:l}});return new r.TransactionInstruction({keys:d,data:f,programId:e})},t.makeCancelPerpOrderByClientIdInstruction=function(e,t,n,o,s,a,u,c,l){const d=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u}],f=(0,i.encodeMangoInstruction)({CancelPerpOrderByClientId:{clientOrderId:c,invalidIdOk:l}});return new r.TransactionInstruction({keys:d,data:f,programId:e})},t.makeCancelAllPerpOrdersInstruction=function(e,t,n,o,s,a,u,c,l=!0){const d=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:l,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u}],f=(0,i.encodeMangoInstruction)({CancelAllPerpOrders:{limit:c}});return new r.TransactionInstruction({keys:d,data:f,programId:e})},t.makeDepositInstruction=function(e,t,n,s,a,u,c,l,d,f){const p=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!0,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},{isSigner:!1,isWritable:!0,pubkey:d}],h=(0,i.encodeMangoInstruction)({Deposit:{quantity:f}});return new r.TransactionInstruction({keys:p,data:h,programId:e})},t.makeCacheRootBankInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},...o.map((e=>({isSigner:!1,isWritable:!0,pubkey:e})))],a=(0,i.encodeMangoInstruction)({CacheRootBanks:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeCachePricesInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},...o.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],a=(0,i.encodeMangoInstruction)({CachePrices:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeCachePerpMarketInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},...o.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],a=(0,i.encodeMangoInstruction)({CachePerpMarkets:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeAddSpotMarketInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p,h,m,g,y){const b=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!0,isWritable:!1,pubkey:d}],w=(0,i.encodeMangoInstruction)({AddSpotMarket:{maintLeverage:f,initLeverage:p,liquidationFee:h,optimalUtil:m,optimalRate:g,maxRate:y}});return new r.TransactionInstruction({keys:b,data:w,programId:e})},t.makeInitSpotOpenOrdersInstruction=function(e,t,n,o,s,a,u,c){const l=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:r.SYSVAR_RENT_PUBKEY}],d=(0,i.encodeMangoInstruction)({InitSpotOpenOrders:{}});return new r.TransactionInstruction({keys:l,data:d,programId:e})},t.makeCreateSpotOpenOrdersInstruction=function(e,t,n,o,s,a,u,c){const l=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId}],d=(0,i.encodeMangoInstruction)({CreateSpotOpenOrders:{}});return new r.TransactionInstruction({keys:l,data:d,programId:e})},t.makePlaceSpotOrderInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y,b,w,v,S,A,k,_,M,I,E,P,T,O,x,B){const L=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!0,pubkey:p},{isSigner:!1,isWritable:!0,pubkey:h},{isSigner:!1,isWritable:!0,pubkey:m},{isSigner:!1,isWritable:!1,pubkey:g},{isSigner:!1,isWritable:!0,pubkey:y},{isSigner:!1,isWritable:!0,pubkey:b},{isSigner:!1,isWritable:!1,pubkey:w},{isSigner:!1,isWritable:!0,pubkey:v},{isSigner:!1,isWritable:!0,pubkey:S},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},{isSigner:!1,isWritable:!1,pubkey:A},{isSigner:!1,isWritable:!1,pubkey:r.SYSVAR_RENT_PUBKEY},{isSigner:!1,isWritable:!1,pubkey:k},{isSigner:!1,isWritable:!1,pubkey:_},...M.map((({pubkey:e,isWritable:t})=>({isSigner:!1,isWritable:t,pubkey:e})))],C=(0,i.encodeMangoInstruction)({PlaceSpotOrder:{side:I,limitPrice:E,maxBaseQuantity:P,maxQuoteQuantity:T,selfTradeBehavior:O,orderType:x,clientId:B,limit:65535}});return new r.TransactionInstruction({keys:L,data:C,programId:e})},t.makePlaceSpotOrder2Instruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y,b,w,v,S,A,k,_,M,I,E,P,T,O,x,B){const L=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!0,pubkey:p},{isSigner:!1,isWritable:!0,pubkey:h},{isSigner:!1,isWritable:!0,pubkey:m},{isSigner:!1,isWritable:!1,pubkey:g},{isSigner:!1,isWritable:!0,pubkey:y},{isSigner:!1,isWritable:!0,pubkey:b},{isSigner:!1,isWritable:!1,pubkey:w},{isSigner:!1,isWritable:!0,pubkey:v},{isSigner:!1,isWritable:!0,pubkey:S},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},{isSigner:!1,isWritable:!1,pubkey:A},{isSigner:!1,isWritable:!1,pubkey:k},{isSigner:!1,isWritable:!1,pubkey:_},...M.map((({pubkey:e,isWritable:t})=>({isSigner:!1,isWritable:t,pubkey:e})))],C=(0,i.encodeMangoInstruction)({PlaceSpotOrder2:{side:I,limitPrice:E,maxBaseQuantity:P,maxQuoteQuantity:T,selfTradeBehavior:O,orderType:x,clientOrderId:B,limit:65535}});return new r.TransactionInstruction({keys:L,data:C,programId:e})},t.makeUpdateRootBankInstruction=function(e,t,n,o,s){const a=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},...s.map((e=>({isSigner:!1,isWritable:!0,pubkey:e})))],u=(0,i.encodeMangoInstruction)({UpdateRootBank:{}});return new r.TransactionInstruction({keys:a,data:u,programId:e})},t.makeAddOracleInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o}],a=(0,i.encodeMangoInstruction)({AddOracle:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeSetOracleInstruction=function(e,t,n,o,s){const a=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o}],u=(0,i.encodeMangoInstruction)({SetOracle:{price:s}});return new r.TransactionInstruction({keys:a,data:u,programId:e})},t.makeAddPerpMarketInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p,h,m,g,y,b,w,v,S,A){const k=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!0,isWritable:!1,pubkey:l}],_=(0,i.encodeMangoInstruction)({AddPerpMarket:{maintLeverage:d,initLeverage:f,liquidationFee:p,makerFee:h,takerFee:m,baseLotSize:g,quoteLotSize:y,rate:b,maxDepthBps:w,targetPeriodLength:v,mngoPerPeriod:S,exp:A}});return new r.TransactionInstruction({keys:k,data:_,programId:e})},t.makeCreatePerpMarketInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y,b,w,v,S,A,k,_,M,I,E,P){const T=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!0,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!0,pubkey:p},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},{isSigner:!1,isWritable:!1,pubkey:r.SYSVAR_RENT_PUBKEY}],O=(0,i.encodeMangoInstruction)({CreatePerpMarket:{maintLeverage:h,initLeverage:m,liquidationFee:g,makerFee:y,takerFee:b,baseLotSize:w,quoteLotSize:v,rate:S,maxDepthBps:A,targetPeriodLength:k,mngoPerPeriod:_,exp:M,version:I,lmSizeShift:E,baseDecimals:P}});return new r.TransactionInstruction({keys:T,data:O,programId:e})},t.makeCachePerpMarketsInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},...o.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],a=(0,i.encodeMangoInstruction)({CachePerpMarkets:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeSettlePnlInstruction=function(e,t,n,o,s,a,u,c){const l=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u}],d=(0,i.encodeMangoInstruction)({SettlePnl:{marketIndex:c}});return new r.TransactionInstruction({keys:l,data:d,programId:e})},t.makeConsumeEventsInstruction=function(e,t,n,o,s,a,u){const c=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},...a.sort().map((e=>({isSigner:!1,isWritable:!0,pubkey:e})))],l=(0,i.encodeMangoInstruction)({ConsumeEvents:{limit:u}});return new r.TransactionInstruction({keys:c,data:l,programId:e})},t.makePlacePerpOrderInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p,h,m,g,y,b){const w=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},...d.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))];void 0!==b&&w.push({isSigner:!1,isWritable:!0,pubkey:b});const v=(0,i.encodeMangoInstruction)({PlacePerpOrder:{price:f,quantity:p,clientOrderId:h,side:m,orderType:g,reduceOnly:y||!1}});return new r.TransactionInstruction({keys:w,data:v,programId:e})},t.makePlacePerpOrder2Instruction=function(e,t,n,o,s,u,c,l,d,f,p,h,m,g,y,b,w,v,S,A,k){const _=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:S||n},...f.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))];void 0!==S&&_.push({isSigner:!1,isWritable:!0,pubkey:S});const M=(0,i.encodeMangoInstruction)({PlacePerpOrder2:{price:p,maxBaseQuantity:h,maxQuoteQuantity:m,clientOrderId:g,expiryTimestamp:A||a.ZERO_BN,side:y,orderType:w,reduceOnly:v||!1,limit:b,expiryType:k}});return new r.TransactionInstruction({keys:_,data:M,programId:e})},t.makeUpdateFundingInstruction=function(e,t,n,o,s,a){const u=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a}],c=(0,i.encodeMangoInstruction)({UpdateFunding:{}});return new r.TransactionInstruction({keys:u,data:c,programId:e})},t.makeForceCancelSpotOrdersInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y,b,w,v,S,A,k){const _=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!0,pubkey:p},{isSigner:!1,isWritable:!0,pubkey:h},{isSigner:!1,isWritable:!0,pubkey:m},{isSigner:!1,isWritable:!1,pubkey:g},{isSigner:!1,isWritable:!0,pubkey:y},{isSigner:!1,isWritable:!0,pubkey:b},{isSigner:!1,isWritable:!0,pubkey:w},{isSigner:!1,isWritable:!1,pubkey:v},{isSigner:!1,isWritable:!1,pubkey:S},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},...A.map((({pubkey:e,isWritable:t})=>({isSigner:!1,isWritable:t,pubkey:e})))],M=(0,i.encodeMangoInstruction)({ForceCancelSpotOrders:{limit:k}});return new r.TransactionInstruction({keys:_,data:M,programId:e})},t.makeForceCancelPerpOrdersInstruction=function(e,t,n,o,s,a,u,c,l){const d=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},...c.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],f=(0,i.encodeMangoInstruction)({ForceCancelPerpOrders:{limit:l}});return new r.TransactionInstruction({keys:d,data:f,programId:e})},t.makeLiquidateTokenAndTokenInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p,h){const m=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!0,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},...f.map((e=>({isSigner:!1,isWritable:!1,pubkey:e}))),...p.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],g=(0,i.encodeMangoInstruction)({LiquidateTokenAndToken:{maxLiabTransfer:h}});return new r.TransactionInstruction({keys:m,data:g,programId:e})},t.makeLiquidateTokenAndPerpInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p,h,m,g){const y=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!0,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},...l.map((e=>({isSigner:!1,isWritable:!1,pubkey:e}))),...d.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],b=(0,i.encodeMangoInstruction)({LiquidateTokenAndPerp:{assetType:f,assetIndex:p,liabType:h,liabIndex:m,maxLiabTransfer:g}});return new r.TransactionInstruction({keys:y,data:b,programId:e})},t.makeLiquidatePerpMarketInstruction=function(e,t,n,o,s,a,u,c,l,d,f){const p=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!0,isWritable:!1,pubkey:c},...l.map((e=>({isSigner:!1,isWritable:!1,pubkey:e}))),...d.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],h=(0,i.encodeMangoInstruction)({LiquidatePerpMarket:{baseTransferRequest:f}});return new r.TransactionInstruction({keys:p,data:h,programId:e})},t.makeSettleFeesInstruction=function(e,t,n,s,a,u,c,l,d,f){const p=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!1,pubkey:f},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID}],h=(0,i.encodeMangoInstruction)({SettleFees:{}});return new r.TransactionInstruction({keys:p,data:h,programId:e})},t.makeResolvePerpBankruptcyInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y){const b=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!0,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!1,pubkey:p},{isSigner:!1,isWritable:!0,pubkey:h},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},...m.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],w=(0,i.encodeMangoInstruction)({ResolvePerpBankruptcy:{liabIndex:g,maxLiabTransfer:y}});return new r.TransactionInstruction({keys:b,data:w,programId:e})},t.makeResolveTokenBankruptcyInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y,b){const w=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!0,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!1,pubkey:p},{isSigner:!1,isWritable:!0,pubkey:h},{isSigner:!1,isWritable:!0,pubkey:m},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},...g.map((e=>({isSigner:!1,isWritable:!1,pubkey:e}))),...y.map((e=>({isSigner:!1,isWritable:!0,pubkey:e})))],v=(0,i.encodeMangoInstruction)({ResolveTokenBankruptcy:{maxLiabTransfer:b}});return new r.TransactionInstruction({keys:w,data:v,programId:e})},t.makeRedeemMngoInstruction=function(e,t,n,s,a,u,c,l,d,f,p){const h=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!0,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!1,pubkey:p},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID}],m=(0,i.encodeMangoInstruction)({RedeemMngo:{}});return new r.TransactionInstruction({keys:h,data:m,programId:e})},t.makeAddMangoAccountInfoInstruction=function(e,t,n,o,s){const a=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o}],u=Buffer.from(s);if(u.length>i.INFO_LEN)throw new Error("info string too long. Must be less than or equal to 32 bytes");const c=new Uint8Array(u,0,i.INFO_LEN),l=(0,i.encodeMangoInstruction)({AddMangoAccountInfo:{info:c}});return new r.TransactionInstruction({keys:a,data:l,programId:e})},t.makeDepositMsrmInstruction=function(e,t,n,s,a,u,c){const l=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID}],d=(0,i.encodeMangoInstruction)({DepositMsrm:{quantity:c}});return new r.TransactionInstruction({keys:l,data:d,programId:e})},t.makeWithdrawMsrmInstruction=function(e,t,n,s,a,u,c,l){const d=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID}],f=(0,i.encodeMangoInstruction)({WithdrawMsrm:{quantity:l}});return new r.TransactionInstruction({keys:d,data:f,programId:e})},t.makeChangePerpMarketParamsInstruction=function(e,t,n,o,u,c,l,d,f,p,h,m,g,y){const b=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o}],w=(0,i.encodeMangoInstruction)({ChangePerpMarketParams:{maintLeverageOption:void 0!==u,maintLeverage:void 0!==u?u:s.ZERO_I80F48,initLeverageOption:void 0!==c,initLeverage:void 0!==c?c:s.ZERO_I80F48,liquidationFeeOption:void 0!==l,liquidationFee:void 0!==l?l:s.ZERO_I80F48,makerFeeOption:void 0!==d,makerFee:void 0!==d?d:s.ZERO_I80F48,takerFeeOption:void 0!==f,takerFee:void 0!==f?f:s.ZERO_I80F48,rateOption:void 0!==p,rate:void 0!==p?p:s.ZERO_I80F48,maxDepthBpsOption:void 0!==h,maxDepthBps:void 0!==h?h:s.ZERO_I80F48,targetPeriodLengthOption:void 0!==m,targetPeriodLength:void 0!==m?m:a.ZERO_BN,mngoPerPeriodOption:void 0!==g,mngoPerPeriod:void 0!==g?g:a.ZERO_BN,expOption:void 0!==y,exp:void 0!==y?y:a.ZERO_BN}});return new r.TransactionInstruction({keys:b,data:w,programId:e})},t.makeChangePerpMarketParams2Instruction=function(e,t,n,o,u,c,l,d,f,p,h,m,g,y,b,w){const v=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o}],S=(0,i.encodeMangoInstruction)({ChangePerpMarketParams2:{maintLeverageOption:void 0!==u,maintLeverage:void 0!==u?u:s.ZERO_I80F48,initLeverageOption:void 0!==c,initLeverage:void 0!==c?c:s.ZERO_I80F48,liquidationFeeOption:void 0!==l,liquidationFee:void 0!==l?l:s.ZERO_I80F48,makerFeeOption:void 0!==d,makerFee:void 0!==d?d:s.ZERO_I80F48,takerFeeOption:void 0!==f,takerFee:void 0!==f?f:s.ZERO_I80F48,rateOption:void 0!==p,rate:void 0!==p?p:s.ZERO_I80F48,maxDepthBpsOption:void 0!==h,maxDepthBps:void 0!==h?h:s.ZERO_I80F48,targetPeriodLengthOption:void 0!==m,targetPeriodLength:void 0!==m?m:a.ZERO_BN,mngoPerPeriodOption:void 0!==g,mngoPerPeriod:void 0!==g?g:a.ZERO_BN,expOption:void 0!==y,exp:void 0!==y?y:a.ZERO_BN,versionOption:void 0!==b,version:void 0!==b?b:a.ZERO_BN,lmSizeShiftOption:void 0!==w,lmSizeShift:void 0!==w?w:a.ZERO_BN}});return new r.TransactionInstruction({keys:v,data:S,programId:e})},t.makeSetGroupAdminInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o}],a=(0,i.encodeMangoInstruction)({SetGroupAdmin:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeRemoveAdvancedOrderInstruction=function(e,t,n,o,s,a){const u=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId}],c=(0,i.encodeMangoInstruction)({RemoveAdvancedOrder:{orderIndex:a}});return new r.TransactionInstruction({keys:u,data:c,programId:e})},t.makeInitAdvancedOrdersInstruction=function(e,t,n,o,s){const a=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId}],u=(0,i.encodeMangoInstruction)({InitAdvancedOrders:{}});return new r.TransactionInstruction({keys:a,data:u,programId:e})},t.makeAddPerpTriggerOrderInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p,h,m,g,y){const b=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId},...c.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],w=(0,i.encodeMangoInstruction)({AddPerpTriggerOrder:{price:f,quantity:p,clientOrderId:y,side:d,orderType:l,triggerCondition:h,triggerPrice:m,reduceOnly:g}});return new r.TransactionInstruction({keys:b,data:w,programId:e})},t.makeExecutePerpTriggerOrderInstruction=function(e,t,n,o,s,a,u,c,l,d,f,p){const h=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!0,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},...f.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],m=(0,i.encodeMangoInstruction)({ExecutePerpTriggerOrder:{orderIndex:p}});return new r.TransactionInstruction({keys:h,data:m,programId:e})},t.makeCloseMangoAccountInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!0,pubkey:o}],a=(0,i.encodeMangoInstruction)({CloseMangoAccount:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeCloseSpotOpenOrdersInstruction=function(e,t,n,o,s,a,u,c,l=!0){const d=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:l,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c}],f=(0,i.encodeMangoInstruction)({CloseSpotOpenOrders:{}});return new r.TransactionInstruction({keys:d,data:f,programId:e})},t.makeCloseAdvancedOrdersInstruction=function(e,t,n,o,s){const a=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s}],u=(0,i.encodeMangoInstruction)({CloseAdvancedOrders:{}});return new r.TransactionInstruction({keys:a,data:u,programId:e})},t.makeCreateDustAccountInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId}],a=(0,i.encodeMangoInstruction)({CreateDustAccount:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeResolveDustInstruction=function(e,t,n,o,s,a,u,c){const l=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c}],d=(0,i.encodeMangoInstruction)({ResolveDust:{}});return new r.TransactionInstruction({keys:l,data:d,programId:e})},t.makeUpdateMarginBasketInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},...o.map((e=>({isSigner:!1,isWritable:!0,pubkey:e})))],a=(0,i.encodeMangoInstruction)({UpdateMarginBasket:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeCreateMangoAccountInstruction=function(e,t,n,o,s,a){const u=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId},{isSigner:!0,isWritable:!0,pubkey:a}],c=(0,i.encodeMangoInstruction)({CreateMangoAccount:{accountNum:s}});return new r.TransactionInstruction({keys:u,data:c,programId:e})},t.makeUpgradeMangoAccountV0V1Instruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o}],a=(0,i.encodeMangoInstruction)({UpgradeMangoAccountV0V1:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeChangeMaxMangoAccountsInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!0,isWritable:!1,pubkey:n}],a=(0,i.encodeMangoInstruction)({ChangeMaxMangoAccounts:{maxMangoAccounts:o}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeCancelPerpOrdersSideInstruction=function(e,t,n,o,s,a,u,c,l){const d=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u}],f=(0,i.encodeMangoInstruction)({CancelPerpOrdersSide:{side:c,limit:l}});return new r.TransactionInstruction({keys:d,data:f,programId:e})},t.makeSetDelegateInstruction=function(e,t,n,o,s){const a=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s}],u=(0,i.encodeMangoInstruction)({SetDelegate:{}});return new r.TransactionInstruction({keys:a,data:u,programId:e})},t.makeChangeSpotMarketParamsInstruction=function(e,t,n,o,u,c,l,d,f,p,h,m){const g=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!0,isWritable:!1,pubkey:u}],y=(0,i.encodeMangoInstruction)({ChangeSpotMarketParams:{maintLeverageOption:void 0!==c,maintLeverage:null!=c?c:s.ZERO_I80F48,initLeverageOption:void 0!==l,initLeverage:null!=l?l:s.ZERO_I80F48,liquidationFeeOption:void 0!==d,liquidationFee:null!=d?d:s.ZERO_I80F48,optimalUtilOption:void 0!==f,optimalUtil:null!=f?f:s.ZERO_I80F48,optimalRateOption:void 0!==p,optimalRate:null!=p?p:s.ZERO_I80F48,maxRateOption:void 0!==h,maxRate:null!=h?h:s.ZERO_I80F48,versionOption:void 0!==m,version:null!=m?m:a.ZERO_BN}});return new r.TransactionInstruction({keys:g,data:y,programId:e})},t.makeChangeReferralFeeParamsInstruction=function(e,t,n,o,s,a){const u=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!0,isWritable:!1,pubkey:n}],c=(0,i.encodeMangoInstruction)({ChangeReferralFeeParams:{refSurchargeCentibps:o,refShareCentibps:s,refMngoRequired:a}});return new r.TransactionInstruction({keys:u,data:c,programId:e})},t.makeChangeReferralFeeParams2Instruction=function(e,t,n,o,s,a,u,c,l){const d=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!0,isWritable:!1,pubkey:n}],f=(0,i.encodeMangoInstruction)({ChangeReferralFeeParams2:{refSurchargeCentibpsTier1:o,refShareCentibpsTier1:s,refSurchargeCentibpsTier2:a,refShareCentibpsTier2:u,refMngoRequired:c,refMngoTier2Factor:l}});return new r.TransactionInstruction({keys:d,data:f,programId:e})},t.makeSetReferrerMemoryInstruction=function(e,t,n,o,s,a,u){const c=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!0,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId}],l=(0,i.encodeMangoInstruction)({SetReferrerMemory:{}});return new r.TransactionInstruction({keys:c,data:l,programId:e})},t.makeRegisterReferrerIdInstruction=function(e,t,n,o,s,a){const u=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!0,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:r.SystemProgram.programId}],c=(0,i.encodeMangoInstruction)({RegisterReferrerId:{referrerId:a}});return new r.TransactionInstruction({keys:u,data:c,programId:e})},t.makeWithdraw2Instruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m){const g=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!1,pubkey:f},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},...p.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],y=(0,i.encodeMangoInstruction)({Withdraw2:{quantity:h,allowBorrow:m}});return new r.TransactionInstruction({keys:g,data:y,programId:e})},t.makeSetMarketModeInstruction=function(e,t,n,o,s,a){const u=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!0,isWritable:!1,pubkey:n}],c=(0,i.encodeMangoInstruction)({SetMarketMode:{marketIndex:o,marketMode:s,marketType:a}});return new r.TransactionInstruction({keys:u,data:c,programId:e})},t.makeRemovePerpMarketInstruction=function(e,t,n,s,a,u,c,l,d,f){const p=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!0,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!1,pubkey:f},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID}],h=(0,i.encodeMangoInstruction)({RemovePerpMarket:{}});return new r.TransactionInstruction({keys:p,data:h,programId:e})},t.makeSwapSpotMarketInstruction=function(e,t,n,o,s,a){const u=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!0,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!1,pubkey:a}],c=(0,i.encodeMangoInstruction)({SwapSpotMarket:{}});return new r.TransactionInstruction({keys:u,data:c,programId:e})},t.makeRemoveSpotMarketInstruction=function(e,t,n,s,a,u,c,l,d){const f=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!0,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},...l.map((e=>({isSigner:!1,isWritable:!0,pubkey:e}))),...d.map((e=>({isSigner:!1,isWritable:!0,pubkey:e})))],p=(0,i.encodeMangoInstruction)({RemoveSpotMarket:{}});return new r.TransactionInstruction({keys:f,data:p,programId:e})},t.makeRemoveOracleInstruction=function(e,t,n,o){const s=[{isSigner:!1,isWritable:!0,pubkey:t},{isSigner:!0,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:o}],a=(0,i.encodeMangoInstruction)({RemoveOracle:{}});return new r.TransactionInstruction({keys:s,data:a,programId:e})},t.makeLiquidateDelistingTokenInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y,b,w,v){const S=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a},{isSigner:!1,isWritable:!0,pubkey:u},{isSigner:!0,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:l},{isSigner:!1,isWritable:!0,pubkey:d},{isSigner:!1,isWritable:!1,pubkey:f},{isSigner:!1,isWritable:!0,pubkey:p},{isSigner:!1,isWritable:!0,pubkey:h},{isSigner:!1,isWritable:!0,pubkey:m},{isSigner:!1,isWritable:!0,pubkey:g},{isSigner:!1,isWritable:!1,pubkey:y},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID},...b.map((e=>({isSigner:!1,isWritable:!1,pubkey:e}))),...w.map((e=>({isSigner:!1,isWritable:!1,pubkey:e})))],A=(0,i.encodeMangoInstruction)({LiquidateDelistingToken:{maxLiquidateAmount:v}});return new r.TransactionInstruction({keys:S,data:A,programId:e})},t.makeForceSettlePerpPositionInstruction=function(e,t,n,o,s,a){const u=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:o},{isSigner:!1,isWritable:!1,pubkey:s},{isSigner:!1,isWritable:!0,pubkey:a}],c=(0,i.encodeMangoInstruction)({ForceSettlePerpPosition:{}});return new r.TransactionInstruction({keys:u,data:c,programId:e})},t.makeCancelAllSpotOrdersInstruction=function(e,t,n,s,a,u,c,l,d,f,p,h,m,g,y,b,w,v,S,A,k,_,M=!0){const I=[{isSigner:!1,isWritable:!1,pubkey:t},{isSigner:!1,isWritable:!1,pubkey:n},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:M,isWritable:!1,pubkey:a},{isSigner:!1,isWritable:!1,pubkey:u},{isSigner:!1,isWritable:!0,pubkey:c},{isSigner:!1,isWritable:!0,pubkey:l},{isSigner:!1,isWritable:!1,pubkey:d},{isSigner:!1,isWritable:!0,pubkey:f},{isSigner:!1,isWritable:!0,pubkey:p},{isSigner:!1,isWritable:!0,pubkey:h},{isSigner:!1,isWritable:!0,pubkey:m},{isSigner:!1,isWritable:!0,pubkey:g},{isSigner:!1,isWritable:!0,pubkey:y},{isSigner:!1,isWritable:!1,pubkey:b},{isSigner:!1,isWritable:!0,pubkey:w},{isSigner:!1,isWritable:!0,pubkey:v},{isSigner:!1,isWritable:!0,pubkey:S},{isSigner:!1,isWritable:!1,pubkey:A},{isSigner:!1,isWritable:!1,pubkey:k},{isSigner:!1,isWritable:!1,pubkey:o.TOKEN_PROGRAM_ID}],E=(0,i.encodeMangoInstruction)({CancelAllSpotOrders:{limit:_}});return new r.TransactionInstruction({keys:I,data:E,programId:e})}},5380:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.liquidityMiningInfoLayout=t.LiquidityMiningInfoLayout=t.StubOracleLayout=t.NodeBankLayout=t.RootBankLayout=t.MangoAccountLayout=t.MangoGroupLayout=t.perpAccountLayout=t.PerpAccountLayout=t.perpMarketInfoLayout=t.PerpMarketInfoLayout=t.PerpMarketInfo=t.spotMarketInfoLayout=t.SpotMarketInfoLayout=t.SpotMarketInfo=t.tokenInfoLayout=t.TokenInfoLayout=t.TokenInfo=t.metaDataLayout=t.MetaDataLayout=t.MetaData=t.AdvancedOrderType=t.MarketMode=t.AssetType=t.DataType=t.publicKeyLayout=t.PublicKeyLayout=t.encodeMangoInstruction=t.MangoInstructionLayout=t.expiryTypeLayout=t.advancedOrderTypeLayout=t.triggerConditionLayout=t.selfTradeBehaviorLayout=t.orderTypeLayout=t.sideLayout=t.bool=t.i128=t.u128=t.i64=t.u64=t.I80F48Layout=t.CENTIBPS_PER_UNIT=t.FREE_ORDER_SLOT=t.MAX_PERP_OPEN_ORDERS=t.MAX_NUM_IN_MARGIN_BASKET=t.QUOTE_INDEX=t.INFO_LEN=t.MAX_NODE_BANKS=t.MAX_PAIRS=t.MAX_TOKENS=void 0,t.ReferrerIdRecordLayout=t.ReferrerIdRecord=t.ReferrerMemoryLayout=t.ReferrerMemory=t.AdvancedOrdersLayout=t.TokenAccountLayout=t.NodeBank=t.MangoCache=t.MangoCacheLayout=t.perpMarketCacheLayout=t.PerpMarketCacheLayout=t.PerpMarketCache=t.rootBankCacheLayout=t.RootBankCacheLayout=t.RootBankCache=t.priceCacheLayout=t.PriceCacheLayout=t.PriceCache=t.BookSideLayout=t.PerpEventQueueLayout=t.PerpEventQueueHeaderLayout=t.PerpEventLayout=t.PerpMarketLayout=void 0;const i=n(4104),o=n(9990),s=n(8191),a=r(n(9098)),u=n(7614),c=r(n(198));t.MAX_TOKENS=16,t.MAX_PAIRS=t.MAX_TOKENS-1,t.MAX_NODE_BANKS=8,t.INFO_LEN=32,t.QUOTE_INDEX=t.MAX_TOKENS-1,t.MAX_NUM_IN_MARGIN_BASKET=9,t.MAX_PERP_OPEN_ORDERS=64,t.FREE_ORDER_SLOT=255,t.CENTIBPS_PER_UNIT=1e6;class l extends i.Blob{constructor(e){super(16,e)}decode(e,t){let n=new a.default(super.decode(e,t),10,"le");return n=n.fromTwos(8*this.length),new s.I80F48(n)}encode(e,t,n){return e=e.toTwos(8*this.length),super.encode(e.toArrayLike(Buffer,"le",this.span),t,n)}}function d(e=""){return new l(e)}t.I80F48Layout=d;class f extends i.Blob{constructor(e,t,n=!1){super(e,t),this.signed=n,Object.setPrototypeOf(this,new.target.prototype)}decode(e,t){let n=new a.default(super.decode(e,t),10,"le");return this.signed&&(n=n.fromTwos(8*this.length)),n}encode(e,t,n){return this.signed&&(e=e.toTwos(8*this.length)),super.encode(e.toArrayLike(Buffer,"le",this.span),t,n)}}function p(e=""){return new f(8,e)}function h(e=""){return new f(8,e,!0)}function m(e){return new f(16,e)}function g(e){return new f(16,e,!0)}t.u64=p,t.i64=h,t.u128=m,t.i128=g;class y extends i.Layout{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function b(e){return new y((0,i.u8)(),w,v,e)}function w(e){return 0!==e}function v(e){return e?1:0}t.bool=b;class S extends i.UInt{constructor(e,t,n){super(t,n),this.values=e}encode(e,t,n){if(void 0!==this.values[e])return super.encode(this.values[e],t,n);throw new Error("Invalid "+this.property)}decode(e,t){const n=super.decode(e,t),r=Object.entries(this.values).find((([,e])=>e===n));if(r)return r[0];throw new Error("Invalid "+this.property)}}function A(e,t){return new S({buy:0,sell:1},e,t)}function k(e,t){return new S({limit:0,ioc:1,postOnly:2,market:3,postOnlySlide:4},t,e)}function _(e,t){return new S({decrementTake:0,cancelProvide:1,abortTransaction:2},t,e)}function M(e,t){return new S({above:0,below:1},t,e)}function I(e,t){return new S({absolute:0,relative:1},t,e)}t.sideLayout=A,t.orderTypeLayout=k,t.selfTradeBehaviorLayout=_,t.triggerConditionLayout=M,t.advancedOrderTypeLayout=function(e,t){return new S({perpTrigger:0,spotTrigger:1},t,e)},t.expiryTypeLayout=I;class E extends i.Union{constructor(e,t,n){super(e,t,n)}decode(e,t){void 0===t&&(t=0);const n=this.discriminator.decode(e,t);return 11===n&&144===e.length||12===n&&30===e.length?e=Buffer.concat([e,Buffer.from([0])]):37===n&&141===e.length&&(e=Buffer.concat([e,Buffer.from([0,0])])),super.decode(e,t)}addVariant(e,t,n){return super.addVariant(e,t,n)}}t.MangoInstructionLayout=new E((0,i.u32)("instruction")),t.MangoInstructionLayout.addVariant(0,(0,i.struct)([p("signerNonce"),p("validInterval"),d("quoteOptimalUtil"),d("quoteOptimalRate"),d("quoteMaxRate")]),"InitMangoGroup"),t.MangoInstructionLayout.addVariant(1,(0,i.struct)([]),"InitMangoAccount"),t.MangoInstructionLayout.addVariant(2,(0,i.struct)([p("quantity")]),"Deposit"),t.MangoInstructionLayout.addVariant(3,(0,i.struct)([p("quantity"),(0,i.u8)("allowBorrow")]),"Withdraw"),t.MangoInstructionLayout.addVariant(4,(0,i.struct)([d("maintLeverage"),d("initLeverage"),d("liquidationFee"),d("optimalUtil"),d("optimalRate"),d("maxRate")]),"AddSpotMarket"),t.MangoInstructionLayout.addVariant(5,(0,i.struct)([p("marketIndex")]),"AddToBasket"),t.MangoInstructionLayout.addVariant(6,(0,i.struct)([p("quantity")]),"Borrow"),t.MangoInstructionLayout.addVariant(7,(0,i.struct)([]),"CachePrices"),t.MangoInstructionLayout.addVariant(8,(0,i.struct)([]),"CacheRootBanks"),t.MangoInstructionLayout.addVariant(9,(0,i.struct)([A(4,"side"),p("limitPrice"),p("maxBaseQuantity"),p("maxQuoteQuantity"),_("selfTradeBehavior",4),k("orderType",4),p("clientId"),(0,i.u16)("limit")]),"PlaceSpotOrder"),t.MangoInstructionLayout.addVariant(10,(0,i.struct)([]),"AddOracle"),t.MangoInstructionLayout.addVariant(11,(0,i.struct)([d("maintLeverage"),d("initLeverage"),d("liquidationFee"),d("makerFee"),d("takerFee"),h("baseLotSize"),h("quoteLotSize"),d("rate"),d("maxDepthBps"),p("targetPeriodLength"),p("mngoPerPeriod"),(0,i.u8)("exp")]),"AddPerpMarket"),t.MangoInstructionLayout.addVariant(12,(0,i.struct)([h("price"),h("quantity"),p("clientOrderId"),A(1,"side"),k("orderType",1),b("reduceOnly")]),"PlacePerpOrder"),t.MangoInstructionLayout.addVariant(13,(0,i.struct)([p("clientOrderId"),b("invalidIdOk")]),"CancelPerpOrderByClientId"),t.MangoInstructionLayout.addVariant(14,(0,i.struct)([g("orderId"),b("invalidIdOk")]),"CancelPerpOrder"),t.MangoInstructionLayout.addVariant(15,(0,i.struct)([p("limit")]),"ConsumeEvents"),t.MangoInstructionLayout.addVariant(16,(0,i.struct)([]),"CachePerpMarkets"),t.MangoInstructionLayout.addVariant(17,(0,i.struct)([]),"UpdateFunding"),t.MangoInstructionLayout.addVariant(18,(0,i.struct)([d("price")]),"SetOracle"),t.MangoInstructionLayout.addVariant(19,(0,i.struct)([]),"SettleFunds"),t.MangoInstructionLayout.addVariant(20,(0,i.struct)([A(4,"side"),m("orderId")]),"CancelSpotOrder"),t.MangoInstructionLayout.addVariant(21,(0,i.struct)([]),"UpdateRootBank"),t.MangoInstructionLayout.addVariant(22,(0,i.struct)([p("marketIndex")]),"SettlePnl"),t.MangoInstructionLayout.addVariant(23,(0,i.struct)([p("tokenIndex"),p("quantity")]),"SettleBorrow"),t.MangoInstructionLayout.addVariant(24,(0,i.struct)([(0,i.u8)("limit")]),"ForceCancelSpotOrders"),t.MangoInstructionLayout.addVariant(25,(0,i.struct)([(0,i.u8)("limit")]),"ForceCancelPerpOrders"),t.MangoInstructionLayout.addVariant(26,(0,i.struct)([d("maxLiabTransfer")]),"LiquidateTokenAndToken"),t.MangoInstructionLayout.addVariant(27,(0,i.struct)([(0,i.u8)("assetType"),p("assetIndex"),(0,i.u8)("liabType"),p("liabIndex"),d("maxLiabTransfer")]),"LiquidateTokenAndPerp"),t.MangoInstructionLayout.addVariant(28,(0,i.struct)([h("baseTransferRequest")]),"LiquidatePerpMarket"),t.MangoInstructionLayout.addVariant(29,(0,i.struct)([]),"SettleFees"),t.MangoInstructionLayout.addVariant(30,(0,i.struct)([p("liabIndex"),d("maxLiabTransfer")]),"ResolvePerpBankruptcy"),t.MangoInstructionLayout.addVariant(31,(0,i.struct)([d("maxLiabTransfer")]),"ResolveTokenBankruptcy"),t.MangoInstructionLayout.addVariant(32,(0,i.struct)([]),"InitSpotOpenOrders"),t.MangoInstructionLayout.addVariant(33,(0,i.struct)([]),"RedeemMngo"),t.MangoInstructionLayout.addVariant(34,(0,i.struct)([(0,i.seq)((0,i.u8)(),t.INFO_LEN,"info")]),"AddMangoAccountInfo"),t.MangoInstructionLayout.addVariant(35,(0,i.struct)([p("quantity")]),"DepositMsrm"),t.MangoInstructionLayout.addVariant(36,(0,i.struct)([p("quantity")]),"WithdrawMsrm"),t.MangoInstructionLayout.addVariant(37,(0,i.struct)([b("maintLeverageOption"),d("maintLeverage"),b("initLeverageOption"),d("initLeverage"),b("liquidationFeeOption"),d("liquidationFee"),b("makerFeeOption"),d("makerFee"),b("takerFeeOption"),d("takerFee"),b("rateOption"),d("rate"),b("maxDepthBpsOption"),d("maxDepthBps"),b("targetPeriodLengthOption"),p("targetPeriodLength"),b("mngoPerPeriodOption"),p("mngoPerPeriod"),b("expOption"),(0,i.u8)("exp")]),"ChangePerpMarketParams"),t.MangoInstructionLayout.addVariant(38,(0,i.struct)([]),"SetGroupAdmin"),t.MangoInstructionLayout.addVariant(39,(0,i.struct)([(0,i.u8)("limit")]),"CancelAllPerpOrders"),t.MangoInstructionLayout.addVariant(41,(0,i.struct)([A(4,"side"),p("limitPrice"),p("maxBaseQuantity"),p("maxQuoteQuantity"),_("selfTradeBehavior",4),k("orderType",4),p("clientOrderId"),(0,i.u16)("limit")]),"PlaceSpotOrder2"),t.MangoInstructionLayout.addVariant(42,(0,i.struct)([]),"InitAdvancedOrders"),t.MangoInstructionLayout.addVariant(43,(0,i.struct)([k("orderType",1),A(1,"side"),M("triggerCondition",1),b("reduceOnly"),p("clientOrderId"),h("price"),h("quantity"),d("triggerPrice")]),"AddPerpTriggerOrder"),t.MangoInstructionLayout.addVariant(44,(0,i.struct)([(0,i.u8)("orderIndex")]),"RemoveAdvancedOrder"),t.MangoInstructionLayout.addVariant(45,(0,i.struct)([(0,i.u8)("orderIndex")]),"ExecutePerpTriggerOrder"),t.MangoInstructionLayout.addVariant(46,(0,i.struct)([d("maintLeverage"),d("initLeverage"),d("liquidationFee"),d("makerFee"),d("takerFee"),h("baseLotSize"),h("quoteLotSize"),d("rate"),d("maxDepthBps"),p("targetPeriodLength"),p("mngoPerPeriod"),(0,i.u8)("exp"),(0,i.u8)("version"),(0,i.u8)("lmSizeShift"),(0,i.u8)("baseDecimals")]),"CreatePerpMarket"),t.MangoInstructionLayout.addVariant(47,(0,i.struct)([b("maintLeverageOption"),d("maintLeverage"),b("initLeverageOption"),d("initLeverage"),b("liquidationFeeOption"),d("liquidationFee"),b("makerFeeOption"),d("makerFee"),b("takerFeeOption"),d("takerFee"),b("rateOption"),d("rate"),b("maxDepthBpsOption"),d("maxDepthBps"),b("targetPeriodLengthOption"),p("targetPeriodLength"),b("mngoPerPeriodOption"),p("mngoPerPeriod"),b("expOption"),(0,i.u8)("exp"),b("versionOption"),(0,i.u8)("version"),b("lmSizeShiftOption"),(0,i.u8)("lmSizeShift")]),"ChangePerpMarketParams2"),t.MangoInstructionLayout.addVariant(48,(0,i.struct)([]),"UpdateMarginBasket"),t.MangoInstructionLayout.addVariant(49,(0,i.struct)([(0,i.u32)("maxMangoAccounts")]),"ChangeMaxMangoAccounts"),t.MangoInstructionLayout.addVariant(50,(0,i.struct)([]),"CloseMangoAccount"),t.MangoInstructionLayout.addVariant(51,(0,i.struct)([]),"CloseSpotOpenOrders"),t.MangoInstructionLayout.addVariant(52,(0,i.struct)([]),"CloseAdvancedOrders"),t.MangoInstructionLayout.addVariant(53,(0,i.struct)([]),"CreateDustAccount"),t.MangoInstructionLayout.addVariant(54,(0,i.struct)([]),"ResolveDust"),t.MangoInstructionLayout.addVariant(55,(0,i.struct)([p("accountNum")]),"CreateMangoAccount"),t.MangoInstructionLayout.addVariant(56,(0,i.struct)([]),"UpgradeMangoAccountV0V1"),t.MangoInstructionLayout.addVariant(57,(0,i.struct)([A(1,"side"),(0,i.u8)("limit")]),"CancelPerpOrdersSide"),t.MangoInstructionLayout.addVariant(58,(0,i.struct)([]),"SetDelegate"),t.MangoInstructionLayout.addVariant(59,(0,i.struct)([b("maintLeverageOption"),d("maintLeverage"),b("initLeverageOption"),d("initLeverage"),b("liquidationFeeOption"),d("liquidationFee"),b("optimalUtilOption"),d("optimalUtil"),b("optimalRateOption"),d("optimalRate"),b("maxRateOption"),d("maxRate"),b("versionOption"),(0,i.u8)("version")]),"ChangeSpotMarketParams"),t.MangoInstructionLayout.addVariant(60,(0,i.struct)([]),"CreateSpotOpenOrders"),t.MangoInstructionLayout.addVariant(61,(0,i.struct)([(0,i.u32)("refSurchargeCentibps"),(0,i.u32)("refShareCentibps"),p("refMngoRequired")]),"ChangeReferralFeeParams"),t.MangoInstructionLayout.addVariant(62,(0,i.struct)([]),"SetReferrerMemory"),t.MangoInstructionLayout.addVariant(63,(0,i.struct)([(0,i.seq)((0,i.u8)(),t.INFO_LEN,"referrerId")]),"RegisterReferrerId"),t.MangoInstructionLayout.addVariant(64,(0,i.struct)([h("price"),h("maxBaseQuantity"),h("maxQuoteQuantity"),p("clientOrderId"),p("expiryTimestamp"),A(1,"side"),k("orderType",1),b("reduceOnly"),(0,i.u8)("limit"),I("expiryType",1)]),"PlacePerpOrder2"),t.MangoInstructionLayout.addVariant(65,(0,i.struct)([(0,i.u8)("limit")]),"CancelAllSpotOrders"),t.MangoInstructionLayout.addVariant(66,(0,i.struct)([p("quantity"),(0,i.u8)("allowBorrow")]),"Withdraw2"),t.MangoInstructionLayout.addVariant(67,(0,i.struct)([p("marketIndex"),(0,i.u8)("marketMode"),(0,i.u8)("marketType")]),"SetMarketMode"),t.MangoInstructionLayout.addVariant(68,(0,i.struct)([]),"RemovePerpMarket"),t.MangoInstructionLayout.addVariant(69,(0,i.struct)([]),"SwapSpotMarket"),t.MangoInstructionLayout.addVariant(70,(0,i.struct)([]),"RemoveSpotMarket"),t.MangoInstructionLayout.addVariant(71,(0,i.struct)([]),"RemoveOracle"),t.MangoInstructionLayout.addVariant(72,(0,i.struct)([p("maxLiquidateAmount")]),"LiquidateDelistingToken"),t.MangoInstructionLayout.addVariant(73,(0,i.struct)([]),"ForceSettlePerpPosition"),t.MangoInstructionLayout.addVariant(74,(0,i.struct)([(0,i.u32)("refSurchargeCentibpsTier1"),(0,i.u32)("refShareCentibpsTier1"),(0,i.u16)("refSurchargeCentibpsTier2"),(0,i.u16)("refShareCentibpsTier2"),p("refMngoRequired"),(0,i.u8)("refMngoTier2Factor")]),"ChangeReferralFeeParams2");const P=Math.max(...Object.values(t.MangoInstructionLayout.registry).map((e=>e.span)));t.encodeMangoInstruction=function(e){const n=Buffer.alloc(P),r=t.MangoInstructionLayout.encode(e,n);return n.slice(0,r)};class T extends i.Blob{constructor(e){super(32,e)}decode(e,t){return new o.PublicKey(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function O(e=""){return new T(e)}var x,B,L;t.PublicKeyLayout=T,t.publicKeyLayout=O,t.DataType={MangoGroup:0,MangoAccount:1,RootBank:2,NodeBank:3,PerpMarket:4,Bids:5,Asks:6,MangoCache:7,EventQueue:8,AdvancedOrders:9,ReferrerMemory:10,ReferrerIdRecord:11},(L=t.AssetType||(t.AssetType={}))[L.Token=0]="Token",L[L.Perp=1]="Perp",(B=t.MarketMode||(t.MarketMode={}))[B.Default=0]="Default",B[B.Active=1]="Active",B[B.CloseOnly=2]="CloseOnly",B[B.ForceCloseOnly=3]="ForceCloseOnly",B[B.Inactive=4]="Inactive",B[B.SwappingSpotMarket=5]="SwappingSpotMarket",(x=t.AdvancedOrderType||(t.AdvancedOrderType={}))[x.PerpTrigger=0]="PerpTrigger",x[x.SpotTrigger=1]="SpotTrigger";class C{constructor(e){Object.assign(this,e)}}t.MetaData=C;class R extends i.Structure{constructor(e){super([(0,i.u8)("dataType"),(0,i.u8)("version"),(0,i.u8)("isInitialized"),(0,i.seq)((0,i.u8)(),5,"extraInfo")],e)}decode(e,t){return new C(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function N(e=""){return new R(e)}t.MetaDataLayout=R,t.metaDataLayout=N;class D{constructor(e){Object.assign(this,e)}isEmpty(){return this.mint.equals(u.zeroKey)}}t.TokenInfo=D;class F extends i.Structure{constructor(e){super([O("mint"),O("rootBank"),(0,i.u8)("decimals"),(0,i.u8)("spotMarketMode"),(0,i.u8)("perpMarketMode"),b("oracleInactive"),(0,i.seq)((0,i.u8)(),4,"padding")],e)}decode(e,t){return new D(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function K(e=""){return new F(e)}t.TokenInfoLayout=F,t.tokenInfoLayout=K;class U{constructor(e){Object.assign(this,e)}isEmpty(){return this.spotMarket.equals(u.zeroKey)}}t.SpotMarketInfo=U;class W extends i.Structure{constructor(e){super([O("spotMarket"),d("maintAssetWeight"),d("initAssetWeight"),d("maintLiabWeight"),d("initLiabWeight"),d("liquidationFee")],e)}decode(e,t){return new U(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function z(e=""){return new W(e)}t.SpotMarketInfoLayout=W,t.spotMarketInfoLayout=z;class j{constructor(e){Object.assign(this,e)}isEmpty(){return this.perpMarket.equals(u.zeroKey)}}t.PerpMarketInfo=j;class q extends i.Structure{constructor(e){super([O("perpMarket"),d("maintAssetWeight"),d("initAssetWeight"),d("maintLiabWeight"),d("initLiabWeight"),d("liquidationFee"),d("makerFee"),d("takerFee"),h("baseLotSize"),h("quoteLotSize")],e)}decode(e,t){return new j(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function V(e=""){return new q(e)}t.PerpMarketInfoLayout=q,t.perpMarketInfoLayout=V;class H extends i.Structure{constructor(e){super([h("basePosition"),d("quotePosition"),d("longSettledFunding"),d("shortSettledFunding"),h("bidsQuantity"),h("asksQuantity"),h("takerBase"),h("takerQuote"),p("mngoAccrued")],e)}decode(e,t){return new c.default(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function Q(e=""){return new H(e)}t.PerpAccountLayout=H,t.perpAccountLayout=Q,t.MangoGroupLayout=(0,i.struct)([N("metaData"),p("numOracles"),(0,i.seq)(K(),t.MAX_TOKENS,"tokens"),(0,i.seq)(z(),t.MAX_PAIRS,"spotMarkets"),(0,i.seq)(V(),t.MAX_PAIRS,"perpMarkets"),(0,i.seq)(O(),t.MAX_PAIRS,"oracles"),p("signerNonce"),O("signerKey"),O("admin"),O("dexProgramId"),O("mangoCache"),p("validInterval"),O("insuranceVault"),O("srmVault"),O("msrmVault"),O("feesVault"),(0,i.u32)("maxMangoAccounts"),(0,i.u32)("numMangoAccounts"),(0,i.u32)("refSurchargeCentibpsTier1"),(0,i.u32)("refShareCentibpsTier1"),p("refMngoRequired"),(0,i.u16)("refSurchargeCentibpsTier2"),(0,i.u16)("refShareCentibpsTier2"),(0,i.u8)("refMngoTier2Factor"),(0,i.seq)((0,i.u8)(),3,"padding")]),t.MangoAccountLayout=(0,i.struct)([N("metaData"),O("mangoGroup"),O("owner"),(0,i.seq)(b(),t.MAX_PAIRS,"inMarginBasket"),(0,i.u8)("numInMarginBasket"),(0,i.seq)(d(),t.MAX_TOKENS,"deposits"),(0,i.seq)(d(),t.MAX_TOKENS,"borrows"),(0,i.seq)(O(),t.MAX_PAIRS,"spotOpenOrders"),(0,i.seq)(Q(),t.MAX_PAIRS,"perpAccounts"),(0,i.seq)((0,i.u8)(),t.MAX_PERP_OPEN_ORDERS,"orderMarket"),(0,i.seq)(A(1),t.MAX_PERP_OPEN_ORDERS,"orderSide"),(0,i.seq)(g(),t.MAX_PERP_OPEN_ORDERS,"orders"),(0,i.seq)(p(),t.MAX_PERP_OPEN_ORDERS,"clientOrderIds"),p("msrmAmount"),b("beingLiquidated"),b("isBankrupt"),(0,i.seq)((0,i.u8)(),t.INFO_LEN,"info"),O("advancedOrdersKey"),b("notUpgradable"),O("delegate"),(0,i.seq)((0,i.u8)(),5,"padding")]),t.RootBankLayout=(0,i.struct)([N("metaData"),d("optimalUtil"),d("optimalRate"),d("maxRate"),p("numNodeBanks"),(0,i.seq)(O(),t.MAX_NODE_BANKS,"nodeBanks"),d("depositIndex"),d("borrowIndex"),p("lastUpdated"),(0,i.seq)((0,i.u8)(),64,"padding")]),t.NodeBankLayout=(0,i.struct)([N("metaData"),d("deposits"),d("borrows"),O("vault")]),t.StubOracleLayout=(0,i.struct)([(0,i.seq)((0,i.u8)(),8),d("price"),p("lastUpdate")]);class G extends i.Structure{constructor(e){super([d("rate"),d("maxDepthBps"),p("periodStart"),p("targetPeriodLength"),p("mngoLeft"),p("mngoPerPeriod")],e)}decode(e,t){return new C(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function X(e=""){return new G(e)}t.LiquidityMiningInfoLayout=G,t.liquidityMiningInfoLayout=X,t.PerpMarketLayout=(0,i.struct)([N("metaData"),O("mangoGroup"),O("bids"),O("asks"),O("eventQueue"),h("quoteLotSize"),h("baseLotSize"),d("longFunding"),d("shortFunding"),h("openInterest"),p("lastUpdated"),p("seqNum"),d("feesAccrued"),X("liquidityMiningInfo"),O("mngoVault")]),t.PerpEventLayout=(0,i.union)((0,i.u8)("eventType"),(0,i.blob)(199),"event"),t.PerpEventLayout.addVariant(0,(0,i.struct)([A(1,"takerSide"),(0,i.u8)("makerSlot"),b("makerOut"),(0,i.u8)("version"),(0,i.seq)((0,i.u8)(),3),p("timestamp"),p("seqNum"),O("maker"),g("makerOrderId"),p("makerClientOrderId"),d("makerFee"),h("bestInitial"),p("makerTimestamp"),O("taker"),g("takerOrderId"),p("takerClientOrderId"),d("takerFee"),h("price"),h("quantity")]),"fill"),t.PerpEventLayout.addVariant(1,(0,i.struct)([A(1,"side"),(0,i.u8)("slot"),(0,i.seq)((0,i.u8)(),5),p("timestamp"),p("seqNum"),O("owner"),h("quantity"),(0,i.seq)((0,i.u8)(),136,"padding")]),"out"),t.PerpEventLayout.addVariant(2,(0,i.struct)([(0,i.seq)((0,i.u8)(),7),p("timestamp"),p("seqNum"),O("liqee"),O("liqor"),d("price"),h("quantity"),d("liquidationFee"),(0,i.seq)((0,i.u8)(),72,"padding")]),"liquidate"),t.PerpEventQueueHeaderLayout=(0,i.struct)([N("metaData"),p("head"),p("count"),p("seqNum")]),t.PerpEventQueueLayout=(0,i.struct)([N("metaData"),p("head"),p("count"),p("seqNum"),(0,i.seq)(t.PerpEventLayout,(0,i.greedy)(t.PerpEventLayout.span),"events")]);const Y=(0,i.union)((0,i.u32)("tag"),(0,i.blob)(84),"node");Y.addVariant(0,(0,i.struct)([]),"uninitialized"),Y.addVariant(1,(0,i.struct)([(0,i.u32)("prefixLen"),m("key"),(0,i.seq)((0,i.u32)(),2,"children")]),"innerNode"),Y.addVariant(2,(0,i.struct)([(0,i.u8)("ownerSlot"),k("orderType",1),(0,i.u8)("version"),(0,i.u8)("timeInForce"),m("key"),O("owner"),p("quantity"),p("clientOrderId"),p("bestInitial"),p("timestamp")]),"leafNode"),Y.addVariant(3,(0,i.struct)([(0,i.u32)("next")]),"freeNode"),Y.addVariant(4,(0,i.struct)([]),"lastFreeNode"),t.BookSideLayout=(0,i.struct)([N("metaData"),(0,i.nu64)("bumpIndex"),(0,i.nu64)("freeListLen"),(0,i.u32)("freeListHead"),(0,i.u32)("rootNode"),(0,i.nu64)("leafCount"),(0,i.seq)(Y,1024,"nodes")]);class Z{constructor(e){Object.assign(this,e)}}t.PriceCache=Z;class $ extends i.Structure{constructor(e){super([d("price"),p("lastUpdate")],e)}decode(e,t){return new Z(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function J(e=""){return new $(e)}t.PriceCacheLayout=$,t.priceCacheLayout=J;class ee{constructor(e){Object.assign(this,e)}}t.RootBankCache=ee;class te extends i.Structure{constructor(e){super([d("depositIndex"),d("borrowIndex"),p("lastUpdate")],e)}decode(e,t){return new ee(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function ne(e=""){return new te(e)}t.RootBankCacheLayout=te,t.rootBankCacheLayout=ne;class re{constructor(e){Object.assign(this,e)}}t.PerpMarketCache=re;class ie extends i.Structure{constructor(e){super([d("longFunding"),d("shortFunding"),p("lastUpdate")],e)}decode(e,t){return new re(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}function oe(e=""){return new ie(e)}t.PerpMarketCacheLayout=ie,t.perpMarketCacheLayout=oe,t.MangoCacheLayout=(0,i.struct)([N("metaData"),(0,i.seq)(J(),t.MAX_PAIRS,"priceCache"),(0,i.seq)(ne(),t.MAX_TOKENS,"rootBankCache"),(0,i.seq)(oe(),t.MAX_PAIRS,"perpMarketCache")]),t.MangoCache=class{constructor(e,t){this.publicKey=e,Object.assign(this,t)}getPrice(e){return e===t.QUOTE_INDEX?s.ONE_I80F48:this.priceCache[e].price}},t.NodeBank=class{constructor(e,t){this.publicKey=e,Object.assign(this,t)}},t.TokenAccountLayout=(0,i.struct)([O("mint"),O("owner"),(0,i.nu64)("amount"),(0,i.blob)(93)]);const se=(0,i.union)((0,i.u8)("advancedOrderType"),(0,i.blob)(79),"advancedOrder");se.addVariant(0,(0,i.struct)([b("isActive"),(0,i.u8)("marketIndex"),k("orderType",1),A(1,"side"),M("triggerCondition",1),b("reduceOnly"),(0,i.seq)((0,i.u8)(),1,"padding0"),p("clientOrderId"),h("price"),h("quantity"),d("triggerPrice"),(0,i.seq)((0,i.u8)(),32,"padding1")]),"perpTrigger"),t.AdvancedOrdersLayout=(0,i.struct)([N("metaData"),(0,i.seq)(se,32,"orders")]),t.ReferrerMemory=class{constructor(e){Object.assign(this,e)}},t.ReferrerMemoryLayout=(0,i.struct)([N("metaData"),O("referrerMangoAccount")]),t.ReferrerIdRecord=class{constructor(e){Object.assign(this,e)}get referrerId(){return this.id?String.fromCharCode(...this.id).replace(new RegExp(String.fromCharCode(0),"g"),""):""}},t.ReferrerIdRecordLayout=(0,i.struct)([N("metaData"),O("referrerMangoAccount"),(0,i.seq)((0,i.u8)(),t.INFO_LEN,"id")])},6959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adapterHasSignAllTransactions=void 0,t.adapterHasSignAllTransactions=e=>!!e.signAllTransactions},8191:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NEG_ONE_I80F48=t.ZERO_I80F48=t.ONE_I80F48=t.I80F48=void 0;const i=r(n(9098)),o=r(n(5827));(0,r(n(755)).default)(o.default);class s{constructor(e){if(e.lt(s.MIN_BN)||e.gt(s.MAX_BN))throw new Error("Number out of range");this.data=e}static fromNumber(e){let t=Math.trunc(e),n=new i.default(t).iushln(48);return n.iadd(new i.default((e-t)*s.MULTIPLIER_NUMBER)),new s(n)}static fromNumberOrUndef(e){return void 0===e?void 0:s.fromNumber(e)}static fromOptionalString(e){return e?s.fromString(e):void 0}static fromString(e){const t=new o.default(e).times(s.MULTIPLIER_BIG),n=new i.default(t.round().toFixed());return new s(n)}static fromI64(e){return new s(e.ushln(48))}static fromU64(e){return new s(e.ushln(48))}toTwos(){return this.data.toTwos(s.MAX_SIZE)}toString(){return this.toBig().toFixed()}toFixed(e){return this.toBig().round(14).toFixed(e)}toLocaleString(e,t){return this.toNumber().toLocaleString(e,t)}toFormat(e){return this.toBig().toFormat(e)}toBig(){return new o.default(this.data.toString()).div(s.MULTIPLIER_BIG)}static fromBig(e){return new s(new i.default(e.mul(s.MULTIPLIER_BIG).round().toFixed()))}toNumber(){return this.toBig().toNumber()}static fromArray(e){if(16!==e.length)throw new Error("Uint8Array must be of length 16");return new s(new i.default(e,"le").fromTwos(s.MAX_SIZE))}toArray(){return new Uint8Array(this.data.toTwos(s.MAX_SIZE).toArray("le",16))}toArrayLike(e,t,n){return this.data.toTwos(s.MAX_SIZE).toArrayLike(e,t,n)}getData(){return this.data}getBinaryLayout(){return this.data.toTwos(s.MAX_SIZE).toString(2,s.MAX_SIZE).replace(/-/g,"")}add(e){return new s(this.data.add(e.getData()))}sub(e){return new s(this.data.sub(e.getData()))}iadd(e){return this.data.iadd(e.getData()),this}isub(e){return this.data.isub(e.getData()),this}floor(){return s.fromBig(this.toBig().round(void 0,0))}ceil(){return s.fromBig(this.toBig().round(void 0,3))}frac(){return new s(this.data.maskn(s.FRACTIONS))}mul(e){return new s(this.data.mul(e.data).iushrn(s.FRACTIONS))}imul(e){return this.data.imul(e.getData()).iushrn(s.FRACTIONS),this}div(e){return new s(this.data.ushln(s.FRACTIONS).div(e.data))}idiv(e){return this.data=this.data.iushln(s.FRACTIONS).div(e.data),this}gt(e){return this.data.gt(e.getData())}lt(e){return this.data.lt(e.getData())}gte(e){return this.data.gte(e.getData())}lte(e){return this.data.lte(e.getData())}eq(e){return this.data.eq(e.getData())}cmp(e){return this.data.cmp(e.getData())}neg(){return this.mul(t.NEG_ONE_I80F48)}isPos(){return this.gt(t.ZERO_I80F48)}isNeg(){return this.data.isNeg()}isZero(){return this.eq(t.ZERO_I80F48)}min(e){return this.lte(e)?this:e}max(e){return this.gte(e)?this:e}abs(){return this.isNeg()?this.neg():this}}t.I80F48=s,s.MAX_SIZE=128,s.FRACTIONS=48,s.MULTIPLIER_BIG=new o.default(2).pow(s.FRACTIONS),s.MULTIPLIER_BN=new i.default(2).pow(new i.default(s.FRACTIONS)),s.MULTIPLIER_NUMBER=Math.pow(2,s.FRACTIONS),s.MAX_BN=new i.default(2).pow(new i.default(s.MAX_SIZE)).div(new i.default(2)).sub(new i.default(1)),s.MIN_BN=new i.default(2).pow(new i.default(s.MAX_SIZE)).div(new i.default(2)).neg(),t.ONE_I80F48=s.fromString("1"),t.ZERO_I80F48=s.fromString("0"),t.NEG_ONE_I80F48=s.fromString("-1")},5447:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.findLargestTokenAccountForOwner=t.getTokenAccountsByOwnerWithWrappedSol=t.TokenAccount=void 0;const i=n(9174),o=n(5380);class s{constructor(e,t){this.publicKey=e,Object.assign(this,t)}}function a(e){return e.value.map((({pubkey:e,account:t})=>new s(e,o.TokenAccountLayout.decode(t.data))))}t.TokenAccount=s,t.getTokenAccountsByOwnerWithWrappedSol=function(e,t){return r(this,void 0,void 0,(function*(){const n=e.getAccountInfo(t),r=e.getTokenAccountsByOwner(t,{programId:i.TokenInstructions.TOKEN_PROGRAM_ID}),[o,u]=yield Promise.all([n,r]),c=a(u);return[new s(t,{mint:i.TokenInstructions.WRAPPED_SOL_MINT,owner:t,amount:(null==o?void 0:o.lamports)||0})].concat(c)}))},t.findLargestTokenAccountForOwner=function(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield e.getTokenAccountsByOwner(t,{mint:n},e.commitment);let i=null;for(const e of a(r))(!i||e.amount>i.amount)&&(i=e);if(!i)throw new Error("No accounts for this token");return i}))}},5506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7614:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.prependFeePrioritizationIx=t.findPerpMarketParams=t.calculateLotSizes=t.throwUndefined=t.getMultipleAccounts=t.clamp=t.getFilteredProgramAccounts=t.createSignerKeyAndNonce=t.createTokenAccountInstructions=t.createAccountInstruction=t.simulateTransaction=t.sleep=t.awaitTransactionSignatureConfirmation=t.splitOpenOrders=t.getWeights=t.MangoError=t.TimeoutError=t.nativeI80F48ToUi=t.nativeToUi=t.uiToNative=t.optionalBNFromString=t.promiseNull=t.promiseUndef=t.zeroKey=t.I64_MAX_BN=t.U64_MAX_BN=t.ONE_BN=t.ZERO_BN=t.MAXIMUM_NUMBER_OF_BLOCKS_FOR_TRANSACTION=void 0;const o=i(n(9098)),s=n(9990),a=n(9174),u=n(8191);t.MAXIMUM_NUMBER_OF_BLOCKS_FOR_TRANSACTION=152,t.ZERO_BN=new o.default(0),t.ONE_BN=new o.default(1),t.U64_MAX_BN=new o.default("18446744073709551615"),t.I64_MAX_BN=new o.default("9223372036854775807").toTwos(64),t.zeroKey=new s.PublicKey(new Uint8Array(32)),t.promiseUndef=function(){return r(this,void 0,void 0,(function*(){}))},t.promiseNull=function(){return r(this,void 0,void 0,(function*(){return null}))},t.optionalBNFromString=function(e){return e?new o.default(e):void 0},t.uiToNative=function(e,t){return new o.default(Math.round(e*Math.pow(10,t)))},t.nativeToUi=function(e,t){return e/Math.pow(10,t)},t.nativeI80F48ToUi=function(e,t){return e.div(u.I80F48.fromNumber(Math.pow(10,t)))};class c extends Error{constructor({txid:e}){super(),this.message="Timed out awaiting confirmation. Please confirm in the explorer: ",this.txid=e}}t.TimeoutError=c;class l extends Error{constructor({txid:e,message:t}){super(),this.message=t,this.txid=e}}function d(e){return r(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))}function f(e,t,n,r){const i=r*Math.pow(10,e),s=n*i/Math.pow(10,e-t);return{baseLotSize:new o.default(i),quoteLotSize:new o.default(s)}}t.MangoError=l,t.getWeights=function(e,t,n){return"Maint"===n?{spotAssetWeight:e.spotMarkets[t].maintAssetWeight,spotLiabWeight:e.spotMarkets[t].maintLiabWeight,perpAssetWeight:e.perpMarkets[t].maintAssetWeight,perpLiabWeight:e.perpMarkets[t].maintLiabWeight}:"Init"===n?{spotAssetWeight:e.spotMarkets[t].initAssetWeight,spotLiabWeight:e.spotMarkets[t].initLiabWeight,perpAssetWeight:e.perpMarkets[t].initAssetWeight,perpLiabWeight:e.perpMarkets[t].initLiabWeight}:{spotAssetWeight:u.ONE_I80F48,spotLiabWeight:u.ONE_I80F48,perpAssetWeight:u.ONE_I80F48,perpLiabWeight:u.ONE_I80F48}},t.splitOpenOrders=function(e){return{quoteFree:u.I80F48.fromU64(e.quoteTokenFree.add(e.referrerRebatesAccrued)),quoteLocked:u.I80F48.fromU64(e.quoteTokenTotal.sub(e.quoteTokenFree)),baseFree:u.I80F48.fromU64(e.baseTokenFree),baseLocked:u.I80F48.fromU64(e.baseTokenTotal.sub(e.baseTokenFree))}},t.awaitTransactionSignatureConfirmation=function(e,n,i,o,s){return r(this,void 0,void 0,(function*(){const a=s?s.lastValidBlockHeight+t.MAXIMUM_NUMBER_OF_BLOCKS_FOR_TRANSACTION:0;let u=!1,c=!1;const l=["finalized"];"confirmed"===o?l.push("confirmed"):"processed"===o&&(l.push("confirmed"),l.push("processed"));const f=yield new Promise(((t,o)=>{(()=>{r(this,void 0,void 0,(function*(){setTimeout((()=>{u||(0!==a?c=!0:(u=!0,console.log("Timed out for txid: ",e),o({timeout:!0})))}),n);try{i.onSignature(e,(e=>{u=!0,e.err?o(e.err):t(e)}),"processed")}catch(t){u=!0,console.log("WS error in setup",e,t)}for(;!u;)(()=>{r(this,void 0,void 0,(function*(){try{const n=[i.getSignatureStatuses([e])];c&&n.push(i.getBlockHeight("confirmed"));const[r,s]=yield Promise.all(n);void 0!==typeof s&&a<=s&&(u=!0,console.log("Timed out for txid: ",e),o({timeout:!0}));const d=r&&r.value[0];u||d&&(d.err?(console.log("REST error for",e,d),u=!0,o(d.err)):d.confirmations||l.includes(d.confirmationStatus)?(console.log("REST confirmed",e,d),u=!0,t(d)):console.log("REST not confirmed",e,d))}catch(t){u||console.log("REST connection error: txid",e,t)}}))})(),yield d(300)}))})()}));return u=!0,f}))},t.sleep=d,t.simulateTransaction=function(e,t,n){return r(this,void 0,void 0,(function*(){t.recentBlockhash=yield e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=yield e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}))},t.createAccountInstruction=function(e,t,n,i,o){return r(this,void 0,void 0,(function*(){const r=new s.Keypair;return{account:r,instruction:s.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:r.publicKey,lamports:o||(yield e.getMinimumBalanceForRentExemption(n)),space:n,programId:i})}}))},t.createTokenAccountInstructions=function(e,t,n,i,o){return r(this,void 0,void 0,(function*(){return[s.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:n,lamports:yield e.getMinimumBalanceForRentExemption(165),space:165,programId:a.TokenInstructions.TOKEN_PROGRAM_ID}),a.TokenInstructions.initializeAccount({account:n,mint:i,owner:o})]}))},t.createSignerKeyAndNonce=function(e,t){return r(this,void 0,void 0,(function*(){for(let n=0;n<=Number.MAX_SAFE_INTEGER;n++)try{const r=Buffer.alloc(8);r.writeUInt32LE(n,0);const i=[t.toBuffer(),r];return{signerKey:yield s.PublicKey.createProgramAddress(i,e),signerNonce:n}}catch(e){continue}throw new Error("Could not generate signer key")}))},t.getFilteredProgramAccounts=function(e,t,n){var i;return r(this,void 0,void 0,(function*(){const r=yield e._rpcRequest("getProgramAccounts",[t.toBase58(),{commitment:e.commitment,filters:n,encoding:"base64"}]);if(r.error)throw new Error(r.error.message);if(r.result){const e=r.result.filter((e=>null===(null==e?void 0:e.account)));if(e.length>0)throw new Error(`gpa returned ${e.length} null results. ex: ${null===(i=e[0])||void 0===i?void 0:i.pubkey.toString()}`)}return r.result.map((({pubkey:e,account:{data:t,executable:n,owner:r,lamports:i}})=>({publicKey:new s.PublicKey(e),accountInfo:{data:Buffer.from(t[0],"base64"),executable:n,owner:new s.PublicKey(r),lamports:i}})))}))},t.clamp=function(e,t,n){return e<t?t:e>n?n:e},t.getMultipleAccounts=function e(t,n,i){var o;return r(this,void 0,void 0,(function*(){const r=n.length;if(0===r)return[];if(r>100){const o=Math.floor(n.length/2);return Promise.all([e(t,n.slice(0,o),i),e(t,n.slice(o,r),i)]).then((e=>e[0].concat(e[1])))}const a=n.map((e=>e.toBase58()));i||(i=t.commitment);const u=i?[a,{commitment:i}]:[a],c=yield t._rpcRequest("getMultipleAccounts",u);if(c.error)throw new Error(c.error.message);if(c.result){const e=c.result.value.filter((e=>null===(null==e?void 0:e.account)));if(e.length>0)throw new Error(`gma returned ${e.length} null results. ex: ${null===(o=e[0])||void 0===o?void 0:o.pubkey.toString()}`)}return c.result.value.map((({data:e,executable:t,lamports:r,owner:i},o)=>({publicKey:n[o],context:c.result.context,accountInfo:{data:Buffer.from(e[0],"base64"),executable:t,owner:new s.PublicKey(i),lamports:r}})))}))},t.throwUndefined=function(e){if(void 0===e)throw new Error("Undefined");return e},t.calculateLotSizes=f,t.findPerpMarketParams=function(e,t,n,r,i){const o=Math.min(e,8),s=Math.pow(10,Math.round(Math.log10(n))-4),a=Math.pow(10,-Math.round(Math.log10(n))),u=a*n,c=Math.floor(500*i/u),l=Math.floor(Math.log2(c)-3),{baseLotSize:d,quoteLotSize:p}=f(o,t,s,a);return{maintLeverage:2*r,initLeverage:r,liquidationFee:1/(4*r),makerFee:-4e-4,takerFee:5e-4,baseLotSize:d.toNumber(),quoteLotSize:p.toNumber(),rate:.03,maxDepthBps:c,exp:2,maxNumEvents:256,targetPeriodLength:3600,mngoPerPeriod:i,version:1,lmSizeShift:l,decimals:o,minTick:s,minSize:a,baseDecimals:o}},t.prependFeePrioritizationIx=(e,t)=>{if(t){const n=s.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t});e.instructions=[n,...e.instructions]}return e}},4791:function(e,t,n){"use strict";!function(e,t){const n=o,r=e();for(;;)try{if(676841==parseInt(n(160))/1*(parseInt(n(163))/2)+parseInt(n(165))/3+parseInt(n(168))/4*(parseInt(n(170))/5)+-parseInt(n(166))/6+-parseInt(n(161))/7+parseInt(n(164))/8*(parseInt(n(167))/9)+parseInt(n(169))/10*(parseInt(n(162))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}(s);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCurveAmount=t.TradeDirection=void 0;const i=r(n(4984));function o(e,t){const n=s();return(o=function(e,t){return n[e-=160]})(e,t)}function s(){const e=["6821460xnbaXB","834685plOpLf","697IZStSD","8099637kMyemb","11ZPZkHL","1060VcigxO","328FJIDEQ","1483176RpEDjt","3506280xacanq","8271OAdiqX","20fDUZTB"];return(s=function(){return e})()}function a(e,t){let n=t,r=e.div(n);return r.eq(0)?{q:new i.default(0),r:new i.default(0)}:(e.mod(t).gt(0)&&(r=r.plus(1),n=e.div(r),e.mod(r).gt(0)&&(n=n.plus(1))),{q:r,r:n})}t.TradeDirection={AtoB:"AtoB",BtoA:"BtoA"},t.getCurveAmount=function(e,n,r,o,s,u,c,l,d,f){let p=new i.default(0),h=new i.default(0),m=e.times(o.tradeFeeNumerator).div(o.tradeFeeDenominator),g=e.times(o.ownerTradeFeeNumerator).div(o.ownerTradeFeeDenominator);!m.isZero()&&m.lt(1)&&(m=new i.default(1)),!g.isZero()&&g.lt(1)&&(g=new i.default(1));const y=m.plus(g),b=o.tradeFeeNumerator.div(o.tradeFeeDenominator).plus(o.ownerTradeFeeNumerator.div(o.ownerTradeFeeDenominator)),w=e.minus(y),v=new i.default(10),S=v.pow(r.baseDecimals);if(1===r.freezeTrade)throw new Error("ProgramIsFrozen");if(!l.status.eq(1))throw new Error("InvalidPythStatus");if(n-l.publishSlot.toNumber()>c.pythSlotLimit.toNumber())throw new Error("InvalidPythSlot");if(l.confidence.div(l.price).gt(c.pythConfidenceLimit.div(c.configDenominator)))throw new Error("InvalidPythConfidence");let A=l.price;if(d){if(!d.status.eq(1))throw new Error("InvalidPythPcStatus");if(n-d.publishSlot.toNumber()>c.pythSlotLimit.toNumber())throw new Error("InvalidPythPcSlot");if(d.confidence.div(d.price).gt(c.pythConfidenceLimit.div(c.configDenominator)))throw new Error("InvalidPythPcConfidence");A=A.times(v.pow(Math.abs(d.exponent))).div(d.price)}let k=new i.default(0);var _;if(k=(_=A.div(c.lastPrice).minus(1),_.toNumber()<0?_.times(-1):_).gt(c.adjustRatio.div(c.configDenominator))?A:c.lastPrice,c.oracleStatus.eq(1)&&f===t.TradeDirection.AtoB)throw new Error("OracleConfidence");if(c.oracleStatus.eq(2)&&f===t.TradeDirection.BtoA)throw new Error("OracleConfidence");const M=c.lastBalancedPrice,I=c.coefficientUp,E=c.coefficientDown;if(0===r.curveType){const{destinationAmountSwapped:e,poolPriceImpact:n}=function(e,n,r,o,s,u,c,l,d,f){let p=new i.default(0),h=new i.default(0),m=c.times(d.concentrationRatio),g=l.times(d.concentrationRatio),y=m.times(n).div(o).floor();switch(f){case t.TradeDirection.AtoB:{if(n.gt(r)&&y.gt(g)){let e=g.div(y).pow(u);m=m.times(e).floor(),g=g.times(e).floor()}else if(r.gt(n)&&g.gt(y)){let e=g.div(y).pow(s);m=m.times(e).floor(),g=g.times(e).floor()}else if(y.gt(g)){let e=g.div(y).pow(u);m=m.times(e).floor(),g=g.times(e).floor()}let t=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(g.toNumber())),l=new i.default(Math.sqrt(n.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),d=t.times(c);m=d.div(l).floor(),g=d.times(l).floor();let f=m.times(g),b=m.plus(e),{q:w,r:v}=a(f,b),S=w.floor();b=v.floor(),p=g.minus(S).floor();const A=g.div(m),k=g.minus(p).div(m.plus(e));h=A.minus(k).div(A);break}case t.TradeDirection.BtoA:{if(n.gt(r)&&y.gt(g)){let e=y.div(g).pow(s);m=m.times(e).floor(),g=g.times(e).floor()}else if(r.gt(n)&&g.gt(y)){let e=y.div(g).pow(u);m=m.times(e).floor(),g=g.times(e).floor()}else if(y.gt(g));else{let e=y.div(g).pow(u);m=m.times(e).floor(),g=g.times(e).floor()}let t=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(g.toNumber())),l=new i.default(Math.sqrt(n.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),d=t.times(c);m=d.div(l).floor(),g=d.times(l).floor();let f=m.times(g),b=g.plus(e),{q:w,r:v}=a(f,b),S=w.floor();b=v.floor(),p=m.minus(S).floor();const A=g.div(m),k=g.plus(e).div(m.minus(p));h=k.minus(A).div(k);break}}return{destinationAmountSwapped:p,poolPriceImpact:h}}(w,k,M,S,I,E,s,u,c,f);p=e,h=n}else if(1===r.curveType){const{destinationAmountSwapped:e,poolPriceImpact:n}=function(e,n,r,o,s,u,c,l,d,f){let p=new i.default(0),h=new i.default(0),m=c,g=l,y=m.times(n).div(o);switch(f){case t.TradeDirection.AtoB:{if(n.gt(r)&&y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}else if(r.gt(n)&&g.gt(y)){let e=g.div(y).pow(s);m=m.times(e),g=g.times(e)}else if(y.gt(g)){let e=g.div(y).pow(u);m=m.times(e),g=g.times(e)}m=m.times(d.concentrationRatio),g=g.times(d.concentrationRatio);let t=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(g.toNumber())),l=new i.default(Math.sqrt(n.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),f=t.times(c);m=f.div(l),g=f.times(l);let b=m.times(g),w=m.plus(e),{q:v,r:S}=a(b,w),A=v;w=S,p=g.minus(A);const k=g.div(m),_=g.minus(p).div(m.plus(e));h=k.minus(_).div(_);break}case t.TradeDirection.BtoA:{if(n.gt(r)&&y.gt(g)){let e=y.div(g).pow(s);m=m.times(e),g=g.times(e)}else if(r.gt(n)&&g.gt(y)){let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}else if(y.gt(g));else{let e=y.div(g).pow(u);m=m.times(e),g=g.times(e)}m=m.times(d.concentrationRatio),g=g.times(d.concentrationRatio);let t=new i.default(Math.sqrt(m.toNumber())),c=new i.default(Math.sqrt(g.toNumber())),l=new i.default(Math.sqrt(n.toNumber())).div(new i.default(Math.sqrt(o.toNumber()))),f=t.times(c);m=f.div(l),g=f.times(l);let b=m.times(g),w=g.plus(e),{q:v,r:S}=a(b,w),A=v;w=S,p=m.minus(A);const k=g.div(m);h=g.plus(e).div(m.minus(p)).minus(k).div(k);break}}return p=new i.default(Math.floor(p.toNumber())),{destinationAmountSwapped:p,poolPriceImpact:h}}(w,k,M,S,I,E,s,u,c,f);p=e,h=n}if(p.lt(1))throw new Error("ZeroAmountOut");if(f===t.TradeDirection.AtoB&&p.gte(u))throw new Error("ExceedPoolBalance");if(f===t.TradeDirection.BtoA&&p.gte(s))throw new Error("ExceedPoolBalance");return{amountSwapped:p,priceImpact:h,fee:y,feePercent:b}}},4387:(e,t)=>{"use strict";function n(e,t){var i=r();return(n=function(e,t){return i[e-=479]})(e,t)}function r(){var e=["1694745jUGEri","4338000umBOti","4WuUdgy","1388090JCCzMZ","51nguveh","95098rfasWN","675828DzkhsZ","416648qcZVQI","6383456mEfFsf","14iZmbFl"];return(r=function(){return e})()}!function(e,t){for(var r=n,i=e();;)try{if(462831==parseInt(r(482))/1+-parseInt(r(480))/2*(parseInt(r(479))/3)+-parseInt(r(487))/4*(parseInt(r(485))/5)+-parseInt(r(481))/6*(parseInt(r(484))/7)+parseInt(r(483))/8+parseInt(r(486))/9+parseInt(r(488))/10)break;i.push(i.shift())}catch(e){i.push(i.shift())}}(r),Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"lifinity_amm",instructions:[{name:"swap",accounts:[{name:"authority",isMut:!1,isSigner:!1},{name:"amm",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceInfo",isMut:!0,isSigner:!1},{name:"destinationInfo",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"feeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"pythAccount",isMut:!1,isSigner:!1},{name:"pythPcAccount",isMut:!1,isSigner:!1},{name:"configAccount",isMut:!0,isSigner:!1}],args:[{name:"amountIn",type:"u64"},{name:"minimumAmountOut",type:"u64"}]}],accounts:[{name:"amm",type:{kind:"struct",fields:[{name:"initializerKey",type:"publicKey"},{name:"initializerDepositTokenAccount",type:"publicKey"},{name:"initializerReceiveTokenAccount",type:"publicKey"},{name:"initializerAmount",type:"u64"},{name:"takerAmount",type:"u64"},{name:"isInitialized",type:"bool"},{name:"bumpSeed",type:"u8"},{name:"freezeTrade",type:"u8"},{name:"freezeDeposit",type:"u8"},{name:"freezeWithdraw",type:"u8"},{name:"baseDecimals",type:"u8"},{name:"tokenProgramId",type:"publicKey"},{name:"tokenAAccount",type:"publicKey"},{name:"tokenBAccount",type:"publicKey"},{name:"poolMint",type:"publicKey"},{name:"tokenAMint",type:"publicKey"},{name:"tokenBMint",type:"publicKey"},{name:"poolFeeAccount",type:"publicKey"},{name:"pythAccount",type:"publicKey"},{name:"pythPcAccount",type:"publicKey"},{name:"configAccount",type:"publicKey"},{name:"ammTemp1",type:"publicKey"},{name:"ammTemp2",type:"publicKey"},{name:"ammTemp3",type:"publicKey"},{name:"fees",type:{defined:"FeesInput"}},{name:"curve",type:{defined:"CurveInput"}}]}},{name:"config",type:{kind:"struct",fields:[{name:"concentrationRatio",type:"u64"},{name:"lastPrice",type:"u64"},{name:"adjustRatio",type:"u64"},{name:"balanceRatio",type:"u64"},{name:"lastBalancedPrice",type:"u64"},{name:"configDenominator",type:"u64"},{name:"pythConfidenceLimit",type:"u64"},{name:"pythSlotLimit",type:"u64"},{name:"volumeX",type:"u64"},{name:"volumeY",type:"u64"},{name:"volumeXInY",type:"u64"},{name:"coefficientUp",type:"u64"},{name:"coefficientDown",type:"u64"},{name:"oracleStatus",type:"u64"},{name:"configTemp1",type:"u64"},{name:"configTemp2",type:"u64"}]}}],types:[{name:"FeesInput",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"},{name:"ownerWithdrawFeeNumerator",type:"u64"},{name:"ownerWithdrawFeeDenominator",type:"u64"},{name:"hostFeeNumerator",type:"u64"},{name:"hostFeeDenominator",type:"u64"}]}},{name:"CurveInput",type:{kind:"struct",fields:[{name:"curveType",type:"u8"},{name:"curveParameters",type:"u64"}]}},{name:"ConfigInput",type:{kind:"struct",fields:[{name:"concentrationRatio",type:"u64"},{name:"lastPrice",type:"u64"},{name:"adjustRatio",type:"u64"},{name:"balanceRatio",type:"u64"},{name:"lastBalancedPrice",type:"u64"},{name:"configDenominator",type:"u64"},{name:"pythConfidenceLimit",type:"u64"},{name:"pythSlotLimit",type:"u64"},{name:"volumeX",type:"u64"},{name:"volumeY",type:"u64"},{name:"volumeXInY",type:"u64"},{name:"coefficientUp",type:"u64"},{name:"coefficientDown",type:"u64"},{name:"oracleStatus",type:"u64"},{name:"configTemp1",type:"u64"},{name:"configTemp2",type:"u64"}]}},{name:"CurveFees",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"},{name:"ownerWithdrawFeeNumerator",type:"u64"},{name:"ownerWithdrawFeeDenominator",type:"u64"},{name:"hostFeeNumerator",type:"u64"},{name:"hostFeeDenominator",type:"u64"}]}},{name:"CurveType",type:{kind:"enum",variants:[{name:"ConstantProduct"},{name:"Stable"}]}},{name:"TradeDirection",type:{kind:"enum",variants:[{name:"AtoB"},{name:"BtoA"}]}},{name:"RoundDirection",type:{kind:"enum",variants:[{name:"Floor"},{name:"Ceiling"}]}}],errors:[{code:6e3,name:"AlreadyInUse",msg:"Swap account already in use"},{code:6001,name:"InvalidProgramAddress",msg:"Invalid program address generated from bump seed and key"},{code:6002,name:"InvalidOwner",msg:"Input account owner is not the program address"},{code:6003,name:"InvalidOutputOwner",msg:"Output pool account owner cannot be the program address"},{code:6004,name:"ExpectedMint",msg:"Deserialized account is not an SPL Token mint"},{code:6005,name:"ExpectedAccount",msg:"Deserialized account is not an SPL Token account"},{code:6006,name:"EmptySupply",msg:"Input token account empty"},{code:6007,name:"InvalidSupply",msg:"Pool token mint has a non-zero supply"},{code:6008,name:"InvalidDelegate",msg:"Token account has a delegate"},{code:6009,name:"InvalidInput",msg:"InvalidInput"},{code:6010,name:"IncorrectSwapAccount",msg:"Address of the provided swap token account is incorrect"},{code:6011,name:"IncorrectPoolMint",msg:"Address of the provided pool token mint is incorrect"},{code:6012,name:"InvalidOutput",msg:"InvalidOutput"},{code:6013,name:"CalculationFailure",msg:"General calculation failure due to overflow or underflow"},{code:6014,name:"InvalidInstruction",msg:"Invalid instruction"},{code:6015,name:"RepeatedMint",msg:"Swap input token accounts have the same mint"},{code:6016,name:"ExceededSlippage",msg:"Swap instruction exceeds desired slippage limit"},{code:6017,name:"InvalidCloseAuthority",msg:"Token account has a close authority"},{code:6018,name:"InvalidFreezeAuthority",msg:"Pool token mint has a freeze authority"},{code:6019,name:"IncorrectFeeAccount",msg:"Pool fee token account incorrect"},{code:6020,name:"ZeroTradingTokens",msg:"Given pool token amount results in zero trading tokens"},{code:6021,name:"FeeCalculationFailure",msg:"Fee calculation failed due to overflow, underflow, or unexpected 0"},{code:6022,name:"ConversionFailure",msg:"Conversion to u64 failed with an overflow or underflow"},{code:6023,name:"InvalidFee",msg:"The provided fee does not match the program owner's constraints"},{code:6024,name:"IncorrectTokenProgramId",msg:"The provided token program does not match the token program expected by the swap"},{code:6025,name:"IncorrectOracleAccount",msg:"Address of the provided oracle account is incorrect"},{code:6026,name:"IncorrectConfigAccount",msg:"Address of the provided config account is incorrect"},{code:6027,name:"UnsupportedCurveType",msg:"The provided curve type is not supported by the program owner"},{code:6028,name:"InvalidCurve",msg:"The provided curve parameters are invalid"},{code:6029,name:"UnsupportedCurveOperation",msg:"The operation cannot be performed on the given curve"},{code:6030,name:"InvalidPythStatus",msg:"Pyth oracle status is not 'trading'"},{code:6031,name:"InvalidPythPrice",msg:"Could not retrieve updated price feed from the Pyth oracle"},{code:6032,name:"IncorrectSigner",msg:"Address of the provided signer account is incorrect"},{code:6033,name:"ProgramIsFrozen",msg:"Program is frozen"},{code:6034,name:"OracleConfidence",msg:"Oracle confidence is too low"}]}},2864:(e,t,n)=>{"use strict";t.Yk=t.gx=t._l=t.vS=void 0;n(3602),n(1877),n(3757);const r=n(5453);Object.defineProperty(t,"_l",{enumerable:!0,get:function(){return r.getParsedData}});const i=n(4791);Object.defineProperty(t,"gx",{enumerable:!0,get:function(){return i.getCurveAmount}}),Object.defineProperty(t,"vS",{enumerable:!0,get:function(){return i.TradeDirection}});const o=n(2222);Object.defineProperty(t,"Yk",{enumerable:!0,get:function(){return o.LIFINITY_AMM_LAYOUT}})},2222:(e,t,n)=>{"use strict";function r(e,t){const n=s();return(r=function(e,t){return n[e-=144]})(e,t)}!function(e,t){const n=r,i=e();for(;;)try{if(453314==-parseInt(n(147))/1*(-parseInt(n(151))/2)+-parseInt(n(149))/3+-parseInt(n(150))/4+-parseInt(n(148))/5+parseInt(n(146))/6+-parseInt(n(152))/7*(parseInt(n(144))/8)+parseInt(n(145))/9)break;i.push(i.shift())}catch(e){i.push(i.shift())}}(s),Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG_LAYOUT=t.LIFINITY_AMM_LAYOUT=void 0;const i=n(8507),o=n(4104);function s(){const e=["16704ezZTzx","16992648ydycGs","1655412BiRZIo","2QLVGnI","3675995Yenkkb","812682EEFDnU","1865020UROZXN","225224xtDHNE","1554cXFVVx"];return(s=function(){return e})()}t.LIFINITY_AMM_LAYOUT=(0,o.struct)([(0,i.u64)("index"),(0,i.publicKey)("initializerKey"),(0,i.publicKey)("initializerDepositTokenAccount"),(0,i.publicKey)("initializerReceiveTokenAccount"),(0,i.u64)("initializerAmount"),(0,i.u64)("takerAmount"),(0,i.u8)("initialized"),(0,i.u8)("bumpSeed"),(0,i.u8)("freezeTrade"),(0,i.u8)("freezeDeposit"),(0,i.u8)("freezeWithdraw"),(0,i.u8)("baseDecimals"),(0,i.publicKey)("tokenProgramId"),(0,i.publicKey)("tokenAAccount"),(0,i.publicKey)("tokenBAccount"),(0,i.publicKey)("poolMint"),(0,i.publicKey)("tokenAMint"),(0,i.publicKey)("tokenBMint"),(0,i.publicKey)("poolFeeAccount"),(0,i.publicKey)("pythAccount"),(0,i.publicKey)("pythPcAccount"),(0,i.publicKey)("configAccount"),(0,i.publicKey)("ammTemp1"),(0,i.publicKey)("ammTemp2"),(0,i.publicKey)("ammTemp3"),(0,i.u64)("tradeFeeNumerator"),(0,i.u64)("tradeFeeDenominator"),(0,i.u64)("ownerTradeFeeNumerator"),(0,i.u64)("ownerTradeFeeDenominator"),(0,i.u64)("ownerWithdrawFeeNumerator"),(0,i.u64)("ownerWithdrawFeeDenominator"),(0,i.u64)("hostFeeNumerator"),(0,i.u64)("hostFeeDenominator"),(0,i.u8)("curveType"),(0,i.u64)("curveParameters")]),t.CONFIG_LAYOUT=(0,o.struct)([(0,i.u64)("index"),(0,i.u64)("concentrationRatio"),(0,i.u64)("lastPrice"),(0,i.u64)("adjustRatio"),(0,i.u64)("balanceRatio"),(0,i.u64)("lastBalancedPrice"),(0,i.u64)("configDenominator"),(0,i.u64)("pythConfidenceLimit"),(0,i.u64)("pythSlotLimit"),(0,i.u64)("volumeX"),(0,i.u64)("volumeY"),(0,i.u64)("volumeXinY"),(0,i.u64)("coefficientUp"),(0,i.u64)("coefficientDown"),(0,i.u64)("oracleStatus"),(0,i.u64)("configTemp1"),(0,i.u64)("configTemp2")])},3602:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSwapTransactionWithAuthority=t.getSwapInstruction=t.getAmountOut=t.Lifinity=void 0;const o=n(3352),s=n(9990),a=i(n(4984)),u=n(4387),c=n(1877),l=n(3757),d=n(1559),f=n(5453),p=n(4791);class h{constructor(e,t){this.stateAddress=s.PublicKey.default,this.programAuthority=s.PublicKey.default,this.connection=e,this.wallet=t;const n=new s.PublicKey((0,c.getProgramAddress)()),r=new o.Provider(e,t,o.Provider.defaultOptions());this.program=new o.Program(u.IDL,n,r)}static build(e,t){return r(this,void 0,void 0,(function*(){return new h(e,t)}))}swap(e,t,n,i){return r(this,void 0,void 0,(function*(){const r=(0,l.getPool)(n.toString(),i.toString());try{return yield(0,d.sendSwap)(this.program,r,n,i,e,t)}catch(e){return console.error(e),""}}))}}t.Lifinity=h,t.getAmountOut=function(e,t,n,i,o){return r(this,void 0,void 0,(function*(){const r=(0,l.getPool)(n.toString(),i.toString());if(r){let i,u,c,l=new a.default(t);r.poolCoinMint===n.toString()?(l=l.times(new a.default(10).pow(r.poolCoinDecimal)),u=r.poolCoinDecimal,c=r.poolPcDecimal,i=p.TradeDirection.AtoB):(l=l.times(new a.default(10).pow(r.poolPcDecimal)),u=r.poolPcDecimal,c=r.poolCoinDecimal,i=p.TradeDirection.BtoA);const d=[new s.PublicKey(r.amm),new s.PublicKey(r.poolCoinTokenAccount),new s.PublicKey(r.poolPcTokenAccount),new s.PublicKey(r.configAccount),new s.PublicKey(r.pythAccount)];r.pythAccount!==r.pythPcAccount&&d.push(new s.PublicKey(r.pythPcAccount));try{const n=yield(0,f.getMultipleAccounts)(e,d),{amm:s,fees:h,coinBalance:m,pcBalance:g,config:y,pyth:b,pythPc:w}=(0,f.getParsedData)(n,r),v=yield e.getSlot(),{amountSwapped:S,priceImpact:A,fee:k,feePercent:_}=(0,p.getCurveAmount)(l,v,s,h,m,g,y,b,w,i),M=new a.default(o).div(100),I=new a.default(Math.floor(S.times(new a.default(1).minus(M)).toNumber())).div(new a.default(10).pow(c)).toNumber(),E=S.div(new a.default(10).pow(c)).toNumber(),P=k.div(new a.default(10).pow(u)).toNumber();return{amountIn:t,amountOut:E,amountOutWithSlippage:I,priceImpact:A.toNumber(),fee:P,feePercent:_.toNumber()}}catch(e){return console.error(e),{amountIn:0,amountOut:0,amountOutWithSlippage:0,priceImpact:0,fee:0,feePercent:0}}}}))},t.getSwapInstruction=function(e,t,n,i,f,p,h,m,g=!0){return r(this,void 0,void 0,(function*(){try{const r=(0,l.getPool)(f.toString(),p.toString());let y,b,w=new a.default(n),v=new a.default(i);f.toString()===r.poolCoinMint?(w=w.times(new a.default(10).pow(r.poolCoinDecimal)),v=v.times(new a.default(10).pow(r.poolPcDecimal)),y=new s.PublicKey(r.poolCoinTokenAccount),b=new s.PublicKey(r.poolPcTokenAccount)):(w=w.times(new a.default(10).pow(r.poolPcDecimal)),v=v.times(new a.default(10).pow(r.poolCoinDecimal)),y=new s.PublicKey(r.poolPcTokenAccount),b=new s.PublicKey(r.poolCoinTokenAccount));let S=s.Keypair.generate();const A=new s.PublicKey((0,c.getProgramAddress)()),k=new o.Provider(e,S,o.Provider.defaultOptions()),_=new o.Program(u.IDL,A,k),{approveInstruction:M,swapInstruction:I,signers:E}=yield(0,d.getInstruction)(_,r,w,v,t,h,m,y,b,g);return{approveInstruction:M,swapInstruction:I,signers:E}}catch(e){return console.warn(e),{approveInstruction:null,swapInstruction:null,signers:[]}}}))},t.getSwapTransactionWithAuthority=function(e,t,n,r,i,a,f,p,h){const m=(0,l.getPool)(i.toString(),a.toString());let g=s.Keypair.generate();const y=new s.PublicKey((0,c.getProgramAddress)()),b=new o.Provider(e,g,o.Provider.defaultOptions()),w=new o.Program(u.IDL,y,b);return(0,d.makeSwapTransactionWithAuthority)(w,n,r,t,f,p,i,m,h)}},1877:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProgramAddress=void 0,t.getProgramAddress=()=>"EewxydAPCCVuNEyrVN68PuSYdQ7wKn27V9Gjeoi8dy3S"},3757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PoolList=t.getPool=t.getPoolList=void 0,t.getPoolList=function(){return t.PoolList},t.getPool=function(e,n){const r=Object.values(t.PoolList).filter((t=>t.poolCoinMint===e&&t.poolPcMint===n||t.poolCoinMint===n&&t.poolPcMint===e));return 1===r.length?r[0]:null},t.PoolList={"SOL-USDC":{amm:"amgK1WE8Cvae4mVdj4AhXSsknWsjaGgo1coYicasBnM",poolMint:"3WzrkFYq4SayCrhBw8BgsPiTVKTDjyV6wRqP7HL9Eyyw",feeAccount:"AD5DFr1AXMB9h6fw5KFtkEfwf7kYSAiaSueeu4NGrLKY",configAccount:"2iT9h99mhDqetoZGNj7KKrqBnoDmFvAytGrnFYuR7MwN",pythAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",pythPcAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",poolCoinTokenAccount:"2uySTNgvGT2kwqpfgLiSgeBLR3wQyye1i1A2iQWoPiFr",poolCoinMint:"So11111111111111111111111111111111111111112",poolPcTokenAccount:"32SjGNjesiCZgmZb4YxAGgjnym6jAvTWbqihR4CvvXkZ",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11},"SOL-USDT":{amm:"2x8Bmv9wj2a4LxADBWKiLyGRgAosr8yJXuZyvS8adirK",poolMint:"BRchiwrv9yCr4jAi6xF4epQdtNtmJH93rrerpHpMhK1Z",feeAccount:"GFj8cNTP4mzWG7ywyJ35Ls2V8CbqDk3p4xNT1pAawoCh",configAccount:"Hor7j9oYfNH6EJgmnXQRiQSahduR5p4bfKyCZaQUqNKd",pythAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",pythPcAccount:"3vxLXJqLqF3JG5TCbYycbKWRBbCJQLxQmBGCkyqEEefL",poolCoinTokenAccount:"5pH2DBMZg7y5bN4J3oLKRETGXyVYPJpeaCH6AkdAcxqp",poolCoinMint:"So11111111111111111111111111111111111111112",poolPcTokenAccount:"7Cct2MJUwruQef5vQrP2bxYCNyVajJ3SiC1GYUmwmjUm",poolPcMint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11},"SOL-UST":{amm:"65E23qmpbcq3EynyxzSAk5PmAXv4NYmRb2jJiYDDRCaB",poolMint:"4aUVFHRR3c3Zyzi4yeT4U38x1hsPWE8VstKWAXkpgE7g",feeAccount:"Dyr7rzzrZbyHwHmx5YC4xcfzRJpuxDPmWu8BmwNzkAL4",configAccount:"5CmmN7dYxsmP88dE1eATYJc1SjKQXhZFs1FeDSdq5s2C",pythAccount:"H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG",pythPcAccount:"H8DvrfSaRfUyP1Ytse1exGf7VSinLWtmKNNaBhA4as9P",poolCoinTokenAccount:"AgiA6x7T6vR2J8ZPeBGizWruwhP6HBbpoW3Hg5jh2f2b",poolCoinMint:"So11111111111111111111111111111111111111112",poolPcTokenAccount:"3eM8HhW5XQeEmshqSvNSmrPmYuBKZpPXVVfzvqgYvJAv",poolPcMint:"9vMJfxuKxXBoEa7rM12mYLMwTacLMLDJqHozw96WQL8i",poolCoinDecimal:9,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:11},"BTC-USDC":{amm:"HeH3s7B3a6nynim1rBGS6TRaYECgSNjt7Kp65mhW9P4k",poolMint:"BzuTSoWFHrnRQvn4sr5ErPQyMaRB9g2rsbKCruGtcvMa",feeAccount:"5HpNeHBBpg6x7fzTgbvP9UukQmDmvxbggwqo951BYkba",configAccount:"HuLmRVTfYjNYYGBpPtJEk7JKkosbbPF4zzBHnf3TfyCn",pythAccount:"GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU",pythPcAccount:"GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU",poolCoinTokenAccount:"FAFShq3gZYXWtk5EkeKPKcwSkz2rjfMDuD1i7KiYwjVM",poolCoinMint:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",poolPcTokenAccount:"3ReY1xscSAEV9Qg1NshkU4KRWQs33nu5JMg8AnoU7duG",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:8},"ETH-USDC":{amm:"E32Z6DYwJELMTrVJVchN8PWbyhSoC3bRorMb7Cw2R9Xz",poolMint:"8FxRyaE8X6ENLmNbaBvgS6vMsN1GJ8J7CmKy8K8uN6wM",feeAccount:"5yXQ399ti5rKMcRMAZvFUqAgKHUP55bvhoYWd9bVrnu9",configAccount:"5JXrQpWAPNrvVN1R6Mz9MhA1EYUB948kceZjCxRzQzf5",pythAccount:"JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB",pythPcAccount:"JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB",poolCoinTokenAccount:"BRFwAToCofwzP29jVGzb6VZ4AGpw867AE5VsXfMsmEGk",poolCoinMint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",poolPcTokenAccount:"FDCjDSbFCVRVBsWkJWfgZ9x3Dizm1MJjtzYw3R2fxXRv",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:8,poolPcDecimal:6,poolMintDecimal:9,pythBaseDecimal:10},"RAY-USDC":{amm:"FcxHANr1dguexPZ2PoPGBajgiednXFMYHGGx4YMgedkM",poolMint:"HUpvKUafPCMwhua6QtHXk1V8D6LZYyQmUKYPFZgRiiiX",feeAccount:"DyR91PiiRopbdcizbjdXejodjxEeVSs4uCkyhL7wCvxw",configAccount:"2EXv6K3cYDMXXKFfzGjqnjkbngUymnVwBoC4kwrCKwFy",pythAccount:"AnLf8tVYCM816gmBjiy8n53eXKKEDydT5piYjjQDPgTB",pythPcAccount:"AnLf8tVYCM816gmBjiy8n53eXKKEDydT5piYjjQDPgTB",poolCoinTokenAccount:"BhG9r4CkTBRtpLtxA8Hd72vCkikqyVhiq8pFunZNERV8",poolCoinMint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",poolPcTokenAccount:"8HAVXU7bdS2SEkkrqFBdWPFxFTrWxtu4GTjP46BDzdTc",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:6,pythBaseDecimal:8},"SRM-USDC":{amm:"7RM8pzbWmGEYJLFuyS5uDyrkd4phcazHppn1C7Qim5nT",poolMint:"DKxkNu5PYoBEWiEZzD9hPsbga145AUZFfRCsieJQbGCP",feeAccount:"7xGiGPPFTiroce8ivKeLgH74WvMbinLqHUTMWwdsSXpp",configAccount:"CuPQhoTH29d5tP9TE2KQMrXqhrMD9ygNhaWDke1fuU7d",pythAccount:"3NBReDRTLKMQEKiLD5tGcx4kXbTf88b7f2xLS9UuGjym",pythPcAccount:"3NBReDRTLKMQEKiLD5tGcx4kXbTf88b7f2xLS9UuGjym",poolCoinTokenAccount:"2qAG2xw2sroQZfRUu5RhvneFm35p9NEtcpJizoFYMn2w",poolCoinMint:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",poolPcTokenAccount:"DTmnsxurn7cFSqPMERogJDMKR5NbFjhrJTtFPJbgkW7e",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:6,pythBaseDecimal:8},"UXD-USDC":{amm:"5BJUhcBnysAmCpaU6pABof7FUqxx7ZnCZXbctpP48o3C",poolMint:"DM2Grhnear76DwNiRUSfeiFMt6jSj2op9GWinQDc7Yqh",feeAccount:"9pKxj6GTTdJ2biQ6uTyv7CTmVmnjz6cXGCz7rXg7Nm2N",configAccount:"86MM38X9P5mxzRHFVX8ahtB9dCFKSk8AFhb33f5Zz8VW",pythAccount:"3vxLXJqLqF3JG5TCbYycbKWRBbCJQLxQmBGCkyqEEefL",pythPcAccount:"3vxLXJqLqF3JG5TCbYycbKWRBbCJQLxQmBGCkyqEEefL",poolCoinTokenAccount:"5BUkh9e3JF9yUvSw6P3HHqkdMuujRG942hYNSkAEghFs",poolCoinMint:"7kbnvuGBxxj8AG9qp8Scn56muWGaRaFqxg1FsRp3PaFT",poolPcTokenAccount:"BbwCGgAHEUfu7PUEz8hR877aK2snseqorfLbvtcVbjhj",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:6,pythBaseDecimal:8},"LFNTY-USDC":{amm:"5m1fnYcDdF1TMRVEBdGuSPXt5Sw8ueb9LTopuNL8SJYc",poolMint:"AGytAQTdMJ1jYyDFwgqRUJfzuVUfFm4Kjh4ZnraPbTRv",feeAccount:"7Pa7ssUY264ircqLGXARFvVzENLxGwuXL7ptGJkNinzo",configAccount:"BhKTRa1uhYuSAMsY2SwAGuj5BnxpLPaPpJwArKxZvjYK",pythAccount:"GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU",pythPcAccount:"GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU",poolCoinTokenAccount:"3T9zHCguVtKfgzaUvdBne4V8LReeiAMAzmRbWwt69gwJ",poolCoinMint:"LFNTYraetVioAPnGJht4yNg2aUZFXR776cMeN9VMjXp",poolPcTokenAccount:"F3fuSs91bGysoZFgNDbGrPonEtCBaGRDMpHGMwfgxzsP",poolPcMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",poolCoinDecimal:6,poolPcDecimal:6,poolMintDecimal:6,pythBaseDecimal:8}}},2851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WSOL=void 0,t.WSOL={symbol:"WSOL",mintAddress:"So11111111111111111111111111111111111111112",decimals:9}},1559:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.makeSwapInstructionWithAuthority=t.makeSwapTransactionWithAuthority=t.getInstruction=t.sendSwap=void 0;const i=n(3352),o=n(9990),s=n(6604),a=n(6604),u=n(8323),c=n(2851),l=n(5453);function d(e,t,n,i){return r(this,void 0,void 0,(function*(){return s.Token.createApproveInstruction(a.TOKEN_PROGRAM_ID,t,n,e,[],i.toNumber())}))}function f(e,t,n,i,s,u,c,d,f){return r(this,void 0,void 0,(function*(){let{programAuthority:r}=yield(0,l.getProgramAuthority)(e.programId,new o.PublicKey(f.amm));return e.instruction.swap(c,d,{accounts:{authority:r,amm:new o.PublicKey(f.amm),userTransferAuthority:t,sourceInfo:n,destinationInfo:i,swapSource:s,swapDestination:u,poolMint:new o.PublicKey(f.poolMint),feeAccount:new o.PublicKey(f.feeAccount),tokenProgram:a.TOKEN_PROGRAM_ID,pythPcAccount:new o.PublicKey(f.pythPcAccount),pythAccount:new o.PublicKey(f.pythAccount),configAccount:new o.PublicKey(f.configAccount)}})}))}function p(e,t,n,r,i,s,u,c,l,d){return e.instruction.swap(u,c,{accounts:{authority:d,amm:new o.PublicKey(l.amm),userTransferAuthority:t,sourceInfo:n,destinationInfo:r,swapSource:i,swapDestination:s,poolMint:new o.PublicKey(l.poolMint),feeAccount:new o.PublicKey(l.feeAccount),tokenProgram:a.TOKEN_PROGRAM_ID,pythPcAccount:new o.PublicKey(l.pythPcAccount),pythAccount:new o.PublicKey(l.pythAccount),configAccount:new o.PublicKey(l.configAccount)}})}t.sendSwap=function(e,t,n,s,a,p){return r(this,void 0,void 0,(function*(){const{transaction:h,signers:m}=yield function(e,t,n,s,a,p){return r(this,void 0,void 0,(function*(){let h,m,g,y,b=new o.Transaction,w=[],v=Math.pow(10,s.poolCoinDecimal),S=Math.pow(10,s.poolPcDecimal);t.toString()===s.poolCoinMint?(h=new i.BN(a*v),m=new i.BN(p*S),g=new o.PublicKey(s.poolCoinTokenAccount),y=new o.PublicKey(s.poolPcTokenAccount)):(h=new i.BN(a*S),m=new i.BN(p*v),g=new o.PublicKey(s.poolPcTokenAccount),y=new o.PublicKey(s.poolCoinTokenAccount));let A=null,k=null;return A=t.toString()===c.WSOL.mintAddress?yield(0,l.createWSOLAccountIfNotExist)(e,A,h.toNumber(),b,w):yield(0,l.findAssociatedTokenAddress)(e.provider.wallet.publicKey,t),k=n.toString()===c.WSOL.mintAddress?yield(0,l.createWSOLAccountIfNotExist)(e,k,0,b,w):yield(0,l.createAssociatedTokenAccountIfNotExist)(e,n,b),yield function(e,t,n,i,s,a,u,c,l,p,h=!0){return r(this,void 0,void 0,(function*(){let r;h?(r=o.Keypair.generate(),t.add(yield d(e.provider.wallet.publicKey,i,r.publicKey,c)),n.push(r)):r=e.provider.wallet,t.add(yield f(e,r.publicKey,i,s,a,u,c,l,p))}))}(e,b,w,A,k,g,y,h,m,s,!0),n.toString()===c.WSOL.mintAddress&&b.add((0,u.closeAccount)({source:k,destination:e.provider.wallet.publicKey,owner:e.provider.wallet.publicKey})),{transaction:b,signers:w}}))}(e,n,s,t,a,p);return yield e.provider.send(h,m)}))},t.getInstruction=function(e,t,n,s,a,u,c,l,p,h=!0){return r(this,void 0,void 0,(function*(){let r=null,m=[],g=new i.BN(n.toNumber()),y=new i.BN(s.toNumber()),b=null;return h&&(b=o.Keypair.generate(),r=yield d(a,u,b.publicKey,g),m.push(b)),{approveInstruction:r,swapInstruction:yield f(e,b?b.publicKey:a,u,c,l,p,g,y,t),signers:m}}))},t.makeSwapTransactionWithAuthority=function(e,t,n,r,s,a,u,c,l){let d,f,h,m,g=Math.pow(10,c.poolCoinDecimal),y=Math.pow(10,c.poolPcDecimal);return u.toString()===c.poolCoinMint?(d=new i.BN(t*g),f=new i.BN(n*y),h=new o.PublicKey(c.poolCoinTokenAccount),m=new o.PublicKey(c.poolPcTokenAccount)):(d=new i.BN(t*y),f=new i.BN(n*g),h=new o.PublicKey(c.poolPcTokenAccount),m=new o.PublicKey(c.poolCoinTokenAccount)),p(e,r,s,a,h,m,d,f,c,l)},t.makeSwapInstructionWithAuthority=p},5453:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTokenAccountBalance=t.getParsedData=t.getMultipleAccounts=t.sleep=t.getProgramAuthority=t.findProgramAddress=t.findAssociatedTokenAddress=t.createAssociatedTokenAccountIfNotExist=t.createWSOLAccountIfNotExist=void 0;const o=n(9990),s=n(6604),a=n(8323),u=n(6604),c=n(1057),l=i(n(4984)),d=n(2851),f=n(2222),p=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function h(e,t){return r(this,void 0,void 0,(function*(){const{publicKey:n}=yield m([e.toBuffer(),u.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],p);return n}))}function m(e,t){return r(this,void 0,void 0,(function*(){const[n,r]=yield o.PublicKey.findProgramAddress(e,t);return{publicKey:n,nonce:r}}))}function g(e,t){for(const[n,r]of Object.entries(e))if(r===t)return{key:n};return{}}t.createWSOLAccountIfNotExist=function(e,t,n,i,s){return r(this,void 0,void 0,(function*(){let r;if(t)r=t;else{const t=e.provider.wallet.publicKey,c=o.Keypair.generate();r=c.publicKey;let l=n+(yield e.provider.connection.getMinimumBalanceForRentExemption(u.AccountLayout.span));i.add(o.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:r,lamports:l,space:u.AccountLayout.span,programId:u.TOKEN_PROGRAM_ID})),i.add((0,a.initializeAccount)({account:r,mint:new o.PublicKey(d.WSOL.mintAddress),owner:t})),s.push(c)}return r}))},t.createAssociatedTokenAccountIfNotExist=function(e,t,n){return r(this,void 0,void 0,(function*(){let i=yield h(e.provider.wallet.publicKey,t);return yield e.provider.connection.getAccountInfo(i).then((o=>r(this,void 0,void 0,(function*(){o||(i=yield s.Token.getAssociatedTokenAddress(p,u.TOKEN_PROGRAM_ID,t,e.provider.wallet.publicKey),n.add(s.Token.createAssociatedTokenAccountInstruction(p,u.TOKEN_PROGRAM_ID,t,i,e.provider.wallet.publicKey,e.provider.wallet.publicKey)))})))),i}))},t.findAssociatedTokenAddress=h,t.findProgramAddress=m,t.getProgramAuthority=function(e,t){return r(this,void 0,void 0,(function*(){const[n,r]=yield o.PublicKey.findProgramAddress([t.toBuffer()],e);return{programAuthority:n,nonce:r}}))},t.sleep=e=>r(void 0,void 0,void 0,(function*(){return yield new Promise((t=>setTimeout(t,e)))})),t.getMultipleAccounts=function(e,t,n){return r(this,void 0,void 0,(function*(){const i=[];let o=[];t.forEach((e=>{o.length>=100&&(i.push(o),o=[]),o.push(e)})),o.length>0&&i.push(o);const s=[],a={};return yield Promise.all(i.map(((t,i)=>r(this,void 0,void 0,(function*(){const r=yield e.getMultipleAccountsInfo(t,n);a[i]=r}))))),Object.keys(a).sort(((e,t)=>parseInt(e)-parseInt(t))).forEach((e=>{const t=a[parseInt(e)];for(const e of t)s.push(e)})),s.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}))},t.getParsedData=function(e,t){let n,r,i,o,s,a,d;for(let p=0;p<e.length;p++){const h=e[p];if(h){const e=h.publicKey.toBase58(),p=Buffer.from(h.account.data),{key:m}=g(t,e);switch(m){case"amm":{const e=f.LIFINITY_AMM_LAYOUT.decode(p),{freezeTrade:t,freezeDeposit:i,freezeWithdraw:o,baseDecimals:s,curveType:a}=e;n={freezeTrade:t,freezeDeposit:i,freezeWithdraw:o,baseDecimals:s,curveType:a};const{tradeFeeNumerator:u,tradeFeeDenominator:c,ownerTradeFeeNumerator:d,ownerTradeFeeDenominator:h}=e;r={tradeFeeNumerator:new l.default(Number(u)),tradeFeeDenominator:new l.default(Number(c)),ownerTradeFeeNumerator:new l.default(Number(d)),ownerTradeFeeDenominator:new l.default(Number(h))};break}case"poolCoinTokenAccount":{const e=u.AccountLayout.decode(p),t=u.u64.fromBuffer(e.amount).toNumber();i=new l.default(t);break}case"poolPcTokenAccount":{const e=u.AccountLayout.decode(p),t=u.u64.fromBuffer(e.amount).toNumber();o=new l.default(t);break}case"configAccount":{const e=f.CONFIG_LAYOUT.decode(p),{concentrationRatio:t,lastPrice:n,adjustRatio:r,balanceRatio:i,lastBalancedPrice:o,configDenominator:a,pythConfidenceLimit:u,pythSlotLimit:c,volumeX:d,volumeY:h,volumeXinY:m,coefficientUp:g,coefficientDown:y,oracleStatus:b,configTemp1:w,configTemp2:v}=e;s={concentrationRatio:new l.default(Number(t)),lastPrice:new l.default(Number(n)),adjustRatio:new l.default(Number(r)),balanceRatio:new l.default(Number(i)),lastBalancedPrice:new l.default(Number(o)),configDenominator:new l.default(Number(a)),pythConfidenceLimit:new l.default(Number(u)),pythSlotLimit:new l.default(Number(c)),volumeX:new l.default(Number(d)),volumeY:new l.default(Number(h)),volumeXinY:new l.default(Number(m)),coefficientUp:new l.default(Number(g)),coefficientDown:new l.default(Number(y)),oracleStatus:new l.default(Number(b)),configTemp1:new l.default(Number(w)),configTemp2:new l.default(Number(v))};break}case"pythAccount":{const{aggregate:e,exponent:t}=(0,c.parsePriceData)(p);a={price:new l.default(Number(e.priceComponent)),confidence:new l.default(Number(e.confidenceComponent)),status:new l.default(Number(e.status)),publishSlot:new l.default(Number(e.publishSlot)),exponent:t};break}case"pythPcAccount":{const{aggregate:e,exponent:t}=(0,c.parsePriceData)(p);d={price:new l.default(Number(e.priceComponent)),confidence:new l.default(Number(e.confidenceComponent)),status:new l.default(Number(e.status)),publishSlot:new l.default(Number(e.publishSlot)),exponent:t};break}}}}return{amm:n,fees:r,coinBalance:i,pcBalance:o,config:s,pyth:a,pythPc:d}},t.getTokenAccountBalance=function(e,t){return r(this,void 0,void 0,(function*(){const n=yield e._rpcRequest("getTokenAccountBalance",[t.toBase58()]);if(n.error)throw new Error(n.error.message);return n.result}))}},406:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Fraction:()=>A,ONE:()=>l,Stable:()=>b,TWO:()=>d,TokenSwapConstantProduct:()=>S,TokenSwapStable:()=>v,ZERO:()=>c,ZERO_FRACTION:()=>k,abs:()=>f,calculateFeeAmount:()=>w,ceilingDivision:()=>m,mulArray:()=>h,sumArray:()=>p,toDecimal:()=>g});var r=n(8318),i=n.n(r),o=n(3539),s=n.n(o);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=i().BigInt(0),l=i().BigInt(1),d=i().BigInt(2);function f(e){return i().GE(e,c)?e:i().unaryMinus(e)}function p(e){return e.reduce((function(e,t){return i().add(e,t)}),c)}function h(e){return e.reduce((function(e,t){return i().multiply(e,t)}),l)}function m(e,t){var n=i().divide(e,t);if(i().equal(n,c))return[c,c];var r=i().remainder(e,t);return i().greaterThan(r,c)&&(n=i().add(n,l),t=i().divide(e,n),r=i().remainder(e,n),i().greaterThan(r,c)&&(t=i().add(t,l))),[n,t]}function g(e,t){return void 0===t&&(t=0),new(s())(e.toString()).div(new(s())(10).pow(t))}var y=function(){function e(e,t,n){this.numberOfCurrencies=void 0,this.amplificationFactor=void 0,this.targetPrices=void 0,this.numberOfCurrencies=e,this.amplificationFactor=t,this.targetPrices=n}var t=e.prototype;return t.exchange=function(e,t,n,r,o){if(void 0===o&&(o=!0),e.length!==i().toNumber(this.numberOfCurrencies))throw new Error("Number of currencies does not match");var s=this.xp(e),a=i().multiply(r,this.targetPrices[t]),u=i().add(s[t],a),c=this.computeY(e,t,n,u),d=i().subtract(s[n],c);return o&&(d=i().subtract(d,l)),i().divide(d,this.targetPrices[n])},t.computeBaseY=function(e,t,n,r){var o=this.computeD(e),a=this.xp(e),u=i().exponentiate(this.numberOfCurrencies,this.numberOfCurrencies),c=p(a),l=h(a),d=i().subtract(i().add(i().multiply(i().multiply(this.amplificationFactor,u),c),o),i().multiply(i().multiply(this.amplificationFactor,o),u)),f=i().multiply(i().multiply(i().multiply(this.amplificationFactor,u),u),l),m=i().multiply(i().multiply(u,l),d),g=i().add(f,i().divide(m,a[t])),y=i().add(f,i().divide(m,a[n])),b=Math.log10(i().toNumber(this.targetPrices[t])),w=Math.log10(i().toNumber(this.targetPrices[n])),v=Math.abs(w-b);return b>=w?i().BigInt(new(s())(g.toString()).mul(new(s())(r.toString())).div(new(s())(y.toString())).mul(Math.pow(10,v)).floor().toString()):i().BigInt(new(s())(g.toString()).mul(new(s())(r.toString())).div(new(s())(y.toString())).div(Math.pow(10,v)).floor().toString())},t.computeY=function(e,t,n,r){var o=this.computeD(e),s=this.xp(e);s[t]=r,s.splice(n,1);for(var a,h=i().multiply(this.amplificationFactor,this.numberOfCurrencies),m=o,g=u(s);!(a=g()).done;){var y=a.value;m=i().divide(i().multiply(m,o),i().multiply(y,this.numberOfCurrencies))}m=i().divide(i().multiply(m,o),i().multiply(this.numberOfCurrencies,h));for(var b=i().subtract(i().add(p(s),i().divide(o,h)),o),w=c,v=o;i().greaterThan(f(i().subtract(v,w)),l);)w=v,v=i().divide(i().add(i().exponentiate(v,d),m),i().add(i().multiply(d,v),b));return v},t.computeD=function(e){for(var t=c,n=this.xp(e),r=p(n),o=r,s=i().multiply(this.amplificationFactor,this.numberOfCurrencies);i().greaterThan(f(i().subtract(o,t)),l);){for(var a,d=o,h=u(n);!(a=h()).done;){var m=a.value;d=i().divide(i().multiply(d,o),i().multiply(this.numberOfCurrencies,m))}t=o;var g=i().multiply(i().add(i().multiply(s,r),i().multiply(d,this.numberOfCurrencies)),o),y=i().add(i().multiply(i().subtract(s,l),o),i().multiply(i().add(this.numberOfCurrencies,l),d));o=i().divide(g,y)}return o},t.xp=function(e){var t=this;return e.map((function(e,n){return i().multiply(e,t.targetPrices[n])}))},t.setAmplificationFactor=function(e){this.amplificationFactor=e},e}(),b=function(){function e(e,t,n,r){this.targetPrices=void 0,this.traderFee=void 0,this.curve=void 0,this.targetPrices=n,this.traderFee=r,this.curve=new y(e,t,this.targetPrices)}var t=e.prototype;return t.exchange=function(e,t,n,r){var o=this.getOutputAmount(e,t,n,r),s=this.getFees(o),a=i().subtract(o,s);return{priceImpact:this.getPriceImpact(e,t,a,n,r),fees:s,expectedOutputAmount:a}},t.getPriceImpact=function(e,t,n,r,o){if(i().equal(t,c)||i().equal(e[r],c)||i().equal(e[o],c))return new(s())(0);var a=g(this.getOutputAmountWithNoSlippage(e,t,r,o)),u=g(n);return a.sub(u).div(a)},t.getFees=function(e){return i().equal(this.traderFee.numerator,c)?c:i().divide(i().multiply(e,this.traderFee.numerator),this.traderFee.denominator)},t.getOutputAmount=function(e,t,n,r){return this.curve.exchange(e,n,r,t)},t.getOutputAmountWithNoSlippage=function(e,t,n,r){return this.curve.computeBaseY(e,n,r,t)},t.setAmp=function(e){this.curve.setAmplificationFactor(e)},e}();function w(e,t){if(i().equal(t.numerator,c)||i().equal(e,c))return c;var n=i().divide(i().multiply(e,t.numerator),t.denominator);return i().equal(n,c)?l:n}var v=function(){function e(e,t,n){this.traderFee=void 0,this.ownerFee=void 0,this.curve=void 0,this.traderFee=t,this.ownerFee=n,this.curve=new y(d,e,[l,l])}var t=e.prototype;return t.exchange=function(e,t,n){var r=0===n?1:0,i=this.getExpectedOutputAmount(e,t,r,n);return{priceImpact:this.getPriceImpact(e,t,i,r,n),fees:this.getFees(t),expectedOutputAmount:i}},t.getPriceImpact=function(e,t,n,r,o){if(i().equal(t,c)||i().equal(e[r],c)||i().equal(e[o],c))return new(s())(0);var a=g(this.getExpectedOutputAmountWithNoSlippage(e,t,r,o)),u=g(n);return a.sub(u).div(a)},t.getFees=function(e){var t=w(e,this.traderFee),n=w(e,this.ownerFee);return i().add(t,n)},t.getExpectedOutputAmount=function(e,t,n,r){var i=this.getInputAmountLessFees(t);return this.getOutputAmount(e,i,n,r)},t.getExpectedOutputAmountWithNoSlippage=function(e,t,n,r){var i=this.getInputAmountLessFees(t);return this.getOutputAmountWithNoSlippage(e,i,n,r)},t.getInputAmountLessFees=function(e){return i().subtract(e,this.getFees(e))},t.getOutputAmount=function(e,t,n,r){return this.curve.exchange(e,n,r,t,!1)},t.getOutputAmountWithNoSlippage=function(e,t,n,r){return this.curve.computeBaseY(e,n,r,t)},e}(),S=function(){function e(e,t,n){void 0===n&&(n=!0),this.traderFee=void 0,this.ownerFee=void 0,this.feesOnInput=void 0,this.traderFee=e,this.ownerFee=t,this.feesOnInput=n}var t=e.prototype;return t.exchange=function(e,t,n){var r=0===n?1:0,i=this.feesOnInput?this.getAmountLessFees(t):t,o=this.getExpectedOutputAmount(e,i,r,n),s=this.getFees(this.feesOnInput?t:o);return this.feesOnInput||(o=this.getAmountLessFees(o)),{priceImpact:this.getPriceImpact(e,i,o,r,n),fees:s,expectedOutputAmount:o}},t.getPriceImpact=function(e,t,n,r,o){if(i().equal(t,c)||i().equal(e[r],c)||i().equal(e[o],c))return new(s())(0);var a=g(this.getExpectedOutputAmountWithNoSlippage(e,t,r,o)),u=g(n);return a.sub(u).div(a)},t.getFees=function(e){var t=w(e,this.traderFee),n=w(e,this.ownerFee);return i().add(t,n)},t.getExpectedOutputAmount=function(e,t,n,r){return this.getOutputAmount(e,t,n,r)},t.getExpectedOutputAmountWithNoSlippage=function(e,t,n,r){if(i().equal(e[n],c))return e[r];var o=i().divide(i().multiply(t,e[r]),e[n]);return this.feesOnInput?o:this.getAmountLessFees(o)},t.getAmountLessFees=function(e){return i().subtract(e,this.getFees(e))},t.getOutputAmount=function(e,t,n,r){var o=[e[n],e[r]],s=o[0],a=o[1],u=m(this.getInvariant(e),i().add(s,t))[0];return i().subtract(a,u)},t.getInvariant=function(e){return i().multiply(e[0],e[1])},e}(),A=function(e,t){this.numerator=void 0,this.denominator=void 0,this.numerator=e,this.denominator=t},k=new A(i().BigInt(0),i().BigInt(1))},4383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Errors:()=>Sc,JUPITER_ERRORS:()=>Cs,JupiterProvider:()=>_c,LAMPORTS_PER_SIGNATURE:()=>Ho,MARKETS_URL:()=>qo,Owner:()=>Ju,SwapMode:()=>No,TOKEN_LIST_URL:()=>Vo,TransactionBuilder:()=>$u,useJupiter:()=>Ic,useJupiterRouteMap:()=>Mc});var r=n(959),i=n(9990),o=n(9174),s=n(4380);s.n_([s.u8("instruction"),s.Jq("units"),s.Jq("additionalFee")]),s.n_([s.u8("instruction"),s.Jq("bytes")]),new i.PublicKey("ComputeBudget111111111111111111111111111111"),new i.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr");class a extends Error{constructor(e){super("could not estimate transaction size"),this.underlyingError=e,this.name="TXSizeEstimationError"}}class u extends Error{constructor(e,t){super("Transaction too large"),this.tx=e,this.size=t,this.name="EstimatedTXTooBigError"}}const c={};class l extends i.PublicKey{constructor(e){super(e),this._base58=super.toBase58()}equals(e){return e instanceof l?e._base58===this._base58:super.equals(e)}toString(){return this._base58}toBase58(){return this._base58}}const d=e=>c[e]||(c[e]=new l(e)),f={};var p,h=n(9098),m=n.n(h);!function(e){e.SOLANA_EXPLORER="solana-explorer",e.SOLSCAN="solscan"}(p||(p={})),new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),i.SystemProgram.programId,new Map([["GenericError","generic instruction error"],["InvalidArgument","invalid program argument"],["InvalidInstructionData","invalid instruction data"],["InvalidAccountData","invalid account data for instruction"],["AccountDataTooSmall","account data too small for instruction"],["InsufficientFunds","insufficient funds for instruction"],["IncorrectProgramId","incorrect program id for instruction"],["MissingRequiredSignature","missing required signature for instruction"],["AccountAlreadyInitialized","instruction requires an uninitialized account"],["UninitializedAccount","instruction requires an initialized account"],["UnbalancedInstruction","sum of account balances before and after instruction do not match"],["ModifiedProgramId","instruction modified the program id of an account"],["ExternalAccountLamportSpend","instruction spent from the balance of an account it does not own"],["ExternalAccountDataModified","instruction modified data of an account it does not own"],["ReadonlyLamportChange","instruction changed the balance of a read-only account"],["ReadonlyDataModified","instruction modified data of a read-only account"],["DuplicateAccountIndex","instruction contains duplicate accounts"],["ExecutableModified","instruction changed executable bit of an account"],["RentEpochModified","instruction modified rent epoch of an account"],["NotEnoughAccountKeys","insufficient account keys for instruction"],["AccountDataSizeChanged","non-system instruction changed account size"],["AccountNotExecutable","instruction expected an executable account"],["AccountBorrowFailed","instruction tries to borrow reference for an account which is already borrowed"],["AccountBorrowOutstanding","instruction left account with an outstanding borrowed reference"],["DuplicateAccountOutOfSync","instruction modifications of multiply-passed account differ"],["Custom","custom program error: {0}"],["InvalidError","program returned invalid error code"],["ExecutableDataModified","instruction changed executable accounts data"],["ExecutableLamportChange","instruction changed the balance of a executable account"],["ExecutableAccountNotRentExempt","executable accounts must be rent exempt"],["UnsupportedProgramId","Unsupported program id"],["CallDepth","Cross-program invocation call depth too deep"],["MissingAccount","An account required by the instruction is missing"],["ReentrancyNotAllowed","Cross-program invocation reentrancy not allowed for this instruction"],["MaxSeedLengthExceeded","Length of the seed is too long for address generation"],["InvalidSeeds","Provided seeds do not result in a valid address"],["InvalidRealloc","Failed to reallocate account data"],["ComputationalBudgetExceeded","Computational budget exceeded"],["PrivilegeEscalation","Cross-program invocation with unauthorized signer or writable account"],["ProgramEnvironmentSetupFailure","Failed to create program execution environment"],["ProgramFailedToComplete","Program failed to complete"],["ProgramFailedToCompile","Program failed to compile"],["Immutable","Account is immutable"],["IncorrectAuthority","Incorrect authority provided"],["BorshIoError","Failed to serialize or deserialize account data: {0}"],["AccountNotRentExempt","An account does not have enough lamports to be rent-exempt"],["InvalidAccountOwner","Invalid account owner"],["ArithmeticOverflow","Program arithmetic overflowed"],["UnsupportedSysvar","Unsupported sysvar"],["IllegalOwner","Provided owner is not allowed"]]),n(4449);var g=n(6604);const y=(e="publicKey")=>s.Ik(32,e),b=(e="uint64")=>s.Ik(8,e),w=g.MintLayout;var v=n(8318),S=n.n(v);const A=S().BigInt(0),k=S().BigInt(1),_=S().BigInt(10);var M;!function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(M||(M={}));const E=S().BigInt("0xffffffffffffffff");S().BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var P=n(6792),T=n(7290),O=n.n(T),x=n(8624);const B={[M.ROUND_DOWN]:O().ROUND_DOWN,[M.ROUND_HALF_UP]:O().ROUND_HALF_UP,[M.ROUND_UP]:O().ROUND_UP},L={[M.ROUND_DOWN]:P.Z.roundDown,[M.ROUND_HALF_UP]:P.Z.roundHalfUp,[M.ROUND_UP]:P.Z.roundUp},C={decimalSeparator:".",groupSeparator:"",groupSize:3,rounding:M.ROUND_DOWN},R=(e,t,n,r,{decimalSeparator:i=C.decimalSeparator,groupSeparator:o=C.groupSeparator,groupSize:s=C.groupSize,rounding:a=C.rounding}=C)=>{const u=e;if(!u.e&&0!==u.e)return e.toString();const[c,l]=e.toFixed(r,"fixed"===n?L[a]:B[a]).split(".");(0,x.Z)(c);let d=c;if(o){const e=t?c.slice(1):c,n=e.length;if(s>0&&n>0){let r=n%s||s;for(d=e.slice(0,r);r<n;r+=s)d+=o+e.slice(r,r+s);t&&(d="-"+d)}}return l?d+(null!=i?i:"")+l:d},N=(e,t,n=C)=>R(e,-1===e.s,"fixed",t,n);function D(e){return e instanceof S()?e:"string"==typeof e||"number"==typeof e?S().BigInt(e):"bigint"==typeof e||null!==(t=e)&&"object"==typeof t&&26===t.constructor.wordSize&&Array.isArray(t.words)?S().BigInt(e.toString()):S().BigInt(e);var t}const F={},K=e=>F[e]||(F[e]=e<=18?S().BigInt(10**e):S().exponentiate(_,S().BigInt(e))),U=e=>{if(W.isFraction(e))return e;try{return new W(D(e))}catch(e){if(e instanceof Error)throw new Error(`Could not parse fraction: ${e.message}`);throw new Error("Could not parse fraction")}};class W{constructor(e,t=k){this.isFraction=!0,this.numerator=D(e),this.denominator=D(t)}get numeratorStr(){return this.numerator.toString()}get denominatorStr(){return this.numerator.toString()}static fromObject(e){return e instanceof W?e:(({numeratorStr:e,denominatorStr:t})=>new W(e,t))(e)}toJSON(){return{isFraction:!0,numeratorStr:this.numerator.toString(),denominatorStr:this.denominator.toString()}}static isFraction(e){return"object"==typeof e&&null!==e&&"numerator"in e&&"denominator"in e}compareTo(e){return this.equalTo(e)?0:this.greaterThan(e)?1:-1}static fromNumber(e,t=10){const n=Math.pow(10,t);return new W(Math.floor(e*n),n)}get quotient(){return S().divide(this.numerator,this.denominator)}get remainder(){return new W(S().remainder(this.numerator,this.denominator),this.denominator)}invert(){return new W(this.denominator,this.numerator)}add(e){const t=U(e);return S().equal(this.denominator,t.denominator)?new W(S().add(this.numerator,t.numerator),this.denominator):new W(S().add(S().multiply(this.numerator,t.denominator),S().multiply(t.numerator,this.denominator)),S().multiply(this.denominator,t.denominator))}subtract(e){const t=U(e);return S().equal(this.denominator,t.denominator)?new W(S().subtract(this.numerator,t.numerator),this.denominator):new W(S().subtract(S().multiply(this.numerator,t.denominator),S().multiply(t.numerator,this.denominator)),S().multiply(this.denominator,t.denominator))}lessThan(e){const t=U(e);return S().lessThan(S().multiply(this.numerator,t.denominator),S().multiply(t.numerator,this.denominator))}equalTo(e){const t=U(e);return S().equal(S().multiply(this.numerator,t.denominator),S().multiply(t.numerator,this.denominator))}greaterThan(e){const t=U(e);return S().greaterThan(S().multiply(this.numerator,t.denominator),S().multiply(t.numerator,this.denominator))}multiply(e){const t=U(e);return new W(S().multiply(this.numerator,t.numerator),S().multiply(this.denominator,t.denominator))}divide(e){const t=U(e);return new W(S().multiply(this.numerator,t.denominator),S().multiply(this.denominator,t.numerator))}toSignificant(e,t={groupSeparator:""},n=M.ROUND_HALF_UP){(0,x.Z)(Number.isInteger(e),`${e} is not an integer.`),(0,x.Z)(e>0,`${e} is not positive.`),O().set({precision:e+1,rounding:B[n]});const r=new(O())(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return((e,t,n=C)=>R(e,e.isNegative(),"significant",t,n))(r,r.decimalPlaces(),{...t,rounding:n})}toFixed(e,t={groupSeparator:""},n=M.ROUND_HALF_UP){return(0,x.Z)(Number.isInteger(e),`${e} is not an integer.`),(0,x.Z)(e>=0,`${e} is negative.`),N(new P.Z(this.numerator.toString()).div(this.denominator.toString()),e,{...t,rounding:n})}get asFraction(){return new W(this.numerator,this.denominator)}get asNumber(){if(S().equal(this.denominator,A))return S().greaterThan(this.numerator,A)?Number.POSITIVE_INFINITY:S().lessThan(this.numerator,A)?Number.NEGATIVE_INFINITY:Number.NaN;const e=S().toNumber(this.numerator)/S().toNumber(this.denominator);return Number.isNaN(e)?parseFloat(this.toFixed(10)):e}isZero(){return S().EQ(this.numerator,A)&&S().NE(this.denominator,A)}isNonZero(){return!this.isZero()}}W.ZERO=new W(0),W.ONE=new W(1);const z=new W(100);function j(e){return new q(e.numerator,e.denominator)}class q extends W{constructor(){super(...arguments),this.isPercent=!0}static fromNumber(e,t=10){const n=W.fromNumber(e,t);return new q(n.numerator,n.denominator)}static fromObject(e){return e instanceof q?e:j(W.fromObject(e))}toJSON(){return{...super.toJSON(),isPercent:!0}}static fromFraction(e){return j(e)}static fromBPS(e){return new q(e,1e4)}add(e){return j(super.add(e))}subtract(e){return j(super.subtract(e))}multiply(e){return j(super.multiply(e))}divide(e){return j(super.divide(e))}invert(){return new q(this.denominator,this.numerator)}toSignificant(e=5,t,n){return super.multiply(z).toSignificant(e,t,n)}toFixed(e=2,t,n){return super.multiply(z).toFixed(e,t,n)}static isPercent(e){return W.isFraction(e)&&!0===(null==e?void 0:e.isPercent)}}q.ZERO=new q(0),q.ONE=new q(1,100),q.ONE_HUNDRED=new q(1);const V=(e,t)=>{var n;return null===(n=Intl.NumberFormat(t).formatToParts(1000.1).find((t=>t.type===e)))||void 0===n?void 0:n.value};V("decimal",undefined),V("group",void 0);const H=(e,t,n=".",r=",")=>{const i=t.split(n);if(0===i.length)throw new Error("empty number");const[o,s]=i,a=o?S().BigInt(o.split(r).join("")):A,u=s?S().BigInt(s.slice(0,e.decimals)+Array(e.decimals).fill("0").slice(s.length).join("")):A;return S().add(S().multiply(a,K(e.decimals)),u)};class Q extends RangeError{constructor(e,t){super(`Token amount overflows ${e}: ${t.toString()}`)}}class G extends RangeError{constructor(e){super(`Token amount must be greater than zero: ${e.toString()}`)}}function X(e){if(!S().greaterThanOrEqual(e,A))throw new G(e);if(!S().lessThanOrEqual(e,E))throw new Q("u64",e)}const Y=e=>{const[t,n,...r]=e.split(".");if(r.length>0||!t)return console.warn(`Invalid number passed to stripTrailingZeroes: ${e}`),e;if(!n)return e;const i=n.replace(/0+$/,"");return""===i?t:`${t}.${i}`};class Z extends W{constructor(e,t,n){const r=D(t);null==n||n(r),super(r,K(e.decimals)),this.token=e,this.token=e}withAmount(e){return this.new(this.token,e)}get raw(){return this.numerator}toSignificant(e=6,t,n=M.ROUND_DOWN){return super.toSignificant(e,t,n)}toFixed(e=this.token.decimals,t,n=M.ROUND_DOWN){return(0,x.Z)(e<=this.token.decimals,"DECIMALS"),super.toFixed(e,t,n)}toExact(e={groupSeparator:""}){return N(new P.Z(this.numerator.toString()).div(this.denominator.toString()),this.token.decimals,e)}add(e){return(0,x.Z)(this.token.equals(e.token),`add token mismatch: ${this.token.toString()} !== ${e.token.toString()}`),this.withAmount(S().add(this.raw,e.raw))}subtract(e){return(0,x.Z)(this.token.equals(e.token),`subtract token mismatch: ${this.token.toString()} !== ${e.token.toString()}`),this.withAmount(S().subtract(this.raw,e.raw))}percentOf(e){(0,x.Z)(this.token.equals(e.token),`percentOf token mismatch: ${this.token.toString()} !== ${e.token.toString()}`);const t=this.divide(e);return new q(t.numerator,t.denominator)}divideBy(e){const t=this.divide(e);return new q(t.numerator,t.denominator)}scale(e){return this.withAmount(e.asFraction.multiply(this.raw).toFixed(0))}reduceBy(e){return this.scale(q.ONE_HUNDRED.subtract(e))}formatUnits(){return`${Y(this.toExact({groupSeparator:",",groupSize:3,decimalSeparator:"."}))} ${this.token.symbol}`}format({numberFormatOptions:e,locale:t}={}){return`${void 0!==e?this.asNumber.toLocaleString(t,e):Y(this.toFixed(this.token.decimals))}`}get asNumber(){return parseFloat(this.toExact())}static isTokenAmount(e){return W.isFraction(e)&&!!(null==e?void 0:e.token)}divideByAmount(e){return this.percentOf(e)}multiplyBy(e){return this.scale(e)}}var $;!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet"}($||($={}));const J=new i.PublicKey("RawSo11111111111111111111111111111111111112");class ee{constructor(e){var t;this.info=e,this._mintAccount=null,this.network=null!==(t=ue(e.chainId))&&void 0!==t?t:"localnet"}get mintAccount(){return this._mintAccount||(this._mintAccount=new i.PublicKey(this.info.address)),this._mintAccount}get isRawSOL(){return this.mintAccount.equals(J)}get address(){return this.info.address}get chainId(){return this.info.chainId}get decimals(){return this.info.decimals}get name(){return this.info.name}get symbol(){return this.info.symbol}get icon(){return this.info.logoURI}equals(e){return te(this,e)}toString(){return`Token[mint=${this.address}, decimals=${this.decimals}, network=${this.network}]`}toJSON(){return this.info}hasTag(e){var t;return!!(null===(t=this.info.tags)||void 0===t?void 0:t.includes(e))}}ee.fromMint=(e,t,n={})=>{var r,i,o;return new ee({...n,address:e.toString(),decimals:t,name:null!==(r=n.name)&&void 0!==r?r:`Token ${e.toString().slice(0,4)}`,symbol:null!==(i=n.symbol)&&void 0!==i?i:e.toString().slice(0,5),chainId:null!==(o=n.chainId)&&void 0!==o?o:oe.Localnet})},ee.load=async(e,t,n={})=>{if("number"==typeof n.decimals)return ee.fromMint(t,n.decimals,n);const r=await e.getAccountInfo(t);if(!r)return null;const o=(e=>{if(e.length!==w.span)throw new Error("Not a valid Mint");const t=w.decode(e);let n;n=0===t.mintAuthorityOption?null:new i.PublicKey(t.mintAuthority);const r=g.u64.fromBuffer(t.supply),o=0!==t.isInitialized;let s;return s=0===t.freezeAuthorityOption?null:new i.PublicKey(t.freezeAuthority),{mintAuthority:n,supply:r,decimals:t.decimals,isInitialized:o,freezeAuthority:s}})(r.data);return ee.fromMint(t,o.decimals,n)};const te=(e,t)=>void 0!==e&&void 0!==t&&e.address===t.address&&e.network===t.network,ne={address:J.toString(),name:"Solana",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},re={address:g.NATIVE_MINT.toString(),name:"Wrapped SOL",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},ie=e=>({"mainnet-beta":new ee({...e,chainId:oe.MainnetBeta}),devnet:new ee({...e,chainId:oe.Devnet}),testnet:new ee({...e,chainId:oe.Testnet}),localnet:new ee({...e,chainId:oe.Localnet})});var oe;!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet",e[e.Localnet=104]="Localnet"}(oe||(oe={}));const se={"mainnet-beta":oe.MainnetBeta,devnet:oe.Devnet,testnet:oe.Testnet,localnet:104},ae=Object.entries(se).reduce(((e,[t,n])=>({...e,[n]:t})),{}),ue=e=>ae[e];ie(ne),ie(re);class ce extends Z{constructor(e,t){super(e,t,X)}new(e,t){return new ce(e,t)}static parse(e,t){const n=H(e,t,".",",");return new ce(e,n)}divideByInteger(e){return new ce(this.token,this.toU64().div(new(m())(D(e).toString())))}toString(){return`TokenAmount[Token=(${this.token.toString()}), amount=${this.toExact()}`}toJSON(){return{...super.toJSON(),_isTA:!0,mint:this.token.address,uiAmount:this.toExact()}}toU64(){return new g.u64(this.raw.toString())}}new i.PublicKey("shmem4EWT2sPdVGvTZCzXXRAURL9G5vpPxNwSeKhHUL");var le=n(525),de=n.n(le);S().BigInt(2),S().BigInt(2);const fe=new i.PublicKey("SSwpkEEcbUqx4vtoEByFjSkhKdCT862DNVb52nZg1UZ"),pe=(new q(0,1e4),50),he=(new q(20,1e4),new q(50,1e4),new q(pe,100),new q(50,100),({config:{swapProgramID:e},keys:t,data:n})=>new i.TransactionInstruction({keys:t,programId:e,data:n}));var me;!function(e){e[e.RAMP_A=100]="RAMP_A",e[e.STOP_RAMP_A=101]="STOP_RAMP_A",e[e.PAUSE=102]="PAUSE",e[e.UNPAUSE=103]="UNPAUSE",e[e.SET_FEE_ACCOUNT=104]="SET_FEE_ACCOUNT",e[e.APPLY_NEW_ADMIN=105]="APPLY_NEW_ADMIN",e[e.COMMIT_NEW_ADMIN=106]="COMMIT_NEW_ADMIN",e[e.SET_NEW_FEES=107]="SET_NEW_FEES"}(me||(me={}));const ge=s.n_([b("adminTradeFeeNumerator"),b("adminTradeFeeDenominator"),b("adminWithdrawFeeNumerator"),b("adminWithdrawFeeDenominator"),b("tradeFeeNumerator"),b("tradeFeeDenominator"),b("withdrawFeeNumerator"),b("withdrawFeeDenominator")],"fees"),ye=s.n_([s.u8("isInitialized"),s.u8("isPaused"),s.u8("nonce"),b("initialAmpFactor"),b("targetAmpFactor"),s.gM("startRampTs"),s.gM("stopRampTs"),s.gM("futureAdminDeadline"),y("futureAdminAccount"),y("adminAccount"),y("tokenAccountA"),y("tokenAccountB"),y("tokenPool"),y("mintA"),y("mintB"),y("adminFeeAccountA"),y("adminFeeAccountB"),ge]),be=(s.n_([s.u8("instruction"),s.u8("nonce"),b("ampFactor"),ge]),s.n_([s.u8("instruction"),b("amountIn"),b("minimumAmountOut")])),we=s.n_([s.u8("instruction"),b("tokenAmountA"),b("tokenAmountB"),b("minimumPoolTokenAmount")]),ve=s.n_([s.u8("instruction"),b("poolTokenAmount"),b("minimumTokenA"),b("minimumTokenB")]),Se=s.n_([s.u8("instruction"),b("poolTokenAmount"),b("minimumTokenAmount")]),Ae=(s.n_([s.u8("instruction"),b("targetAmp"),s.gM("stopRampTS")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction"),ge]),e=>{const t=ye.decode(e);if(!t.isInitialized)throw new Error("Invalid token swap state");const n=new i.PublicKey(t.adminAccount),r=new i.PublicKey(t.adminFeeAccountA),o=new i.PublicKey(t.adminFeeAccountB),s=new i.PublicKey(t.tokenAccountA),a=new i.PublicKey(t.tokenAccountB),u=new i.PublicKey(t.tokenPool),c=new i.PublicKey(t.mintA),l=new i.PublicKey(t.mintB),d=g.u64.fromBuffer(Buffer.from(t.initialAmpFactor)),f=g.u64.fromBuffer(Buffer.from(t.targetAmpFactor)),p=t.startRampTs,h=t.stopRampTs,m=(y=t.fees,{adminTrade:new q(g.u64.fromBuffer(Buffer.from(y.adminTradeFeeNumerator)).toString(),g.u64.fromBuffer(Buffer.from(y.adminTradeFeeDenominator)).toString()),adminWithdraw:new q(g.u64.fromBuffer(Buffer.from(y.adminWithdrawFeeNumerator)).toString(),g.u64.fromBuffer(Buffer.from(y.adminWithdrawFeeDenominator)).toString()),trade:new q(g.u64.fromBuffer(Buffer.from(y.tradeFeeNumerator)).toString(),g.u64.fromBuffer(Buffer.from(y.tradeFeeDenominator)).toString()),withdraw:new q(g.u64.fromBuffer(Buffer.from(y.withdrawFeeNumerator)).toString(),g.u64.fromBuffer(Buffer.from(y.withdrawFeeDenominator)).toString())});var y;return{isInitialized:!!t.isInitialized,isPaused:!!t.isPaused,nonce:t.nonce,futureAdminDeadline:t.futureAdminDeadline,futureAdminAccount:new i.PublicKey(t.futureAdminAccount),adminAccount:n,tokenA:{adminFeeAccount:r,reserve:s,mint:c},tokenB:{adminFeeAccount:o,reserve:a,mint:l},poolTokenMint:u,initialAmpFactor:d,targetAmpFactor:f,startRampTimestamp:p,stopRampTimestamp:h,fees:m}});var ke;!function(e){e[e.INITIALIZE=0]="INITIALIZE",e[e.SWAP=1]="SWAP",e[e.DEPOSIT=2]="DEPOSIT",e[e.WITHDRAW=3]="WITHDRAW",e[e.WITHDRAW_ONE=4]="WITHDRAW_ONE"}(ke||(ke={}));class _e{constructor(e,t){this.config=e,this.state=t}static async getMinBalanceRentForExemptStableSwap(e){return await e.getMinimumBalanceForRentExemption(ye.span)}static async load(e,t,n=fe){const r=await(async(e,t,n)=>{const r=await e.getAccountInfo(t);if(null===r)throw new Error("Failed to find account");if(!r.owner.equals(n))throw new Error(`Invalid owner: expected ${n.toBase58()}, found ${r.owner.toBase58()}`);return Buffer.from(r.data)})(e,t,n),i=Ie(t,n);return _e.loadWithData(t,r,i,n)}static async loadFromExchange(e,t){return _e.load(e,t.swapAccount,t.programID)}static async fromProgramAccount(e){const[t]=await Me(e.publicKey);return _e.fromProgramAccountWithAuthority(e,t)}static fromData(e){const t=Ie(e.publicKey);return _e.fromProgramAccountWithAuthority(e,t)}static fromProgramAccountWithAuthority(e,t){return new _e({swapAccount:e.publicKey,swapProgramID:fe,tokenProgramID:g.TOKEN_PROGRAM_ID,authority:t},e.account)}static loadWithData(e,t,n,r=fe){try{const i=Ae(t);if(!i.isInitialized)throw new Error("Invalid token swap state");return new _e({swapAccount:e,swapProgramID:r,tokenProgramID:g.TOKEN_PROGRAM_ID,authority:n},i)}catch(e){throw Error(e)}}swap(e){return function({config:e,state:t},n){const r=n.poolDestination.equals(t.tokenA.reserve)?t.tokenA.adminFeeAccount:t.tokenB.adminFeeAccount;return(({config:e,userAuthority:t,userSource:n,poolSource:r,poolDestination:i,userDestination:o,adminDestination:s,amountIn:a,minimumAmountOut:u})=>{const c=Buffer.alloc(be.span);be.encode({instruction:ke.SWAP,amountIn:a.toBuffer(),minimumAmountOut:u.toBuffer()},c);const l=[{pubkey:e.swapAccount,isSigner:!1,isWritable:!1},{pubkey:e.authority,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:e.tokenProgramID,isSigner:!1,isWritable:!1}];return he({config:e,keys:l,data:c})})({config:e,...n,adminDestination:r})}(this,e)}deposit(e){return function({config:e,state:t},n){return(({config:e,userAuthority:t,sourceA:n,sourceB:r,tokenAccountA:i,tokenAccountB:o,poolTokenMint:s,poolTokenAccount:a,tokenAmountA:u,tokenAmountB:c,minimumPoolTokenAmount:l})=>{const d=Buffer.alloc(we.span);we.encode({instruction:ke.DEPOSIT,tokenAmountA:u.toBuffer(),tokenAmountB:c.toBuffer(),minimumPoolTokenAmount:l.toBuffer()},d);const f=[{pubkey:e.swapAccount,isSigner:!1,isWritable:!1},{pubkey:e.authority,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.tokenProgramID,isSigner:!1,isWritable:!1}];return he({config:e,keys:f,data:d})})({config:e,tokenAccountA:t.tokenA.reserve,tokenAccountB:t.tokenB.reserve,poolTokenMint:t.poolTokenMint,...n})}(this,e)}withdraw(e){return function({config:e,state:t},n){return(({config:e,userAuthority:t,poolMint:n,sourceAccount:r,tokenAccountA:i,tokenAccountB:o,userAccountA:s,userAccountB:a,adminFeeAccountA:u,adminFeeAccountB:c,poolTokenAmount:l,minimumTokenA:d,minimumTokenB:f})=>{const p=Buffer.alloc(ve.span);ve.encode({instruction:ke.WITHDRAW,poolTokenAmount:l.toBuffer(),minimumTokenA:d.toBuffer(),minimumTokenB:f.toBuffer()},p);const h=[{pubkey:e.swapAccount,isSigner:!1,isWritable:!1},{pubkey:e.authority,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:e.tokenProgramID,isSigner:!1,isWritable:!1}];return he({config:e,keys:h,data:p})})({config:e,poolMint:t.poolTokenMint,tokenAccountA:t.tokenA.reserve,tokenAccountB:t.tokenB.reserve,adminFeeAccountA:t.tokenA.adminFeeAccount,adminFeeAccountB:t.tokenB.adminFeeAccount,...n})}(this,e)}withdrawOne(e){return function({config:e,state:t},n){const[r,i]=n.baseTokenAccount.equals(t.tokenA.reserve)?[t.tokenB.reserve,t.tokenA.adminFeeAccount]:[t.tokenA.reserve,t.tokenB.adminFeeAccount];return(({config:e,userAuthority:t,poolMint:n,sourceAccount:r,baseTokenAccount:i,quoteTokenAccount:o,destinationAccount:s,adminDestinationAccount:a,poolTokenAmount:u,minimumTokenAmount:c})=>{const l=Buffer.alloc(Se.span);Se.encode({instruction:ke.WITHDRAW_ONE,poolTokenAmount:u.toBuffer(),minimumTokenAmount:c.toBuffer()},l);const d=[{pubkey:e.swapAccount,isSigner:!1,isWritable:!1},{pubkey:e.authority,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.tokenProgramID,isSigner:!1,isWritable:!1}];return he({config:e,keys:d,data:l})})({config:e,poolMint:t.poolTokenMint,quoteTokenAccount:r,adminDestinationAccount:i,...n})}(this,e)}}const Me=(e,t=fe)=>i.PublicKey.findProgramAddress([e.toBuffer()],t),Ie=(e,t=fe)=>((e,t)=>{const n=(e=>Uint8Array.from(e.reduce(((e,t)=>[...e,...t]),[])))(e),r=`${n.toString()}_${t.toString()}`,o=f[r];if(o)return o;const[s]=i.PublicKey.findProgramAddressSync(e,t);return f[r]="string"==typeof(a=s)?d(a):a instanceof i.PublicKey?d(a.toString()):d(new i.PublicKey(a).toString());var a})([e.toBuffer()],t),Ee=(e,t=Date.now()/1e3)=>{const{initialAmpFactor:n,targetAmpFactor:r,startRampTimestamp:i,stopRampTimestamp:o}=e;if(t>=o)return D(r);if(t<=i)return D(n);(0,x.Z)(o>=i,"stop must be after start");const s=t>=o?1:t<=i?0:(t-i)/(o-i),a=Math.floor(parseFloat(r.sub(n).toString())*s);return D(n.add(new(m())(a)))};var Pe=n(3539),Te=n.n(Pe);function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Be=S().BigInt(0),Le=S().BigInt(1),Ce=S().BigInt(2);function Re(e){return S().GE(e,Be)?e:S().unaryMinus(e)}function Ne(e){return e.reduce((function(e,t){return S().add(e,t)}),Be)}function De(e,t){return void 0===t&&(t=0),new(Te())(e.toString()).div(new(Te())(10).pow(t))}var Fe=function(){function e(e,t,n){this.numberOfCurrencies=void 0,this.amplificationFactor=void 0,this.targetPrices=void 0,this.numberOfCurrencies=e,this.amplificationFactor=t,this.targetPrices=n}var t=e.prototype;return t.exchange=function(e,t,n,r,i){if(void 0===i&&(i=!0),e.length!==S().toNumber(this.numberOfCurrencies))throw new Error("Number of currencies does not match");var o=this.xp(e),s=S().multiply(r,this.targetPrices[t]),a=S().add(o[t],s),u=this.computeY(e,t,n,a),c=S().subtract(o[n],u);return i&&(c=S().subtract(c,Le)),S().divide(c,this.targetPrices[n])},t.computeBaseY=function(e,t,n,r){var i=this.computeD(e),o=this.xp(e),s=S().exponentiate(this.numberOfCurrencies,this.numberOfCurrencies),a=Ne(o),u=o.reduce((function(e,t){return S().multiply(e,t)}),Le),c=S().subtract(S().add(S().multiply(S().multiply(this.amplificationFactor,s),a),i),S().multiply(S().multiply(this.amplificationFactor,i),s)),l=S().multiply(S().multiply(S().multiply(this.amplificationFactor,s),s),u),d=S().multiply(S().multiply(s,u),c),f=S().add(l,S().divide(d,o[t])),p=S().add(l,S().divide(d,o[n])),h=Math.log10(S().toNumber(this.targetPrices[t])),m=Math.log10(S().toNumber(this.targetPrices[n])),g=Math.abs(m-h);return h>=m?S().BigInt(new(Te())(f.toString()).mul(new(Te())(r.toString())).div(new(Te())(p.toString())).mul(Math.pow(10,g)).floor().toString()):S().BigInt(new(Te())(f.toString()).mul(new(Te())(r.toString())).div(new(Te())(p.toString())).div(Math.pow(10,g)).floor().toString())},t.computeY=function(e,t,n,r){var i=this.computeD(e),o=this.xp(e);o[t]=r,o.splice(n,1);for(var s,a=S().multiply(this.amplificationFactor,this.numberOfCurrencies),u=i,c=xe(o);!(s=c()).done;){var l=s.value;u=S().divide(S().multiply(u,i),S().multiply(l,this.numberOfCurrencies))}u=S().divide(S().multiply(u,i),S().multiply(this.numberOfCurrencies,a));for(var d=S().subtract(S().add(Ne(o),S().divide(i,a)),i),f=Be,p=i;S().greaterThan(Re(S().subtract(p,f)),Le);)f=p,p=S().divide(S().add(S().exponentiate(p,Ce),u),S().add(S().multiply(Ce,p),d));return p},t.computeD=function(e){for(var t=Be,n=this.xp(e),r=Ne(n),i=r,o=S().multiply(this.amplificationFactor,this.numberOfCurrencies);S().greaterThan(Re(S().subtract(i,t)),Le);){for(var s,a=i,u=xe(n);!(s=u()).done;){var c=s.value;a=S().divide(S().multiply(a,i),S().multiply(this.numberOfCurrencies,c))}t=i;var l=S().multiply(S().add(S().multiply(o,r),S().multiply(a,this.numberOfCurrencies)),i),d=S().add(S().multiply(S().subtract(o,Le),i),S().multiply(S().add(this.numberOfCurrencies,Le),a));i=S().divide(l,d)}return i},t.xp=function(e){var t=this;return e.map((function(e,n){return S().multiply(e,t.targetPrices[n])}))},t.setAmplificationFactor=function(e){this.amplificationFactor=e},e}(),Ke=function(){function e(e,t,n,r){this.targetPrices=void 0,this.traderFee=void 0,this.curve=void 0,this.targetPrices=n,this.traderFee=r,this.curve=new Fe(e,t,this.targetPrices)}var t=e.prototype;return t.exchange=function(e,t,n,r){var i=this.getOutputAmount(e,t,n,r),o=this.getFees(i),s=S().subtract(i,o);return{priceImpact:this.getPriceImpact(e,t,s,n,r),fees:o,expectedOutputAmount:s}},t.getPriceImpact=function(e,t,n,r,i){if(S().equal(t,Be)||S().equal(e[r],Be)||S().equal(e[i],Be))return new(Te())(0);var o=De(this.getOutputAmountWithNoSlippage(e,t,r,i)),s=De(n);return o.sub(s).div(o)},t.getFees=function(e){return S().equal(this.traderFee.numerator,Be)?Be:S().divide(S().multiply(e,this.traderFee.numerator),this.traderFee.denominator)},t.getOutputAmount=function(e,t,n,r){return this.curve.exchange(e,n,r,t)},t.getOutputAmountWithNoSlippage=function(e,t,n,r){return this.curve.computeBaseY(e,n,r,t)},t.setAmp=function(e){this.curve.setAmplificationFactor(e)},e}();function Ue(e,t){if(S().equal(t.numerator,Be)||S().equal(e,Be))return Be;var n=S().divide(S().multiply(e,t.numerator),t.denominator);return S().equal(n,Be)?Le:n}var We=function(){function e(e,t,n){this.traderFee=void 0,this.ownerFee=void 0,this.curve=void 0,this.traderFee=t,this.ownerFee=n,this.curve=new Fe(Ce,e,[Le,Le])}var t=e.prototype;return t.exchange=function(e,t,n){var r=0===n?1:0,i=this.getExpectedOutputAmount(e,t,r,n);return{priceImpact:this.getPriceImpact(e,t,i,r,n),fees:this.getFees(t),expectedOutputAmount:i}},t.getPriceImpact=function(e,t,n,r,i){if(S().equal(t,Be)||S().equal(e[r],Be)||S().equal(e[i],Be))return new(Te())(0);var o=De(this.getExpectedOutputAmountWithNoSlippage(e,t,r,i)),s=De(n);return o.sub(s).div(o)},t.getFees=function(e){var t=Ue(e,this.traderFee),n=Ue(e,this.ownerFee);return S().add(t,n)},t.getExpectedOutputAmount=function(e,t,n,r){var i=this.getInputAmountLessFees(t);return this.getOutputAmount(e,i,n,r)},t.getExpectedOutputAmountWithNoSlippage=function(e,t,n,r){var i=this.getInputAmountLessFees(t);return this.getOutputAmountWithNoSlippage(e,i,n,r)},t.getInputAmountLessFees=function(e){return S().subtract(e,this.getFees(e))},t.getOutputAmount=function(e,t,n,r){return this.curve.exchange(e,n,r,t,!1)},t.getOutputAmountWithNoSlippage=function(e,t,n,r){return this.curve.computeBaseY(e,n,r,t)},e}(),ze=function(){function e(e,t,n){void 0===n&&(n=!0),this.traderFee=void 0,this.ownerFee=void 0,this.feesOnInput=void 0,this.traderFee=e,this.ownerFee=t,this.feesOnInput=n}var t=e.prototype;return t.exchange=function(e,t,n){var r=0===n?1:0,i=this.feesOnInput?this.getAmountLessFees(t):t,o=this.getExpectedOutputAmount(e,i,r,n),s=this.getFees(this.feesOnInput?t:o);return this.feesOnInput||(o=this.getAmountLessFees(o)),{priceImpact:this.getPriceImpact(e,i,o,r,n),fees:s,expectedOutputAmount:o}},t.getPriceImpact=function(e,t,n,r,i){if(S().equal(t,Be)||S().equal(e[r],Be)||S().equal(e[i],Be))return new(Te())(0);var o=De(this.getExpectedOutputAmountWithNoSlippage(e,t,r,i)),s=De(n);return o.sub(s).div(o)},t.getFees=function(e){var t=Ue(e,this.traderFee),n=Ue(e,this.ownerFee);return S().add(t,n)},t.getExpectedOutputAmount=function(e,t,n,r){return this.getOutputAmount(e,t,n,r)},t.getExpectedOutputAmountWithNoSlippage=function(e,t,n,r){if(S().equal(e[n],Be))return e[r];var i=S().divide(S().multiply(t,e[r]),e[n]);return this.feesOnInput?i:this.getAmountLessFees(i)},t.getAmountLessFees=function(e){return S().subtract(e,this.getFees(e))},t.getOutputAmount=function(e,t,n,r){var i=[e[n],e[r]],o=i[0],s=i[1],a=function(e,t){var n=S().divide(e,t);if(S().equal(n,Be))return[Be,Be];var r=S().remainder(e,t);return S().greaterThan(r,Be)&&(n=S().add(n,Le),t=S().divide(e,n),r=S().remainder(e,n),S().greaterThan(r,Be)&&(t=S().add(t,Le))),[n,t]}(this.getInvariant(e),S().add(o,t))[0];return S().subtract(s,a)},t.getInvariant=function(e){return S().multiply(e[0],e[1])},e}(),je=function(e,t){this.numerator=void 0,this.denominator=void 0,this.numerator=e,this.denominator=t},qe=new je(S().BigInt(0),S().BigInt(1)),Ve=n(3897);class He extends Error{constructor(e,t,n){super(e),this.txid=void 0,this.code=void 0,this.txid=t,this.code=n,Object.setPrototypeOf(this,Error.prototype)}}const Qe="Unknown error, visit the explorer",Ge="11111111111111111111111111111111";const Xe=e=>{if(null==e||0==e.length)return;const t=g.AccountLayout.decode(e);return t.mint=new i.PublicKey(t.mint),t.owner=new i.PublicKey(t.owner),t.amount=g.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new g.u64(0)):(t.delegate=new i.PublicKey(t.delegate),t.delegatedAmount=g.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=g.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new i.PublicKey(t.closeAuthority),t};var Ye=n(55),Ze=n(2781);function $e(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Je(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const et={number:$e,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Je,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");$e(e.outputLen),$e(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Je(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},tt=et,nt=("object"==typeof self&&"crypto"in self&&self.crypto,e=>new DataView(e.buffer,e.byteOffset,e.byteLength)),rt=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function it(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));class ot{clone(){return this._cloneInto()}}class st extends ot{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=nt(this.buffer)}update(e){tt.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=it(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=nt(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){tt.exists(this),tt.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),u=r?4:0,c=r?0:4;e.setUint32(t+u,s,r),e.setUint32(t+c,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=nt(e);this.get().forEach(((e,t)=>s.setUint32(4*t,e,i)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const at=(e,t,n)=>e&t^~e&n,ut=(e,t,n)=>e&t^e&n^t&n,ct=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dt=new Uint32Array(64);class ft extends st{constructor(){super(64,32,8,!1),this.A=0|lt[0],this.B=0|lt[1],this.C=0|lt[2],this.D=0|lt[3],this.E=0|lt[4],this.F=0|lt[5],this.G=0|lt[6],this.H=0|lt[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)dt[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=dt[e-15],n=dt[e-2],r=rt(t,7)^rt(t,18)^t>>>3,i=rt(n,17)^rt(n,19)^n>>>10;dt[e]=i+dt[e-7]+r+dt[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let e=0;e<64;e++){const t=c+(rt(s,6)^rt(s,11)^rt(s,25))+at(s,a,u)+ct[e]+dt[e]|0,l=(rt(n,2)^rt(n,13)^rt(n,22))+ut(n,r,i)|0;c=u,u=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+l|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,r,i,o,s,a,u,c)}roundClean(){dt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const pt=function(e){const t=t=>e().update(it(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}((()=>new ft));var ht=n(1822),mt=n(6716),gt=n(6061),yt=n.n(gt),bt=n(755),wt=n.n(bt),vt=n(5872),St=n(1511),At=n.n(St),kt=(n(1036),n(9489)),_t=n(8507),Mt=n(5415),It=n(2943),Et=n.n(It);n(189),n(1312);class Pt{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,i.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const o=await this.wallet.signAllTransactions(r),s=[];for(let e=0;e<r.length;e+=1){const n=o[e].serialize();s.push(await(0,i.sendAndConfirmRawTransaction)(this.connection,n,t))}return s}async simulate(e,t,n=this.opts){var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function Tt(){return null===Ot?Pt.local():Ot}let Ot=null;class xt extends Error{constructor(e){super(e),this.name="IdlError"}}class Bt extends Error{constructor(e,t,...n){super(...n),this.code=e,this.msg=t}static parse(e,t){const n=e.toString();let r;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;e[0].match(/([0-9]+)/g)[0]}try{parseInt(undefined)}catch(e){return null}let i=t.get(r);return void 0!==i?new Bt(r,i,r+": "+i):(I.get(r),void 0!==i?new Bt(r,i,r+": "+i):null)}toString(){return this.msg}}new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);const Lt=new Set(["anchor-deprecated-state","debug-logs"]),Ct=new Map;var Rt=Object.freeze({__proto__:null,set:function(e){if(!Lt.has(e))throw new Error("Invalid feature");Ct.set(e,!0)},isSet:function(e){return void 0!==Ct.get(e)}}),Nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};class Dt{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Ft=Dt;class Kt extends Dt{isCount(){throw new Error("ExternalLayout is abstract")}}class Ut extends Kt{constructor(e,t,n){if(!(e instanceof Dt))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Wt||this.layout instanceof zt}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class Wt extends Dt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class zt extends Dt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const jt=Math.pow(2,32);class qt extends Dt{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return function(e,t){return e*jt+t}(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=function(e){const t=Math.floor(e/jt);return{hi32:t,lo32:e-t*jt}}(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class Vt extends Dt{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof Dt),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class Ht{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Qt extends Ht{constructor(e,t){if(!(e instanceof Kt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class Gt extends Dt{constructor(e,t,n){const r=e instanceof Wt||e instanceof zt;if(r)e=new Qt(new Ut(e));else if(e instanceof Kt&&e.isCount())e=new Qt(e);else if(!(e instanceof Ht))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof Dt))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Xt(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class Xt extends Dt{constructor(e,t,n,r){if(!(e instanceof Gt))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Dt))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Yt extends Dt{constructor(e,t){if(!(e instanceof Kt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Kt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof Kt&&(r=e.length),!Buffer.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof Kt&&this.length.encode(r,t,n),r}}var Zt=e=>new Wt(1,e),$t=e=>new qt(e),Jt=(e,t,n)=>new Vt(e,t,n),en=(e,t)=>new Yt(e,t);const tn=(nn=Zt("instruction"),new Gt(nn,void 0,void 0));var nn;function rn(e){return en(32,e)}function on(e){return new un(en(8),(e=>ln.fromBuffer(e)),(e=>e.toBuffer()),e)}function sn(e){return new un(en(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}function an(e,t){return new cn(e,t)}tn.addVariant(0,Jt([Zt("decimals"),en(32,"mintAuthority"),Zt("freezeAuthorityOption"),rn("freezeAuthority")]),"initializeMint"),tn.addVariant(1,Jt([]),"initializeAccount"),tn.addVariant(2,Jt([Zt("m")]),"initializeMultisig"),tn.addVariant(3,Jt([$t("amount")]),"transfer"),tn.addVariant(4,Jt([$t("amount")]),"approve"),tn.addVariant(5,Jt([]),"revoke"),tn.addVariant(6,Jt([Zt("authorityType"),Zt("newAuthorityOption"),rn("newAuthority")]),"setAuthority"),tn.addVariant(7,Jt([$t("amount")]),"mintTo"),tn.addVariant(8,Jt([$t("amount")]),"burn"),tn.addVariant(9,Jt([]),"closeAccount"),tn.addVariant(10,Jt([]),"freezeAccount"),tn.addVariant(11,Jt([]),"thawAccount"),tn.addVariant(12,Jt([$t("amount"),Zt("decimals")]),"transferChecked"),tn.addVariant(13,Jt([$t("amount"),Zt("decimals")]),"approvedChecked"),tn.addVariant(14,Jt([$t("amount"),Zt("decimals")]),"mintToChecked"),tn.addVariant(15,Jt([$t("amount"),Zt("decimals")]),"burnedChecked"),tn.addVariant(16,Jt([rn("authority")]),"InitializeAccount2"),tn.addVariant(17,Jt([]),"syncNative"),tn.addVariant(18,Jt([rn("authority")]),"initializeAccount3"),tn.addVariant(19,Jt([Zt("m")]),"initializeMultisig2"),tn.addVariant(20,Jt([Zt("decimals"),rn("mintAuthority"),Zt("freezeAuthorityOption"),rn("freezeAuthority")]),"initializeMint2"),Math.max(...Object.values(tn.registry).map((e=>e.span)));class un extends Ft{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class cn extends Ft{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=new Wt(4,void 0)}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class ln extends(m()){toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new ln([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}Jt([an(sn(),"mintAuthority"),on("supply"),Zt("decimals"),new un(Zt(),(function(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}),(function(e){return e?1:0}),"isInitialized"),an(sn(),"freezeAuthority")]),Jt([sn("mint"),sn("authority"),on("amount"),an(sn(),"delegate"),Zt("state"),an(on(),"isNative"),on("delegatedAmount"),an(sn(),"closeAuthority")]);var dn=Object.freeze({__proto__:null,hash:function(e){return(0,kt.sha256)(e)}});function fn(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}async function pn(e,t,n){const r=null!=n?n:e.commitment,o=[t.map((e=>e.toBase58()))];r&&o.push({commitment:r});const s=await e._rpcRequest("getMultipleAccounts",o);if(s.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+s.error.message);Et()(void 0!==s.result);const a=[];for(const e of s.result.value){let t=null;if(null!==e){if(s.result.value){const{executable:n,owner:r,lamports:o,data:s}=e;Et()("base64"===s[1]),t={executable:n,owner:new i.PublicKey(r),lamports:o,data:vt.Buffer.from(s[0],"base64")}}if(null===t)throw new Error("Invalid response");a.push(t)}else a.push(null)}return a.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}var hn=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=fn(e),r||(r=Tt());const o=new i.Transaction;return o.add(new i.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(o)},getMultipleAccounts:async function(e,t,n){if(t.length<=99)return await pn(e,t,n);{const i=(r=t,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((e,t)=>r.slice(99*t,99*(t+1)))));return(await Promise.all(i.map((t=>pn(e,t,n))))).flat()}var r}});function mn(e,t){let n=vt.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=vt.Buffer.concat([n,gn(e)])})),n=vt.Buffer.concat([n,t.toBuffer(),vt.Buffer.from("ProgramDerivedAddress")]);let r=(0,kt.sha256)(new Uint8Array(n)),o=new(m())(r,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(o)}const gn=e=>e instanceof vt.Buffer?e:e instanceof Uint8Array?vt.Buffer.from(e.buffer,e.byteOffset,e.byteLength):vt.Buffer.from(e);var yn=Object.freeze({__proto__:null,createWithSeedSync:function(e,t,n){const r=vt.Buffer.concat([e.toBuffer(),vt.Buffer.from(t),n.toBuffer()]),o=kt.sha256.digest(r);return new i.PublicKey(vt.Buffer.from(o))},createProgramAddressSync:mn,findProgramAddressSync:function(e,t){let n,r=255;for(;0!=r;){try{n=mn(e.concat(vt.Buffer.from([r])),t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")},associated:async function(e,...t){let n=[vt.Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(e instanceof vt.Buffer?e:fn(e).toBuffer())}));const[r]=await i.PublicKey.findProgramAddress(n,fn(e));return r}}),bn=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?vt.Buffer.from([]):vt.Buffer.from(t.map((e=>parseInt(e,16))))}});var wn=Object.freeze({__proto__:null,decode:function(e){return new TextDecoder("utf-8").decode(e)},encode:function(e){return(new TextEncoder).encode(e)}}),vn=Object.freeze({__proto__:null,encode:function(e){return At().encode(e)},decode:function(e){return At().decode(e)}}),Sn=Object.freeze({__proto__:null,encode:function(e){return Mt.fromByteArray(e)},decode:function(e){return vt.Buffer.from(Mt.toByteArray(e))}}),An=Object.freeze({__proto__:null,hex:bn,utf8:wn,bs58:vn,base64:Sn});const kn=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),_n=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Mn=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:kn,ASSOCIATED_PROGRAM_ID:_n,associatedAddress:async function({mint:e,owner:t}){return(await i.PublicKey.findProgramAddress([t.toBuffer(),kn.toBuffer(),e.toBuffer()],_n))[0]}}),In={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:Nt,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];S.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new w(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new S(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=f,e.Request=w,e.Response=S),t.Headers=f,t.Request=w,t.Response=S,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(In,In.exports);var En,Pn=(En=In.exports)&&En.__esModule&&Object.prototype.hasOwnProperty.call(En,"default")?En.default:En;async function Tn(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=xn(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=xn(i.data);return o}const On=_t.rustEnum([_t.struct([],"uninitialized"),_t.struct([_t.option(_t.publicKey(),"authorityAddress")],"buffer"),_t.struct([_t.publicKey("programdataAddress")],"program"),_t.struct([_t.u64("slot"),_t.option(_t.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,_t.u32());function xn(e){return On.decode(e)}var Bn,Ln,Cn,Rn=Object.freeze({__proto__:null,verifiedBuild:async function(e,t,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([Tn(e,t),Pn(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:Tn,decodeUpgradeableLoaderState:xn});Object.freeze({__proto__:null,sha256:dn,rpc:hn,publicKey:yn,bytes:An,token:Mn,features:Rt,registry:Rn}),_t.struct([_t.publicKey("authority"),_t.vecU8("data")]),new Map,new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),(Cn=Bn||(Bn={}))[Cn.EXACT_INPUT=0]="EXACT_INPUT",Cn[Cn.EXACT_OUTPUT=1]="EXACT_OUTPUT",function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(Ln||(Ln={}));var Nn,Dn,Fn=S().BigInt("0xffffffffffffffffffffffffffffffff");function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t,n){return t&&Kn(e.prototype,t),n&&Kn(e,n),e}function Wn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var zn,jn=wt()(mt.Z),qn=wt()(yt()),Vn=((Nn={})[Ln.ROUND_DOWN]=jn.ROUND_DOWN,Nn[Ln.ROUND_HALF_UP]=jn.ROUND_HALF_UP,Nn[Ln.ROUND_UP]=jn.ROUND_UP,Nn),Hn=((Dn={})[Ln.ROUND_DOWN]=0,Dn[Ln.ROUND_HALF_UP]=1,Dn[Ln.ROUND_UP]=3,Dn),Qn=function(){function e(e,t){void 0===t&&(t=S().BigInt(1)),this.numerator=S().BigInt(e),this.denominator=S().BigInt(t)}e.tryParseFraction=function(t){if(t instanceof S()||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=e.tryParseFraction(t);return S().equal(this.denominator,n.denominator)?new e(S().add(this.numerator,n.numerator),this.denominator):new e(S().add(S().multiply(this.numerator,n.denominator),S().multiply(n.numerator,this.denominator)),S().multiply(this.denominator,n.denominator))},t.subtract=function(t){var n=e.tryParseFraction(t);return S().equal(this.denominator,n.denominator)?new e(S().subtract(this.numerator,n.numerator),this.denominator):new e(S().subtract(S().multiply(this.numerator,n.denominator),S().multiply(n.numerator,this.denominator)),S().multiply(this.denominator,n.denominator))},t.lessThan=function(t){var n=e.tryParseFraction(t);return S().lessThan(S().multiply(this.numerator,n.denominator),S().multiply(n.numerator,this.denominator))},t.equalTo=function(t){var n=e.tryParseFraction(t);return S().equal(S().multiply(this.numerator,n.denominator),S().multiply(n.numerator,this.denominator))},t.greaterThan=function(t){var n=e.tryParseFraction(t);return S().greaterThan(S().multiply(this.numerator,n.denominator),S().multiply(n.numerator,this.denominator))},t.multiply=function(t){var n=e.tryParseFraction(t);return new e(S().multiply(this.numerator,n.numerator),S().multiply(this.denominator,n.denominator))},t.divide=function(t){var n=e.tryParseFraction(t);return new e(S().multiply(this.numerator,n.denominator),S().multiply(this.denominator,n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=Ln.ROUND_HALF_UP),Number.isInteger(e)||(0,x.Z)(!1),e>0||(0,x.Z)(!1),jn.set({precision:e+1,rounding:Vn[n]});var r=new jn(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=Ln.ROUND_HALF_UP),Number.isInteger(e)||(0,x.Z)(!1),e>=0||(0,x.Z)(!1),qn.DP=e,qn.RM=Hn[n],new qn(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},Un(e,[{key:"quotient",get:function(){return S().divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(S().remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),Gn=wt()(yt()),Xn=function(e){function t(t,n,r){var i;return i=e.call(this,n,r)||this,S().lessThanOrEqual(i.quotient,Fn)||(0,x.Z)(!1),i.currency=t,i.decimalScale=S().exponentiate(S().BigInt(10),S().BigInt(t.decimals)),i}Wn(t,e),t.fromRawAmount=function(e,n){return new t(e,n)},t.fromFractionalAmount=function(e,n,r){return new t(e,n,r)};var n=t.prototype;return n.add=function(n){this.currency.equals(n.currency)||(0,x.Z)(!1);var r=e.prototype.add.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||(0,x.Z)(!1);var r=e.prototype.subtract.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.multiply=function(n){var r=e.prototype.multiply.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.divide=function(n){var r=e.prototype.divide.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.toSignificant=function(t,n,r){return void 0===t&&(t=6),void 0===r&&(r=Ln.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=this.currency.decimals),void 0===r&&(r=Ln.ROUND_DOWN),t<=this.currency.decimals||(0,x.Z)(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,n,r)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),Gn.DP=this.currency.decimals,new Gn(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},Un(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(Qn),Yn=function(e){function t(){for(var t,n,r,i,o,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];if(4===a.length)n=a[0],r=a[1],i=a[2],o=a[3];else{var c=a[0].quoteAmount.divide(a[0].baseAmount),l=[a[0].baseAmount.currency,a[0].quoteAmount.currency,c.denominator,c.numerator];n=l[0],r=l[1],i=l[2],o=l[3]}return(t=e.call(this,o,i)||this).baseCurrency=n,t.quoteCurrency=r,t.scalar=new Qn(S().exponentiate(S().BigInt(10),S().BigInt(n.decimals)),S().exponentiate(S().BigInt(10),S().BigInt(r.decimals))),t}Wn(t,e);var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||(0,x.Z)(!1);var r=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(t){t.currency.equals(this.baseCurrency)||(0,x.Z)(!1);var n=e.prototype.multiply.call(this,t);return Xn.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,n)},Un(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(Qn),Zn=function(e,t,n,r){Number.isSafeInteger(e)||(0,x.Z)(!1),t>=0&&t<255&&Number.isInteger(t)||(0,x.Z)(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r},$n=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isNative=!0,t.isToken=!1,t}return Wn(t,e),t}(Zn),Jn=function(e){function t(t,n,r,i,o){var s;return(s=e.call(this,t,r,i,o)||this).isNative=!1,s.isToken=!0,s.address=n,s}Wn(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.equals(e.address)},n.sortsBefore=function(e){this.chainId!==e.chainId&&(0,x.Z)(!1),this.address===e.address&&(0,x.Z)(!1);var t=new(m())(this.address.toBuffer()),n=new(m())(e.address.toBuffer());return t.lt(n)},Un(t,[{key:"wrapped",get:function(){return this}}]),t}(Zn),er=new Jn(101,new i.PublicKey("So11111111111111111111111111111111111111112"),9,"wSOL","Wrapped SOL");function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(function(e){function t(t){return e.call(this,t,er.decimals,er.symbol,er.name)||this}return Wn(t,e),t.onChain=function(e){var n;return null!=(n=this._solanaCache[e])?n:this._solanaCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},Un(t,[{key:"wrapped",get:function(){return er||(0,x.Z)(!1),er}}]),t}($n))._solanaCache={},Number.MAX_SAFE_INTEGER;var nr,rr=new i.PublicKey("cysPXAjehMpVKUapzbMCCnpFxUFFryEWEaLgnb9NrR8");!function(e){e[e.SUPER_STABLE=20]="SUPER_STABLE",e[e.TURBO_SPL=80]="TURBO_SPL",e[e.LOW=500]="LOW",e[e.MEDIUM=3e3]="MEDIUM",e[e.HIGH=1e4]="HIGH"}(nr||(nr={}));var ir=((zn={})[nr.SUPER_STABLE]=1,zn[nr.TURBO_SPL]=60,zn[nr.LOW]=10,zn[nr.MEDIUM]=60,zn[nr.HIGH]=200,zn),or=S().BigInt(-1),sr=S().BigInt(0),ar=S().BigInt(1),ur=S().exponentiate(S().BigInt(2),S().BigInt(32)),cr=S().exponentiate(S().BigInt(2),S().BigInt(64)),lr=S().subtract(ur,ar),dr=S().BigInt(32),fr=Buffer.from("b"),pr=Buffer.from("p"),hr=Buffer.from("o"),mr=Buffer.from("t");function gr(e){var t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e,!1),new Uint8Array(t)}function yr(e){var t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}var br=function(){function e(){}return e.addDelta=function(e,t){return S().lessThan(t,sr)?S().subtract(e,S().multiply(t,or)):S().add(e,t)},e}(),wr=function(){function e(){}return e.mulDivRoundingUp=function(e,t,n){var r=S().multiply(e,t),i=S().divide(r,n);return S().notEqual(S().remainder(r,n),sr)&&(i=S().add(i,ar)),i},e.mulDivFloor=function(e,t,n){S().notEqual(n,sr)||(0,x.Z)(!1);var r=S().multiply(e,t);return S().divide(r,n)},e.mulDivCeil=function(e,t,n){S().notEqual(n,sr)||(0,x.Z)(!1);var r=S().multiply(e,t);return S().divide(S().add(r,S().subtract(n,ar)),n)},e}();function vr(e,t){var n=S().multiply(e,t);return S().bitwiseAnd(n,Fn)}var Sr=function(){function e(){}return e.getAmount0Delta=function(e,t,n,r){if(S().greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var o=S().leftShift(n,dr),s=S().subtract(t,e);return S().greaterThan(e,sr)||(0,x.Z)(!1),r?wr.mulDivRoundingUp(wr.mulDivCeil(o,s,t),ar,e):S().divide(wr.mulDivFloor(o,s,t),e)},e.getAmount1Delta=function(e,t,n,r){if(S().greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return r?wr.mulDivCeil(n,S().subtract(t,e),ur):wr.mulDivFloor(n,S().subtract(t,e),ur)},e.getNextSqrtPriceFromInput=function(e,t,n,r){return S().greaterThan(e,sr)||(0,x.Z)(!1),S().greaterThan(t,sr)||(0,x.Z)(!1),r?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!0)},e.getNextSqrtPriceFromOutput=function(e,t,n,r){return S().greaterThan(e,sr)||(0,x.Z)(!1),S().greaterThan(t,sr)||(0,x.Z)(!1),r?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,n,r){if(S().equal(n,sr))return e;var i,o,s,a=S().leftShift(t,dr);if(r){var u=(i=a,o=vr(n,e),s=S().add(i,o),S().bitwiseAnd(s,Fn));return S().greaterThanOrEqual(u,a)?wr.mulDivCeil(a,e,u):wr.mulDivRoundingUp(a,ar,S().add(S().divide(a,e),n))}var c=vr(n,e);S().greaterThan(a,c)||(0,x.Z)(!1);var l=S().subtract(a,c);return wr.mulDivCeil(a,e,l)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,n,r){if(r){var i=S().lessThanOrEqual(n,lr)?S().divide(S().leftShift(n,dr),t):wr.mulDivFloor(n,ur,t);return S().add(e,i)}var o=S().lessThanOrEqual(n,lr)?wr.mulDivRoundingUp(S().leftShift(n,dr),ar,t):wr.mulDivCeil(n,ur,t);return S().greaterThan(e,o)||(0,x.Z)(!1),S().subtract(e,o)},e}(),Ar=S().exponentiate(S().BigInt(10),S().BigInt(6)),kr=function(){function e(){}return e.computeSwapStep=function(e,t,n,r,i){var o={},s=S().greaterThanOrEqual(e,t),a=S().greaterThanOrEqual(r,sr);if(a){var u=wr.mulDivFloor(r,S().subtract(Ar,S().BigInt(i)),Ar);o.amountIn=s?Sr.getAmount0Delta(t,e,n,!0):Sr.getAmount1Delta(e,t,n,!0),S().greaterThanOrEqual(u,o.amountIn)?o.sqrtRatioNextX32=t:o.sqrtRatioNextX32=Sr.getNextSqrtPriceFromInput(e,n,u,s)}else o.amountOut=s?Sr.getAmount1Delta(t,e,n,!1):Sr.getAmount0Delta(e,t,n,!1),S().greaterThanOrEqual(S().multiply(r,or),o.amountOut)?o.sqrtRatioNextX32=t:o.sqrtRatioNextX32=Sr.getNextSqrtPriceFromOutput(e,n,S().multiply(r,or),s);var c=S().equal(t,o.sqrtRatioNextX32);return s?(o.amountIn=c&&a?o.amountIn:Sr.getAmount0Delta(o.sqrtRatioNextX32,e,n,!0),o.amountOut=c&&!a?o.amountOut:Sr.getAmount1Delta(o.sqrtRatioNextX32,e,n,!1)):(o.amountIn=c&&a?o.amountIn:Sr.getAmount1Delta(e,o.sqrtRatioNextX32,n,!0),o.amountOut=c&&!a?o.amountOut:Sr.getAmount0Delta(e,o.sqrtRatioNextX32,n,!1)),!a&&S().greaterThan(o.amountOut,S().multiply(r,or))&&(o.amountOut=S().multiply(r,or)),a&&S().notEqual(o.sqrtRatioNextX32,t)?o.feeAmount=S().subtract(r,o.amountIn):o.feeAmount=wr.mulDivCeil(o.amountIn,S().BigInt(i),S().subtract(Ar,S().BigInt(i))),[o.sqrtRatioNextX32,o.amountIn,o.amountOut,o.feeAmount]},e}();function _r(e){return e[0].add(e[1].shln(64)).add(e[2].shln(128)).add(e[3].shln(192))}function Mr(e){return e.bitLength()-1}function Ir(e,t){return S().signedRightShift(S().multiply(e,S().BigInt(t)),S().BigInt(64))}var Er=S().exponentiate(S().BigInt(2),S().BigInt(32)),Pr=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||(0,x.Z)(!1);var n=t<0?-1*t:t,r=0!=(1&n)?S().BigInt("0xfffcb933bd6fb800"):S().BigInt("0x10000000000000000");return 0!=(2&n)&&(r=Ir(r,"0xfff97272373d4000")),0!=(4&n)&&(r=Ir(r,"0xfff2e50f5f657000")),0!=(8&n)&&(r=Ir(r,"0xffe5caca7e10f000")),0!=(16&n)&&(r=Ir(r,"0xffcb9843d60f7000")),0!=(32&n)&&(r=Ir(r,"0xff973b41fa98e800")),0!=(64&n)&&(r=Ir(r,"0xff2ea16466c9b000")),0!=(128&n)&&(r=Ir(r,"0xfe5dee046a9a3800")),0!=(256&n)&&(r=Ir(r,"0xfcbe86c7900bb000")),0!=(512&n)&&(r=Ir(r,"0xf987a7253ac65800")),0!=(1024&n)&&(r=Ir(r,"0xf3392b0822bb6000")),0!=(2048&n)&&(r=Ir(r,"0xe7159475a2caf000")),0!=(4096&n)&&(r=Ir(r,"0xd097f3bdfd2f2000")),0!=(8192&n)&&(r=Ir(r,"0xa9f746462d9f8000")),0!=(16384&n)&&(r=Ir(r,"0x70d869a156f31c00")),0!=(32768&n)&&(r=Ir(r,"0x31be135f97ed3200")),0!=(65536&n)&&(r=Ir(r,"0x9aa508b5b85a500")),0!=(131072&n)&&(r=Ir(r,"0x5d6af8dedc582c")),t>0&&(r=S().divide(Fn,r)),S().greaterThan(S().remainder(r,Er),sr)?S().add(S().divide(r,Er),ar):S().divide(r,Er)},e.getTickAtSqrtRatio=function(t){S().greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&S().lessThan(t,e.MAX_SQRT_RATIO)||(0,x.Z)(!1);var n,r=Mr(new(m())(t.toString()));n=S().greaterThanOrEqual(S().BigInt(r),S().BigInt(32))?S().signedRightShift(t,S().BigInt(r-31)):S().leftShift(t,S().BigInt(31-r));for(var i=S().leftShift(S().subtract(S().BigInt(r),S().BigInt(32)),S().BigInt(16)),o=0;o<14;o++){n=S().signedRightShift(S().multiply(n,n),S().BigInt(31));var s=S().signedRightShift(n,S().BigInt(32));i=S().bitwiseOr(i,S().leftShift(s,S().BigInt(15-o))),n=S().signedRightShift(n,s)}var a=S().multiply(i,S().BigInt("908567298")),u=S().toNumber(S().signedRightShift(S().subtract(a,S().BigInt("42949672")),S().BigInt(32))),c=S().toNumber(S().signedRightShift(S().add(a,S().BigInt("3677218864")),S().BigInt(32)));return u===c?u:S().lessThanOrEqual(e.getSqrtRatioAtTick(c),t)?c:u},e}();Pr.MIN_TICK=-221818,Pr.MAX_TICK=-Pr.MIN_TICK,Pr.MIN_SQRT_RATIO=S().BigInt("65537"),Pr.MAX_SQRT_RATIO=S().BigInt("281472331703918");var Tr=function(){function e(){}var t=e.prototype;return t.getTickAddress=function(e){throw new Error("Method not implemented.")},t.getTick=function(t){throw new Error(e.ERROR_MESSAGE)},t.nextInitializedTickWithinOneWord=function(t,n,r){throw new Error(e.ERROR_MESSAGE)},e}();Tr.ERROR_MESSAGE="No tick data provider was given";var Or=new Tr,xr=function(){function e(e,t,n,r,i,o,s){void 0===s&&(s=Or),Number.isInteger(n)&&n<1e6||(0,x.Z)(!1);var a=Pr.getSqrtRatioAtTick(o),u=Pr.getSqrtRatioAtTick(o+1);S().greaterThanOrEqual(r,a)&&S().lessThanOrEqual(r,u)||(0,x.Z)(!1);var c=e.sortsBefore(t)?[e,t]:[t,e];this.token0=c[0],this.token1=c[1],this.fee=n,this.sqrtRatioX32=r,this.liquidity=i,this.tickCurrent=o,this.tickDataProvider=s}e.getAddress=function(e,t,n){return function(e){var t=e.factoryAddress,n=e.tokenA,r=e.tokenB,o=e.fee,s=n.sortsBefore(r)?[n,r]:[r,n],a=s[0],u=s[1],c=new i.PublicKey(a.address),l=new i.PublicKey(u.address);return i.PublicKey.findProgramAddress([pr,c.toBuffer(),l.toBuffer(),yr(o)],t).then((function(e){return e[0]}))}({factoryAddress:rr,fee:n,tokenA:e,tokenB:t})};var t,n,r,o=e.prototype;return o.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},o.priceOf=function(e){return this.involvesToken(e)||(0,x.Z)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},o.getOutputAmount=function(t,n){this.involvesToken(t.currency)||(0,x.Z)(!1);var r=t.currency.equals(this.token0),i=this.swap(r,t.quotient,n),o=i.amountCalculated,s=i.sqrtRatioX32,a=i.liquidity,u=i.tickCurrent,c=i.accounts,l=r?this.token1:this.token0;return[Xn.fromRawAmount(l,S().multiply(o,or)),new e(this.token0,this.token1,this.fee,s,a,u,this.tickDataProvider),c]},o.getInputAmount=function(t,n){t.currency.isToken&&this.involvesToken(t.currency)||(0,x.Z)(!1);var r=t.currency.equals(this.token1),i=this.swap(r,S().multiply(t.quotient,or),n),o=i.amountCalculated,s=i.sqrtRatioX32,a=i.liquidity,u=i.tickCurrent,c=r?this.token0:this.token1;return[Xn.fromRawAmount(c,o),new e(this.token0,this.token1,this.fee,s,a,u,this.tickDataProvider)]},o.swap=function(e,t,n){S().notEqual(t,sr)||(0,x.Z)(!1),n||(n=e?S().add(Pr.MIN_SQRT_RATIO,ar):S().subtract(Pr.MAX_SQRT_RATIO,ar)),e?(S().greaterThan(n,Pr.MIN_SQRT_RATIO)||(0,x.Z)(!1),S().lessThan(n,this.sqrtRatioX32)||(0,x.Z)(!1)):(S().lessThan(n,Pr.MAX_SQRT_RATIO)||(0,x.Z)(!1),S().greaterThan(n,this.sqrtRatioX32)||(0,x.Z)(!1));for(var r,i=S().greaterThanOrEqual(t,sr),o={amountSpecifiedRemaining:t,amountCalculated:sr,sqrtPriceX32:this.sqrtRatioX32,tick:this.tickCurrent,accounts:[],liquidity:this.liquidity},s=0;S().notEqual(o.amountSpecifiedRemaining,sr)&&o.sqrtPriceX32!=n&&o.tick<Pr.MAX_TICK&&o.tick>Pr.MIN_TICK;){if(s>8)throw Error("account limit");var a={};a.sqrtPriceStartX32=o.sqrtPriceX32;var u=this.tickDataProvider.nextInitializedTickWithinOneWord(o.tick,e,this.tickSpacing);a.tickNext=u[0],a.initialized=u[1];var c=u[2],l=u[4];r!==c&&(o.accounts.push({pubkey:l,isWritable:!1,isSigner:!1}),r=c),a.tickNext<Pr.MIN_TICK?a.tickNext=Pr.MIN_TICK:a.tickNext>Pr.MAX_TICK&&(a.tickNext=Pr.MAX_TICK),a.sqrtPriceNextX32=Pr.getSqrtRatioAtTick(a.tickNext);var d=kr.computeSwapStep(o.sqrtPriceX32,(e?S().lessThan(a.sqrtPriceNextX32,n):S().greaterThan(a.sqrtPriceNextX32,n))?n:a.sqrtPriceNextX32,o.liquidity,o.amountSpecifiedRemaining,this.fee);if(o.sqrtPriceX32=d[0],a.amountIn=d[1],a.amountOut=d[2],a.feeAmount=d[3],i?(o.amountSpecifiedRemaining=S().subtract(o.amountSpecifiedRemaining,S().add(a.amountIn,a.feeAmount)),o.amountCalculated=S().subtract(o.amountCalculated,a.amountOut)):(o.amountSpecifiedRemaining=S().add(o.amountSpecifiedRemaining,a.amountOut),o.amountCalculated=S().add(o.amountCalculated,S().add(a.amountIn,a.feeAmount))),S().equal(o.sqrtPriceX32,a.sqrtPriceNextX32)){if(a.initialized){var f=this.tickDataProvider.getTick(a.tickNext);o.accounts.push({pubkey:f.address,isWritable:!0,isSigner:!1});var p=f.liquidityNet;e&&(p=S().multiply(p,or)),o.liquidity=br.addDelta(o.liquidity,p)}o.tick=e?a.tickNext-1:a.tickNext}else o.sqrtPriceX32!=a.sqrtPriceStartX32&&(o.tick=Pr.getTickAtSqrtRatio(o.sqrtPriceX32));++s}return{amountCalculated:o.amountCalculated,sqrtRatioX32:o.sqrtPriceX32,liquidity:o.liquidity,tickCurrent:o.tick,accounts:o.accounts}},t=e,(n=[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new Yn(this.token0,this.token1,cr,S().multiply(this.sqrtRatioX32,this.sqrtRatioX32))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new Yn(this.token1,this.token0,S().multiply(this.sqrtRatioX32,this.sqrtRatioX32),cr)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return ir[this.fee]}}])&&tr(t.prototype,n),r&&tr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Br(e){return{wordPos:e>>8,bitPos:e%256&255}}!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new P(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=M(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function g(){}function y(){}function b(){}var w={};u(w,o,(function(){return this}));var v=Object.getPrototypeOf,S=v&&v(v(T([])));S&&S!==n&&r.call(S,o)&&(w=S);var A=b.prototype=g.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,s,a){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function M(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=b,u(A,"constructor",b),u(b,"constructor",y),y.displayName=u(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,a,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},k(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new _(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(A),u(A,a,"Generator"),u(A,o,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}({exports:{}});var Lr=n(6902),Cr=n(1057),Rr=(n(8729),n(27)),Nr=n(2162),Dr=n(2864),Fr=n(2474);n(6297),new i.PublicKey("So11111111111111111111111111111111111111112"),new i.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new i.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),new i.PublicKey("HWzXGcGHy4tcpYfaRDCyLNzXqBTv3E6BttpCH2vJxArv");const Kr=Object.freeze({VAULT_PREFIX:"vault",TOKEN_VAULT_PREFIX:"token_vault",LP_MINT_PREFIX:"lp_mint",COLLATERAL_VAULT_PREFIX:"collateral_vault",OBLIGATION_PREFIX:"obligation",OBLIGATION_OWNER_PREFIX:"obligation_owner",STAKING_PREFIX:"staking",MINER:"Miner",QUARRY:"Quarry",APRICOT_USER_INFO_SIGNER_PREFIX:"apricot_user_info_signer"}),Ur=(new i.PublicKey("ALend7Ketfx5bxh6ghsCDXAoDrhvEmsXT3cynB6aPLgx"),new i.PublicKey("pdQ2rQQU5zH2rDgZ7xH2azMBJegUzUyunJ5Jd637hC4"),new i.PublicKey("ALend7Ketfx5bxh6ghsCDXAoDrhvEmsXT3cynB6aPLgx"),new i.PublicKey("pdQ2rQQU5zH2rDgZ7xH2azMBJegUzUyunJ5Jd637hC4"),new i.PublicKey("So1endDq2YkqhipRh3WViPa8hdiSpxWy6z3Z6tMCpAo"),new i.PublicKey("Port7uDYB3wk6GJAw4KT1WpTeMtSu9bTcChBHkX2LfR"),new Ye.BN(1e12));n(1486),n(9184);var Wr=n(8880);class zr{withdraw(e,t,n,r,o,s,a,u,c,l,d,f,p){return h=this,m=void 0,b=function*(){const[h]=yield i.PublicKey.findProgramAddress([zr.MangoGrouPK.toBuffer(),r.toBuffer(),Buffer.from([0,0,0,0,0,0,0,0])],zr.MangoProgramId),m=new Wr.MangoClient(t.provider.connection,zr.MangoProgramId),y=n.state.reserve,b=yield m.getMangoGroup(zr.MangoGrouPK);yield b.loadRootBanks(t.provider.connection);const w=b.getRootBankIndex(new i.PublicKey(y)),v=b.rootBankAccounts[w];if(!v)throw new Error("Root bank state not found");const S=v.nodeBanks[0],A=v.nodeBankAccounts.find((e=>e.publicKey.toBase58()===S.toBase58()));if(!A)throw new Error("Node bank state not found");const k=[{pubkey:zr.MangoGrouPK,isWritable:!0},{pubkey:h,isWritable:!0},{pubkey:b.mangoCache,isWritable:!0},{pubkey:S,isWritable:!0},{pubkey:A.vault,isWritable:!0},{pubkey:b.signerKey,isWritable:!0},{pubkey:i.PublicKey.default}],_=[];for(const e of k)_.push({pubkey:e.pubkey,isWritable:!!e.isWritable,isSigner:!1});const[M]=yield i.PublicKey.findProgramAddress([Buffer.from(Kr.COLLATERAL_VAULT_PREFIX),new i.PublicKey(n.pubkey).toBuffer()],t.programId),I={vault:r,strategy:n.pubkey,reserve:n.state.reserve,strategyProgram:zr.MangoProgramId,collateralVault:M,feeVault:s,tokenVault:o,userToken:u,userLp:c,tokenProgram:g.TOKEN_PROGRAM_ID};return(null==p?void 0:p.affiliate)?yield p.affiliate.affiliateProgram.methods.withdrawDirectlyFromStrategy(l,new Ye.BN(0)).preInstructions(d).postInstructions(f).remainingAccounts(_).accounts(Object.assign(Object.assign({},I),{partner:p.affiliate.partner,user:p.affiliate.user,vaultProgram:t.programId,vaultLpMint:a,owner:e})).transaction():yield t.methods.withdrawDirectlyFromStrategy(l,new Ye.BN(0)).preInstructions(d).postInstructions(f).remainingAccounts(_).accounts(Object.assign(Object.assign({},I),{lpMint:a,user:e})).transaction()},new((y=void 0)||(y=Promise))((function(e,t){function n(e){try{i(b.next(e))}catch(e){t(e)}}function r(e){try{i(b.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof y?i:new y((function(e){e(i)}))).then(n,r)}i((b=b.apply(h,m||[])).next())}));var h,m,y,b}}zr.MangoProgramId=new i.PublicKey("mv3ekLzLbnVPNxjSKvqBpU3ZeZXPQdEC3bp5MDEBG68"),zr.MangoGrouPK=new i.PublicKey("98pjRuQjK3qA6gXts96PqZT4Ze5QmnCmt3QYjhbUSPue"),n(1370);const jr=e=>{var t,n;return null!==(n=null===(t=e.errors)||void 0===t?void 0:t.reduce(((e,t)=>({...e,[t.name]:t})),{}))&&void 0!==n?n:{}};var qr=n(1301),Vr=n.n(qr);var Hr=n(7033),Qr=n.n(Hr);const Gr=Ye,Xr="AnchorProvider"in Gr?Gr.AnchorProvider:Gr.Provider,Yr=(e,t,n)=>{return new Ye.Program(e,t.toString(),(i=(r=n).connection,o=r.wallet,s=r.opts,new Xr(i,o,s)));var r,i,o,s};class Zr{constructor(e,t){var n,r;this.address=e,this.idl=t,this.coder=new Ye.BorshCoder(t),this.eventParser=new Ye.EventParser(e,this.coder),this.accounts=((e,t,n)=>{const r={};return t.forEach((t=>{r[Vr()(t.name)]={programID:e,name:t.name,encode:e=>n.encode(t.name,e),parse:e=>n.decode(t.name,e),idl:t,size:n.size(t),discriminator:Ye.BorshAccountsCoder.accountDiscriminator(t.name)}})),r})(e,null!==(n=t.accounts)&&void 0!==n?n:[],this.coder.accounts),this.errorMap=jr(t);const i=Object.values(this.accounts),o={};var s,a;i.forEach((e=>{o[e.name]=e.idl})),this.accountParsers=(s=null===(r=t.accounts)||void 0===r?void 0:r.map((e=>e.name)),a=this.coder.accounts,(null!=s?s:[]).reduce(((e,t)=>(e[Vr()(t)]=e=>a.decode(t,e),e)),{})),this.accountTypeDefs=o,this.discriminators=i.reduce(((e,t)=>({...e,[t.discriminator.toString("hex")]:t.name})),{}),this.discriminatorsByAccount=i.reduce(((e,t)=>({...e,[t.name]:t.discriminator})),{})}makeGPAFilter(e,...t){return[{memcmp:{offset:0,bytes:Ye.utils.bytes.bs58.encode(this.discriminatorsByAccount[e])}},...t]}parseProgramLogEvents(e){if(!e)return[];const t=[],n=this.eventParser.parseLogs(null!=e?e:[]);let r=n.next();for(;!r.done;)t.push(r.value),r=n.next();return t}encodeIX(e,t,n){const r=this.idl.instructions.find((t=>t.name===e));if(!r)throw new Error(`could not find ix: ${e}`);const o=this.coder.instruction.encode(e,t),s=Qr().accountsArray(n,r.accounts,e);return new i.TransactionInstruction({programId:this.address,keys:s,data:o})}parseInstruction(e){const t=this.coder.instruction.decode(e.data);if(!t)throw new Error("could not decode ix data");const n=this.coder.instruction.format(t,e.keys);if(!n)throw new Error("invalid instruction");return{...n,name:t.name}}getProgram(e){return Yr(this.idl,this.address,e)}}const $r={version:"5.0.2",name:"quarry_mine",instructions:[{name:"newRewarder",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Rewarder"},{kind:"account",type:"publicKey",path:"base"}]}},{name:"initialAuthority",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"unusedAccount",isMut:!1,isSigner:!1},{name:"mintWrapper",isMut:!1,isSigner:!1},{name:"rewardsTokenMint",isMut:!1,isSigner:!1},{name:"claimFeeTokenAccount",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"newRewarderV2",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Rewarder"},{kind:"account",type:"publicKey",path:"base"}]}},{name:"initialAuthority",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"mintWrapper",isMut:!1,isSigner:!1},{name:"rewardsTokenMint",isMut:!1,isSigner:!1},{name:"claimFeeTokenAccount",isMut:!1,isSigner:!1}],args:[]},{name:"setPauseAuthority",accounts:[{name:"auth",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}]},{name:"newPauseAuthority",isMut:!1,isSigner:!1}],args:[]},{name:"pause",accounts:[{name:"pauseAuthority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}],args:[]},{name:"unpause",accounts:[{name:"pauseAuthority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}],args:[]},{name:"transferAuthority",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}],args:[{name:"newAuthority",type:"publicKey"}]},{name:"acceptAuthority",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}],args:[]},{name:"setAnnualRewards",accounts:[{name:"auth",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}]}],args:[{name:"newRate",type:"u64"}]},{name:"createQuarry",accounts:[{name:"quarry",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Quarry"},{kind:"account",type:{defined:"Account<'info,Rewarder>"},account:"MutableRewarderWithAuthority",path:"auth.rewarder"},{kind:"account",type:"publicKey",account:"Mint",path:"token_mint"}]}},{name:"auth",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}]},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"unusedAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"createQuarryV2",accounts:[{name:"quarry",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Quarry"},{kind:"account",type:{defined:"Account<'info,Rewarder>"},account:"MutableRewarderWithAuthority",path:"auth.rewarder"},{kind:"account",type:"publicKey",account:"Mint",path:"token_mint"}]}},{name:"auth",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}]},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setRewardsShare",accounts:[{name:"auth",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1}]},{name:"quarry",isMut:!0,isSigner:!1}],args:[{name:"newShare",type:"u64"}]},{name:"setFamine",accounts:[{name:"auth",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!1,isSigner:!1}]},{name:"quarry",isMut:!0,isSigner:!1}],args:[{name:"famineTs",type:"i64"}]},{name:"updateQuarryRewards",accounts:[{name:"quarry",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1}],args:[]},{name:"createMiner",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"miner",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Miner"},{kind:"account",type:"publicKey",account:"Quarry",path:"quarry"},{kind:"account",type:"publicKey",path:"authority"}]}},{name:"quarry",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"minerVault",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"createMinerV2",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"miner",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Miner"},{kind:"account",type:"publicKey",account:"Quarry",path:"quarry"},{kind:"account",type:"publicKey",path:"authority"}]}},{name:"quarry",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"minerVault",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"claimRewards",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"mintWrapperProgram",isMut:!1,isSigner:!1},{name:"minter",isMut:!0,isSigner:!1},{name:"rewardsTokenMint",isMut:!0,isSigner:!1},{name:"rewardsTokenAccount",isMut:!0,isSigner:!1},{name:"claimFeeTokenAccount",isMut:!0,isSigner:!1},{name:"claim",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"miner",isMut:!0,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"unusedMinerVault",isMut:!1,isSigner:!1},{name:"unusedTokenAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1}]}],args:[]},{name:"claimRewardsV2",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"mintWrapperProgram",isMut:!1,isSigner:!1},{name:"minter",isMut:!0,isSigner:!1},{name:"rewardsTokenMint",isMut:!0,isSigner:!1},{name:"rewardsTokenAccount",isMut:!0,isSigner:!1},{name:"claimFeeTokenAccount",isMut:!0,isSigner:!1},{name:"claim",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"miner",isMut:!0,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1}]}],args:[]},{name:"stakeTokens",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"miner",isMut:!0,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"minerVault",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdrawTokens",accounts:[{name:"authority",isMut:!1,isSigner:!0},{name:"miner",isMut:!0,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"minerVault",isMut:!0,isSigner:!1},{name:"tokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"rescueTokens",accounts:[{name:"miner",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0},{name:"minerTokenAccount",isMut:!0,isSigner:!1},{name:"destinationTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"extractFees",accounts:[{name:"rewarder",isMut:!1,isSigner:!1},{name:"claimFeeTokenAccount",isMut:!0,isSigner:!1},{name:"feeToTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"Rewarder",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"authority",type:"publicKey"},{name:"pendingAuthority",type:"publicKey"},{name:"numQuarries",type:"u16"},{name:"annualRewardsRate",type:"u64"},{name:"totalRewardsShares",type:"u64"},{name:"mintWrapper",type:"publicKey"},{name:"rewardsTokenMint",type:"publicKey"},{name:"claimFeeTokenAccount",type:"publicKey"},{name:"maxClaimFeeMillibps",type:"u64"},{name:"pauseAuthority",type:"publicKey"},{name:"isPaused",type:"bool"}]}},{name:"Quarry",type:{kind:"struct",fields:[{name:"rewarder",type:"publicKey"},{name:"tokenMintKey",type:"publicKey"},{name:"bump",type:"u8"},{name:"index",type:"u16"},{name:"tokenMintDecimals",type:"u8"},{name:"famineTs",type:"i64"},{name:"lastUpdateTs",type:"i64"},{name:"rewardsPerTokenStored",type:"u128"},{name:"annualRewardsRate",type:"u64"},{name:"rewardsShare",type:"u64"},{name:"totalTokensDeposited",type:"u64"},{name:"numMiners",type:"u64"}]}},{name:"Miner",type:{kind:"struct",fields:[{name:"quarry",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"bump",type:"u8"},{name:"tokenVaultKey",type:"publicKey"},{name:"rewardsEarned",type:"u64"},{name:"rewardsPerTokenPaid",type:"u128"},{name:"balance",type:"u64"},{name:"index",type:"u64"}]}}],types:[{name:"StakeAction",type:{kind:"enum",variants:[{name:"Stake"},{name:"Withdraw"}]}}],events:[{name:"MinerCreateEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"quarry",type:"publicKey",index:!1},{name:"miner",type:"publicKey",index:!1}]},{name:"NewRewarderEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"ClaimEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"stakedToken",type:"publicKey",index:!1},{name:"rewardsToken",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"fees",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"StakeEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"token",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"WithdrawEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"token",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"RewarderAnnualRewardsUpdateEvent",fields:[{name:"previousRate",type:"u64",index:!1},{name:"newRate",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"QuarryCreateEvent",fields:[{name:"tokenMint",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"QuarryRewardsUpdateEvent",fields:[{name:"tokenMint",type:"publicKey",index:!1},{name:"annualRewardsRate",type:"u64",index:!1},{name:"rewardsShare",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]}],errors:[{code:6e3,name:"Unauthorized",msg:"You are not authorized to perform this action."},{code:6001,name:"InsufficientBalance",msg:"Insufficient staked balance for withdraw request."},{code:6002,name:"PendingAuthorityNotSet",msg:"Pending authority not set"},{code:6003,name:"InvalidRewardsShare",msg:"Invalid quarry rewards share"},{code:6004,name:"InsufficientAllowance",msg:"Insufficient allowance."},{code:6005,name:"NewVaultNotEmpty",msg:"New vault not empty."},{code:6006,name:"NotEnoughTokens",msg:"Not enough tokens."},{code:6007,name:"InvalidTimestamp",msg:"Invalid timestamp."},{code:6008,name:"InvalidMaxClaimFee",msg:"Invalid max claim fee."},{code:6009,name:"MaxAnnualRewardsRateExceeded",msg:"Max annual rewards rate exceeded."},{code:6010,name:"Paused",msg:"Rewarder is paused."},{code:6011,name:"UpperboundExceeded",msg:"Rewards earned exceeded quarry's upper bound."}]},Jr=(jr($r),{version:"5.0.2",name:"quarry_mint_wrapper",instructions:[{name:"newWrapper",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"mintWrapper",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"MintWrapper"},{kind:"account",type:"publicKey",path:"base"}]}},{name:"admin",isMut:!1,isSigner:!1},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"hardCap",type:"u64"}]},{name:"newWrapperV2",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"mintWrapper",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"MintWrapper"},{kind:"account",type:"publicKey",path:"base"}]}},{name:"admin",isMut:!1,isSigner:!1},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"hardCap",type:"u64"}]},{name:"transferAdmin",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"nextAdmin",isMut:!1,isSigner:!1}],args:[]},{name:"acceptAdmin",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"pendingAdmin",isMut:!1,isSigner:!0}],args:[]},{name:"newMinter",accounts:[{name:"auth",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}]},{name:"newMinterAuthority",isMut:!1,isSigner:!1},{name:"minter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"MintWrapperMinter"},{kind:"account",type:{defined:"Account<'info,MintWrapper>"},account:"OnlyAdmin",path:"auth.mint_wrapper"},{kind:"account",type:"publicKey",path:"new_minter_authority"}]}},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"newMinterV2",accounts:[{name:"auth",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}]},{name:"newMinterAuthority",isMut:!1,isSigner:!1},{name:"minter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"MintWrapperMinter"},{kind:"account",type:{defined:"Account<'info,MintWrapper>"},account:"OnlyAdmin",path:"auth.mint_wrapper"},{kind:"account",type:"publicKey",path:"new_minter_authority"}]}},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"minterUpdate",accounts:[{name:"auth",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}]},{name:"minter",isMut:!0,isSigner:!1}],args:[{name:"allowance",type:"u64"}]},{name:"performMint",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"minterAuthority",isMut:!1,isSigner:!0},{name:"tokenMint",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"minter",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]}],accounts:[{name:"MintWrapper",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"hardCap",type:"u64"},{name:"admin",type:"publicKey"},{name:"pendingAdmin",type:"publicKey"},{name:"tokenMint",type:"publicKey"},{name:"numMinters",type:"u64"},{name:"totalAllowance",type:"u64"},{name:"totalMinted",type:"u64"}]}},{name:"Minter",type:{kind:"struct",fields:[{name:"mintWrapper",type:"publicKey"},{name:"minterAuthority",type:"publicKey"},{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"allowance",type:"u64"},{name:"totalMinted",type:"u64"}]}}],events:[{name:"NewMintWrapperEvent",fields:[{name:"mintWrapper",type:"publicKey",index:!1},{name:"hardCap",type:"u64",index:!1},{name:"admin",type:"publicKey",index:!1},{name:"tokenMint",type:"publicKey",index:!1}]},{name:"MintWrapperAdminProposeEvent",fields:[{name:"mintWrapper",type:"publicKey",index:!1},{name:"currentAdmin",type:"publicKey",index:!1},{name:"pendingAdmin",type:"publicKey",index:!1}]},{name:"MintWrapperAdminUpdateEvent",fields:[{name:"mintWrapper",type:"publicKey",index:!1},{name:"previousAdmin",type:"publicKey",index:!1},{name:"admin",type:"publicKey",index:!1}]},{name:"NewMinterEvent",fields:[{name:"mintWrapper",type:"publicKey",index:!1},{name:"minter",type:"publicKey",index:!1},{name:"index",type:"u64",index:!1},{name:"minterAuthority",type:"publicKey",index:!1}]},{name:"MinterAllowanceUpdateEvent",fields:[{name:"mintWrapper",type:"publicKey",index:!1},{name:"minter",type:"publicKey",index:!1},{name:"previousAllowance",type:"u64",index:!1},{name:"allowance",type:"u64",index:!1}]},{name:"MinterMintEvent",fields:[{name:"mintWrapper",type:"publicKey",index:!1},{name:"minter",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"destination",type:"publicKey",index:!1}]}],errors:[{code:6e3,name:"Unauthorized",msg:"You are not authorized to perform this action."},{code:6001,name:"HardcapExceeded",msg:"Cannot mint over hard cap."},{code:6002,name:"MinterAllowanceExceeded",msg:"Minter allowance exceeded."}]}),ei=(jr(Jr),{version:"5.0.2",name:"quarry_redeemer",instructions:[{name:"createRedeemer",accounts:[{name:"redeemer",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Redeemer"},{kind:"account",type:"publicKey",account:"Mint",path:"iou_mint"},{kind:"account",type:"publicKey",account:"Mint",path:"redemption_mint"}]}},{name:"iouMint",isMut:!1,isSigner:!1},{name:"redemptionMint",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"redeemTokens",accounts:[{name:"redeemer",isMut:!0,isSigner:!1},{name:"sourceAuthority",isMut:!1,isSigner:!0},{name:"iouMint",isMut:!0,isSigner:!1},{name:"iouSource",isMut:!0,isSigner:!1},{name:"redemptionVault",isMut:!0,isSigner:!1},{name:"redemptionDestination",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"redeemAllTokens",accounts:[{name:"redeemer",isMut:!0,isSigner:!1},{name:"sourceAuthority",isMut:!1,isSigner:!0},{name:"iouMint",isMut:!0,isSigner:!1},{name:"iouSource",isMut:!0,isSigner:!1},{name:"redemptionVault",isMut:!0,isSigner:!1},{name:"redemptionDestination",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"Redeemer",type:{kind:"struct",fields:[{name:"iouMint",type:"publicKey"},{name:"redemptionMint",type:"publicKey"},{name:"bump",type:"u8"},{name:"totalTokensRedeemed",type:"u64"}]}}],events:[{name:"RedeemTokensEvent",fields:[{name:"user",type:"publicKey",index:!1},{name:"iouMint",type:"publicKey",index:!1},{name:"redemptionMint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]}],errors:[{code:6e3,name:"Unauthorized",msg:"Unauthorized."}]}),ti=(jr(ei),{version:"5.0.2",name:"quarry_operator",instructions:[{name:"createOperator",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"operator",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Operator"},{kind:"account",type:"publicKey",path:"base"}]}},{name:"rewarder",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"quarryMineProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"createOperatorV2",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"operator",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"Operator"},{kind:"account",type:"publicKey",path:"base"}]}},{name:"rewarder",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"quarryMineProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setAdmin",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"delegate",isMut:!1,isSigner:!1}],args:[]},{name:"setRateSetter",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"delegate",isMut:!1,isSigner:!1}],args:[]},{name:"setQuarryCreator",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"delegate",isMut:!1,isSigner:!1}],args:[]},{name:"setShareAllocator",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"delegate",isMut:!1,isSigner:!1}],args:[]},{name:"delegateSetAnnualRewards",accounts:[{name:"withDelegate",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1},{name:"quarryMineProgram",isMut:!1,isSigner:!1}]}],args:[{name:"newRate",type:"u64"}]},{name:"delegateCreateQuarry",accounts:[{name:"withDelegate",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1},{name:"quarryMineProgram",isMut:!1,isSigner:!1}]},{name:"quarry",isMut:!0,isSigner:!1},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"unusedAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"delegateCreateQuarryV2",accounts:[{name:"withDelegate",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1},{name:"quarryMineProgram",isMut:!1,isSigner:!1}]},{name:"quarry",isMut:!0,isSigner:!1},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"delegateSetRewardsShare",accounts:[{name:"withDelegate",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1},{name:"quarryMineProgram",isMut:!1,isSigner:!1}]},{name:"quarry",isMut:!0,isSigner:!1}],args:[{name:"newShare",type:"u64"}]},{name:"delegateSetFamine",accounts:[{name:"withDelegate",accounts:[{name:"operator",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!0},{name:"rewarder",isMut:!0,isSigner:!1},{name:"quarryMineProgram",isMut:!1,isSigner:!1}]},{name:"quarry",isMut:!0,isSigner:!1}],args:[{name:"famineTs",type:"i64"}]}],accounts:[{name:"Operator",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"rewarder",type:"publicKey"},{name:"admin",type:"publicKey"},{name:"rateSetter",type:"publicKey"},{name:"quarryCreator",type:"publicKey"},{name:"shareAllocator",type:"publicKey"},{name:"lastModifiedTs",type:"i64"},{name:"generation",type:"u64"}]}}],errors:[{code:6e3,name:"Unauthorized",msg:"Signer is not authorized to perform this action."},{code:6001,name:"PendingAuthorityNotSet",msg:"Pending authority must be set to the created operator."},{code:6002,name:"OperatorNotRewarderAuthority",msg:"Operator is not the Rewarder authority."}]}),ni=(jr(ti),{version:"5.0.2",name:"quarry_merge_mine",instructions:[{name:"newPool",accounts:[{name:"pool",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"MergePool"},{kind:"account",type:"publicKey",account:"Mint",path:"primary_mint"}]}},{name:"primaryMint",isMut:!1,isSigner:!1},{name:"replicaMint",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"ReplicaMint"},{kind:"account",type:"publicKey",account:"MergePool",path:"pool"}]}},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"mintBump",type:"u8"}]},{name:"newPoolV2",accounts:[{name:"pool",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"MergePool"},{kind:"account",type:"publicKey",account:"Mint",path:"primary_mint"}]}},{name:"primaryMint",isMut:!1,isSigner:!1},{name:"replicaMint",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"ReplicaMint"},{kind:"account",type:"publicKey",account:"MergePool",path:"pool"}]}},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initMergeMiner",accounts:[{name:"pool",isMut:!1,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mm",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"MergeMiner"},{kind:"account",type:"publicKey",account:"MergePool",path:"pool"},{kind:"account",type:"publicKey",path:"owner"}]}},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"initMergeMinerV2",accounts:[{name:"pool",isMut:!1,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mm",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"MergeMiner"},{kind:"account",type:"publicKey",account:"MergePool",path:"pool"},{kind:"account",type:"publicKey",path:"owner"}]}},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initMiner",accounts:[{name:"pool",isMut:!1,isSigner:!1},{name:"mm",isMut:!1,isSigner:!1},{name:"miner",isMut:!0,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"minerVault",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"mineProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"}]},{name:"initMinerV2",accounts:[{name:"pool",isMut:!1,isSigner:!1},{name:"mm",isMut:!1,isSigner:!1},{name:"miner",isMut:!0,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"minerVault",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"mineProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stakePrimaryMiner",accounts:[{name:"mmOwner",isMut:!1,isSigner:!0},{name:"mmPrimaryTokenAccount",isMut:!0,isSigner:!1},{name:"stake",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"mm",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"miner",isMut:!0,isSigner:!1},{name:"minerVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"mineProgram",isMut:!1,isSigner:!1}]}],args:[]},{name:"stakeReplicaMiner",accounts:[{name:"mmOwner",isMut:!1,isSigner:!0},{name:"replicaMint",isMut:!0,isSigner:!1},{name:"replicaMintTokenAccount",isMut:!0,isSigner:!1},{name:"stake",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"mm",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"miner",isMut:!0,isSigner:!1},{name:"minerVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"mineProgram",isMut:!1,isSigner:!1}]}],args:[]},{name:"unstakePrimaryMiner",accounts:[{name:"mmOwner",isMut:!1,isSigner:!0},{name:"mmPrimaryTokenAccount",isMut:!0,isSigner:!1},{name:"stake",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"mm",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"miner",isMut:!0,isSigner:!1},{name:"minerVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"mineProgram",isMut:!1,isSigner:!1}]}],args:[{name:"amount",type:"u64"}]},{name:"unstakeAllReplicaMiner",accounts:[{name:"mmOwner",isMut:!1,isSigner:!0},{name:"replicaMint",isMut:!0,isSigner:!1},{name:"replicaMintTokenAccount",isMut:!0,isSigner:!1},{name:"stake",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"mm",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"miner",isMut:!0,isSigner:!1},{name:"minerVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"mineProgram",isMut:!1,isSigner:!1}]}],args:[]},{name:"withdrawTokens",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"pool",isMut:!1,isSigner:!1},{name:"mm",isMut:!0,isSigner:!1},{name:"withdrawMint",isMut:!1,isSigner:!1},{name:"mmTokenAccount",isMut:!0,isSigner:!1},{name:"tokenDestination",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"rescueTokens",accounts:[{name:"mmOwner",isMut:!1,isSigner:!0},{name:"mergePool",isMut:!1,isSigner:!1},{name:"mm",isMut:!1,isSigner:!1},{name:"miner",isMut:!1,isSigner:!1},{name:"minerTokenAccount",isMut:!0,isSigner:!1},{name:"destinationTokenAccount",isMut:!0,isSigner:!1},{name:"quarryMineProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"claimRewards",accounts:[{name:"mintWrapper",isMut:!0,isSigner:!1},{name:"mintWrapperProgram",isMut:!1,isSigner:!1},{name:"minter",isMut:!0,isSigner:!1},{name:"rewardsTokenMint",isMut:!0,isSigner:!1},{name:"rewardsTokenAccount",isMut:!0,isSigner:!1},{name:"claimFeeTokenAccount",isMut:!0,isSigner:!1},{name:"stakeTokenAccount",isMut:!0,isSigner:!1},{name:"stake",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"mm",isMut:!0,isSigner:!1},{name:"rewarder",isMut:!1,isSigner:!1},{name:"quarry",isMut:!0,isSigner:!1},{name:"miner",isMut:!0,isSigner:!1},{name:"minerVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"mineProgram",isMut:!1,isSigner:!1}]}],args:[]}],accounts:[{name:"MergePool",type:{kind:"struct",fields:[{name:"primaryMint",type:"publicKey"},{name:"bump",type:"u8"},{name:"replicaMint",type:"publicKey"},{name:"mmCount",type:"u64"},{name:"totalPrimaryBalance",type:"u64"},{name:"totalReplicaBalance",type:"u64"},{name:"reserved",type:{array:["u64",16]}}]}},{name:"MergeMiner",type:{kind:"struct",fields:[{name:"pool",type:"publicKey"},{name:"owner",type:"publicKey"},{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"primaryBalance",type:"u64"},{name:"replicaBalance",type:"u64"}]}}],events:[{name:"NewMergePoolEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"primaryMint",type:"publicKey",index:!1}]},{name:"InitMergeMinerEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"mm",type:"publicKey",index:!1},{name:"primaryMint",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1}]},{name:"InitMinerEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"mm",type:"publicKey",index:!1},{name:"miner",type:"publicKey",index:!1}]},{name:"StakePrimaryEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"mm",type:"publicKey",index:!1},{name:"miner",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"StakeReplicaEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"mm",type:"publicKey",index:!1},{name:"miner",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"UnstakePrimaryEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"mm",type:"publicKey",index:!1},{name:"miner",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"UnstakeReplicaEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"mm",type:"publicKey",index:!1},{name:"miner",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"WithdrawTokensEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"mm",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"ClaimEvent",fields:[{name:"pool",type:"publicKey",index:!1},{name:"mm",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"initialBalance",type:"u64",index:!1},{name:"endBalance",type:"u64",index:!1}]}],errors:[{code:6e3,name:"Unauthorized",msg:"Unauthorized."},{code:6001,name:"InsufficientBalance",msg:"Insufficient balance."},{code:6002,name:"InvalidMiner",msg:"Invalid miner for the given quarry."},{code:6003,name:"CannotWithdrawReplicaMint",msg:"Cannot withdraw a replica mint."},{code:6004,name:"OutstandingReplicaTokens",msg:"User must first withdraw from all replica quarries."},{code:6005,name:"ReplicaDecimalsMismatch",msg:"The replica mint must have the same number of decimals as the primary mint."},{code:6006,name:"ReplicaNonZeroSupply",msg:"The replica mint must have zero supply."}]}),ri=(jr(ni),{version:"5.0.2",name:"quarry_registry",instructions:[{name:"newRegistry",accounts:[{name:"rewarder",isMut:!1,isSigner:!1},{name:"registry",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"QuarryRegistry"},{kind:"account",type:"publicKey",account:"Rewarder",path:"rewarder"}]}},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"maxQuarries",type:"u16"},{name:"bump",type:"u8"}]},{name:"syncQuarry",accounts:[{name:"quarry",isMut:!1,isSigner:!1},{name:"registry",isMut:!0,isSigner:!1}],args:[]}],accounts:[{name:"Registry",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"rewarder",type:"publicKey"},{name:"tokens",type:{vec:"publicKey"}}]}}]}),ii=(jr(ri),{MergeMine:new i.PublicKey("QMMD16kjauP5knBwxNUJRZ1Z5o3deBuFrqVjBVmmqto"),Mine:new i.PublicKey("QMNeHCGYnLVDn1icRAfQZpjPLBNkfGbSKRB83G5d8KB"),MintWrapper:new i.PublicKey("QMWoBmAyJLAsA1Lh9ugMTw2gciTihncciphzdNzdZYV"),Operator:new i.PublicKey("QoP6NfrQbaGnccXQrMLUkog2tQZ4C1RFgJcwDnT8Kmz"),Redeemer:new i.PublicKey("QRDxhMw1P2NEfiw5mYXG79bwfgHTdasY2xNP76XSea9"),Registry:new i.PublicKey("QREGBnEj9Sa5uR91AV8u3FxThgP5ZCvdZUW2bHAkfNc")});var oi,si;oi={MergeMine:ni,Mine:$r,MintWrapper:Jr,Operator:ti,Redeemer:ei,Registry:ri},si=ii,de()(oi,((e,t)=>new Zr(si[t],e))),new i.PublicKey("4MMZH3ih1aSty2nx4MC3kSR94Zb55XsXnqb5jfEcyHWQ"),new i.PublicKey("4MMZH3ih1aSty2nx4MC3kSR94Zb55XsXnqb5jfEcyHWQ");const ai=g.MintLayout;var ui;!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet"}(ui||(ui={}));const ci=new i.PublicKey("RawSo11111111111111111111111111111111111112");class li{constructor(e){var t;this.info=e,this._mintAccount=null,this.network=null!==(t=bi(e.chainId))&&void 0!==t?t:"localnet"}get mintAccount(){return this._mintAccount||(this._mintAccount=new i.PublicKey(this.info.address)),this._mintAccount}get isRawSOL(){return this.mintAccount.equals(ci)}get address(){return this.info.address}get chainId(){return this.info.chainId}get decimals(){return this.info.decimals}get name(){return this.info.name}get symbol(){return this.info.symbol}get icon(){return this.info.logoURI}equals(e){return di(this,e)}toString(){return`Token[mint=${this.address}, decimals=${this.decimals}, network=${this.network}]`}toJSON(){return this.info}hasTag(e){var t;return!!(null===(t=this.info.tags)||void 0===t?void 0:t.includes(e))}}li.fromMint=(e,t,n={})=>{var r,i,o;return new li({...n,address:e.toString(),decimals:t,name:null!==(r=n.name)&&void 0!==r?r:`Token ${e.toString().slice(0,4)}`,symbol:null!==(i=n.symbol)&&void 0!==i?i:e.toString().slice(0,5),chainId:null!==(o=n.chainId)&&void 0!==o?o:mi.Localnet})},li.load=async(e,t,n={})=>{if("number"==typeof n.decimals)return li.fromMint(t,n.decimals,n);const r=await e.getAccountInfo(t);if(!r)return null;const o=(e=>{if(e.length!==ai.span)throw new Error("Not a valid Mint");const t=ai.decode(e);let n;n=0===t.mintAuthorityOption?null:new i.PublicKey(t.mintAuthority);const r=g.u64.fromBuffer(t.supply),o=0!==t.isInitialized;let s;return s=0===t.freezeAuthorityOption?null:new i.PublicKey(t.freezeAuthority),{mintAuthority:n,supply:r,decimals:t.decimals,isInitialized:o,freezeAuthority:s}})(r.data);return li.fromMint(t,o.decimals,n)};const di=(e,t)=>void 0!==e&&void 0!==t&&e.address===t.address&&e.network===t.network,fi={address:ci.toString(),name:"Solana",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},pi={address:g.NATIVE_MINT.toString(),name:"Wrapped SOL",symbol:"SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},hi=e=>({"mainnet-beta":new li({...e,chainId:mi.MainnetBeta}),devnet:new li({...e,chainId:mi.Devnet}),testnet:new li({...e,chainId:mi.Testnet}),localnet:new li({...e,chainId:mi.Localnet})});var mi;!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet",e[e.Localnet=104]="Localnet"}(mi||(mi={}));const gi={"mainnet-beta":mi.MainnetBeta,devnet:mi.Devnet,testnet:mi.Testnet,localnet:104},yi=Object.entries(gi).reduce(((e,[t,n])=>({...e,[n]:t})),{}),bi=e=>yi[e];hi(fi),hi(pi);class wi extends Z{constructor(e,t){super(e,t,X)}new(e,t){return new wi(e,t)}static parse(e,t){const n=H(e,t,".",",");return new wi(e,n)}divideByInteger(e){return new wi(this.token,this.toU64().div(new(m())(D(e).toString())))}toString(){return`TokenAmount[Token=(${this.token.toString()}), amount=${this.toExact()}`}toJSON(){return{...super.toJSON(),_isTA:!0,mint:this.token.address,uiAmount:this.toExact()}}toU64(){return new g.u64(this.raw.toString())}}function vi(e,t,n){return e.mul(t).div(n)}function Si(e,t,n){return e.mul(n).div(t)}function Ai(e,t){const{lockedProfitTracker:{lastReport:n,lockedProfitDegradation:r,lastUpdatedLockedProfit:i},totalAmount:o}=t,s=new(m())(e).sub(n).mul(r);if(s.gt(Ur))return o;const a=i.mul(Ur.sub(s)).div(Ur);return o.sub(a)}new i.PublicKey("shmem4EWT2sPdVGvTZCzXXRAURL9G5vpPxNwSeKhHUL"),new(m())(0),new(m())(10),new(m())(E.toString()),new(m())(31536e3),n(4902),n(9642);var ki,_i=n(346),Mi=n.n(_i),Ii=n(3609),Ei=n(9343),Pi=n.n(Ei);!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet"}(ki||(ki={}));const Ti={"mainnet-beta":ki.MainnetBeta,testnet:ki.Testnet,devnet:ki.Devnet},Oi=async e=>(await Promise.all(e.map((async e=>{try{const t=await(0,Ii.fetch)(e);return await t.json()}catch{return console.info("@solana/token-registry: falling back to static repository."),Pi()}})))).map((e=>e.tokens)).reduce(((e,t)=>e.concat(t)),[]);var xi;!function(e){e.GitHub="GitHub",e.Static="Static",e.Solana="Solana",e.CDN="CDN"}(xi||(xi={}));class Bi{constructor(){this.resolve=async(e=xi.CDN)=>new Li(await Bi.strategies[e].resolve())}}Bi.strategies={[xi.GitHub]:new class{constructor(){this.repositories=["https://raw.githubusercontent.com/solana-labs/token-list/main/src/tokens/solana.tokenlist.json"],this.resolve=()=>Oi(this.repositories)}},[xi.Static]:new class{constructor(){this.resolve=()=>Pi().tokens}},[xi.Solana]:new class{constructor(){this.repositories=["https://token-list.solana.com/solana.tokenlist.json"],this.resolve=()=>Oi(this.repositories)}},[xi.CDN]:new class{constructor(){this.repositories=["https://cdn.jsdelivr.net/gh/solana-labs/token-list@main/src/tokens/solana.tokenlist.json"],this.resolve=()=>Oi(this.repositories)}}};class Li{constructor(e){this.tokenList=e,this.filterByTag=e=>new Li(this.tokenList.filter((t=>(t.tags||[]).includes(e)))),this.filterByChainId=e=>new Li(this.tokenList.filter((t=>t.chainId===e))),this.excludeByChainId=e=>new Li(this.tokenList.filter((t=>t.chainId!==e))),this.excludeByTag=e=>new Li(this.tokenList.filter((t=>!(t.tags||[]).includes(e)))),this.filterByClusterSlug=e=>{if(e in Ti)return this.filterByChainId(Ti[e]);throw new Error(`Unknown slug: ${e}, please use one of ${Object.keys(Ti)}`)},this.getList=()=>this.tokenList}}const Ci="Invalid mint",Ri="Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB",Ni=(ki.Devnet,ki.Devnet,ki.Devnet,ki.Devnet,Object.freeze({USDT_USDC:"BAHscmu1NncGS7t4rc5gSBPv1UFEMkvLaon1Ahdd5rHi",USDT_SOL:"Bgf1Sy5kfeDgib4go4NgzHuZwek8wE8NZus56z6uizzi",SOL_MSOL:"2rkn2yM4wJcHPV57T8fPWeBksrfSpiNZoEjRgjtxNDEQ"}),Object.freeze({USDT_USDC:"32D4zRxNc1EssbJieVHfPhZM3rH6CzfUPrWUuWxD9prG",USDC_SOL:"5yuefgbJJpmFNK2iiYbLSpv1aZXq7F9AUKkZKErTYCvs",SOL_STSOL:"7EJSgV2pthhDfb4UiER9vzTqe2eojei9GEQAQnkqJ96e"}),{marinade:new i.PublicKey("8szGkuLTAux9XMgZ2vtY39jVSowEcpBfFfD8hXSEqdGC"),lido:new i.PublicKey("49Yi1TKkNyYjPAFdR9LBvoHcUjuPX4Df5T5yv39w2XTn")}),Di=(Object.freeze({APY:"apy"}),new i.PublicKey("H9NnqW5Thn9dUzW3DRXe2xDhKjwZd4qbjngnZwEvnDuC"),new i.PublicKey("So11111111111111111111111111111111111111112"),new h.BN(1e8),S().BigInt(2)),Fi=e=>S().greaterThan(e,A)?e:S().unaryMinus(e),Ki=(e,t,n)=>{const r=S().multiply(e,Di),i=S().add(t,n);if(S().equal(i,A))return A;let o=A,s=i;for(let e=0;S().greaterThan(Fi(S().subtract(s,o)),k)&&e<20;e++){o=s;let e=s;e=S().divide(S().multiply(e,s),S().multiply(t,Di)),e=S().divide(S().multiply(e,s),S().multiply(n,Di));const a=S().multiply(s,S().add(S().multiply(r,i),S().multiply(e,Di))),u=S().add(S().multiply(s,S().subtract(r,k)),S().multiply(e,S().add(Di,k)));s=S().divide(a,u)}return s},Ui=(e,t,n)=>{const r=S().multiply(e,Di),i=S().subtract(S().add(t,S().divide(n,r)),n),o=S().divide(S().multiply(S().multiply(n,n),n),S().multiply(Di,S().multiply(Di,S().multiply(t,r))));let s=A,a=n;for(let e=0;e<20&&S().greaterThan(Fi(S().subtract(a,s)),k);e++)s=a,a=S().divide(S().add(S().multiply(a,a),o),S().add(S().multiply(Di,a),i));return a},Wi=S().BigInt(2),zi=({trade:e},t,n)=>{const r=new W(t,S().multiply(S().subtract(t,k),S().BigInt(4)));return new W(n,1).multiply(e).multiply(r)},ji=(new i.PublicKey("SSwpkEEcbUqx4vtoEByFjSkhKdCT862DNVb52nZg1UZ"),new q(0,1e4),50),qi=(new q(20,1e4),new q(50,1e4),new q(ji,100),new q(50,100),s.n_([b("adminTradeFeeNumerator"),b("adminTradeFeeDenominator"),b("adminWithdrawFeeNumerator"),b("adminWithdrawFeeDenominator"),b("tradeFeeNumerator"),b("tradeFeeDenominator"),b("withdrawFeeNumerator"),b("withdrawFeeDenominator")],"fees"));var Vi,Hi;s.n_([s.u8("isInitialized"),s.u8("isPaused"),s.u8("nonce"),b("initialAmpFactor"),b("targetAmpFactor"),s.gM("startRampTs"),s.gM("stopRampTs"),s.gM("futureAdminDeadline"),y("futureAdminAccount"),y("adminAccount"),y("tokenAccountA"),y("tokenAccountB"),y("tokenPool"),y("mintA"),y("mintB"),y("adminFeeAccountA"),y("adminFeeAccountB"),qi]),s.n_([s.u8("instruction"),s.u8("nonce"),b("ampFactor"),qi]),s.n_([s.u8("instruction"),b("amountIn"),b("minimumAmountOut")]),s.n_([s.u8("instruction"),b("tokenAmountA"),b("tokenAmountB"),b("minimumPoolTokenAmount")]),s.n_([s.u8("instruction"),b("poolTokenAmount"),b("minimumTokenA"),b("minimumTokenB")]),s.n_([s.u8("instruction"),b("poolTokenAmount"),b("minimumTokenAmount")]),s.n_([s.u8("instruction"),b("targetAmp"),s.gM("stopRampTS")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction")]),s.n_([s.u8("instruction"),qi]),function(e){e[e.RAMP_A=100]="RAMP_A",e[e.STOP_RAMP_A=101]="STOP_RAMP_A",e[e.PAUSE=102]="PAUSE",e[e.UNPAUSE=103]="UNPAUSE",e[e.SET_FEE_ACCOUNT=104]="SET_FEE_ACCOUNT",e[e.APPLY_NEW_ADMIN=105]="APPLY_NEW_ADMIN",e[e.COMMIT_NEW_ADMIN=106]="COMMIT_NEW_ADMIN",e[e.SET_NEW_FEES=107]="SET_NEW_FEES"}(Vi||(Vi={})),function(e){e[e.INITIALIZE=0]="INITIALIZE",e[e.SWAP=1]="SWAP",e[e.DEPOSIT=2]="DEPOSIT",e[e.WITHDRAW=3]="WITHDRAW",e[e.WITHDRAW_ONE=4]="WITHDRAW_ONE"}(Hi||(Hi={}));var Qi=n(6755);const Gi=new Ye.BN(1e6),Xi=new Ye.BN(600);class Yi{constructor(e,t,n,r,i){this.amp=e,this.tokenMultiplier=t,this.depeg=n,this.extraAccounts=r,this.onChainTime=i}getBasePoolVirtualPrice(e){if(e.marinade){const e=this.extraAccounts.get(Ni.marinade.toBase58());return new Ye.BorshCoder(Qi).accounts.decode("State",e.data).msolPrice.mul(Gi).div(new Ye.BN(4294967296))}if(e.lido){const e=this.extraAccounts.get(Ni.lido.toBase58()),t=new Ye.BN(e.data.readBigInt64LE(73).toString());return new Ye.BN(e.data.readBigInt64LE(81).toString()).mul(Gi).div(t)}throw new Error("UnsupportedBasePool")}updateDepegInfoIfExpired(){return e=this,t=void 0,r=function*(){this.depeg.depegType.none||this.onChainTime>this.depeg.baseCacheUpdated.add(Xi).toNumber()&&(this.depeg.baseVirtualPrice=this.getBasePoolVirtualPrice(this.depeg.depegType),this.depeg.baseCacheUpdated=new Ye.BN(this.onChainTime))},new((n=void 0)||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}upscaleTokenA(e){const{tokenAMultiplier:t}=this.tokenMultiplier,n=e.mul(t);return this.depeg.depegType.none?n:n.mul(Gi)}downscaleTokenA(e){const{tokenAMultiplier:t}=this.tokenMultiplier,n=e.div(t);return this.depeg.depegType.none?n:n.div(Gi)}upscaleTokenB(e){const{tokenBMultiplier:t}=this.tokenMultiplier,n=e.mul(t);return this.depeg.depegType.none?n:n.mul(this.depeg.baseVirtualPrice)}downscaleTokenB(e){const{tokenBMultiplier:t}=this.tokenMultiplier,n=e.div(t);return this.depeg.depegType.none?n:n.div(this.depeg.baseVirtualPrice)}computeOutAmountWithoutSlippage(e,t,n,r){const i=new Ye.BN(16),o=new Ye.BN(4),s=new Ye.BN(2),a=new Ye.BN(this.amp),u=a.mul(i),c=u,l=r.mul(o).sub(r.mul(a).mul(i)),d=s.mul(u).mul(t).add(c.mul(n)).add(l).mul(n),f=u.mul(t).add(s.mul(c).mul(n).add(l)).mul(t);return e.mul(d).div(f)}computeOutAmount(e,t,n,r){this.updateDepegInfoIfExpired();const[i,o,s]=r==$i.AToB?[this.upscaleTokenA(e),this.upscaleTokenA(t),this.upscaleTokenB(n)]:[this.upscaleTokenB(e),this.upscaleTokenB(t),this.upscaleTokenA(n)],a=Ki(S().BigInt(this.amp),S().BigInt(o.toString()),S().BigInt(s.toString())),u=S().add(S().BigInt(o.toString()),S().BigInt(i.toString())),c=Ui(S().BigInt(this.amp),u,a);let l=s.sub(new Ye.BN(c.toString())),d=this.computeOutAmountWithoutSlippage(i,o,s,new Ye.BN(a.toString()));return[l,d]=r==$i.AToB?[this.downscaleTokenB(l),this.downscaleTokenB(d)]:[this.downscaleTokenA(l),this.downscaleTokenA(d)],{outAmount:l,priceImpact:io(l,d)}}computeD(e,t){this.updateDepegInfoIfExpired();const n=this.upscaleTokenA(e),r=this.upscaleTokenB(t),i=new Ye.BN(Ki(S().BigInt(this.amp),S().BigInt(n.toString()),S().BigInt(r.toString())).toString());return this.depeg.depegType.none?i:i.div(Gi)}computeInAmount(e,t,n,r){this.updateDepegInfoIfExpired();const[i,o,s]=r==$i.AToB?[this.upscaleTokenB(e),this.upscaleTokenA(t),this.upscaleTokenB(n)]:[this.upscaleTokenA(e),this.upscaleTokenB(t),this.upscaleTokenA(n)],a=Ki(S().BigInt(this.amp),S().BigInt(o.toString()),S().BigInt(s.toString())),u=S().subtract(S().BigInt(s.toString()),S().BigInt(i.toString())),c=Ui(S().BigInt(this.amp),u,a),l=new Ye.BN(c.toString()).sub(t);return r==$i.AToB?this.downscaleTokenA(l):this.downscaleTokenB(l)}computeImbalanceDeposit(e,t,n,r,i,o){this.updateDepegInfoIfExpired();const[s,a,u,c]=[this.upscaleTokenA(e),this.upscaleTokenB(t),this.upscaleTokenA(n),this.upscaleTokenB(r)],{mintAmount:l}=((e,t,n)=>{if(S().equal(t,A)&&S().equal(n,A)){const t=new ce(e.lpTotalSupply.token,A);return{mintAmountBeforeFees:t,mintAmount:t,fees:t}}const r=e.ampFactor,[i,o]=e.reserves,s=Ki(r,i.amount.raw,o.amount.raw),a=Ki(r,S().add(i.amount.raw,t),S().add(o.amount.raw,n));if(S().lessThan(a,s))throw new Error("New D cannot be less than previous D");const u=e.reserves.map((e=>e.amount.raw)),c=[S().add(i.amount.raw,t),S().add(o.amount.raw,n)].map(((t,n)=>{const r=u[n],i=new W(a,s).multiply(r).subtract(t),o=i.greaterThan(0)?i:i.multiply(-1),c=zi(e.fees,Wi,S().BigInt(o.toFixed(0)));return S().subtract(t,S().BigInt(c.toFixed(0)))})),l=Ki(r,c[0],c[1]),d=e.lpTotalSupply,f=S().divide(S().multiply(d.raw,S().subtract(l,s)),s),p=new ce(e.lpTotalSupply.token,f),h=S().divide(S().multiply(d.raw,S().subtract(a,s)),s),m=new ce(e.lpTotalSupply.token,S().subtract(h,f));return{mintAmount:p,mintAmountBeforeFees:new ce(e.lpTotalSupply.token,h),fees:m}})(Zi.toExchange(this.amp,u,c,i,o),S().BigInt(s.toString()),S().BigInt(a.toString()));return l.toU64()}computeWithdrawOne(e,t,n,r,i,o){this.updateDepegInfoIfExpired();const[s,a]=[this.upscaleTokenA(n),this.upscaleTokenB(r)],u=Zi.toExchange(this.amp,s,a,t,i),c=o==$i.BToA?u.reserves[0].amount.token:u.reserves[1].amount.token,{withdrawAmountBeforeFees:l}=(({exchange:e,poolTokenAmount:t,withdrawToken:n})=>{var r,i,o,s;if(t.equalTo(0)){const e=new ce(n,A);return{withdrawAmount:e,withdrawAmountBeforeFees:e,swapFee:e,withdrawFee:e,lpSwapFee:e,lpWithdrawFee:e,adminSwapFee:e,adminWithdrawFee:e}}const{ampFactor:a,fees:u}=e,[c,l]=[null!==(i=null===(r=e.reserves.find((e=>e.amount.token.equals(n))))||void 0===r?void 0:r.amount.raw)&&void 0!==i?i:A,null!==(s=null===(o=e.reserves.find((e=>!e.amount.token.equals(n))))||void 0===o?void 0:o.amount.raw)&&void 0!==s?s:A],d=Ki(a,c,l),f=S().subtract(d,S().divide(S().multiply(t.raw,d),e.lpTotalSupply.raw)),p=Ui(a,l,f),h=S().subtract(S().divide(S().multiply(c,f),d),p),m=S().subtract(l,S().divide(S().multiply(l,f),d)),g=new W(c.toString(),1).subtract(zi(u,Wi,h)),y=new W(l.toString(),1).subtract(zi(u,Wi,m)),b=g.subtract(Ui(a,S().BigInt(y.toFixed(0)),f).toString()),w=S().subtract(c,p),v=new W(w.toString(),1).subtract(b),k=b.multiply(u.withdraw.asFraction),_=v.multiply(u.adminTrade.asFraction),M=k.multiply(u.adminWithdraw.asFraction),I=v.subtract(_),E=k.subtract(M),P=b.subtract(k).subtract(v);return{withdrawAmount:new ce(n,P.toFixed(0)),withdrawAmountBeforeFees:new ce(n,b.toFixed(0)),swapFee:new ce(n,v.toFixed(0)),withdrawFee:new ce(n,k.toFixed(0)),lpSwapFee:new ce(n,I.toFixed(0)),lpWithdrawFee:new ce(n,E.toFixed(0)),adminSwapFee:new ce(n,_.toFixed(0)),adminWithdrawFee:new ce(n,M.toFixed(0))}})({exchange:u,poolTokenAmount:Zi.toTokenAmount(e),withdrawToken:c});return o==$i.AToB?this.downscaleTokenB(l.toU64()):this.downscaleTokenA(l.toU64())}}class Zi{static toExchange(e,t,n,r,i){return{ampFactor:S().BigInt(e),fees:this.toFees(i),lpTotalSupply:this.toTokenAmount(r),reserves:[this.toReserve(t),this.toReserve(n)]}}static toFees(e){return{adminTrade:new q(e.ownerTradeFeeNumerator,e.ownerTradeFeeDenominator),trade:new q(e.tradeFeeNumerator,e.tradeFeeDenominator),adminWithdraw:new q(0,100),withdraw:new q(0,100)}}static toTokenAmount(e){return new wi(new li({address:i.Keypair.generate().publicKey.toBase58(),chainId:mi.MainnetBeta,decimals:0,name:"",symbol:""}),e)}static toReserve(e){return{adminFeeAccount:i.PublicKey.default,amount:this.toTokenAmount(e),reserveAccount:i.PublicKey.default}}}var $i,Ji,eo=n(9066),to=n.n(eo);function no(e,t){let n=e.div(t);if(n.eq(new Ye.BN(0)))throw new Error("ceilDiv result in zero");let r=e.mod(t);return r.gt(new Ye.BN(0))&&(n=n.add(new Ye.BN(1)),t=e.div(n),r=e.mod(n),r.gt(new Ye.BN(0))&&(t=t.add(new Ye.BN(1)))),[n,t]}class ro{constructor(){}computeOutAmountWithoutSlippage(e,t,n){return e.mul(n).div(t)}computeOutAmount(e,t,n,r){let i=t.mul(n),[o,s]=no(i,t.add(e)),a=n.sub(o);if(a.eq(new Ye.BN(0)))throw new Error("Swap result in zero");const u=this.computeOutAmountWithoutSlippage(e,t,n);return{outAmount:a,priceImpact:io(a,u)}}computeD(e,t){return to()(e.mul(t))}computeInAmount(e,t,n,r){let i=t.mul(n),[o,s]=no(i,n.sub(e)),a=o.sub(t);if(a.eq(new Ye.BN(0)))throw new Error("Swap result in zero");return a}computeImbalanceDeposit(e,t,n,r,i,o){throw new Error("UnsupportedOperation")}computeWithdrawOne(e,t,n,r,i,o){throw new Error("UnsupportedOperation")}}(Ji=$i||($i={}))[Ji.AToB=0]="AToB",Ji[Ji.BToA=1]="BToA";const io=(e,t)=>{const n=t.sub(e);return new mt.Z(n.toString()).div(new mt.Z(t.toString()))};var oo=n(3553);n(1793),n(4712),n(254);class so extends s.Ar{constructor(e){const t=(0,s.Ik)(32);super(t.span,e),this.layout=t}getSpan(e,t){return this.layout.getSpan(e,t)}decode(e,t){return new i.PublicKey(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(e.toBuffer(),t,n)}}function ao(e){return new so(e)}class uo extends s.t6{decode(e,t){return new(m())(super.decode(e,t),10,"le")}encode(e,t,n){return super.encode(e.toArrayLike(Buffer,"le",this.span),t,n)}}function co(e){return new uo(8,e)}function lo(e){return new uo(16,e)}function fo(e,t){const n=e.decode;e.decode=function(e,r=0){return t(n.call(this,e,r))}}const po=(0,s.n_)([(0,s.u8)("flag"),(0,s.Jq)("len")],"header"),ho=(0,s.n_)([lo("key"),ao("owner"),co("quantity"),co("clientOrderId"),(0,s.u8)("feeTier"),co("total")]),mo=(0,s.n_)([po,(0,s.A9)(ho,(0,s.cv)(po.layoutFor("len"),po.offsetOf("len")-po.span),"nodes")]);class go{constructor(e,t){this.header=e,this.nodes=t||[]}get isDescending(){return 1==this.header.flag}static decode(e){return mo.decode(e)}static getPriceFromKey(e){return e.ushrn(64)}get(e){return this.nodes.find((t=>t.key.eq(e)))}get items(){return this.nodes}allItems(e=!1){return e!=this.isDescending?this.nodes.slice().reverse():this.nodes}find(e){return e instanceof m()||(e=new(m())(e)),this.nodes.find((t=>t.clientOrderId.eq(e)))}findMinMax(e){return this.allItems(e)[0]||null}}fo(mo,(({header:e,nodes:t})=>new go(e,t))),ho.span;const yo=(0,s.n_)([(0,s.u8)("flag"),(0,s.u8)("fee_tier"),(0,s.A9)((0,s.u8)(),6),lo("key"),ao("owner"),co("quantity"),co("total")]),bo=(0,s.Jq)("len"),wo=(0,s.n_)([co("flag"),bo,(0,s.A9)((0,s.u8)(),4),(0,s.A9)(yo,(0,s.cv)(bo,-8),"items")]);class vo{constructor(e,t){this.len=e,this.items=t}allItems(){return this.items}get length(){return this.len}static decode(e){const{len:t,items:n}=wo.decode(e);return new vo(t,n)}}fo(wo,(({len:e,items:t})=>new vo(e,t))),(0,s.A9)(co(""),4);const So=new Ye.BorshCoder({version:"0.1.0",name:"dex",instructions:[{name:"setDexConfig",accounts:[{name:"master",isMut:!0,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"authority",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"input",type:{defined:"DexConfigInput"}}]},{name:"setDexUserFeeTier",accounts:[{name:"dexUser",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"authority",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"input",type:{defined:"DexUserFeeTierInput"}}]},{name:"createDexUser",accounts:[{name:"dexUser",isMut:!0,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"referrer",type:{option:{array:["u8",32]}}}]},{name:"createMarketUser",accounts:[{name:"pair",isMut:!1,isSigner:!1},{name:"market",isMut:!0,isSigner:!1},{name:"marketUser",isMut:!0,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"createMarket",accounts:[{name:"pair",isMut:!0,isSigner:!0},{name:"market",isMut:!0,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"t0Mint",isMut:!1,isSigner:!1},{name:"t1Mint",isMut:!1,isSigner:!1},{name:"lpTokenMint",isMut:!0,isSigner:!1},{name:"t0Vault",isMut:!0,isSigner:!1},{name:"t1Vault",isMut:!0,isSigner:!1},{name:"bids",isMut:!0,isSigner:!1},{name:"asks",isMut:!0,isSigner:!1},{name:"master",isMut:!0,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"input",type:{defined:"MarketInput"}}]},{name:"addLiquidity",accounts:[{name:"pair",isMut:!1,isSigner:!1},{name:"market",isMut:!0,isSigner:!1},{name:"t0Mint",isMut:!0,isSigner:!1},{name:"t1Mint",isMut:!0,isSigner:!1},{name:"t0Vault",isMut:!0,isSigner:!1},{name:"t0User",isMut:!0,isSigner:!1},{name:"t1Vault",isMut:!0,isSigner:!1},{name:"t1User",isMut:!0,isSigner:!1},{name:"lpTokenMint",isMut:!0,isSigner:!1},{name:"lpTokenUser",isMut:!0,isSigner:!1},{name:"lpTokenVault",isMut:!0,isSigner:!1},{name:"master",isMut:!0,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"logger",isMut:!1,isSigner:!1}],args:[{name:"t0Amount",type:"u64"},{name:"t1Amount",type:"u64"}]},{name:"removeLiquidity",accounts:[{name:"pair",isMut:!1,isSigner:!1},{name:"market",isMut:!0,isSigner:!1},{name:"t0Mint",isMut:!0,isSigner:!1},{name:"t1Mint",isMut:!0,isSigner:!1},{name:"t0Vault",isMut:!0,isSigner:!1},{name:"t0User",isMut:!0,isSigner:!1},{name:"t1Vault",isMut:!0,isSigner:!1},{name:"t1User",isMut:!0,isSigner:!1},{name:"lpTokenMint",isMut:!0,isSigner:!1},{name:"lpTokenUser",isMut:!0,isSigner:!1},{name:"lpTokenVault",isMut:!0,isSigner:!1},{name:"master",isMut:!0,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"logger",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"createOrder",accounts:[{name:"pair",isMut:!0,isSigner:!1},{name:"market",isMut:!0,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"dexUser",isMut:!1,isSigner:!1},{name:"marketUser",isMut:!0,isSigner:!1},{name:"bids",isMut:!0,isSigner:!1},{name:"asks",isMut:!0,isSigner:!1},{name:"t0Vault",isMut:!0,isSigner:!1},{name:"t1Vault",isMut:!0,isSigner:!1},{name:"t0User",isMut:!0,isSigner:!1},{name:"t1User",isMut:!0,isSigner:!1},{name:"master",isMut:!1,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"logger",isMut:!1,isSigner:!1}],args:[{name:"input",type:{defined:"OrderInput"}}]},{name:"settleFunds",accounts:[{name:"pair",isMut:!0,isSigner:!1},{name:"market",isMut:!0,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"dexUser",isMut:!1,isSigner:!1},{name:"marketUser",isMut:!0,isSigner:!1},{name:"t0Mint",isMut:!1,isSigner:!1},{name:"t1Mint",isMut:!1,isSigner:!1},{name:"bids",isMut:!0,isSigner:!1},{name:"asks",isMut:!0,isSigner:!1},{name:"t0Vault",isMut:!0,isSigner:!1},{name:"t1Vault",isMut:!0,isSigner:!1},{name:"t0User",isMut:!0,isSigner:!1},{name:"t1User",isMut:!0,isSigner:!1},{name:"master",isMut:!1,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"logger",isMut:!1,isSigner:!1}],args:[]},{name:"cancelOrder",accounts:[{name:"pair",isMut:!0,isSigner:!1},{name:"market",isMut:!0,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"dexUser",isMut:!1,isSigner:!1},{name:"marketUser",isMut:!0,isSigner:!1},{name:"bids",isMut:!0,isSigner:!1},{name:"asks",isMut:!0,isSigner:!1},{name:"t0Vault",isMut:!0,isSigner:!1},{name:"t1Vault",isMut:!0,isSigner:!1},{name:"t0User",isMut:!0,isSigner:!1},{name:"t1User",isMut:!0,isSigner:!1},{name:"master",isMut:!1,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"logger",isMut:!1,isSigner:!1}],args:[{name:"input",type:{defined:"CancelOrderInput"}}]},{name:"daoSetFundManager",accounts:[{name:"master",isMut:!0,isSigner:!1},{name:"daoConfig",isMut:!0,isSigner:!1},{name:"fundManager",isMut:!1,isSigner:!1},{name:"signer",isMut:!1,isSigner:!0},{name:"authority",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"daoClaimRevenue",accounts:[{name:"tokenMint",isMut:!1,isSigner:!1},{name:"market",isMut:!1,isSigner:!1},{name:"marketVault",isMut:!0,isSigner:!1},{name:"daoConfig",isMut:!1,isSigner:!1},{name:"tokenUser",isMut:!0,isSigner:!1},{name:"master",isMut:!0,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"logger",isMut:!1,isSigner:!1}],args:[{name:"tokenIndex",type:"u8"}]},{name:"consumeEvents",accounts:[{name:"pair",isMut:!0,isSigner:!1},{name:"market",isMut:!1,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"master",isMut:!0,isSigner:!1},{name:"logger",isMut:!1,isSigner:!1}],args:[{name:"input",type:{defined:"ConsumeEventsInput"}}]}],accounts:[{name:"dexState",type:{kind:"struct",fields:[{name:"crankPenalty",type:"u16"},{name:"reserved",type:{array:["u8",7]}}]}},{name:"daoConfig",type:{kind:"struct",fields:[{name:"fundManager",type:"publicKey"},{name:"reserved",type:{array:["u64",32]}}]}},{name:"pair",type:{kind:"struct",fields:[]}},{name:"market",type:{kind:"struct",fields:[{name:"pair",type:"publicKey"},{name:"t0",type:"publicKey"},{name:"t1",type:"publicKey"},{name:"t0Vault",type:"publicKey"},{name:"t1Vault",type:"publicKey"},{name:"lpToken",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"config",type:{defined:"MarketConfig"}},{name:"orderBook",type:{defined:"OrderBook"}},{name:"nextUserId",type:"u64"},{name:"tokenDecimals",type:{array:["u8",2]}},{name:"pool",type:{array:["u64",2]}},{name:"daoRevenue",type:{array:["u64",2]}},{name:"eventQueue",type:"publicKey"},{name:"reserved",type:{array:["u64",20]}}]}},{name:"marketUser",type:{kind:"struct",fields:[{name:"id",type:"u64"},{name:"t0Pending",type:"u64"},{name:"t1Pending",type:"u64"},{name:"t0Unlocked",type:"u64"},{name:"t1Unlocked",type:"u64"}]}},{name:"dexUser",type:{kind:"struct",fields:[{name:"feeTier",type:{defined:"UserFeeTier"}},{name:"stakedAmount",type:"u64"}]}},{name:"eventQueue",type:{kind:"struct",fields:[{name:"len",type:"u32"},{name:"padding",type:{array:["u8",4]}},{name:"items",type:{array:[{defined:"EventItem"},128]}}]}}],types:[{name:"FeeRates",type:{kind:"struct",fields:[{name:"maker",type:"u64"},{name:"taker",type:"u64"}]}},{name:"MarketConfig",type:{kind:"struct",fields:[{name:"t0LotSize",type:"u64"},{name:"t1LotSize",type:"u64"},{name:"feeRates",type:{defined:"FeeRates"}}]}},{name:"MarketInput",type:{kind:"struct",fields:[{name:"t0LotSize",type:"u64"},{name:"t1LotSize",type:"u64"},{name:"feeTier",type:"u8"}]}},{name:"OrderInput",type:{kind:"struct",fields:[{name:"side",type:"u8"},{name:"limitPrice",type:"u64"},{name:"amount",type:"u64"},{name:"clientOrderId",type:"u64"},{name:"orderType",type:"u8"},{name:"limitTotal",type:{option:"u64"}},{name:"minAmountOut",type:{option:"u64"}}]}},{name:"OrderBook",type:{kind:"struct",fields:[{name:"bids",type:"publicKey"},{name:"asks",type:"publicKey"},{name:"nextSeqNum",type:"u64"}]}},{name:"CancelOrderInput",type:{kind:"struct",fields:[{name:"side",type:"u8"},{name:"orderId",type:"u128"}]}},{name:"EventItem",type:{kind:"struct",fields:[{name:"flag",type:"u8"},{name:"feeTier",type:{defined:"UserFeeTier"}},{name:"padding",type:{array:["u8",6]}},{name:"key",type:"u128"},{name:"owner",type:{array:["u64",4]}},{name:"quantity",type:"u64"},{name:"total",type:"u64"}]}},{name:"DexConfigInput",type:{kind:"struct",fields:[{name:"crankPenalty",type:"u16"}]}},{name:"DexUserFeeTierInput",type:{kind:"struct",fields:[{name:"feeTier",type:"u8"}]}},{name:"ConsumeEventsInput",type:{kind:"struct",fields:[{name:"limit",type:{option:"u32"}}]}},{name:"Side",type:{kind:"enum",variants:[{name:"Bid"},{name:"Ask"}]}},{name:"OrderType",type:{kind:"enum",variants:[{name:"Default"},{name:"ImmediateOrCancel"},{name:"PostOnly"}]}},{name:"MarketFeeTier",type:{kind:"enum",variants:[{name:"Default"},{name:"None"},{name:"Stable"},{name:"Classic"}]}},{name:"UserFeeTier",type:{kind:"enum",variants:[{name:"Default"},{name:"None"},{name:"Partner"},{name:"Referrer"}]}},{name:"FeeRole",type:{kind:"enum",variants:[{name:"Taker"},{name:"Maker"},{name:"Both"}]}}],errors:[{code:6e3,name:"Unknown",msg:"Unknown error"},{code:6001,name:"InsufficientLiquidityAdded",msg:"Insufficient liquidity added"},{code:6002,name:"InsufficientLiquidityRemoved",msg:"Insufficient liquidity removed"},{code:6003,name:"SlabTooSmall",msg:"Slab too small"},{code:6004,name:"SlabOutOfSpace",msg:"Slab out of space"},{code:6005,name:"InvalidQuantity",msg:"Invalid quantity"},{code:6006,name:"InvalidSide",msg:"Invalid side"},{code:6007,name:"OrderNotFound",msg:"Order not found"},{code:6008,name:"InvalidLotSize",msg:"Invalid lot size"},{code:6009,name:"InvalidFarmStartTime",msg:"Invalid farm start time"},{code:6010,name:"InvalidFarmEndTime",msg:"Invalid farm end time"},{code:6011,name:"InvalidFarmDuration",msg:"Invalid farm duration"},{code:6012,name:"InvalidAmount",msg:"Invalid amount"},{code:6013,name:"UnauthorizedOperation",msg:"Unauthorize operation"},{code:6014,name:"OrderbookFull",msg:"Order book is full, please submit a better offer"},{code:6015,name:"BootedOrdersNotFound",msg:"Order outdated: booted orders not found"},{code:6016,name:"InvalidFeeTier",msg:"Invalid fee tier"},{code:6017,name:"InvalidOrderType",msg:"Invalid order type"},{code:6018,name:"PostOnlyOrderCancelled",msg:"Order cancelled due to Post Only condition"},{code:6019,name:"SlippageToleranceExceeded",msg:"Slippage tolerance exceeded"},{code:6020,name:"InvalidTradingPair",msg:"Invalid trading pair"},{code:6021,name:"InvalidInput",msg:"Invalid input"},{code:6022,name:"OrderBookTooLarge",msg:"Order book too large"},{code:6023,name:"InvalidDexUser",msg:"Invalid dex user"},{code:6024,name:"InvalidMarketUser",msg:"Invalid market user"},{code:6025,name:"InvalidRebateAccount",msg:"Invalid rebate account"}]});var Ao,ko;!function(e){e[e.BID=0]="BID",e[e.ASK=1]="ASK"}(Ao||(Ao={})),function(e){e.ExactIn="ExactIn",e.ExactOut="ExactOut"}(ko||(ko={}));class _o{constructor(e,t,n){this.market=e,this.orderBook=t,this.tokens=n,this.parseOrder=e=>({quantity:this.toUiAmount(e.quantity,this.tokens[0]),price:this.toUiPrice(go.getPriceFromKey(e.key))}),this.formatting=this.getMarketFormatting(this.market.config.t0LotSize.toNumber(),this.market.config.t1LotSize.toNumber(),this.tokens[0].decimals,this.tokens[1].decimals),this.pool=this.market.pool.map(((e,t)=>this.toUiAmount(e,this.tokens[t]))),this.orders={bids:t.bids.map(this.parseOrder),asks:t.asks.map(this.parseOrder)},this.feeRates={maker:this.market.config.feeRates.maker.toNumber(),taker:this.market.config.feeRates.taker.toNumber()},this.basePrices=[this.evaluateOrder(Ao.BID,0).unitPrice,this.evaluateOrder(Ao.ASK,0).unitPrice]}getMarketFormatting(e,t,n,r){const i=10**-n*e,o=10**-r*t,s=t/(i*10**r),a=Math.max(Math.floor(-Math.log10(i)),0),u=Math.max(Math.floor(-Math.log10(s)),0);return{lotSize:i,tickSize:s,quoteSize:o,sizeDecimals:a,priceDecimals:u,quoteDecimals:u}}toUiAmount(e,t){var n;const r=new mt.Z(10).toPower(null!==(n=t.decimals)&&void 0!==n?n:9);return new mt.Z(e.toString()).div(r).toNumber()}toProgramAmount(e,t){var n;const r=new mt.Z(10).toPower(null!==(n=t.decimals)&&void 0!==n?n:9);return S().BigInt(new mt.Z(e).mul(r).floor().toString())}toUiPrice(e){const t=new mt.Z(10).pow(this.tokens[0].decimals),n=new mt.Z(10).pow(this.tokens[1].decimals),r=this.market.config.t0LotSize.toNumber(),i=this.market.config.t1LotSize.toNumber();return new mt.Z(e.toString()).div(n.div(i)).mul(t.div(r)).toNumber()}isBetterOffer(e,t,n){return!!t&&(!n||(e?t>=n:t<=n))}getBetterOffer(e,t,n){return t?n?e?Math.max(t,n):Math.min(t,n):t:n}evaluateOrder(e,t,n,r){let i=this.pool;const o=e?this.orders.bids:this.orders.asks,{lotSize:s,tickSize:a}=this.formatting,u=Number(t)>0||Number(r)>0;n=null!=n?n:0;let c=t=null!=t?t:1/0;c||(c=s);let l=r=null!=r?r:1/0;l||(l=a);let d=0;const f={filled:0,cost:0,lpFilled:0,lpCost:0,orderFilled:0,orderCost:0};let p=i[0]?i[1]/i[0]:0;const h=this.toUiAmount(new Ye.BN(100),this.tokens[0]),m=this.toUiAmount(new Ye.BN(100),this.tokens[1]),g=i[0]>h&&i[1]>m;let y=0,b=0;for(;c>0&&l>0;){const t=o[d++],r=t?Number(t.price):0;if(g){const t=Math.max(i[0]-h,0),o=i[1]/i[0],s=this.getBetterOffer(e,r,n);if(!s||this.isBetterOffer(e,o,s)){const n=new mt.Z(i[0]).mul(i[1]),r=s?Math.sqrt(n.div(s).toNumber()):0,a=Math.min(n.div(m).toNumber(),t);let u=s?0==e?t-r:Math.min(r-t,a):1/0;if(u>0){let r=1/0;if(l!=1/0){const o=0==e?i[1]+l:Math.max(i[1]-l,m),s=Math.max(n.div(o).toNumber(),h);r=Math.abs(s-t)}const s=Math.min(u,c,r,a),d=0==e?i[0]-s:i[0]+s,p=n.div(d).toNumber(),g=Math.min(Math.abs(i[1]-p),l);i=[d,p],c-=s,f.filled+=s,f.cost+=g,f.lpFilled+=s,f.lpCost+=g,l!=1/0&&(l-=g),b!=o&&(y++,b=g/s)}}}if(!(c>0&&l>0&&t)||n&&!this.isBetterOffer(e,r,n))break;{const e=Math.min(Number(t.quantity),c,l!=1/0?l/r:1/0),n=e*r;f.filled+=e,f.cost+=n,f.orderFilled+=e,f.orderCost+=n,l!=1/0&&(l-=n),c-=e,y++,b=r}}return n&&(c=Math.min(c,l/n)),{...f,lpPrice:p,unitPrice:f.filled?f.cost/f.filled:0,lpUnitPrice:f.lpFilled?f.lpCost/f.lpFilled:0,orderUnitPrice:f.orderFilled?f.orderCost/f.orderFilled:0,quantity:u?f.filled+c:0,remaining:n?c:0,remainingTotal:n?n*c:0,computeSteps:y,output:this.applyFees(f,e)}}applyFees(e,t){const{maker:n,taker:r}=this.feeRates,[i,o]=t?[e.lpCost,e.orderCost]:[e.lpFilled,e.orderFilled],s=(i*(n+r)+o*r)/1e4,a=i+o;return{grossAmount:a,netAmount:a-s,feeAmount:s,feePct:s/a*100}}checkMinimumAmounts(e,t,n){const r=this.toProgramAmount(this.formatting.lotSize,this.tokens[0]);return e?{outAmount:S().greaterThanOrEqual(t,r)?n:S().BigInt(0),minInAmount:r}:{outAmount:S().greaterThanOrEqual(n,r)?n:S().BigInt(0),minOutAmount:r}}getQuote(e){const t=e.destinationMint.equals(this.market.t0)?Ao.BID:Ao.ASK,n=e.swapMode==ko.ExactIn,r=n?t:1-t,i=this.tokens[1-r],o=this.toUiAmount(new Ye.BN(e.amount.toString()),i),s=this.tokens[t],a=this.tokens[1-t],u=n?!t:t,c=this.evaluateOrder(t,u?void 0:o,0,u?o:void 0),l=this.basePrices[t],{feeAmount:d,feePct:f,grossAmount:p}=c.output,h=this.toProgramAmount(d,s),m=S().subtract(this.toProgramAmount(p,s),h),g=this.toProgramAmount(t?c.filled:c.cost,a),[y,b]=n?[e.amount,m]:[g,m];return{feeMint:s.address.toString(),feeAmount:h,feePct:f,inAmount:y,notEnoughLiquidity:c.remaining>0&&c.remainingTotal>0,priceImpactPct:Math.abs(l-c.unitPrice)/c.unitPrice*100,...this.checkMinimumAmounts(t,y,b)}}}var Mo=n(5931),Io=n(5005),Eo=n.n(Io),Po=n(9490);const To={Serum:{Meteora:!0,GooseFX:!0,Dradex:!0,Raydium:!0},Crema:{Raydium:!0,Meteora:!0,Serum:!0,Openbook:!0,Balansol:!0,Dradex:!0,GooseFX:!0},"Marco Polo":{Serum:!0,Openbook:!0,Raydium:!0,Meteora:!0,Crema:!0,Dradex:!0},Openbook:{Meteora:!0,GooseFX:!0,Dradex:!0},Meteora:{Raydium:!0,Serum:!0,GooseFX:!0,Balansol:!0,Dradex:!0},Raydium:{Meteora:!0,GooseFX:!0,Balansol:!0,Dradex:!0},GooseFX:{Raydium:!0,Serum:!0,Meteora:!0,Balansol:!0,Dradex:!0},Balansol:{Raydium:!0,Meteora:!0,GooseFX:!0,Dradex:!0},Invariant:{Dradex:!0,Meteora:!0,GooseFX:!0,Balansol:!0,Raydium:!0},Dradex:{Raydium:!0,Serum:!0,Meteora:!0,Balansol:!0,GooseFX:!0},"Saber (Decimals)":{"Saber (Decimals)":!0}},Oo={Raydium:!0,GooseFX:!0,Meteora:!0,Dradex:!0,Crema:!0,Lifinity:!0,"Lifinity V2":!0},xo={Raydium:!0,GooseFX:!0,Meteora:!0,Serum:!0,Openbook:!0,Dradex:!0,Crema:!0,Lifinity:!0,"Lifinity V2":!0},Bo=(e,t,n)=>{const r=e[t];if(r){if(!0===r||!0===r["*"])return!0;if(n)return!0===r[n]}return!1},Lo=(e,t,n)=>Bo(e,t,n)||!!n&&Bo(e,n,t);function Co(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((n,r)=>e.slice(r*t,(r+1)*t)))}async function Ro(e,t,n=1e3,r=100){return(await Promise.all(Co(t,n).map((async t=>{const n=Co(t,r).map((t=>({methodName:"getMultipleAccounts",args:e._buildArgs([t],e.commitment,"base64+zstd")})));return e._rpcBatchRequest(n).then((e=>e.reduce(((e,t)=>(t.result.value.forEach((t=>{if(t){const n=t;n.data=Buffer.from(Ve.Lj(Buffer.from(t.data[0],"base64"))),n.owner=new i.PublicKey(t.owner),e.push(n)}else e.push(null)})),e)),[]))).catch((e=>t.map((()=>null))))})))).flat()}var No;!function(e){e.ExactIn="ExactIn",e.ExactOut="ExactOut"}(No||(No={}));const Do=(e,t)=>t.map((t=>{const n=e.get(t.toString());if(!n)throw new Error(`Account info ${t.toBase58()} missing`);return n})),Fo=e=>e.map((e=>{const t=Xe(e.data);if(!t)throw new Error("Invalid token account");return t})).map((e=>S().BigInt(e.amount))),Ko=async(e,t)=>{const n=e.map((e=>e.getAccountsForUpdate().map((e=>e.toBase58())))).flat(),r=new Map;(await Ro(t,n)).forEach(((e,t)=>{e&&r.set(n[t],e)}));for(let t of e)t.update(r)},Uo={version:"0.1.0",name:"jupiter",instructions:[{name:"route",accounts:[{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"destinationTokenAccount",isMut:!1,isSigner:!1}],args:[{name:"swapLeg",type:{defined:"SwapLeg"}},{name:"inAmount",type:"u64"},{name:"quotedOutAmount",type:"u64"},{name:"slippageBps",type:"u16"},{name:"platformFeeBps",type:"u8"}]},{name:"whirlpoolSwapExactOutput",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenAuthority",isMut:!1,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArray0",isMut:!0,isSigner:!1},{name:"tickArray1",isMut:!0,isSigner:!1},{name:"tickArray2",isMut:!0,isSigner:!1},{name:"oracle",isMut:!1,isSigner:!1}],args:[{name:"outAmount",type:"u64"},{name:"inAmountWithSlippage",type:{defined:"AmountWithSlippage"}},{name:"aToB",type:"bool"},{name:"platformFeeBps",type:"u8"}]},{name:"createOpenOrders",accounts:[{name:"openOrders",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"dexProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"market",isMut:!1,isSigner:!1}],args:[]},{name:"mercurialSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"swapState",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"poolAuthority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceTokenAccount",isMut:!0,isSigner:!1},{name:"destinationTokenAccount",isMut:!0,isSigner:!1}],args:[]},{name:"cykuraSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"signer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"serumSwap",accounts:[{name:"market",accounts:[{name:"market",isMut:!0,isSigner:!1},{name:"openOrders",isMut:!0,isSigner:!1},{name:"requestQueue",isMut:!0,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"bids",isMut:!0,isSigner:!1},{name:"asks",isMut:!0,isSigner:!1},{name:"coinVault",isMut:!0,isSigner:!1},{name:"pcVault",isMut:!0,isSigner:!1},{name:"vaultSigner",isMut:!1,isSigner:!1}]},{name:"authority",isMut:!1,isSigner:!0},{name:"orderPayerTokenAccount",isMut:!0,isSigner:!1},{name:"coinWallet",isMut:!0,isSigner:!1},{name:"pcWallet",isMut:!0,isSigner:!1},{name:"dexProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"saberSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"swapAuthority",isMut:!1,isSigner:!1},{name:"userAuthority",isMut:!1,isSigner:!1},{name:"inputUserAccount",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputUserAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"feesTokenAccount",isMut:!0,isSigner:!1}],args:[]},{name:"saberAddDecimals",accounts:[{name:"addDecimalsProgram",isMut:!1,isSigner:!1},{name:"wrapper",isMut:!1,isSigner:!1},{name:"wrapperMint",isMut:!0,isSigner:!1},{name:"wrapperUnderlyingTokens",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0},{name:"userUnderlyingTokens",isMut:!0,isSigner:!1},{name:"userWrappedTokens",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"tokenSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[]},{name:"senchaSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!0,isSigner:!1},{name:"userAuthority",isMut:!1,isSigner:!1},{name:"inputUserAccount",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"inputFeesAccount",isMut:!0,isSigner:!1},{name:"outputUserAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"outputFeesAccount",isMut:!0,isSigner:!1}],args:[]},{name:"stepSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[]},{name:"cropperSwap",accounts:[{name:"tokenSwapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"swap",isMut:!1,isSigner:!1},{name:"swapState",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"source",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"poolFee",isMut:!0,isSigner:!1}],args:[]},{name:"raydiumSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"ammId",isMut:!0,isSigner:!1},{name:"ammAuthority",isMut:!1,isSigner:!1},{name:"ammOpenOrders",isMut:!0,isSigner:!1},{name:"poolCoinTokenAccount",isMut:!0,isSigner:!1},{name:"poolPcTokenAccount",isMut:!0,isSigner:!1},{name:"serumProgramId",isMut:!1,isSigner:!1},{name:"serumMarket",isMut:!0,isSigner:!1},{name:"serumBids",isMut:!0,isSigner:!1},{name:"serumAsks",isMut:!0,isSigner:!1},{name:"serumEventQueue",isMut:!0,isSigner:!1},{name:"serumCoinVaultAccount",isMut:!0,isSigner:!1},{name:"serumPcVaultAccount",isMut:!0,isSigner:!1},{name:"serumVaultSigner",isMut:!1,isSigner:!1},{name:"userSourceTokenAccount",isMut:!0,isSigner:!1},{name:"userDestinationTokenAccount",isMut:!0,isSigner:!1},{name:"userSourceOwner",isMut:!1,isSigner:!0}],args:[]},{name:"cremaSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"clmmConfig",isMut:!1,isSigner:!1},{name:"clmmpool",isMut:!0,isSigner:!1},{name:"tokenA",isMut:!1,isSigner:!1},{name:"tokenB",isMut:!1,isSigner:!1},{name:"accountA",isMut:!0,isSigner:!1},{name:"accountB",isMut:!0,isSigner:!1},{name:"tokenAVault",isMut:!0,isSigner:!1},{name:"tokenBVault",isMut:!0,isSigner:!1},{name:"tickArrayMap",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0},{name:"partner",isMut:!1,isSigner:!1},{name:"partnerAtaA",isMut:!0,isSigner:!1},{name:"partnerAtaB",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"lifinitySwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"amm",isMut:!1,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceInfo",isMut:!0,isSigner:!1},{name:"destinationInfo",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"feeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"pythAccount",isMut:!1,isSigner:!1},{name:"pythPcAccount",isMut:!1,isSigner:!1},{name:"configAccount",isMut:!0,isSigner:!1}],args:[]},{name:"marinadeDeposit",accounts:[{name:"marinadeFinanceProgram",isMut:!1,isSigner:!1},{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"liqPoolMsolLegAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"transferFrom",isMut:!0,isSigner:!1},{name:"mintTo",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"userWsolTokenAccount",isMut:!0,isSigner:!1},{name:"tempWsolTokenAccount",isMut:!0,isSigner:!1},{name:"userTransferAuthority",isMut:!0,isSigner:!0},{name:"wsolMint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"marinadeUnstake",accounts:[{name:"marinadeFinanceProgram",isMut:!1,isSigner:!1},{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"getMsolFrom",isMut:!0,isSigner:!1},{name:"getMsolFromAuthority",isMut:!1,isSigner:!0},{name:"transferSolTo",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"userWsolTokenAccount",isMut:!0,isSigner:!1}],args:[]},{name:"aldrinSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"baseTokenVault",isMut:!0,isSigner:!1},{name:"quoteTokenVault",isMut:!0,isSigner:!1},{name:"feePoolTokenAccount",isMut:!0,isSigner:!1},{name:"walletAuthority",isMut:!1,isSigner:!0},{name:"userBaseTokenAccount",isMut:!0,isSigner:!1},{name:"userQuoteTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"aldrinV2Swap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"poolSigner",isMut:!1,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"baseTokenVault",isMut:!0,isSigner:!1},{name:"quoteTokenVault",isMut:!0,isSigner:!1},{name:"feePoolTokenAccount",isMut:!0,isSigner:!1},{name:"walletAuthority",isMut:!1,isSigner:!0},{name:"userBaseTokenAccount",isMut:!0,isSigner:!1},{name:"userQuoteTokenAccount",isMut:!0,isSigner:!1},{name:"curve",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"whirlpoolSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenAuthority",isMut:!1,isSigner:!0},{name:"whirlpool",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountA",isMut:!0,isSigner:!1},{name:"tokenVaultA",isMut:!0,isSigner:!1},{name:"tokenOwnerAccountB",isMut:!0,isSigner:!1},{name:"tokenVaultB",isMut:!0,isSigner:!1},{name:"tickArray0",isMut:!0,isSigner:!1},{name:"tickArray1",isMut:!0,isSigner:!1},{name:"tickArray2",isMut:!0,isSigner:!1},{name:"oracle",isMut:!1,isSigner:!1}],args:[]},{name:"invariantSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"tickmap",isMut:!0,isSigner:!1},{name:"accountX",isMut:!0,isSigner:!1},{name:"accountY",isMut:!0,isSigner:!1},{name:"reserveX",isMut:!0,isSigner:!1},{name:"reserveY",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"meteoraSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"userSourceToken",isMut:!0,isSigner:!1},{name:"userDestinationToken",isMut:!0,isSigner:!1},{name:"aVault",isMut:!0,isSigner:!1},{name:"bVault",isMut:!0,isSigner:!1},{name:"aTokenVault",isMut:!0,isSigner:!1},{name:"bTokenVault",isMut:!0,isSigner:!1},{name:"aVaultLpMint",isMut:!0,isSigner:!1},{name:"bVaultLpMint",isMut:!0,isSigner:!1},{name:"aVaultLp",isMut:!0,isSigner:!1},{name:"bVaultLp",isMut:!0,isSigner:!1},{name:"adminTokenFee",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"vaultProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"goosefxSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"controller",isMut:!1,isSigner:!1},{name:"pair",isMut:!0,isSigner:!1},{name:"sslIn",isMut:!0,isSigner:!1},{name:"sslOut",isMut:!0,isSigner:!1},{name:"liabilityVaultIn",isMut:!0,isSigner:!1},{name:"swappedLiabilityVaultIn",isMut:!0,isSigner:!1},{name:"liabilityVaultOut",isMut:!0,isSigner:!1},{name:"swappedLiabilityVaultOut",isMut:!0,isSigner:!1},{name:"userInAta",isMut:!0,isSigner:!1},{name:"userOutAta",isMut:!0,isSigner:!1},{name:"feeCollectorAta",isMut:!0,isSigner:!1},{name:"userWallet",isMut:!1,isSigner:!0},{name:"feeCollector",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"deltafiSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"marketConfig",isMut:!1,isSigner:!1},{name:"swapInfo",isMut:!0,isSigner:!1},{name:"userSourceToken",isMut:!0,isSigner:!1},{name:"userDestinationToken",isMut:!0,isSigner:!1},{name:"swapSourceToken",isMut:!0,isSigner:!1},{name:"swapDestinationToken",isMut:!0,isSigner:!1},{name:"deltafiUser",isMut:!0,isSigner:!1},{name:"adminDestinationToken",isMut:!0,isSigner:!1},{name:"pythPriceBase",isMut:!1,isSigner:!1},{name:"pythPriceQuote",isMut:!1,isSigner:!1},{name:"userAuthority",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"balansolSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"taxMan",isMut:!0,isSigner:!1},{name:"bidMint",isMut:!1,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"srcTreasury",isMut:!0,isSigner:!1},{name:"srcAssociatedTokenAccount",isMut:!0,isSigner:!1},{name:"askMint",isMut:!1,isSigner:!1},{name:"dstTreasury",isMut:!0,isSigner:!1},{name:"dstAssociatedTokenAccount",isMut:!0,isSigner:!1},{name:"dstTokenAccountTaxman",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"marcoPoloSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"swapperXAccount",isMut:!0,isSigner:!1},{name:"swapperYAccount",isMut:!0,isSigner:!1},{name:"swapper",isMut:!0,isSigner:!0},{name:"referrerXAccount",isMut:!0,isSigner:!1},{name:"referrerYAccount",isMut:!0,isSigner:!1},{name:"referrer",isMut:!0,isSigner:!1},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"dradexSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"pair",isMut:!0,isSigner:!1},{name:"market",isMut:!0,isSigner:!1},{name:"eventQueue",isMut:!0,isSigner:!1},{name:"dexUser",isMut:!1,isSigner:!1},{name:"marketUser",isMut:!0,isSigner:!1},{name:"bids",isMut:!0,isSigner:!1},{name:"asks",isMut:!0,isSigner:!1},{name:"t0Vault",isMut:!0,isSigner:!1},{name:"t1Vault",isMut:!0,isSigner:!1},{name:"t0User",isMut:!0,isSigner:!1},{name:"t1User",isMut:!0,isSigner:!1},{name:"master",isMut:!1,isSigner:!1},{name:"signer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"logger",isMut:!1,isSigner:!1}],args:[]},{name:"lifinityV2Swap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"amm",isMut:!0,isSigner:!1},{name:"userTransferAuthority",isMut:!1,isSigner:!0},{name:"sourceInfo",isMut:!0,isSigner:!1},{name:"destinationInfo",isMut:!0,isSigner:!1},{name:"swapSource",isMut:!0,isSigner:!1},{name:"swapDestination",isMut:!0,isSigner:!1},{name:"poolMint",isMut:!0,isSigner:!1},{name:"feeAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"oracleMainAccount",isMut:!1,isSigner:!1},{name:"oracleSubAccount",isMut:!1,isSigner:!1},{name:"oraclePcAccount",isMut:!1,isSigner:!1}],args:[]},{name:"raydiumClmmSwap",accounts:[{name:"swapProgram",isMut:!1,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"ammConfig",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"observationState",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tickArray",isMut:!0,isSigner:!1}],args:[]}],types:[{name:"AmountWithSlippage",type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"slippageBps",type:"u16"}]}},{name:"SplitLegDeeper",type:{kind:"struct",fields:[{name:"percent",type:"u8"},{name:"swapLeg",type:{defined:"SwapLegSwap"}}]}},{name:"SplitLeg",type:{kind:"struct",fields:[{name:"percent",type:"u8"},{name:"swapLeg",type:{defined:"SwapLegDeeper"}}]}},{name:"SwapInstrution",type:{kind:"enum",variants:[{name:"Swap",fields:[{defined:"Swap"}]}]}},{name:"Side",type:{kind:"enum",variants:[{name:"Bid"},{name:"Ask"}]}},{name:"SwapLegSwap",type:{kind:"enum",variants:[{name:"PlaceholderOne"},{name:"PlaceholderTwo"},{name:"Swap",fields:[{name:"swap",type:{defined:"Swap"}}]}]}},{name:"SwapLegDeeper",type:{kind:"enum",variants:[{name:"Chain",fields:[{name:"swap_legs",type:{vec:{defined:"SwapLegSwap"}}}]},{name:"Split",fields:[{name:"split_legs",type:{vec:{defined:"SplitLegDeeper"}}}]},{name:"Swap",fields:[{name:"swap",type:{defined:"Swap"}}]}]}},{name:"SwapLeg",type:{kind:"enum",variants:[{name:"Chain",fields:[{name:"swap_legs",type:{vec:{defined:"SwapLegDeeper"}}}]},{name:"Split",fields:[{name:"split_legs",type:{vec:{defined:"SplitLeg"}}}]},{name:"Swap",fields:[{name:"swap",type:{defined:"Swap"}}]}]}},{name:"Swap",type:{kind:"enum",variants:[{name:"Saber"},{name:"SaberAddDecimalsDeposit"},{name:"SaberAddDecimalsWithdraw"},{name:"TokenSwap"},{name:"Sencha"},{name:"Step"},{name:"Cropper"},{name:"Raydium"},{name:"Crema",fields:[{name:"a_to_b",type:"bool"}]},{name:"Lifinity"},{name:"Mercurial"},{name:"Cykura"},{name:"Serum",fields:[{name:"side",type:{defined:"Side"}}]},{name:"MarinadeDeposit"},{name:"MarinadeUnstake"},{name:"Aldrin",fields:[{name:"side",type:{defined:"Side"}}]},{name:"AldrinV2",fields:[{name:"side",type:{defined:"Side"}}]},{name:"Whirlpool",fields:[{name:"a_to_b",type:"bool"}]},{name:"Invariant",fields:[{name:"x_to_y",type:"bool"}]},{name:"Meteora"},{name:"GooseFX"},{name:"DeltaFi",fields:[{name:"stable",type:"bool"}]},{name:"Balansol"},{name:"MarcoPolo",fields:[{name:"x_to_y",type:"bool"}]},{name:"Dradex",fields:[{name:"side",type:{defined:"Side"}}]},{name:"LifinityV2"},{name:"RaydiumClmm"},{name:"Openbook",fields:[{name:"side",type:{defined:"Side"}}]}]}},{name:"SwapAction",type:{kind:"enum",variants:[{name:"SetupSplit",fields:[{name:"percents",type:"bytes"}]},{name:"NextSplitLeg"},{name:"MergeSplit"},{name:"Swap",fields:[{name:"swap",type:{defined:"Swap"}}]}]}}],events:[{name:"Swap",fields:[{name:"amm",type:"publicKey",index:!1},{name:"inputMint",type:"publicKey",index:!1},{name:"inputAmount",type:"u64",index:!1},{name:"outputMint",type:"publicKey",index:!1},{name:"outputAmount",type:"u64",index:!1}]},{name:"Fee",fields:[{name:"account",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"EmptyRoute",msg:"Empty route"},{code:6001,name:"SlippageToleranceExceeded",msg:"Slippage tolerance exceeded"},{code:6002,name:"InvalidCalculation",msg:"Invalid calculation"},{code:6003,name:"MissingPlatformFeeAccount",msg:"Missing platform fee account"},{code:6004,name:"InvalidSlippage",msg:"Invalid slippage"},{code:6005,name:"NotEnoughPercent",msg:"Not enough percent to 100"},{code:6006,name:"InAmountsStackIsEmpty",msg:"In amounts stack is empty"},{code:6007,name:"OutAmountsStackIsEmpty",msg:"Out amounts stack is empty"},{code:6008,name:"NotEnoughAccountKeys",msg:"Not Enough Account keys"}]},Wo=new i.PublicKey("So11111111111111111111111111111111111111112"),zo=new i.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),jo=new i.PublicKey("DESVgJVGajEgKGXhb6XmqDHGz3VjdgP7rEVESBgxmroY"),qo={devnet:"https://api.jup.ag/api/markets/cache/devnet","mainnet-beta":"https://cache.jup.ag/markets?v=3",testnet:"https://api.jup.ag/api/markets/cache/devnet"},Vo={devnet:"https://api.jup.ag/api/tokens/devnet",testnet:"https://api.jup.ag/api/markets/devnet","mainnet-beta":"https://cache.jup.ag/tokens"},Ho=5e3,Qo=new i.PublicKey("BUX7s2ef2htTGb2KKoPHWkmzxPj4nTWMWRgs5CSbQxf9"),Go=new i.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Xo=new i.PublicKey("AMM55ShdkoGRB5jVYPjWziwk8m5MpwyDgsMWHaMSQWH6"),Yo=new i.PublicKey("CURVGoZn8zycx6FXwwevgBTB2gVvdbGTEpvMJDbgs2t4"),Zo=new i.PublicKey("DecZY86MU5Gj7kppfUCEmd4LbXXuyZH1yHaP2NTqdiZB"),$o=new i.PublicKey("CTMAxxk34HjKWxQ3QLZK1HpaLXmBveao3ESePXbiyfzh"),Jo=new i.PublicKey("SCHAtsf8mbjyjiv4LkhLKutTf6JnZAbdJKFkXQNMFHZ"),es=new i.PublicKey("EewxydAPCCVuNEyrVN68PuSYdQ7wKn27V9Gjeoi8dy3S"),ts=new i.PublicKey("CLMM9tUoggJu2wagPkkqs9eFG4BWhVBZWkP1qv3Sp7tR"),ns=new i.PublicKey("FxYoB1VAx8TfLCwvmworJy16VH89v992qznUvBX5aR8K"),rs=new i.PublicKey("BUX7s2ef2htTGb2KKoPHWkmzxPj4nTWMWRgs5CSbQxf9"),is=new i.PublicKey("MERLuDFBMmsHnsBPZw2sDQZHvXFMwp8EdjudcU2HKky"),os=new i.PublicKey("whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc"),ss=new i.PublicKey("HyaB3W9q6XdA5xwpU4XnSZV94htfmbmqJXZcEbRaJutt"),as=new i.PublicKey("8NsPwRFYqob3FzYvHYTjFK6WVFJADFN8Hn7yNQKcVNW1"),us=new i.PublicKey("J4uBbeoWpZE8fH58PM1Fp9n9K6f1aThyeVCyRdJbaXqt"),cs=new i.PublicKey("cysPXAjehMpVKUapzbMCCnpFxUFFryEWEaLgnb9NrR8"),ls=new i.PublicKey("DBsMwKfeoUHhxMi9x6wd2AsT12UwUCssjNbUzu1aKgqj"),ds=new i.PublicKey("MarBmsSgKXdrN1egZf5sqe1TMai9K1rChYNDJgjq7aD"),fs=new i.PublicKey("Dooar9JkhdZ7J3LHN3A7YCuoGRUggXhQaG4kijfLGU2j"),ps=new i.PublicKey("9W959DqEETiGZocYWCQPaJ6sBmUzgfxXfqGeTEdp3aQP"),hs=new i.PublicKey("SSwpMgqNDsyV7mAgN9ady4bDVu5ySjmmXejXvy2vLt1"),ms=new i.PublicKey("PSwapMdSai8tjrEXcxFeQth87xC4rRsa4VA5mhGhXkP"),gs=new i.PublicKey("SSwapUtytfBdBn1b9NUGG6foMVPtcWgpRU32HToDUZr"),ys=new i.PublicKey("Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB"),bs=new i.PublicKey("24Uqj9JCLxUeoC3hGfh5W3s9FM9uCHDS2SG3LYwBpyTi"),ws=new i.PublicKey("GNExJhNUhc9LN2DauuQAUJnXoy6DJ6zey3t9kT9A2PF3"),vs=(new i.PublicKey("ziSPuDShwunW4xNrCfTnSHTPVT6FZDREtdofpf1BJwe"),new i.PublicKey("7WduLbRfYhTJktjLw5FDEyrqoEv61aTTCuGAetgLjzN5")),Ss=new i.PublicKey("8CxKnuJeoeQXFwiG6XiGY2akBjvJA5k3bE52BfnuEmNQ"),As=new i.PublicKey("D3BBjqUdCYuP18fNvvMbPAZ8DpcRi4io2EsYHQawJDag"),ks=new i.PublicKey("dp2waEWSBy5yKmq65ergoU3G6qRLmqa6K7We4rZSKph"),_s=new i.PublicKey("1gE3LGQze8DQ3KD2C4ZUCmRX5g4njhY5yLfYmnmcvJR"),Ms=new i.PublicKey("76ygWLcvJLR6nSzRUpiQqqtX4Pabkq4vpaTxwr3mDcXA"),Is=new i.PublicKey("2wT8Yq49kHgDzXuPxZSaeLaH1qbmGXtEyPy64bL7aD3c"),Es=new i.PublicKey("571oqNkJauZ2tccLwf8CUB56hpLPZkop9X1Px4DE9rnQ"),Ps=new i.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Ts=new i.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),Os=new i.PublicKey("9tKE7Mbmj4mxDjWatikzGAtkoWosiiZX9y6J4Hfm2R8H"),xs=new i.PublicKey("BE5YRQ6N6LCw7UL3JwzVp317EWa4mzJY6JKDaudcXu7A"),Bs=new i.PublicKey("JM78XNzeQRmZXDAP4DSq88ZdErbuSXSLE6fkRsVDKSu"),Ls=["StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT","DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz"],Cs=Object.freeze({AlreadyInUse:{code:1,name:"AlreadyInUsed",msg:"Account already In Used"},InsufficientSOL:{code:1,name:"InsufficientSOL",msg:"Insufficient SOL"},TransactionNotConfirmed:{code:7e3,name:"TransactionNotConfirmed",msg:"Transaction was not confirmed"},BalancesNotExtractedProperly:{code:7001,name:"BalancesNotExtractedProperly",msg:"Balances cannot be extracted properly"},...Uo.errors.reduce(((e,t)=>({...e,[t.name]:t})),{})}),Rs=new Ye.AnchorProvider(null,null,{skipPreflight:!1});class Ns extends s.Ar{constructor(e){const t=(0,s.Ik)(32);super(t.span,e),this.layout=void 0,this.layout=t}getSpan(e,t){return this.layout.getSpan(e,t)}decode(e,t){return new i.PublicKey(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(e.toBuffer(),t,n)}}const Ds=e=>new Ns(e);class Fs extends s.Ar{constructor(e=8,t){const n=(0,s.Ik)(e);super(n.span,t),this.layout=void 0,this.layout=n}getSpan(e,t){return this.layout.getSpan(e,t)}decode(e,t){return new g.u64(this.layout.decode(e,t),10,"le")}encode(e,t,n){return this.layout.encode(e.toArrayLike(Buffer,"le",this.layout.span),t,n)}}const Ks=e=>new Fs(8,e),Us=e=>new Fs(16,e);function Ws(e,t){let n=Buffer.alloc(0);e.forEach((function(e){if(e.length>i.MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");var t;n=Buffer.concat([n,(t=e,Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.from(t))])})),n=Buffer.concat([n,t.toBuffer(),Buffer.from("ProgramDerivedAddress")]);let r=pt(new Uint8Array(n)),o=new(m())(r,16).toArray(void 0,32);return new i.PublicKey(o)}const zs=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("nonce"),Ds("ammId"),Ds("serumProgramId"),Ds("serumMarket"),Ds("tokenProgramId"),Ds("tokenAAccount"),Ds("tokenBAccount"),Ds("poolMint"),Ds("mintA"),Ds("mintB")]),js=(0,s.n_)([(0,s.u8)("isInitialized"),Ds("stateOwner"),Ds("feeOwner"),Ks("initialSupply"),Ks("returnFeeNumerator"),Ks("fixedFeeNumerator"),Ks("feeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters")]),qs=new i.PublicKey("3hsU1VgsBgBgz5jWiqdw9RfGU6TpWdCmdah1oi4kF3Tq"),Vs=(e,t)=>{const n=t.owner,r=zs.decode(t.data);return{programId:n,authority:Ws([e.toBuffer(),Buffer.from([r.nonce])],n),version:r.version,isInitialized:Boolean(r.isInitialized),nonce:r.nonce,ammId:r.ammId,serumProgramId:r.serumProgramId,tokenProgramId:r.tokenProgramId,tokenAAccount:r.tokenAAccount,tokenBAccount:r.tokenBAccount,serumMarket:r.serumMarket,poolMint:r.poolMint,mintA:r.mintA,mintB:r.mintB}},Hs={Bid:{bid:{}},Ask:{ask:{}}},Qs=e=>({serum:{side:e}}),Gs=e=>({crema:{aToB:e}}),Xs=e=>({aldrin:{side:e}}),Ys=e=>({aldrinV2:{side:e}}),Zs=e=>({whirlpool:{aToB:e}}),$s=e=>({invariant:{xToY:e}}),Js=e=>({dradex:{side:e}}),ea=e=>({openbook:{side:e}}),ta=e=>({marcoPolo:{xToY:e}}),na=e=>({chain:{swapLegs:e}}),ra=e=>({split:{splitLegs:e}}),ia=e=>({swap:{swap:e}}),oa=(e,t)=>({percent:e,swapLeg:t}),sa=e=>i.ComputeBudgetProgram.setComputeUnitLimit({units:Math.min(e,14e5)});async function aa({connection:e,amount:t,owner:{publicKey:n}}){const r={setupInstructions:[],instructions:[],cleanupInstructions:[],signers:[]},o=ca({walletAddress:n,tokenMintAddress:Wo});return null===await e.getAccountInfo(o)&&r.setupInstructions.push(ua(n,o,n,Wo)),r.setupInstructions.push(i.SystemProgram.transfer({fromPubkey:n,toPubkey:o,lamports:S().toNumber(t)})),r.setupInstructions.push(g.Token.createSyncNativeInstruction(g.TOKEN_PROGRAM_ID,o)),r.cleanupInstructions=[g.Token.createCloseAccountInstruction(g.TOKEN_PROGRAM_ID,o,n,n,[])],{address:o,...r}}function ua(e,t,n,r,o=g.TOKEN_PROGRAM_ID,s=g.ASSOCIATED_TOKEN_PROGRAM_ID){return new i.TransactionInstruction({keys:[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}],programId:s,data:Buffer.alloc(0)})}const ca=({walletAddress:e,tokenMintAddress:t})=>i.PublicKey.findProgramAddressSync([e.toBuffer(),g.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],g.ASSOCIATED_TOKEN_PROGRAM_ID)[0],la=new i.PublicKey("JUP4Fb2cqiRUcaTHdrPC8h2gNsA2ETXiPDD33WcGuJB"),da=new Ye.Program(Uo,la,{}),fa={pubkey:la,isSigner:!1,isWritable:!1};function pa(e,t,n,r,i,o,s,a){return da.instruction.route(n,i,o,s,a,{accounts:{tokenProgram:g.TOKEN_PROGRAM_ID,userTransferAuthority:e,destinationTokenAccount:t},remainingAccounts:r})}function ha(e,t,n,r){return{swapProgram:is,swapState:e.ammId,tokenProgram:g.TOKEN_PROGRAM_ID,poolAuthority:e.authority,userTransferAuthority:r,sourceTokenAccount:t,destinationTokenAccount:n}}const[ma]=(0,Ze.findProgramAddressSync)([new Uint8Array(Buffer.from("amm authority".replace(""," "),"utf-8"))],Go);function ga(e,t,n,r){if(!e.serumMarketKeys)throw new Error("RaydiumAmm is missing serumMarketKeys");return{swapProgram:Go,tokenProgram:g.TOKEN_PROGRAM_ID,ammId:e.ammId,ammAuthority:ma,ammOpenOrders:e.ammOpenOrders,poolCoinTokenAccount:e.poolCoinTokenAccount,poolPcTokenAccount:e.poolPcTokenAccount,serumProgramId:e.serumProgramId,serumMarket:e.serumMarket,serumBids:e.serumMarketKeys.serumBids,serumAsks:e.serumMarketKeys.serumAsks,serumEventQueue:e.serumMarketKeys.serumEventQueue,serumCoinVaultAccount:e.serumMarketKeys.serumCoinVaultAccount,serumPcVaultAccount:e.serumMarketKeys.serumPcVaultAccount,serumVaultSigner:e.serumMarketKeys.serumVaultSigner,userSourceTokenAccount:t,userDestinationTokenAccount:n,userSourceOwner:r}}function ya(e,t,n,r,o,s){const a=(0,Ze.createProgramAddressSync)([e.address.toBuffer(),e.decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],e.programId);return{market:{market:e.address,openOrders:t,requestQueue:e.decoded.requestQueue,eventQueue:e.decoded.eventQueue,bids:e.bidsAddress,asks:e.asksAddress,coinVault:e.decoded.baseVault,pcVault:e.decoded.quoteVault,vaultSigner:a},authority:s,orderPayerTokenAccount:n,coinWallet:r,pcWallet:o,dexProgram:e.programId,tokenProgram:g.TOKEN_PROGRAM_ID,rent:i.SYSVAR_RENT_PUBKEY}}function ba(e,t,n,r,i){const o=t.equals(e.state.tokenA.mint)?e.state.tokenB.adminFeeAccount:e.state.tokenA.adminFeeAccount,[s,a]=t.equals(e.state.tokenA.mint)?[e.state.tokenA.reserve,e.state.tokenB.reserve]:[e.state.tokenB.reserve,e.state.tokenA.reserve];return{swapProgram:e.config.swapProgramID,tokenProgram:g.TOKEN_PROGRAM_ID,swap:e.config.swapAccount,swapAuthority:e.config.authority,userAuthority:i,inputUserAccount:n,inputTokenAccount:s,outputUserAccount:r,outputTokenAccount:a,feesTokenAccount:o}}function wa(e,t){const n=[];return n.push(e?{pubkey:e,isSigner:!1,isWritable:!0}:t?{pubkey:t,isSigner:!1,isWritable:!0}:fa),n}const va=new g.u64(0);class Sa{constructor(e,t){this.numerator=void 0,this.denominator=void 0,this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=e,this.denominator=t}static fromDecimal(e){return Sa.fromFraction(e.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(e,t){const n="number"==typeof e?new g.u64(e.toString()):e,r="number"==typeof t?new g.u64(t.toString()):t;return new Sa(n,r)}toDecimal(){return this.denominator.eq(va)?new(Te())(0):new(Te())(this.numerator.toString()).div(new(Te())(this.denominator.toString()))}add(e){const t=this.denominator.gcd(e.denominator),n=this.denominator.div(t).mul(e.denominator),r=n.div(this.denominator),i=n.div(e.denominator),o=this.numerator.mul(r),s=e.numerator.mul(i),a=o.add(s);return new Sa(new g.u64(a.toString()),new g.u64(n.toString()))}}const Aa=(0,s.n_)([Ks("tradeFeeNumerator"),Ks("tradeFeeDenominator"),Ks("ownerTradeFeeNumerator"),Ks("ownerTradeFeeDenominator"),Ks("ownerWithdrawFeeNumerator"),Ks("ownerWithdrawFeeDenominator")],"fees"),ka=[(0,s.Ik)(8,"padding"),Ds("lpTokenFreezeVault"),Ds("poolMint"),Ds("baseTokenVault"),Ds("baseTokenMint"),Ds("quoteTokenVault"),Ds("quoteTokenMint"),Ds("poolSigner"),(0,s.u8)("poolSignerNonce"),Ds("authority"),Ds("initializerAccount"),Ds("feeBaseAccount"),Ds("feeQuoteAccount"),Ds("feePoolTokenAccount"),Aa],_a=(0,s.n_)(ka),Ma=(0,s.n_)([...ka,(0,s.u8)("curveType"),Ds("curve")]),Ia=(0,s.n_)([(0,s.Ik)(8,"padding"),Ks("amp")]);function Ea(e,t){const n=!!t.owner.equals(Yo),r=(n?Ma:_a).decode(t.data),i="curveType"in r?{curveType:r.curveType,curve:r.curve}:{};return{isV2:n,address:e,poolMint:r.poolMint,baseTokenVault:r.baseTokenVault,baseTokenMint:r.baseTokenMint,quoteTokenVault:r.quoteTokenVault,quoteTokenMint:r.quoteTokenMint,poolSigner:r.poolSigner,feeBaseAccount:r.feeBaseAccount,feeQuoteAccount:r.feeQuoteAccount,feePoolTokenAccount:r.feePoolTokenAccount,fees:{traderFee:Sa.fromFraction(r.fees.tradeFeeNumerator,r.fees.tradeFeeDenominator),ownerFee:Sa.fromFraction(r.fees.ownerTradeFeeNumerator,r.fees.ownerTradeFeeDenominator)},...i}}class Pa{constructor(e,t,n){if(this.params=void 0,this.id=void 0,this.label="Aldrin",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.poolState=void 0,this.tokenReserveAmounts=void 0,this.calculator=void 0,this.params=n,this.poolState=Ea(e,t),this.id=e.toBase58(),1===this.poolState.curveType){const{amp:e}=this.params;if(!e)throw new Error("Amp is required for a stable curve");this.calculator=new We(S().BigInt(e),new je(S().BigInt(this.poolState.fees.traderFee.numerator.toString()),S().BigInt(this.poolState.fees.traderFee.denominator.toString())),new je(S().BigInt(this.poolState.fees.ownerFee.numerator.toString()),S().BigInt(this.poolState.fees.ownerFee.denominator.toString())))}else this.calculator=new ze(new je(S().BigInt(this.poolState.fees.traderFee.numerator.toString()),S().BigInt(this.poolState.fees.traderFee.denominator.toString())),new je(S().BigInt(this.poolState.fees.ownerFee.numerator.toString()),S().BigInt(this.poolState.fees.ownerFee.denominator.toString())))}static decodeStableCurveAmp(e){const{amp:t}=Ia.decode(e.data);return 2*t.toNumber()}getAccountsForUpdate(){return[this.poolState.quoteTokenVault,this.poolState.baseTokenVault]}update(e){const t=Do(e,this.getAccountsForUpdate());this.tokenReserveAmounts=Fo(t)}getQuote({sourceMint:e,amount:t}){if(!this.tokenReserveAmounts)throw new Error("Missing tokenReserveAmounts");let n=new(Te())(this.poolState.fees.traderFee.numerator.toString()).div(this.poolState.fees.traderFee.denominator.toString()).add(new(Te())(this.poolState.fees.ownerFee.numerator.toString()).div(this.poolState.fees.ownerFee.denominator.toString()));const r=this.poolState.baseTokenMint.equals(e)?0:1;let i=this.calculator.exchange(this.tokenReserveAmounts,t,r);return{notEnoughLiquidity:!1,inAmount:t,outAmount:i.expectedOutputAmount,feeAmount:i.fees,feeMint:e.toBase58(),feePct:n.toNumber(),priceImpactPct:i.priceImpact.toNumber()}}getSwapLegAndAccounts(e){if(this.poolState.isV2){if(!this.poolState.curve)throw new Error("Unable to fetch curve account.");return function({poolState:e,sourceMint:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,curve:i,userTransferAuthority:o}){const[s,a,u]=t.equals(e.baseTokenMint)?[Hs.Ask,n,r]:[Hs.Bid,r,n];return[ia(Ys(s)),da.instruction.aldrinV2Swap({accounts:{swapProgram:Yo,pool:e.address,poolSigner:e.poolSigner,poolMint:e.poolMint,baseTokenVault:e.baseTokenVault,quoteTokenVault:e.quoteTokenVault,feePoolTokenAccount:e.feePoolTokenAccount,walletAuthority:o,userBaseTokenAccount:a,userQuoteTokenAccount:u,curve:i,tokenProgram:g.TOKEN_PROGRAM_ID}}).keys]}({poolState:this.poolState,curve:this.poolState.curve,...e})}return function({poolState:e,sourceMint:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:i}){const[o,s,a]=t.equals(e.baseTokenMint)?[Hs.Ask,n,r]:[Hs.Bid,r,n];return[ia(Xs(o)),da.instruction.aldrinSwap({accounts:{swapProgram:Xo,pool:e.address,poolSigner:e.poolSigner,poolMint:e.poolMint,baseTokenVault:e.baseTokenVault,quoteTokenVault:e.quoteTokenVault,feePoolTokenAccount:e.feePoolTokenAccount,walletAuthority:i,userBaseTokenAccount:s,userQuoteTokenAccount:a,tokenProgram:g.TOKEN_PROGRAM_ID}}).keys]}({poolState:this.poolState,...e})}get reserveTokenMints(){return[this.poolState.quoteTokenMint,this.poolState.baseTokenMint]}}Pa.accountInfoToAldrinPoolState=Ea;const Ta={version:"0.1.0",name:"balancer_amm",instructions:[{name:"swap",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"taxMan",isMut:!0,isSigner:!1},{name:"bidMint",isMut:!1,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"srcTreasury",isMut:!0,isSigner:!1},{name:"srcAssociatedTokenAccount",isMut:!0,isSigner:!1},{name:"askMint",isMut:!1,isSigner:!1},{name:"dstTreasury",isMut:!0,isSigner:!1},{name:"dstAssociatedTokenAccount",isMut:!0,isSigner:!1},{name:"dstTokenAccountTaxman",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"bidAmount",type:"u64"},{name:"limit",type:"u64"}],returns:"u64"}],accounts:[{name:"pool",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"fee",type:"u64"},{name:"taxFee",type:"u64"},{name:"state",type:{defined:"PoolState"}},{name:"mintLpt",type:"publicKey"},{name:"taxMan",type:"publicKey"},{name:"mints",type:{vec:"publicKey"}},{name:"actions",type:{vec:{defined:"MintActionState"}}},{name:"treasuries",type:{vec:"publicKey"}},{name:"reserves",type:{vec:"u64"}},{name:"weights",type:{vec:"u64"}}]}}],types:[{name:"PoolState",type:{kind:"enum",variants:[{name:"Uninitialized"},{name:"Initialized"},{name:"Frozen"},{name:"Deleted"}]}},{name:"MintActionState",type:{kind:"enum",variants:[{name:"Active"},{name:"BidOnly"},{name:"AskOnly"},{name:"Paused"}]}}],errors:[]},Oa=(e,t)=>{const n=e.map((e=>e.toNumber()/1e9));return t.toNumber()/1e9/n.reduce(((e,t)=>e+t),0)},xa=(e,t)=>{const{balanceIn:n,balanceOut:r,weightIn:i,weightOut:o,swapFee:s}=t,a=Number(n.toString()),u=Number(r.toString()),c=i,l=o,d=Number(s.toString())/1e9;return-a*l/(u*(-1+d)*(a/(e+a-e*d))**((c+l)/l)*c)},Ba=new Ye.BorshAccountsCoder(Ta);class La{constructor(e,t){this.address=void 0,this.label="Balansol",this.id=void 0,this.shouldPrefetch=!0,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.poolData=void 0,this.address=e,this.id=e.toBase58(),this.poolData=Ba.decode("pool",t.data)}getAccountsForUpdate(){return[new i.PublicKey(this.id)]}update(e){let[t]=Do(e,this.getAccountsForUpdate());const n=Ba.decode("pool",t.data);this.poolData=n}getQuote({sourceMint:e,destinationMint:t,amount:n}){var r,i;if(!this.poolData)throw new Error(`Invalid pool data ${this.address.toBase58()}`);if(!this.poolData.state.initialized)throw new Error(`Pool is not initialized ${this.address.toBase58()}`);const o=this.poolData.mints.map((e=>e.toBase58())),s=o.indexOf(e.toBase58()),a=o.indexOf(t.toBase58());if(null===(r=this.poolData.actions[s])||void 0===r||!r.active)throw new Error(`Invalid bid mint state ${this.address.toBase58()}`);if(null===(i=this.poolData.actions[a])||void 0===i||!i.active)throw new Error(`Invalid ask mint state ${this.address.toBase58()}`);const u=Oa(this.poolData.weights,this.poolData.weights[s]),c=Oa(this.poolData.weights,this.poolData.weights[a]),l=((e,t,n,r,i,o)=>{const s=Number(t.toString()),a=Number(n.toString());return s*(1-(a/(a+e))**(i/r))*(1-Number(o.toString())/1e9)})(Number(n.toString()),this.poolData.reserves[a],this.poolData.reserves[s],c,u,this.poolData.fee.add(this.poolData.taxFee)),d=((e,t)=>{const n=xa(0,t),r=xa(e,t);return r<n?0:1-n/r})(Number(n.toString()),{balanceIn:this.poolData.reserves[s],balanceOut:this.poolData.reserves[a],weightIn:u,weightOut:c,swapFee:this.poolData.fee.add(this.poolData.taxFee)}),f=this.poolData.fee.add(this.poolData.taxFee).toNumber()/10**9,p=l/(1-f)*f;return{notEnoughLiquidity:!1,inAmount:n,outAmount:S().BigInt(Math.floor(l)),feeAmount:S().BigInt(Math.floor(p)),feeMint:t.toBase58(),feePct:0,priceImpactPct:d}}getSwapLegAndAccounts(e){var t;if(!this.poolData)throw new Error(`Invalid pool data ${this.address.toBase58()}`);const n=this.poolData.mints.findIndex((t=>t.equals(e.sourceMint))),r=this.poolData.mints.findIndex((t=>t.equals(e.destinationMint))),[o]=i.PublicKey.findProgramAddressSync([Buffer.from("treasurer"),this.address.toBuffer()],As),s=ca({tokenMintAddress:e.destinationMint,walletAddress:this.poolData.taxMan});return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r,sourceMint:o,destinationMint:s}){return[ia({balansol:{}}),da.instruction.balansolSwap({accounts:{swapProgram:As,authority:r,pool:e.pool,taxMan:e.taxMan,bidMint:o,treasurer:e.treasurer,srcTreasury:e.srcTreasury,srcAssociatedTokenAccount:t,askMint:s,dstTreasury:e.dstTreasury,dstAssociatedTokenAccount:n,dstTokenAccountTaxman:e.dstTokenAccountTaxman,systemProgram:i.SystemProgram.programId,tokenProgram:g.TOKEN_PROGRAM_ID,associatedTokenProgram:g.ASSOCIATED_TOKEN_PROGRAM_ID,rent:i.SYSVAR_RENT_PUBKEY},remainingAccounts:e.referrer?[{pubkey:e.referrer,isSigner:!1,isWritable:!0}]:[fa]}).keys]}({...e,additionalArgs:{pool:this.address,taxMan:this.poolData.taxMan,dstTokenAccountTaxman:s,treasurer:o,srcTreasury:this.poolData.treasuries[n],dstTreasury:this.poolData.treasuries[r],referrer:null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(e.destinationMint.toBase58())}})}get reserveTokenMints(){return this.poolData.mints}}La.getIDL=()=>Ta;const Ca=new Ye.BorshCoder(ht.xO);class Ra{constructor(e,t,n){this.address=void 0,this.id=void 0,this.label="Crema",this.shouldPrefetch=!0,this.exactOutputSupported=!1,this.hasDynamicAccounts=!0,this.clmmpoolData=void 0,this.reserveTokenDecimals=void 0,this.tickArrayMapPubkey=void 0,this.feeRate=void 0,this.tickArrayMap=void 0,this.tickArrayPubkeys=[],this.tickArrays=[],this.arrayStartIndex=void 0,this.swapTicks=void 0,this.address=e,this.id=e.toBase58(),this.clmmpoolData=Ca.accounts.decode("clmmpool",t.data),this.feeRate=this.clmmpoolData.feeRate,this.tickArrayMapPubkey=ht.U8.getTickArrayMapPDA(ts,e).publicKey,this.reserveTokenDecimals=[n.decimalA,n.decimalB],this.arrayStartIndex=0}getAccountsForUpdate(){return[this.address,this.tickArrayMapPubkey,...this.tickArrayPubkeys]}update(e){const t=e.get(this.address.toBase58());if(!t)throw new Error(`Missing poolData ${this.address.toBase58()}`);this.clmmpoolData=Ca.accounts.decode("clmmpool",t.data),this.feeRate=this.clmmpoolData.feeRate;const n=e.get(this.tickArrayMapPubkey.toBase58());if(!n)throw new Error(`Missing tickArrayMap ${this.tickArrayMapPubkey.toBase58()}`);const r=Ca.accounts.decode("tickArrayMap",n.data);this.tickArrayPubkeys=this.getTickArrayPubkeys(this.address,r),this.tickArrayMap=r;const i=ht.mu.getArrayIndex(this.clmmpoolData.currentTickIndex,this.clmmpoolData.tickSpacing);let o=!1;const s=[];for(let t=0;t<this.tickArrayPubkeys.length;t++){const n=e.get(this.tickArrayPubkeys[t].toBase58());if(n){const e=Ca.accounts.decode("tickArray",n.data);!1===o&&e.arrayIndex>=i&&(o=!0,this.arrayStartIndex=t),s.push({address:this.tickArrayPubkeys[t],data:e})}}this.tickArrays=s;const a={aToB:[],bToA:[]};for(let e=this.arrayStartIndex;e>this.arrayStartIndex-3;e--){let t=this.tickArrays[e];t&&a.aToB.push(t)}for(let e=this.arrayStartIndex;e<this.arrayStartIndex+3;e++){let t=this.tickArrays[e];t&&a.bToA.push(t)}this.swapTicks={aToB:[],bToA:[]},[a.aToB,a.bToA].forEach(((e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(0===t)for(let e=ht.zp-1;e>=0;e--)r.data&&r.data.ticks[e].isInitialized&&this.swapTicks.aToB.push(r.data.ticks[e]);else for(let e=0;e<ht.zp;e++)r.data&&r.data.ticks[e].isInitialized&&this.swapTicks.bToA.push(r.data.ticks[e])}}))}getTickArrayPubkeys(e,t){let n=[];for(let e=0;e<868;e++){let r=t.bitmap[e];for(let e=0;e<8;e++)n.push((r>>e&1)>0)}const r=[];for(let t=0;t<n.length;t++)if(n[t]){const n=ht.U8.getTickArrayPDA(ts,e,t).publicKey;r.push(n)}return r}getQuote(e){let t,n,r;if(!this.swapTicks)throw new Error("swapTicks is not initialized");"ExactIn"===e.swapMode?(t=e.destinationMint,r=!0):(t=e.sourceMint,r=!1),n=!!e.sourceMint.equals(this.reserveTokenMints[0]);const i=new h.BN(e.amount.toString()),o=(0,ht.W$)(n,r,i,this.clmmpoolData,this.swapTicks[n?"aToB":"bToA"]),s=ht.pk.sqrtPriceX64ToPrice(this.clmmpoolData.currentSqrtPrice,this.reserveTokenDecimals[0],this.reserveTokenDecimals[1]).toNumber(),a=ht.pk.sqrtPriceX64ToPrice(o.nextSqrtPrice,this.reserveTokenDecimals[0],this.reserveTokenDecimals[1]).toNumber();let u=!1;if(u=r?o.amountIn.lt(i):o.amountOut.lt(i),u)throw new Error("not enough liquidity");return{notEnoughLiquidity:u,inAmount:S().BigInt(o.amountIn),outAmount:S().BigInt(o.amountOut),feeMint:t.toString(),feeAmount:S().multiply(S().BigInt(e.amount),S().BigInt(this.feeRate)),feePct:this.feeRate,priceImpactPct:Math.abs(s-a)/s}}getSwapLegAndAccounts(e){let t,n;if(!this.swapTicks)throw new Error("swapTicks is not initialized");const r=ht.U8.getClmmConfigPDA(ts).publicKey;if(t=!!e.sourceMint.equals(this.reserveTokenMints[0]),n="ExactIn"===e.swapMode,!this.tickArrayMap)throw new Error("tickArrayMap is not initialized");const i=new h.BN(e.amount.toString()),o=(0,ht.W$)(t,n,i,this.clmmpoolData,this.swapTicks[t?"aToB":"bToA"],this.address,this.tickArrayMap);return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r,sourceMint:i}){const{aToB:o,accountA:s,accountB:a}=i.equals(e.tokenA)?{aToB:!0,accountA:t,accountB:n}:{aToB:!1,accountA:n,accountB:t};let u=[];return e.remainingAccounts.forEach((e=>{u.push({pubkey:e,isSigner:!1,isWritable:!0})})),u.push(fa),[ia(Gs(o)),da.instruction.cremaSwap({accounts:{swapProgram:ts,clmmConfig:e.clmmConfig,clmmpool:e.clmmpool,tokenA:e.tokenA,tokenB:e.tokenB,accountA:s,accountB:a,tokenAVault:e.tokenAVault,tokenBVault:e.tokenBVault,tickArrayMap:e.tickArrayMap,owner:r,partner:ns,partnerAtaA:ca({walletAddress:ns,tokenMintAddress:e.tokenA}),partnerAtaB:ca({walletAddress:ns,tokenMintAddress:e.tokenB}),tokenProgram:g.TOKEN_PROGRAM_ID},remainingAccounts:u}).keys]}({additionalArgs:{clmmConfig:r,clmmpool:this.address,tokenA:this.clmmpoolData.tokenA,tokenB:this.clmmpoolData.tokenB,tokenAVault:this.clmmpoolData.tokenAVault,tokenBVault:this.clmmpoolData.tokenBVault,tickArrayMap:this.tickArrayMapPubkey,remainingAccounts:o.swapTickArrays},...e})}get reserveTokenMints(){return[this.clmmpoolData.tokenA,this.clmmpoolData.tokenB]}}class Na{static async getStateFromStateAccount(e){const t=await e.getAccountInfo(qs);if(!t)throw new Error("State account not found");return(e=>{const t=js.decode(e.data);return{isInitialized:Boolean(t.isInitialized),stateOwner:t.stateOwner,feeOwner:t.feeOwner,initialSupply:t.initialSupply,returnFeeNumerator:t.returnFeeNumerator.toNumber(),fixedFeeNumerator:t.fixedFeeNumerator.toNumber(),feeDenominator:t.feeDenominator.toNumber(),curveType:t.curveType,curveParameters:t.curveParameters}})(t)}constructor(e,t,n){this.id=void 0,this.label="Cropper",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.poolState=void 0,this.tokenReserveAmounts=void 0,this.calculator=void 0,this.feePct=void 0,this.params=void 0,this.id=e.toBase58(),this.poolState=Vs(e,t),this.params={...n,tokenAFeeAccount:new i.PublicKey(n.tokenAFeeAccount),tokenBFeeAccount:new i.PublicKey(n.tokenBFeeAccount)},this.feePct=new(Te())(this.params.fixedFeeNumerator).add(new(Te())(this.params.returnFeeNumerator)).div(this.params.feeDenominator),this.calculator=new ze(new je(S().BigInt(this.params.fixedFeeNumerator),S().BigInt(this.params.feeDenominator)),new je(S().BigInt(this.params.returnFeeNumerator),S().BigInt(this.params.feeDenominator)))}getAccountsForUpdate(){return[this.poolState.tokenAAccount,this.poolState.tokenBAccount]}update(e){const t=Do(e,this.getAccountsForUpdate());this.tokenReserveAmounts=Fo(t)}getQuote({sourceMint:e,amount:t}){if(!this.tokenReserveAmounts)throw new Error("Missing tokenReserveAmounts");const n=this.poolState.mintA.equals(e)?1:0,r=this.calculator.exchange(this.tokenReserveAmounts,t,n);return{notEnoughLiquidity:!1,inAmount:t,outAmount:r.expectedOutputAmount,feeAmount:r.fees,feeMint:e.toBase58(),feePct:this.feePct.toNumber(),priceImpactPct:r.priceImpact.toNumber()}}getSwapLegAndAccounts(e){const t=e.sourceMint.equals(this.poolState.mintA)?this.params.tokenAFeeAccount:this.params.tokenBFeeAccount;return function({poolState:e,feeAccount:t,sourceMint:n,userSourceTokenAccount:r,userDestinationTokenAccount:i,userTransferAuthority:o}){const[s,a]=n.equals(e.mintA)?[e.tokenAAccount,e.tokenBAccount]:[e.tokenBAccount,e.tokenAAccount];return[ia({cropper:{}}),da.instruction.cropperSwap({accounts:{tokenSwapProgram:e.programId,tokenProgram:g.TOKEN_PROGRAM_ID,swap:e.ammId,swapState:qs,authority:e.authority,userTransferAuthority:o,source:r,swapSource:s,swapDestination:a,destination:i,poolMint:e.poolMint,poolFee:t}}).keys]}({poolState:this.poolState,feeAccount:t,...e})}get reserveTokenMints(){return[this.poolState.mintA,this.poolState.mintB]}}Na.decodePoolState=Vs;class Da{constructor(e,t){this.program=void 0,this.pool=void 0,this.bitmapCache=void 0,this.tickCache=void 0,this.accountsToFetch={bitmaps:[],ticks:[]},this.program=e,this.pool=t,this.bitmapCache=new Map,this.tickCache=new Map}async eagerLoadCache(e,t){const n=S().toNumber(S().divide(S().BigInt(e),S().BigInt(t))),{wordPos:r}=Br(n);try{const e=[],{wordPos:n}=Br(Math.floor(Pr.MIN_TICK/t)),{wordPos:o}=Br(Math.floor(Pr.MAX_TICK/t)),s=Math.max(r-10,n),a=Math.min(r+10,o);for(let t=s;t<a;t++)e.push(this.getBitmapAddressSync(t));const u=await this.program.account.tickBitmapState.fetchMultiple(e),c=[];for(let n=0;n<a-s;n++){var i;const r=n+s,o=null===(i=u[n])||void 0===i?void 0:i.word,a=o?_r(o):new Ye.BN(0);if(this.bitmapCache.set(r,{address:e[n],word:a}),a&&!a.eqn(0))for(let e=0;e<256;e++)if(a.shrn(e).and(new Ye.BN(1)).eqn(1)){const n=this.getTickAddressSync(((r<<8)+e)*t);c.push(n)}}const l=await this.program.account.tickState.fetchMultiple(c);for(const e in c){const t=l[e];if(!t)continue;const{tick:n,liquidityNet:r}=t;this.tickCache.set(n,{address:c[e],liquidityNet:S().BigInt(r)})}}catch(e){}}lazyLoadAccountsToCache(e,t){const n=S().toNumber(S().divide(S().BigInt(e),S().BigInt(t))),{wordPos:r}=Br(n),i=[],o=[],{wordPos:s}=Br(Math.floor(Pr.MIN_TICK/t)),{wordPos:a}=Br(Math.floor(Pr.MAX_TICK/t)),u=Math.max(r-10,s),c=Math.min(r+10,a);for(let e=u;e<c;e++){i.push(this.getBitmapAddressSync(e));const t=this.bitmapCache.get(e);o.push(t)}const l=[];for(let e=0;e<c-u;e++){var d,f;const n=e+u,r=null!==(d=null===(f=o[e])||void 0===f?void 0:f.word)&&void 0!==d?d:new Ye.BN(0);if(this.bitmapCache.set(n,{address:i[e],word:r}),r&&!r.eqn(0))for(let e=0;e<256;e++)if(r.shrn(e).and(new Ye.BN(1)).eqn(1)){const r=this.getTickAddressSync(((n<<8)+e)*t);l.push(r)}}return this.accountsToFetch={bitmaps:i,ticks:l},[...i,...l]}getTick(e){let t=this.tickCache.get(e);if(!t)throw new Error("Tick not cached");return{address:t.address,liquidityNet:t.liquidityNet}}async getTickAddress(e){return this.getTickAddressSync(e)}getTickAddressSync(e){return(0,Ze.findProgramAddressSync)([mr,this.pool.token0.toBuffer(),this.pool.token1.toBuffer(),yr(this.pool.fee),yr(e)],this.program.programId)[0]}async getBitmapAddress(e){return this.getBitmapAddressSync(e)}getBitmapAddressSync(e){return(0,Ze.findProgramAddressSync)([fr,this.pool.token0.toBuffer(),this.pool.token1.toBuffer(),yr(this.pool.fee),gr(e)],this.program.programId)[0]}getBitmap(e){let t=this.bitmapCache.get(e);if(!t)throw new Error("Bitmap not cached");return t}nextInitializedTickWithinOneWord(e,t,n){let r=S().toNumber(S().divide(S().BigInt(e),S().BigInt(n)));e<0&&e%n!=0&&(r-=1),t||(r+=1);const{wordPos:i,bitPos:o}=Br(r),s=this.getBitmap(i),{next:a,initialized:u}=function(e,t,n){if(n){var r=new(m())(1).shln(t).subn(1).add(new(m())(1).shln(t)),i=e.and(r),o=!i.eqn(0);return{next:o?Mr(i):0,initialized:o}}var s=new(m())(1).shln(t).subn(1).notn(256),a=e.and(s),u=!a.eqn(0);return{next:u?a.zeroBits():255,initialized:u}}(s.word,o,t);return[(c=i,l=a,d=n,((c<<8)+l)*d),u,i,o,s.address];var c,l,d}updateCachedAccountInfos(e){for(const t of this.accountsToFetch.bitmaps){const n=e.get(t.toBase58());if(n){const e=this.program.coder.accounts.decode("tickBitmapState",n.data);this.bitmapCache.set(e.wordPos,{address:t,word:_r(e.word)})}}for(const t of this.accountsToFetch.ticks){const n=e.get(t.toBase58());if(n){const e=this.program.coder.accounts.decode("tickState",n.data);this.tickCache.set(e.tick,{address:t,liquidityNet:S().BigInt(e.liquidityNet)})}}}}const Fa=S().BigInt(1e6),Ka=new Ye.Program({version:"0.1.6",name:"cyclos_core",instructions:[{name:"initFactory",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setOwner",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"newOwner",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!0,isSigner:!1}],args:[]},{name:"enableFeeAmount",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"feeState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"}]},{name:"createAndInitPool",accounts:[{name:"poolCreator",isMut:!0,isSigner:!0},{name:"token0",isMut:!1,isSigner:!1},{name:"token1",isMut:!1,isSigner:!1},{name:"feeState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"initialObservationState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"sqrtPriceX32",type:"u64"}]},{name:"increaseObservationCardinalityNext",accounts:[{name:"payer",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"observationAccountBumps",type:"bytes"}]},{name:"setFeeProtocol",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1}],args:[{name:"feeProtocol",type:"u8"}]},{name:"collectProtocol",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Requested",type:"u64"},{name:"amount1Requested",type:"u64"}]},{name:"initTickAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"poolState",isMut:!1,isSigner:!1},{name:"tickState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"tick",type:"i32"}]},{name:"closeTickAccount",accounts:[{name:"tickState",isMut:!0,isSigner:!1},{name:"recipient",isMut:!0,isSigner:!1}],args:[]},{name:"initBitmapAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"poolState",isMut:!1,isSigner:!1},{name:"bitmapState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"wordPos",type:"i16"}]},{name:"initPositionAccount",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"recipient",isMut:!1,isSigner:!1},{name:"poolState",isMut:!1,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"mintCallback",accounts:[{name:"minter",isMut:!1,isSigner:!0},{name:"tokenAccount0",isMut:!1,isSigner:!1},{name:"tokenAccount1",isMut:!1,isSigner:!1},{name:"vault0",isMut:!1,isSigner:!1},{name:"vault1",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Owed",type:"u64"},{name:"amount1Owed",type:"u64"}]},{name:"swapCallback",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Delta",type:"i64"},{name:"amount1Delta",type:"i64"}]},{name:"mint",accounts:[{name:"minter",isMut:!1,isSigner:!0},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipient",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"callbackHandler",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"bitmapLowerState",isMut:!1,isSigner:!1},{name:"bitmapUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"collect",accounts:[{name:"owner",isMut:!1,isSigner:!0},{name:"poolState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!1,isSigner:!1},{name:"tickUpperState",isMut:!1,isSigner:!1},{name:"positionState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Requested",type:"u64"},{name:"amount1Requested",type:"u64"}]},{name:"swap",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"callbackHandler",isMut:!1,isSigner:!1}],args:[{name:"amountSpecified",type:"i64"},{name:"sqrtPriceLimitX32",type:"u64"}]},{name:"mintTokenizedPosition",accounts:[{name:"minter",isMut:!0,isSigner:!0},{name:"recipient",isMut:!1,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"nftMint",isMut:!0,isSigner:!0},{name:"nftAccount",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Desired",type:"u64"},{name:"amount1Desired",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"addMetaplexMetadata",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"nftMint",isMut:!0,isSigner:!1},{name:"tokenizedPositionState",isMut:!1,isSigner:!1},{name:"metadataAccount",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"metadataProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"increaseLiquidity",accounts:[{name:"payer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"tokenAccount0",isMut:!0,isSigner:!1},{name:"tokenAccount1",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Desired",type:"u64"},{name:"amount1Desired",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"decreaseLiquidity",accounts:[{name:"ownerOrDelegate",isMut:!1,isSigner:!0},{name:"nftAccount",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1}],args:[{name:"liquidity",type:"u64"},{name:"amount0Min",type:"u64"},{name:"amount1Min",type:"u64"},{name:"deadline",type:"i64"}]},{name:"collectFromTokenized",accounts:[{name:"ownerOrDelegate",isMut:!1,isSigner:!0},{name:"nftAccount",isMut:!1,isSigner:!1},{name:"tokenizedPositionState",isMut:!0,isSigner:!1},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"corePositionState",isMut:!0,isSigner:!1},{name:"tickLowerState",isMut:!0,isSigner:!1},{name:"tickUpperState",isMut:!0,isSigner:!1},{name:"bitmapLowerState",isMut:!0,isSigner:!1},{name:"bitmapUpperState",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"vault0",isMut:!0,isSigner:!1},{name:"vault1",isMut:!0,isSigner:!1},{name:"recipientWallet0",isMut:!0,isSigner:!1},{name:"recipientWallet1",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount0Max",type:"u64"},{name:"amount1Max",type:"u64"}]},{name:"exactInputSingle",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"poolState",isMut:!0,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"outputTokenAccount",isMut:!0,isSigner:!1},{name:"inputVault",isMut:!0,isSigner:!1},{name:"outputVault",isMut:!0,isSigner:!1},{name:"lastObservationState",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"deadline",type:"i64"},{name:"amountIn",type:"u64"},{name:"amountOutMinimum",type:"u64"},{name:"sqrtPriceLimitX32",type:"u64"}]},{name:"exactInput",accounts:[{name:"signer",isMut:!1,isSigner:!0},{name:"factoryState",isMut:!1,isSigner:!1},{name:"inputTokenAccount",isMut:!0,isSigner:!1},{name:"coreProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"deadline",type:"i64"},{name:"amountIn",type:"u64"},{name:"amountOutMinimum",type:"u64"},{name:"additionalAccountsPerPool",type:"bytes"}]}],accounts:[{name:"factoryState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"owner",type:"publicKey"},{name:"feeProtocol",type:"u8"}]}},{name:"feeState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"}]}},{name:"observationState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"index",type:"u16"},{name:"blockTimestamp",type:"u32"},{name:"tickCumulative",type:"i64"},{name:"secondsPerLiquidityCumulativeX32",type:"u64"},{name:"initialized",type:"bool"}]}},{name:"poolState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"token0",type:"publicKey"},{name:"token1",type:"publicKey"},{name:"fee",type:"u32"},{name:"tickSpacing",type:"u16"},{name:"liquidity",type:"u64"},{name:"sqrtPriceX32",type:"u64"},{name:"tick",type:"i32"},{name:"observationIndex",type:"u16"},{name:"observationCardinality",type:"u16"},{name:"observationCardinalityNext",type:"u16"},{name:"feeGrowthGlobal0X32",type:"u64"},{name:"feeGrowthGlobal1X32",type:"u64"},{name:"protocolFeesToken0",type:"u64"},{name:"protocolFeesToken1",type:"u64"},{name:"unlocked",type:"bool"}]}},{name:"positionState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"liquidity",type:"u64"},{name:"feeGrowthInside0LastX32",type:"u64"},{name:"feeGrowthInside1LastX32",type:"u64"},{name:"tokensOwed0",type:"u64"},{name:"tokensOwed1",type:"u64"}]}},{name:"positionManagerState",type:{kind:"struct",fields:[{name:"bump",type:"u8"}]}},{name:"swapRouterState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"core",type:"publicKey"},{name:"amountInCached",type:"u64"}]}},{name:"tickState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"tick",type:"i32"},{name:"liquidityNet",type:"i64"},{name:"liquidityGross",type:"u64"},{name:"feeGrowthOutside0X32",type:"u64"},{name:"feeGrowthOutside1X32",type:"u64"},{name:"tickCumulativeOutside",type:"i64"},{name:"secondsPerLiquidityOutsideX32",type:"u64"},{name:"secondsOutside",type:"u32"}]}},{name:"tickBitmapState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"wordPos",type:"i16"},{name:"word",type:{array:["u64",4]}}]}},{name:"tokenizedPositionState",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"mint",type:"publicKey"},{name:"poolId",type:"publicKey"},{name:"tickLower",type:"i32"},{name:"tickUpper",type:"i32"},{name:"liquidity",type:"u64"},{name:"feeGrowthInside0LastX32",type:"u64"},{name:"feeGrowthInside1LastX32",type:"u64"},{name:"tokensOwed0",type:"u64"},{name:"tokensOwed1",type:"u64"}]}}],events:[{name:"OwnerChanged",fields:[{name:"oldOwner",type:"publicKey",index:!1},{name:"newOwner",type:"publicKey",index:!1}]},{name:"SetFeeProtocolEvent",fields:[{name:"feeProtocolOld",type:"u8",index:!1},{name:"feeProtocol",type:"u8",index:!1}]},{name:"FeeAmountEnabled",fields:[{name:"fee",type:"u32",index:!1},{name:"tickSpacing",type:"u16",index:!1}]},{name:"IncreaseObservationCardinalityNext",fields:[{name:"observationCardinalityNextOld",type:"u16",index:!1},{name:"observationCardinalityNextNew",type:"u16",index:!1}]},{name:"PoolCreatedAndInitialized",fields:[{name:"token0",type:"publicKey",index:!1},{name:"token1",type:"publicKey",index:!1},{name:"fee",type:"u32",index:!1},{name:"tickSpacing",type:"u16",index:!1},{name:"poolState",type:"publicKey",index:!1},{name:"sqrtPriceX32",type:"u64",index:!1},{name:"tick",type:"i32",index:!1}]},{name:"CollectProtocolEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"recipientWallet0",type:"publicKey",index:!1},{name:"recipientWallet1",type:"publicKey",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"SwapEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"tokenAccount0",type:"publicKey",index:!1},{name:"tokenAccount1",type:"publicKey",index:!1},{name:"amount0",type:"i64",index:!1},{name:"amount1",type:"i64",index:!1},{name:"sqrtPriceX32",type:"u64",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"tick",type:"i32",index:!1}]},{name:"MintEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"sender",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"BurnEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"CollectEvent",fields:[{name:"poolState",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"tickLower",type:"i32",index:!1},{name:"tickUpper",type:"i32",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"IncreaseLiquidityEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"DecreaseLiquidityEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"liquidity",type:"u64",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]},{name:"CollectTokenizedEvent",fields:[{name:"tokenId",type:"publicKey",index:!1},{name:"recipientWallet0",type:"publicKey",index:!1},{name:"recipientWallet1",type:"publicKey",index:!1},{name:"amount0",type:"u64",index:!1},{name:"amount1",type:"u64",index:!1}]}],errors:[{code:6e3,name:"LOK",msg:"LOK"},{code:6001,name:"ZeroMintAmount",msg:"Minting amount should be greater than 0"},{code:6002,name:"TLU",msg:"TLU"},{code:6003,name:"TMS",msg:"TMS"},{code:6004,name:"TLM",msg:"TLM"},{code:6005,name:"TUM",msg:"TUM"},{code:6006,name:"M0",msg:"M0"},{code:6007,name:"M1",msg:"M1"},{code:6008,name:"OS",msg:"OS"},{code:6009,name:"AS",msg:"AS"},{code:6010,name:"SPL",msg:"SPL"},{code:6011,name:"IIA",msg:"IIA"},{code:6012,name:"NP",msg:"NP"},{code:6013,name:"LO",msg:"LO"},{code:6014,name:"R",msg:"R"},{code:6015,name:"T",msg:"T"},{code:6016,name:"LS",msg:"LS"},{code:6017,name:"LA",msg:"LA"},{code:6018,name:"TransactionTooOld",msg:"Transaction too old"},{code:6019,name:"PriceSlippageCheck",msg:"Price slippage check"},{code:6020,name:"NotApproved",msg:"Not approved"},{code:6021,name:"TooLittleReceived",msg:"Too little received"}]},cs,Rs);class Ua{constructor(e,t){this.address=void 0,this.label="Cykura",this.id=void 0,this.shouldPrefetch=!0,this.exactOutputSupported=!1,this.hasDynamicAccounts=!0,this.poolState=void 0,this.pool=void 0,this.tickDataProvider=void 0,this.tokens=void 0,this.vaults=void 0,this.feePct=void 0,this.fee=void 0,this.address=e,this.id=e.toBase58(),this.poolState=Ka.coder.accounts.decode("poolState",t.data);const{token0:n,token1:r,fee:i,sqrtPriceX32:o,liquidity:s,tick:a}=this.poolState;this.tickDataProvider=new Da(Ka,{token0:n,token1:r,fee:i}),this.tokens={token0:new Jn(101,n,0,"",""),token1:new Jn(101,r,0,"","")},this.pool=new xr(this.tokens.token0,this.tokens.token1,i,S().BigInt(o.toString()),S().BigInt(s.toString()),a,this.tickDataProvider),this.vaults={vault0:(0,Ze.findProgramAddressSync)([this.address.toBuffer(),g.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],g.ASSOCIATED_TOKEN_PROGRAM_ID)[0],vault1:(0,Ze.findProgramAddressSync)([this.address.toBuffer(),g.TOKEN_PROGRAM_ID.toBuffer(),r.toBuffer()],g.ASSOCIATED_TOKEN_PROGRAM_ID)[0]},this.fee=S().BigInt(this.poolState.fee),this.feePct=this.poolState.fee/S().toNumber(Fa)}getAccountsForUpdate(){return[this.address,...this.tickDataProvider.lazyLoadAccountsToCache(this.pool.tickCurrent,this.pool.tickSpacing)]}update(e){const t=e.get(this.address.toBase58());if(!t)throw new Error(`Could not find poolAccountInfo ${this.address.toBase58()}`);this.poolState=Ka.coder.accounts.decode("poolState",t.data);const{fee:n,sqrtPriceX32:r,liquidity:i,tick:o}=this.poolState;this.pool=new xr(this.tokens.token0,this.tokens.token1,n,S().BigInt(r.toString()),S().BigInt(i.toString()),o,this.tickDataProvider),this.tickDataProvider.updateCachedAccountInfos(e)}getQuote({sourceMint:e,amount:t}){const n=e.equals(this.poolState.token0)?this.tokens.token0:this.tokens.token1,[r,i,o]=this.pool.getOutputAmount(Xn.fromRawAmount(n,t)),s=De(S().subtract(this.pool.sqrtRatioX32,i.sqrtRatioX32)).div(this.pool.sqrtRatioX32.toString());return{notEnoughLiquidity:!1,inAmount:t,outAmount:r.quotient,feeAmount:S().divide(S().multiply(t,this.fee),Fa),feeMint:e.toBase58(),feePct:this.feePct,priceImpactPct:s.toNumber()}}getSwapLegAndAccounts(e){const[t,n]=e.sourceMint.equals(this.poolState.token0)?[this.vaults.vault0,this.vaults.vault1]:[this.vaults.vault1,this.vaults.vault0],r=(0,Ze.findProgramAddressSync)([hr,this.poolState.token0.toBuffer(),this.poolState.token1.toBuffer(),yr(this.poolState.fee),gr(this.poolState.observationIndex)],cs)[0],i=e.sourceMint.equals(this.poolState.token0)?this.tokens.token0:this.tokens.token1,[,,o]=this.pool.getOutputAmount(Xn.fromRawAmount(i,e.amount)),s=(0,Ze.findProgramAddressSync)([hr,this.poolState.token0.toBuffer(),this.poolState.token1.toBuffer(),yr(this.poolState.fee),gr((this.poolState.observationIndex+1)%this.poolState.observationCardinalityNext)],cs)[0],a={poolAddress:this.address,inputVault:t,outputVault:n,nextObservationState:s,lastObservationState:r,swapAccountMetas:o};return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){return[ia({cykura:{}}),da.instruction.cykuraSwap({accounts:{swapProgram:cs,signer:r,factoryState:ls,poolState:e.poolAddress,inputTokenAccount:t,outputTokenAccount:n,inputVault:e.inputVault,outputVault:e.outputVault,lastObservationState:e.lastObservationState,coreProgram:cs,tokenProgram:g.TOKEN_PROGRAM_ID},remainingAccounts:[...e.swapAccountMetas,{pubkey:e.nextObservationState,isSigner:!1,isWritable:!0},fa]}).keys]}({...e,additionalArgs:a})}get reserveTokenMints(){return[this.poolState.token0,this.poolState.token1]}}(0,Lr.zJ)(ws,Rs);const Wa=e=>g.u64.fromBuffer(e.data.slice(64,72)),za=e=>g.u64.fromBuffer(e.data.slice(36,44));function ja(e){const t=e.readBigUInt64LE();return Number(t)}class qa{constructor(e,t){this.address=void 0,this.id=void 0,this.label="GooseFX",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!0,this.pairLayout=void 0,this.quoter=void 0,this.gooseFxAccounts=void 0,this.fixedAccounts=void 0,this.oracleAccounts=[],this.quoteParams=void 0,this.isQuoteInvalid=!0,this.slot=void 0,this.address=e,this.id=e.toBase58(),this.pairLayout=Rr.NW.decode(t.data);const[n,r]=this.pairLayout.mints,o=new Rr.Bx;this.quoter=o.getSyncQuoter(n,r),this.gooseFxAccounts=this.quoter.getAccounts();const{pairAddress:s,sslIn:a,sslOut:u,liabilityVaultIn:c,liabilityVaultOut:l,swappedLiabilityVaultIn:d,swappedLiabilityVaultOut:f}=this.gooseFxAccounts;this.fixedAccounts=[i.SYSVAR_CLOCK_PUBKEY,s,a,u,c,l,d,f],this.updateOracles()}updateOracles(){const e=Number(this.pairLayout.nOracle.toString()),t=this.pairLayout.oracles.slice(0,e).reduce(((e,t)=>{const n=Number(t.n);for(const r of t.elements.slice(0,n))e.push(r.address);return e}),[]);this.oracleAccounts=t}getAccountsForUpdate(){return[...this.fixedAccounts,...this.oracleAccounts]}isSuspended(e){if(this.quoteParams){let t=Boolean(this.quoteParams.suspended);if(void 0!==e)for(const n of this.quoteParams.publishedSlots)t||=n+this.quoteParams.maxDelay<=e;for(const e of this.quoteParams.pythStatus)t||=e!==Cr.PriceStatus.Trading;return t}return!0}update(e){var t;const[n,r,i,o,s,a,u,c]=Do(e,this.fixedAccounts);if(!(r&&i&&o&&s&&a&&u&&c))throw new Error("Missing account data");const l=Rr.Y1.OracleRegistry;this.pairLayout=Rr.NW.decode(r.data);const{oracles:d,nOracle:f,maxDelay:p}=this.pairLayout,h=Number(f.toString()),m=new l;this.updateOracles();let g=[],y=[];for(const t of d.slice(0,h)){const n=Number(t.n);for(const r of t.elements.slice(0,n)){const t=e.get(r.address.toBase58());if(!t)return void(this.isQuoteInvalid=!0);{m.add_oracle(r.address.toBuffer(),t.data);let e=(0,Cr.parsePriceData)(t.data);g.push(BigInt(e.aggregate.publishSlot)),y.push(e.aggregate.status)}}}this.slot=BigInt(ja(n.data)),this.isQuoteInvalid&&(this.isQuoteInvalid=!1),null===(t=this.quoteParams)||void 0===t||t.registry.free(),this.quoteParams={liabilityIn:BigInt(Wa(s).toString()),liabilityOut:BigInt(Wa(a).toString()),pairData:r.data,sslInData:i.data,sslOutData:o.data,swappedLiabilityIn:BigInt(Wa(u).toString()),swappedLiabilityOut:BigInt(Wa(c).toString()),registry:m,suspended:new Rr.CY(i).isSuspended()||new Rr.CY(o).isSuspended(),maxDelay:p,publishedSlots:g,pythStatus:y}}getQuote({sourceMint:e,amount:t}){if(!this.quoteParams||this.isQuoteInvalid)throw new Error("Missing quote data");if(this.isSuspended(this.slot))throw new Error("Quote suspended");const{quoteParams:n}=this,r=Rr.Y1.swap;let i;const o=e.equals(this.pairLayout.mints[0]);i=o?r(n.sslInData.slice(),n.sslOutData.slice(),n.pairData.slice(),n.liabilityIn,n.liabilityOut,n.swappedLiabilityIn,n.swappedLiabilityOut,n.registry,BigInt(t.toString())):r(n.sslOutData.slice(),n.sslInData.slice(),n.pairData.slice(),n.liabilityOut,n.liabilityIn,n.swappedLiabilityOut,n.swappedLiabilityIn,n.registry,BigInt(t.toString()));const s=this.pairLayout.feeRates[o?0:1],a={notEnoughLiquidity:!1,inAmount:S().BigInt(i.amount_in.toString()),outAmount:S().BigInt(i.amount_out.toString()),feeAmount:S().BigInt(i.fee_paid.toString()),feeMint:e.toBase58(),feePct:s/1e4,priceImpactPct:i.price_impact};return i.free(),a}getSwapLegAndAccounts(e){var t;if(!this.quoteParams)throw new Error("Missing quote data");const n=e.sourceMint.equals(this.pairLayout.mints[0]),{gooseFxAccounts:r}=this,[i,o,s,a,u,c]=n?[r.sslIn,r.liabilityVaultIn,r.swappedLiabilityVaultIn,r.sslOut,r.liabilityVaultOut,r.swappedLiabilityVaultOut]:[r.sslOut,r.liabilityVaultOut,r.swappedLiabilityVaultOut,r.sslIn,r.liabilityVaultIn,r.swappedLiabilityVaultIn];return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){const i=[];return i.push(e.referrer?{pubkey:e.referrer,isSigner:!1,isWritable:!0}:fa),e.oracles.forEach((e=>{i.push({pubkey:e,isSigner:!1,isWritable:!1})})),i.push(fa),[ia({gooseFx:{}}),da.instruction.goosefxSwap({accounts:{swapProgram:vs,controller:Ss,pair:e.pair,sslIn:e.sslIn,sslOut:e.sslOut,liabilityVaultIn:e.liabilityVaultIn,swappedLiabilityVaultIn:e.swappedLiabilityVaultIn,liabilityVaultOut:e.liabilityVaultOut,swappedLiabilityVaultOut:e.swappedLiabilityVaultOut,userInAta:t,userOutAta:n,feeCollectorAta:e.feeCollectorAta,userWallet:r,feeCollector:e.feeCollector,tokenProgram:g.TOKEN_PROGRAM_ID},remainingAccounts:i}).keys]}({additionalArgs:{pair:this.gooseFxAccounts.pairAddress,sslIn:i,sslOut:a,liabilityVaultIn:o,swappedLiabilityVaultIn:s,liabilityVaultOut:u,swappedLiabilityVaultOut:c,feeCollectorAta:ca({walletAddress:this.pairLayout.feeCollector,tokenMintAddress:e.sourceMint}),feeCollector:this.pairLayout.feeCollector,oracles:this.oracleAccounts,referrer:null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(e.sourceMint.toBase58())},...e})}get reserveTokenMints(){return this.pairLayout.mints}}const Va=new Ye.Program(Nr.xO,ss,Rs);class Ha{static parsePoolStructure(e){return Va.coder.accounts.decode("pool",e.data)}static parseTickmap(e){return Va.coder.accounts.decode("tickmap",e.data)}static parseTick(e){return{...Va.coder.accounts.decode("tick",e.data)}}static getQuote(e,t,n,r,i,o){const{currentTickIndex:s,fee:a,tickSpacing:u,tokenX:c,liquidity:l,sqrtPrice:d}=e,f={currentTickIndex:s,tickSpacing:u,liquidity:l,fee:a,sqrtPrice:d},p={xToY:r.equals(c),byAmountIn:o===No.ExactIn,swapAmount:new h.BN(i.toString()),priceLimit:r.equals(c)?(0,Nr.ry)(Nr.r_):(0,Nr.ry)(Nr.v$),slippage:(0,Nr.YM)(0),ticks:t,tickmap:n,pool:f};return(0,Nr.bu)(p)}static getTickIndexToTickPubkeyHash(e,t,n){if(!n){const{tickAddress:n}=this.getTickAddress(e,t.currentTickIndex),r=new Map;return r.set(t.currentTickIndex,n),r}const r=(0,Nr.Fp)(n.bitmap,t.currentTickIndex,t.tickSpacing,Nr.pU,1/0,"down"),i=(0,Nr.Fp)(n.bitmap,t.currentTickIndex,t.tickSpacing,Nr.pU,1/0,"up");return r.concat([t.currentTickIndex]).concat(i).reduce(((t,n)=>{const{tickAddress:r}=this.getTickAddress(e,n);return t.set(n,r),t}),new Map)}static getTickAddress(e,t){const n=Buffer.alloc(4);n.writeInt32LE(t);const[r,o]=i.PublicKey.findProgramAddressSync([Buffer.from(Ye.utils.bytes.utf8.encode("tickv1")),e.toBuffer(),n],Va.programId);return{tickAddress:r,tickBump:o}}}class Qa{constructor(e,t){this.address=void 0,this.id=void 0,this.label="Invariant",this.shouldPrefetch=!0,this.exactOutputSupported=!1,this.hasDynamicAccounts=!0,this.poolStructure=void 0,this.tickmap=void 0,this.tickPkToTickIndexHash=void 0,this.ticks=new Map,this.feePct=void 0,this.address=e,this.id=e.toBase58(),this.poolStructure=Ha.parsePoolStructure(t),this.tickPkToTickIndexHash=Ha.getTickIndexToTickPubkeyHash(this.address,this.poolStructure,this.tickmap),this.feePct=new(Te())(this.poolStructure.fee.v.toString()).div(Nr.o5.toString()).toNumber()}getAccountsForUpdate(){const e=this.tickPkToTickIndexHash.values();return[this.address,this.poolStructure.tickmap,...e]}update(e){const t=e.get(this.address.toBase58());if(!t)throw new Error(`Missing invariant pool data ${this.address.toBase58()}`);this.poolStructure=Ha.parsePoolStructure(t);const n=e.get(this.poolStructure.tickmap.toBase58());n&&(this.tickmap=Ha.parseTickmap(n)),this.tickPkToTickIndexHash=Ha.getTickIndexToTickPubkeyHash(this.address,this.poolStructure,this.tickmap),this.ticks.clear();for(const[t,n]of this.tickPkToTickIndexHash){const r=e.get(n.toBase58());if(!r)continue;const i=Ha.parseTick(r);this.ticks.set(t,i)}}getQuote({sourceMint:e,amount:t,swapMode:n}){if(!this.tickmap)throw new Error("Missing tickmap");const r=Ha.getQuote(this.poolStructure,this.ticks,this.tickmap,e,t,n),i=new(Te())(r.priceImpact.toString()).div(Nr.o5.toString()).toNumber();if(0!==r.status)throw new Error(`Invariant simulation failed: ${this.address}`);return{notEnoughLiquidity:!1,inAmount:S().BigInt(r.accumulatedAmountIn.toString()),outAmount:S().BigInt(r.accumulatedAmountOut.toString()),feeAmount:S().BigInt(r.accumulatedFee.toString()),feeMint:e.toBase58(),feePct:this.feePct,priceImpactPct:i}}getSwapLegAndAccounts(e){var t;if(!this.tickmap)throw new Error("Missing tickmap");const n=Ha.getQuote(this.poolStructure,this.ticks,this.tickmap,e.sourceMint,e.amount,e.swapMode),r={};this.tickPkToTickIndexHash.forEach(((e,t)=>{r[t]=e}));const i=n.crossedTicks.concat(this.poolStructure.currentTickIndex).map((e=>{const t=r[e];if(!t)throw new Error("Missing tick account.");return t})),o=e.sourceMint.equals(this.poolStructure.tokenX);return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){const[i,o]=e.xToY?[t,n]:[n,t],s=e.referrer?[{pubkey:e.referrer,isSigner:!1,isWritable:!0}]:[];return e.crossedTickAddresses.forEach((e=>{s.push({pubkey:e,isSigner:!1,isWritable:!0})})),s.push(fa),[ia($s(e.xToY)),da.instruction.invariantSwap({accounts:{swapProgram:ss,tokenProgram:g.TOKEN_PROGRAM_ID,owner:r,state:as,pool:e.pool,tickmap:e.tickmap,accountX:i,accountY:o,reserveX:e.reserveX,reserveY:e.reserveY,programAuthority:us},remainingAccounts:s}).keys]}({...e,additionalArgs:{xToY:o,pool:this.address,tickmap:this.poolStructure.tickmap,reserveX:this.poolStructure.tokenXReserve,reserveY:this.poolStructure.tokenYReserve,crossedTickAddresses:i,referrer:null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(e.sourceMint.toBase58())}})}get reserveTokenMints(){return[this.poolStructure.tokenX,this.poolStructure.tokenY]}}class Ga{constructor(e,t){var n;this.ammAccountInfo=void 0,this.id=void 0,this.label="Lifinity",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.swapState=void 0,this.poolInfo=void 0,this.ammData=void 0,this.ammAccountInfo=t,this.id=e.toBase58(),this.swapState=((e,t)=>{const n=t.owner,r=Dr.Yk.decode(t.data),[i]=(0,Ze.findProgramAddressSync)([e.toBuffer()],n);return{programId:n,authority:i,amm:e,tokenAMint:r.tokenAMint,tokenBMint:r.tokenBMint,poolMint:r.poolMint,feeAccount:r.poolFeeAccount,pythAccount:r.pythAccount,pythPcAccount:r.pythPcAccount,configAccount:r.configAccount,poolCoinTokenAccount:r.tokenAAccount,poolCoinMint:r.tokenAMint,poolPcTokenAccount:r.tokenBAccount,poolPcMint:r.tokenBMint}})(e,t),this.poolInfo={amm:(n=this.swapState).amm.toBase58(),configAccount:n.configAccount.toBase58(),feeAccount:n.feeAccount.toBase58(),pythAccount:n.pythAccount.toBase58(),pythPcAccount:n.pythPcAccount.toBase58(),poolCoinMint:n.poolCoinMint.toBase58(),poolCoinTokenAccount:n.poolCoinTokenAccount.toBase58(),poolMint:n.poolMint.toBase58(),poolPcTokenAccount:n.poolPcTokenAccount.toBase58(),poolPcMint:n.poolPcMint.toBase58(),poolCoinDecimal:0,poolPcDecimal:0,poolMintDecimal:0,pythBaseDecimal:0}}getAccountsForUpdate(){return[this.swapState.poolCoinTokenAccount,this.swapState.poolPcTokenAccount,this.swapState.configAccount,this.swapState.pythAccount,this.swapState.pythPcAccount]}update(e){const t=[];this.getAccountsForUpdate().forEach(((n,r)=>{const i=e.get(n.toBase58());i&&t.push({publicKey:n,account:i})})),this.ammData=(0,Dr._l)([{publicKey:this.swapState.amm,account:this.ammAccountInfo},...t],this.poolInfo)}getQuote({sourceMint:e,amount:t}){if(!this.ammData)throw new Error("Accounts not loaded, missing ammData");if(this.isTradeFrozen)throw new Error("Trade is frozen");const n=this.swapState.poolCoinMint.equals(e)?Dr.vS.AtoB:Dr.vS.BtoA;if(!this.ammData.pyth.status.equals(1)||this.ammData.pythPc&&!this.ammData.pythPc.status.equals(1))throw new Error("Pyth accounts are outdated");const r=new(Te())(t.toString()),i=(0,Dr.gx)(r,this.ammData.pyth.publishSlot.toNumber(),this.ammData.amm,this.ammData.fees,this.ammData.coinBalance,this.ammData.pcBalance,this.ammData.config,this.ammData.pyth,this.ammData.pythPc,n);return{notEnoughLiquidity:!1,inAmount:t,outAmount:S().BigInt(i.amountSwapped.toString()),feeAmount:S().BigInt(i.fee.ceil().toString()),feeMint:e.toBase58(),feePct:i.feePercent.toNumber(),priceImpactPct:i.priceImpact.toNumber()}}getSwapLegAndAccounts(e){return function({swapState:e,sourceMint:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:i}){const[o,s]=t.equals(e.tokenAMint)?[e.poolCoinTokenAccount,e.poolPcTokenAccount]:[e.poolPcTokenAccount,e.poolCoinTokenAccount];return[ia({lifinity:{}}),da.instruction.lifinitySwap({accounts:{swapProgram:e.programId,authority:e.authority,amm:e.amm,userTransferAuthority:i,sourceInfo:n,destinationInfo:r,swapSource:o,swapDestination:s,poolMint:e.poolMint,feeAccount:e.feeAccount,tokenProgram:g.TOKEN_PROGRAM_ID,pythAccount:e.pythAccount,pythPcAccount:e.pythPcAccount,configAccount:e.configAccount}}).keys]}({swapState:this.swapState,...e})}get reserveTokenMints(){return[this.swapState.poolCoinMint,this.swapState.poolPcMint]}get isTradeFrozen(){var e;return 1===(null===(e=this.ammData)||void 0===e?void 0:e.amm.freezeTrade)}}class Xa{constructor(e,t){this.address=void 0,this.id=void 0,this.label="Lifinity V2",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.ammState=void 0,this.poolInfo=void 0,this.ammData=void 0,this.slot=void 0,this.address=e;const n=new Ye.BorshAccountsCoder(Fr.xO);var r;this.id=e.toBase58(),this.ammState=n.decode("amm",t.data),this.poolInfo={amm:this.id,poolMint:(r=this.ammState).poolMint.toBase58(),feeAccount:r.feeAccount.toBase58(),oracleMainAccount:r.oracleMainAccount.toBase58(),oracleSubAccount:r.oracleSubAccount.toBase58(),oraclePcAccount:r.oraclePcAccount.toBase58(),poolCoinTokenAccount:r.tokenAAccount.toBase58(),poolCoinMint:r.tokenAMint.toBase58(),poolCoinDecimal:0,poolPcTokenAccount:r.tokenBAccount.toBase58(),poolPcMint:r.tokenBMint.toBase58(),poolPcDecimal:0,poolMintDecimal:0,pythBaseDecimal:r.baseDecimals}}getAccountsForUpdate(){return[this.address,this.ammState.tokenAAccount,this.ammState.tokenBAccount,this.ammState.oracleMainAccount,this.ammState.oracleSubAccount,this.ammState.oraclePcAccount,i.SYSVAR_CLOCK_PUBKEY]}update(e){const t=this.getAccountsForUpdate().reduce(((t,n)=>{const r=e.get(n.toBase58());return r&&t.push({publicKey:n,account:r}),t}),new Array);this.ammData=(0,Fr._l)(t,this.poolInfo),this.slot=ja(t[t.length-1].account.data)}getQuote({sourceMint:e,amount:t}){if(!this.ammData)throw new Error("Accounts not loaded, missing ammData");if(void 0===this.slot)throw new Error("Slot not fetched");if(this.isTradeFrozen)throw new Error("Trade is frozen");const n=this.ammState.tokenAMint.equals(e)?Fr.vS.AtoB:Fr.vS.BtoA;if(this.ammData.oracleMain&&!this.ammData.oracleMain.status.equals(1)||this.ammData.oracleSub&&!this.ammData.oracleSub.status.equals(1)||this.ammData.oraclePc&&!this.ammData.oraclePc.status.equals(1))throw new Error("Pyth accounts are outdated");const r=new(Te())(t.toString()),i=(0,Fr.gx)(r,this.slot,this.ammData.amm,this.ammData.fees,this.ammData.coinBalance,this.ammData.pcBalance,this.ammData.config,this.ammData.oracleMain,this.ammData.oracleSub,this.ammData.oraclePc,n);return{notEnoughLiquidity:!1,inAmount:t,outAmount:S().BigInt(i.amountSwapped.toString()),feeAmount:S().BigInt(i.fee.ceil().toString()),feeMint:e.toBase58(),feePct:i.feePercent.toNumber(),priceImpactPct:i.priceImpact.toNumber()}}getSwapLegAndAccounts(e){return function({ammState:e,amm:t,sourceMint:n,userSourceTokenAccount:r,userDestinationTokenAccount:i,userTransferAuthority:o}){const[s,a]=n.equals(e.tokenAMint)?[e.tokenAAccount,e.tokenBAccount]:[e.tokenBAccount,e.tokenAAccount];return[ia({lifinityV2:{}}),da.instruction.lifinityV2Swap({accounts:{swapProgram:Is,authority:(0,Ze.findProgramAddressSync)([t.toBuffer()],Is)[0],amm:t,userTransferAuthority:o,sourceInfo:r,destinationInfo:i,swapSource:s,swapDestination:a,poolMint:e.poolMint,feeAccount:e.feeAccount,tokenProgram:g.TOKEN_PROGRAM_ID,oracleMainAccount:e.oracleMainAccount,oracleSubAccount:e.oracleSubAccount,oraclePcAccount:e.oraclePcAccount}}).keys]}({ammState:this.ammState,amm:this.address,...e})}get reserveTokenMints(){return[this.ammState.tokenAMint,this.ammState.tokenBMint]}get isTradeFrozen(){return 1===this.ammState.freezeTrade}}var Ya="marinade_finance",Za=[{name:"initialize",accounts:[{name:"creatorAuthority",isMut:!1,isSigner:!0},{name:"state",isMut:!0,isSigner:!1},{name:"reservePda",isMut:!1,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!1,isSigner:!1},{name:"operationalSolAccount",isMut:!1,isSigner:!1},{name:"liqPool",accounts:[{name:"lpMint",isMut:!1,isSigner:!1},{name:"solLegPda",isMut:!1,isSigner:!1},{name:"msolLeg",isMut:!1,isSigner:!1}]},{name:"treasuryMsolAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"data",type:{defined:"InitializeData"}}]},{name:"changeAuthority",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"adminAuthority",isMut:!1,isSigner:!0}],args:[{name:"data",type:{defined:"ChangeAuthorityData"}}]},{name:"addValidator",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"managerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1},{name:"validatorVote",isMut:!1,isSigner:!1},{name:"duplicationFlag",isMut:!0,isSigner:!1},{name:"rentPayer",isMut:!0,isSigner:!0},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"score",type:"u32"}]},{name:"removeValidator",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"managerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1},{name:"duplicationFlag",isMut:!0,isSigner:!1},{name:"operationalSolAccount",isMut:!0,isSigner:!1}],args:[{name:"index",type:"u32"},{name:"validatorVote",type:"publicKey"}]},{name:"setValidatorScore",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"managerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1}],args:[{name:"index",type:"u32"},{name:"validatorVote",type:"publicKey"},{name:"score",type:"u32"}]},{name:"configValidatorSystem",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"managerAuthority",isMut:!1,isSigner:!0}],args:[{name:"extraRuns",type:"u32"}]},{name:"deposit",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"liqPoolMsolLegAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"transferFrom",isMut:!0,isSigner:!0},{name:"mintTo",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"depositStakeAccount",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeAuthority",isMut:!1,isSigner:!0},{name:"duplicationFlag",isMut:!0,isSigner:!1},{name:"rentPayer",isMut:!0,isSigner:!0},{name:"msolMint",isMut:!0,isSigner:!1},{name:"mintTo",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"validatorIndex",type:"u32"}]},{name:"liquidUnstake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"getMsolFrom",isMut:!0,isSigner:!1},{name:"getMsolFromAuthority",isMut:!1,isSigner:!0},{name:"transferSolTo",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"msolAmount",type:"u64"}]},{name:"addLiquidity",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"lpMintAuthority",isMut:!1,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!1,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"transferFrom",isMut:!0,isSigner:!0},{name:"mintTo",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"removeLiquidity",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"burnFrom",isMut:!0,isSigner:!1},{name:"burnFromAuthority",isMut:!1,isSigner:!0},{name:"transferSolTo",isMut:!0,isSigner:!1},{name:"transferMsolTo",isMut:!0,isSigner:!1},{name:"liqPoolSolLegPda",isMut:!0,isSigner:!1},{name:"liqPoolMsolLeg",isMut:!0,isSigner:!1},{name:"liqPoolMsolLegAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"tokens",type:"u64"}]},{name:"setLpParams",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"adminAuthority",isMut:!1,isSigner:!0}],args:[{name:"minFee",type:{defined:"Fee"}},{name:"maxFee",type:{defined:"Fee"}},{name:"liquidityTarget",type:"u64"}]},{name:"configMarinade",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"adminAuthority",isMut:!1,isSigner:!0}],args:[{name:"params",type:{defined:"ConfigMarinadeParams"}}]},{name:"orderUnstake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"burnMsolFrom",isMut:!0,isSigner:!1},{name:"burnMsolAuthority",isMut:!1,isSigner:!0},{name:"newTicketAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"msolAmount",type:"u64"}]},{name:"claim",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"ticketAccount",isMut:!0,isSigner:!1},{name:"transferSolTo",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stakeReserve",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"validatorVote",isMut:!0,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"epochSchedule",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"validatorIndex",type:"u32"}]},{name:"updateActive",accounts:[{name:"common",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeWithdrawAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}]},{name:"validatorList",isMut:!0,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"}]},{name:"updateDeactivated",accounts:[{name:"common",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeWithdrawAuthority",isMut:!1,isSigner:!1},{name:"reservePda",isMut:!0,isSigner:!1},{name:"msolMint",isMut:!0,isSigner:!1},{name:"msolMintAuthority",isMut:!1,isSigner:!1},{name:"treasuryMsolAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}]},{name:"operationalSolAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"}]},{name:"deactivateStake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"reservePda",isMut:!1,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"splitStakeAccount",isMut:!0,isSigner:!0},{name:"splitStakeRentPayer",isMut:!0,isSigner:!0},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"epochSchedule",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"}]},{name:"emergencyUnstake",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"validatorManagerAuthority",isMut:!1,isSigner:!0},{name:"validatorList",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"stakeAccount",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"}]},{name:"mergeStakes",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"stakeList",isMut:!0,isSigner:!1},{name:"validatorList",isMut:!0,isSigner:!1},{name:"destinationStake",isMut:!0,isSigner:!1},{name:"sourceStake",isMut:!0,isSigner:!1},{name:"stakeDepositAuthority",isMut:!1,isSigner:!1},{name:"stakeWithdrawAuthority",isMut:!1,isSigner:!1},{name:"operationalSolAccount",isMut:!0,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"stakeHistory",isMut:!1,isSigner:!1},{name:"stakeProgram",isMut:!1,isSigner:!1}],args:[{name:"destinationStakeIndex",type:"u32"},{name:"sourceStakeIndex",type:"u32"},{name:"validatorIndex",type:"u32"}]}],$a=[{name:"State",type:{kind:"struct",fields:[{name:"msolMint",type:"publicKey"},{name:"adminAuthority",type:"publicKey"},{name:"operationalSolAccount",type:"publicKey"},{name:"treasuryMsolAccount",type:"publicKey"},{name:"reserveBumpSeed",type:"u8"},{name:"msolMintAuthorityBumpSeed",type:"u8"},{name:"rentExemptForTokenAcc",type:"u64"},{name:"rewardFee",type:{defined:"Fee"}},{name:"stakeSystem",type:{defined:"StakeSystem"}},{name:"validatorSystem",type:{defined:"ValidatorSystem"}},{name:"liqPool",type:{defined:"LiqPool"}},{name:"availableReserveBalance",type:"u64"},{name:"msolSupply",type:"u64"},{name:"msolPrice",type:"u64"},{name:"circulatingTicketCount",type:"u64"},{name:"circulatingTicketBalance",type:"u64"},{name:"lentFromReserve",type:"u64"},{name:"minDeposit",type:"u64"},{name:"minWithdraw",type:"u64"},{name:"stakingSolCap",type:"u64"},{name:"emergencyCoolingDown",type:"u64"}]}},{name:"TicketAccountData",type:{kind:"struct",fields:[{name:"stateAddress",type:"publicKey"},{name:"beneficiary",type:"publicKey"},{name:"lamportsAmount",type:"u64"},{name:"createdEpoch",type:"u64"}]}}],Ja=[{name:"Fee",type:{kind:"struct",fields:[{name:"basisPoints",type:"u32"}]}},{name:"InitializeData",type:{kind:"struct",fields:[{name:"adminAuthority",type:"publicKey"},{name:"validatorManagerAuthority",type:"publicKey"},{name:"minStake",type:"u64"},{name:"rewardFee",type:{defined:"Fee"}},{name:"liqPool",type:{defined:"LiqPoolInitializeData"}},{name:"additionalStakeRecordSpace",type:"u32"},{name:"additionalValidatorRecordSpace",type:"u32"},{name:"slotsForStakeDelta",type:"u64"}]}},{name:"LiqPoolInitializeData",type:{kind:"struct",fields:[{name:"lpLiquidityTarget",type:"u64"},{name:"lpMaxFee",type:{defined:"Fee"}},{name:"lpMinFee",type:{defined:"Fee"}},{name:"lpTreasuryCut",type:{defined:"Fee"}}]}},{name:"ChangeAuthorityData",type:{kind:"struct",fields:[{name:"admin",type:{option:"publicKey"}},{name:"validatorManager",type:{option:"publicKey"}},{name:"operationalSolAccount",type:{option:"publicKey"}},{name:"treasuryMsolAccount",type:{option:"publicKey"}}]}},{name:"ConfigMarinadeParams",type:{kind:"struct",fields:[{name:"rewardsFee",type:{option:{defined:"Fee"}}},{name:"slotsForStakeDelta",type:{option:"u64"}},{name:"minStake",type:{option:"u64"}},{name:"minDeposit",type:{option:"u64"}},{name:"minWithdraw",type:{option:"u64"}},{name:"stakingSolCap",type:{option:"u64"}},{name:"liquiditySolCap",type:{option:"u64"}},{name:"autoAddValidatorEnabled",type:{option:"bool"}}]}},{name:"LiqPool",type:{kind:"struct",fields:[{name:"lpMint",type:"publicKey"},{name:"lpMintAuthorityBumpSeed",type:"u8"},{name:"solLegBumpSeed",type:"u8"},{name:"msolLegAuthorityBumpSeed",type:"u8"},{name:"msolLeg",type:"publicKey"},{name:"lpLiquidityTarget",type:"u64"},{name:"lpMaxFee",type:{defined:"Fee"}},{name:"lpMinFee",type:{defined:"Fee"}},{name:"treasuryCut",type:{defined:"Fee"}},{name:"lpSupply",type:"u64"},{name:"lentFromSolLeg",type:"u64"},{name:"liquiditySolCap",type:"u64"}]}},{name:"List",type:{kind:"struct",fields:[{name:"account",type:"publicKey"},{name:"itemSize",type:"u32"},{name:"count",type:"u32"},{name:"newAccount",type:"publicKey"},{name:"copiedCount",type:"u32"}]}},{name:"StakeRecord",type:{kind:"struct",fields:[{name:"stakeAccount",type:"publicKey"},{name:"lastUpdateDelegatedLamports",type:"u64"},{name:"lastUpdateEpoch",type:"u64"},{name:"isEmergencyUnstaking",type:"u8"}]}},{name:"StakeSystem",type:{kind:"struct",fields:[{name:"stakeList",type:{defined:"List"}},{name:"delayedUnstakeCoolingDown",type:"u64"},{name:"stakeDepositBumpSeed",type:"u8"},{name:"stakeWithdrawBumpSeed",type:"u8"},{name:"slotsForStakeDelta",type:"u64"},{name:"lastStakeDeltaEpoch",type:"u64"},{name:"minStake",type:"u64"},{name:"extraStakeDeltaRuns",type:"u32"}]}},{name:"ValidatorRecord",type:{kind:"struct",fields:[{name:"validatorAccount",type:"publicKey"},{name:"activeBalance",type:"u64"},{name:"score",type:"u32"},{name:"lastStakeDeltaEpoch",type:"u64"},{name:"duplicationFlagBumpSeed",type:"u8"}]}},{name:"ValidatorSystem",type:{kind:"struct",fields:[{name:"validatorList",type:{defined:"List"}},{name:"managerAuthority",type:"publicKey"},{name:"totalValidatorScore",type:"u32"},{name:"totalActiveBalance",type:"u64"},{name:"autoAddValidatorEnabled",type:"u8"}]}},{name:"CommonError",type:{kind:"enum",variants:[{name:"InvalidProgramId",fields:["publicKey"]},{name:"UnexpectedAccount",fields:["publicKey"]},{name:"CalculationFailure"},{name:"AccountWithLockup"},{name:"NumberTooLow",fields:["u64","u64"]},{name:"NumberTooHigh",fields:["u64","u64"]},{name:"FeeTooHigh",fields:[{defined:"Fee"}]},{name:"FeesWrongWayRound",fields:[{defined:"Fee"},{defined:"Fee"}]},{name:"LiquidityTargetTooLow"},{name:"TicketNotDue",fields:["u64"]},{name:"TicketNotReady"},{name:"WrongBeneficiary"},{name:"InsufficientLiquidity"},{name:"InvalidValidator"}]}},{name:"InitializeError",type:{kind:"enum",variants:[{name:"WrongReserveOwner",fields:["publicKey"]},{name:"NonEmptyReserveData",fields:[{defined:"usize"}]},{name:"InvalidInitialReserveLamports",fields:["u64"]},{name:"ZeroValidatorChunkSize"},{name:"TooBigValidatorChunkSize",fields:["u32"]},{name:"ZeroCreditChunkSize"},{name:"TooBigCreditChunkSize",fields:["u32"]},{name:"TooLowCreditFee",fields:["u64"]},{name:"InvalidMintAuthority",fields:[{name:"expected",type:"publicKey"},{name:"got",type:"publicKey"}]},{name:"MintHasInitialSupply",fields:["u64"]},{name:"InvalidOwnerFeeState",fields:[{defined:"spl_token::state::AccountState"}]}]}}],eu={__proto__:null,version:"0.0.0",name:Ya,instructions:Za,accounts:$a,types:Ja,default:{version:"0.0.0",name:Ya,instructions:Za,accounts:$a,types:Ja}};function tu(e,t,n){return n.isZero()?e:e.mul(t).div(n)}class nu{constructor(e,t){this.address=void 0,this.id=void 0,this.label="Marinade",this.shouldPrefetch=!0,this.exactOutputSupported=!1,this.hasDynamicAccounts=!0,this.marinadeFinanceProgram=void 0,this.marinadeStateResponse=void 0,this.liqPoolSolLegPdaAddress=void 0,this.marinadeState=void 0,this.id=e.toBase58(),this.marinadeFinanceProgram=new Ye.Program(eu,ds,{}),this.marinadeStateResponse=this.marinadeFinanceProgram.coder.accounts.decode("State",t.data),this.address=e,this.liqPoolSolLegPdaAddress=this.findProgramDerivedAddress("liq_sol")}getAccountsForUpdate(){return[this.address,this.liqPoolSolLegPdaAddress,this.marinadeStateResponse.liqPool.msolLeg]}update(e){const[t,n,r]=Do(e,this.getAccountsForUpdate());this.marinadeStateResponse=this.marinadeFinanceProgram.coder.accounts.decode("State",t.data);const i=Xe(r.data);if(!i)throw new Error(`liqPoolMSOLLeg token account cannot be deserialized ${this.marinadeStateResponse.liqPool.msolLeg.toBase58()}`);this.marinadeState=new ru(this.marinadeStateResponse,new(m())(n.lamports),i.amount)}getQuote({sourceMint:e,amount:t}){if(!this.marinadeState)throw new Error("Update was not run to create a complete marinadeState");const n=new(m())(t.toString()),r=e.equals(g.NATIVE_MINT)?this.marinadeState.depositQuote(n):this.marinadeState.liquidUnstakeQuote(n);return{notEnoughLiquidity:!1,inAmount:t,outAmount:S().BigInt(r.outAmount.toString()),feeAmount:S().BigInt(r.feeAmount.toString()),feeMint:this.marinadeStateResponse.msolMint.toBase58(),feePct:r.feePct,priceImpactPct:0}}getSwapLegAndAccounts(e){return e.sourceMint.equals(g.NATIVE_MINT)?function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){const o=(0,Ze.findProgramAddressSync)([Buffer.from("temp-wsol-token-account"),r.toBuffer()],la)[0],s=(0,Ze.findProgramAddressSync)([Buffer.from("temp-sol-pda"),r.toBuffer()],la)[0];return[ia({marinadeDeposit:{}}),da.instruction.marinadeDeposit({accounts:{marinadeFinanceProgram:ds,state:e.address,msolMint:e.marinadeStateResponse.msolMint,liqPoolSolLegPda:e.liqPoolSolLegPda,liqPoolMsolLeg:e.marinadeStateResponse.liqPool.msolLeg,liqPoolMsolLegAuthority:e.liqPoolMsolLegAuthority,reservePda:e.reservePda,transferFrom:s,mintTo:n,msolMintAuthority:e.msolMintAuthority,systemProgram:i.SystemProgram.programId,tokenProgram:g.TOKEN_PROGRAM_ID,userWsolTokenAccount:t,tempWsolTokenAccount:o,userTransferAuthority:r,wsolMint:g.NATIVE_MINT,rent:i.SYSVAR_RENT_PUBKEY}}).keys]}({additionalArgs:{address:this.address,marinadeStateResponse:this.marinadeStateResponse,liqPoolSolLegPda:this.liqPoolSolLegPdaAddress,liqPoolMsolLegAuthority:this.findProgramDerivedAddress("liq_st_sol_authority"),reservePda:this.findProgramDerivedAddress("reserve"),msolMintAuthority:this.findProgramDerivedAddress("st_mint")},...e}):function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){const o=(0,Ze.findProgramAddressSync)([Buffer.from("temp-sol-pda"),r.toBuffer()],la)[0];return[ia({marinadeUnstake:{}}),da.instruction.marinadeUnstake({accounts:{marinadeFinanceProgram:ds,state:e.address,msolMint:e.marinadeStateResponse.msolMint,liqPoolSolLegPda:e.liqPoolSolLegPda,liqPoolMsolLeg:e.marinadeStateResponse.liqPool.msolLeg,treasuryMsolAccount:e.marinadeStateResponse.treasuryMsolAccount,getMsolFrom:t,getMsolFromAuthority:r,transferSolTo:o,systemProgram:i.SystemProgram.programId,tokenProgram:g.TOKEN_PROGRAM_ID,userWsolTokenAccount:n}}).keys]}({additionalArgs:{address:this.address,marinadeStateResponse:this.marinadeStateResponse,liqPoolSolLegPda:this.liqPoolSolLegPdaAddress},...e})}get reserveTokenMints(){return[g.NATIVE_MINT,this.marinadeStateResponse.msolMint]}findProgramDerivedAddress(e,t=[]){const n=[this.address.toBuffer(),Buffer.from(e),...t],[r]=(0,Ze.findProgramAddressSync)(n,this.marinadeFinanceProgram.programId);return r}}class ru{constructor(e,t,n){this.state=void 0,this.liqPoolSolLegPdaLamports=void 0,this.liqPoolMSOLLegAmount=void 0,this.state=e,this.liqPoolSolLegPdaLamports=t,this.liqPoolMSOLLegAmount=n}depositQuote(e){let t=e;const n=this.calcMSOLFromLamports(t),r=m().min(n,this.liqPoolMSOLLegAmount);let i=new(m())(0);if(t=(()=>{if(r.gt(new(m())(0))){const e=n.eq(r)?t:this.calcLamportsFromMSOLAmount(r);return i=i.add(r),iu(t,e)}return t})(),t.gt(new(m())(0))){this.checkStakingCap(t);const e=this.calcMSOLFromLamports(t);i=i.add(e)}return{outAmount:i,feeAmount:0,feePct:0,priceImpactPct:0}}checkStakingCap(e){if(this.totalLamportsUnderControl().add(e).gt(this.state.stakingSolCap))throw new Error("Staking cap reached")}calcMSOLFromLamports(e){return t=e,n=this.totalVirtualStakedLamports(),(r=this.state.msolSupply).eq(new(m())(0))?t:tu(t,r,n);var t,n,r}calcLamportsFromMSOLAmount(e){return tu(e,this.totalVirtualStakedLamports(),this.state.msolSupply)}totalVirtualStakedLamports(){return iu(this.totalLamportsUnderControl(),this.state.circulatingTicketBalance)}totalLamportsUnderControl(){return this.state.validatorSystem.totalActiveBalance.add(this.totalCoolingDown()).add(this.state.availableReserveBalance)}totalCoolingDown(){return this.state.stakeSystem.delayedUnstakeCoolingDown.add(this.state.emergencyCoolingDown)}liquidUnstakeQuote(e){const t=iu(this.liqPoolSolLegPdaLamports,this.state.rentExemptForTokenAcc),n=this.calcLamportsFromMSOLAmount(e),r=function(e,t,n,r,i){if(i.gte(r))return t;const o=r.sub(i);return o.gte(n)?e:t-tu(new(m())(t-e),o,n).toNumber()}(this.state.liqPool.lpMinFee.basisPoints,this.state.liqPool.lpMaxFee.basisPoints,this.state.liqPool.lpLiquidityTarget,t,n),i=e.mul(new(m())(r)).div(new(m())(1e4)),o=this.calcLamportsFromMSOLAmount(e.sub(i));if(o.add(this.state.rentExemptForTokenAcc).gt(this.liqPoolSolLegPdaLamports))throw new Error("Insufficient liquidity");return{outAmount:o,feeAmount:i,feePct:r/1e4,priceImpactPct:0}}}function iu(e,t){return e.gt(t)?e.sub(t):new(m())(0)}const ou=Math.pow(10,10),su=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("nonce"),Ks("amplificationCoefficient"),Ks("feeNumerator"),Ks("adminFeeNumerator"),(0,s.Jq)("tokenAccountsLength"),Ks("precisionFactor"),Ks("precisionMultiplierA"),Ks("precisionMultiplierB"),Ks("precisionMultiplierC"),Ks("precisionMultiplierD"),Ds("tokenAccountA"),Ds("tokenAccountB"),Ds("tokenAccountC"),Ds("tokenAccountD")]),au=(e,t)=>{const n=t.owner,r=su.decode(t.data),i=r.tokenAccountsLength,o=Ws([e.toBuffer(),Buffer.from([r.nonce])],n),s=[r.precisionMultiplierA.toNumber(),r.precisionMultiplierB.toNumber(),r.precisionMultiplierC.toNumber(),r.precisionMultiplierD.toNumber()].slice(0,i),a=[r.tokenAccountA,r.tokenAccountB,r.tokenAccountC,r.tokenAccountD].slice(0,i);return{programId:n,authority:o,isInitialized:Boolean(r.isInitialized),nonce:r.nonce,ammId:e,amplificationCoefficient:r.amplificationCoefficient.toNumber(),feeNumerator:r.feeNumerator.toNumber(),tokenAccountsLength:i,precisionFactor:r.precisionFactor.toNumber(),precisionMultipliers:s,tokenAccounts:a}};class uu{constructor(e,t,n){this.params=void 0,this.id=void 0,this.label="Mercurial",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.swapLayout=void 0,this.tokenMints=void 0,this.tokenReserveAmounts=void 0,this.calculator=void 0,this.params=n,this.id=e.toBase58(),this.swapLayout=au(e,t),this.calculator=new Ke(S().BigInt(this.swapLayout.tokenAccountsLength),S().BigInt(this.swapLayout.amplificationCoefficient),this.swapLayout.precisionMultipliers.map((e=>S().BigInt(e))),new je(S().BigInt(this.swapLayout.feeNumerator),S().BigInt(ou))),this.tokenMints=n.tokenMints.map((e=>new i.PublicKey(e)))}getAccountsForUpdate(){return this.swapLayout.tokenAccounts}update(e){const t=Do(e,this.getAccountsForUpdate());this.tokenReserveAmounts=Fo(t)}getQuote({sourceMint:e,destinationMint:t,amount:n}){if(!this.tokenReserveAmounts)throw new Error("Missing tokenReserveAmounts");const r=this.tokenReserveAmounts.findIndex(((t,n)=>this.tokenMints[n].equals(e))),i=this.tokenReserveAmounts.findIndex(((e,n)=>this.tokenMints[n].equals(t))),o=this.calculator.exchange(this.tokenReserveAmounts,n,r,i),s=this.swapLayout.feeNumerator/ou;return{notEnoughLiquidity:!1,inAmount:n,outAmount:o.expectedOutputAmount,feeAmount:o.fees,feeMint:t.toBase58(),feePct:s,priceImpactPct:o.priceImpact.toNumber()}}getSwapLegAndAccounts(e){return function({swapLayout:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){const i=[];for(const t of e.tokenAccounts)i.push({pubkey:t,isSigner:!1,isWritable:!0});return[ia({mercurial:{}}),da.instruction.mercurialSwap({accounts:ha(e,t,n,r),remainingAccounts:i}).keys]}({swapLayout:this.swapLayout,...e})}get reserveTokenMints(){return this.params.tokenMints.map((e=>new i.PublicKey(e)))}}uu.decodeSwapLayout=au;const cu=new Ye.Program({version:"0.4.0",name:"amm",instructions:[{name:"initialize",accounts:[{name:"pool",isMut:!0,isSigner:!0},{name:"lpMint",isMut:!0,isSigner:!1},{name:"tokenAMint",isMut:!1,isSigner:!1},{name:"tokenBMint",isMut:!1,isSigner:!1},{name:"aVault",isMut:!0,isSigner:!1},{name:"bVault",isMut:!0,isSigner:!1},{name:"aTokenVault",isMut:!0,isSigner:!1},{name:"bTokenVault",isMut:!0,isSigner:!1},{name:"aVaultLpMint",isMut:!0,isSigner:!1},{name:"bVaultLpMint",isMut:!0,isSigner:!1},{name:"aVaultLp",isMut:!0,isSigner:!1},{name:"bVaultLp",isMut:!0,isSigner:!1},{name:"adminTokenA",isMut:!0,isSigner:!1},{name:"adminTokenB",isMut:!0,isSigner:!1},{name:"adminPoolLp",isMut:!0,isSigner:!1},{name:"adminTokenAFee",isMut:!0,isSigner:!1},{name:"adminTokenBFee",isMut:!0,isSigner:!1},{name:"apy",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"rent",isMut:!1,isSigner:!1},{name:"vaultProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"curveType",type:{defined:"CurveType"}},{name:"tokenAAmount",type:"u64"},{name:"tokenBAmount",type:"u64"},{name:"invariantD",type:"u64"}]},{name:"enableOrDisablePool",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"enable",type:"bool"}]},{name:"swap",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"userSourceToken",isMut:!0,isSigner:!1},{name:"userDestinationToken",isMut:!0,isSigner:!1},{name:"aVault",isMut:!0,isSigner:!1},{name:"bVault",isMut:!0,isSigner:!1},{name:"aTokenVault",isMut:!0,isSigner:!1},{name:"bTokenVault",isMut:!0,isSigner:!1},{name:"aVaultLpMint",isMut:!0,isSigner:!1},{name:"bVaultLpMint",isMut:!0,isSigner:!1},{name:"aVaultLp",isMut:!0,isSigner:!1},{name:"bVaultLp",isMut:!0,isSigner:!1},{name:"adminTokenFee",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"vaultProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:"u64"},{name:"minimumOutAmount",type:"u64"}]},{name:"removeLiquiditySingleSide",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"userPoolLp",isMut:!0,isSigner:!1},{name:"aVaultLp",isMut:!0,isSigner:!1},{name:"bVaultLp",isMut:!0,isSigner:!1},{name:"aVault",isMut:!0,isSigner:!1},{name:"bVault",isMut:!0,isSigner:!1},{name:"aVaultLpMint",isMut:!0,isSigner:!1},{name:"bVaultLpMint",isMut:!0,isSigner:!1},{name:"aTokenVault",isMut:!0,isSigner:!1},{name:"bTokenVault",isMut:!0,isSigner:!1},{name:"userDestinationToken",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"vaultProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"poolTokenAmount",type:"u64"},{name:"minimumOutAmount",type:"u64"}]},{name:"addImbalanceLiquidity",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"userPoolLp",isMut:!0,isSigner:!1},{name:"aVaultLp",isMut:!0,isSigner:!1},{name:"bVaultLp",isMut:!0,isSigner:!1},{name:"aVault",isMut:!0,isSigner:!1},{name:"bVault",isMut:!0,isSigner:!1},{name:"aVaultLpMint",isMut:!0,isSigner:!1},{name:"bVaultLpMint",isMut:!0,isSigner:!1},{name:"aTokenVault",isMut:!0,isSigner:!1},{name:"bTokenVault",isMut:!0,isSigner:!1},{name:"userAToken",isMut:!0,isSigner:!1},{name:"userBToken",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"vaultProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"minimumPoolTokenAmount",type:"u64"},{name:"tokenAAmount",type:"u64"},{name:"tokenBAmount",type:"u64"}]},{name:"removeBalanceLiquidity",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"userPoolLp",isMut:!0,isSigner:!1},{name:"aVaultLp",isMut:!0,isSigner:!1},{name:"bVaultLp",isMut:!0,isSigner:!1},{name:"aVault",isMut:!0,isSigner:!1},{name:"bVault",isMut:!0,isSigner:!1},{name:"aVaultLpMint",isMut:!0,isSigner:!1},{name:"bVaultLpMint",isMut:!0,isSigner:!1},{name:"aTokenVault",isMut:!0,isSigner:!1},{name:"bTokenVault",isMut:!0,isSigner:!1},{name:"userAToken",isMut:!0,isSigner:!1},{name:"userBToken",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"vaultProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"poolTokenAmount",type:"u64"},{name:"minimumATokenOut",type:"u64"},{name:"minimumBTokenOut",type:"u64"}]},{name:"addBalanceLiquidity",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"userPoolLp",isMut:!0,isSigner:!1},{name:"aVaultLp",isMut:!0,isSigner:!1},{name:"bVaultLp",isMut:!0,isSigner:!1},{name:"aVault",isMut:!0,isSigner:!1},{name:"bVault",isMut:!0,isSigner:!1},{name:"aVaultLpMint",isMut:!0,isSigner:!1},{name:"bVaultLpMint",isMut:!0,isSigner:!1},{name:"aTokenVault",isMut:!0,isSigner:!1},{name:"bTokenVault",isMut:!0,isSigner:!1},{name:"userAToken",isMut:!0,isSigner:!1},{name:"userBToken",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"vaultProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"poolTokenAmount",type:"u64"},{name:"maximumTokenAAmount",type:"u64"},{name:"maximumTokenBAmount",type:"u64"}]},{name:"setPoolFees",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"fees",type:{defined:"PoolFees"}}]},{name:"overrideCurveParam",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"curveType",type:{defined:"CurveType"}}]},{name:"transferAdmin",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"newAdmin",isMut:!1,isSigner:!0}],args:[]},{name:"setAdminFeeAccount",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"newAdminTokenAFee",isMut:!0,isSigner:!1},{name:"newAdminTokenBFee",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[]},{name:"syncApy",accounts:[{name:"pool",isMut:!1,isSigner:!1},{name:"lpMint",isMut:!1,isSigner:!1},{name:"aVaultLp",isMut:!1,isSigner:!1},{name:"bVaultLp",isMut:!1,isSigner:!1},{name:"aVault",isMut:!1,isSigner:!1},{name:"bVault",isMut:!1,isSigner:!1},{name:"aVaultLpMint",isMut:!1,isSigner:!1},{name:"bVaultLpMint",isMut:!1,isSigner:!1},{name:"apy",isMut:!0,isSigner:!1}],args:[]},{name:"getPoolInfo",accounts:[{name:"pool",isMut:!1,isSigner:!1},{name:"lpMint",isMut:!1,isSigner:!1},{name:"aVaultLp",isMut:!1,isSigner:!1},{name:"bVaultLp",isMut:!1,isSigner:!1},{name:"aVault",isMut:!1,isSigner:!1},{name:"bVault",isMut:!1,isSigner:!1},{name:"aVaultLpMint",isMut:!1,isSigner:!1},{name:"bVaultLpMint",isMut:!1,isSigner:!1},{name:"apy",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"pool",type:{kind:"struct",fields:[{name:"lpMint",type:"publicKey"},{name:"tokenAMint",type:"publicKey"},{name:"tokenBMint",type:"publicKey"},{name:"aVault",type:"publicKey"},{name:"bVault",type:"publicKey"},{name:"aVaultLp",type:"publicKey"},{name:"bVaultLp",type:"publicKey"},{name:"aVaultLpBump",type:"u8"},{name:"enabled",type:"bool"},{name:"adminTokenAFee",type:"publicKey"},{name:"adminTokenBFee",type:"publicKey"},{name:"admin",type:"publicKey"},{name:"fees",type:{defined:"PoolFees"}},{name:"padding",type:{defined:"Padding"}},{name:"curveType",type:{defined:"CurveType"}}]}},{name:"apy",type:{kind:"struct",fields:[{name:"pool",type:"publicKey"},{name:"snapshot",type:{defined:"SnapShot"}}]}}],types:[{name:"TokenMultiplier",type:{kind:"struct",fields:[{name:"tokenAMultiplier",type:"u64"},{name:"tokenBMultiplier",type:"u64"},{name:"precisionFactor",type:"u8"}]}},{name:"PoolFees",type:{kind:"struct",fields:[{name:"tradeFeeNumerator",type:"u64"},{name:"tradeFeeDenominator",type:"u64"},{name:"ownerTradeFeeNumerator",type:"u64"},{name:"ownerTradeFeeDenominator",type:"u64"}]}},{name:"Depeg",type:{kind:"struct",fields:[{name:"baseVirtualPrice",type:"u64"},{name:"baseCacheUpdated",type:"u64"},{name:"depegType",type:{defined:"DepegType"}}]}},{name:"Padding",type:{kind:"struct",fields:[{name:"padding",type:{array:["u128",32]}}]}},{name:"VirtualPrice",type:{kind:"struct",fields:[{name:"price",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"SnapShot",type:{kind:"struct",fields:[{name:"pointer",type:"u64"},{name:"virtualPrices",type:{array:[{defined:"VirtualPrice"},28]}}]}},{name:"RoundDirection",type:{kind:"enum",variants:[{name:"Floor"},{name:"Ceiling"}]}},{name:"TradeDirection",type:{kind:"enum",variants:[{name:"AtoB"},{name:"BtoA"}]}},{name:"NewCurveType",type:{kind:"enum",variants:[{name:"ConstantProduct"},{name:"Stable",fields:[{name:"amp",type:"u64"},{name:"token_multiplier",type:{defined:"TokenMultiplier"}},{name:"depeg",type:{defined:"Depeg"}}]},{name:"NewCurve",fields:[{name:"field_one",type:"u64"},{name:"field_two",type:"u64"}]}]}},{name:"CurveType",type:{kind:"enum",variants:[{name:"ConstantProduct"},{name:"Stable",fields:[{name:"amp",type:"u64"},{name:"token_multiplier",type:{defined:"TokenMultiplier"}},{name:"depeg",type:{defined:"Depeg"}}]}]}},{name:"DepegType",type:{kind:"enum",variants:[{name:"None"},{name:"Marinade"},{name:"Lido"}]}}],events:[{name:"AddLiquidity",fields:[{name:"lpMintAmount",type:"u64",index:!1},{name:"tokenAAmount",type:"u64",index:!1},{name:"tokenBAmount",type:"u64",index:!1}]},{name:"RemoveLiquidity",fields:[{name:"lpUnmintAmount",type:"u64",index:!1},{name:"tokenAOutAmount",type:"u64",index:!1},{name:"tokenBOutAmount",type:"u64",index:!1}]},{name:"Swap",fields:[{name:"inAmount",type:"u64",index:!1},{name:"outAmount",type:"u64",index:!1},{name:"tradeFee",type:"u64",index:!1},{name:"adminFee",type:"u64",index:!1}]},{name:"SetPoolFees",fields:[{name:"tradeFeeNumerator",type:"u64",index:!1},{name:"tradeFeeDenominator",type:"u64",index:!1},{name:"ownerTradeFeeNumerator",type:"u64",index:!1},{name:"ownerTradeFeeDenominator",type:"u64",index:!1}]},{name:"PoolInfo",fields:[{name:"tokenAAmount",type:"u64",index:!1},{name:"tokenBAmount",type:"u64",index:!1},{name:"virtualPrice",type:"f64",index:!1},{name:"firstVirtualPrice",type:"f64",index:!1},{name:"firstTimestamp",type:"u64",index:!1},{name:"currentTimestamp",type:"u64",index:!1},{name:"apy",type:"f64",index:!1}]},{name:"TransferAdmin",fields:[{name:"admin",type:"publicKey",index:!1},{name:"newAdmin",type:"publicKey",index:!1}]},{name:"SetAdminFeeAccount",fields:[{name:"adminTokenAFee",type:"publicKey",index:!1},{name:"adminTokenBFee",type:"publicKey",index:!1},{name:"newAdminTokenAFee",type:"publicKey",index:!1},{name:"newAdminTokenBFee",type:"publicKey",index:!1}]}],errors:[{code:6e3,name:"MathOverflow",msg:"Math operation overflow"},{code:6001,name:"InvalidFee",msg:"Invalid fee setup"},{code:6002,name:"InvalidInvariant",msg:"Invalid invariant d"},{code:6003,name:"FeeCalculationFailure",msg:"Fee calculation failure"},{code:6004,name:"ExceededSlippage",msg:"Exceeded slippage tolerance"},{code:6005,name:"InvalidCalculation",msg:"Invalid curve calculation"},{code:6006,name:"ZeroTradingTokens",msg:"Given pool token amount results in zero trading tokens"},{code:6007,name:"ConversionError",msg:"Math conversion overflow"},{code:6008,name:"FaultyLpMint",msg:"LP mint authority must be 'A' vault lp, without freeze authority, and 0 supply"},{code:6009,name:"MismatchedTokenMint",msg:"Token mint mismatched"},{code:6010,name:"MismatchedLpMint",msg:"LP mint mismatched"},{code:6011,name:"MismatchedOwner",msg:"Invalid lp token owner"},{code:6012,name:"InvalidVaultAccount",msg:"Invalid vault account"},{code:6013,name:"InvalidVaultLpAccount",msg:"Invalid vault lp account"},{code:6014,name:"InvalidPoolLpMintAccount",msg:"Invalid pool lp mint account"},{code:6015,name:"PoolDisabled",msg:"Pool disabled"},{code:6016,name:"InvalidAdminAccount",msg:"Invalid admin account"},{code:6017,name:"InvalidAdminFeeAccount",msg:"Invalid admin fee account"},{code:6018,name:"SameAdminAccount",msg:"Same admin account"},{code:6019,name:"IdenticalSourceDestination",msg:"Identical user source and destination token account"},{code:6020,name:"ApyCalculationError",msg:"Apy calculation error"},{code:6021,name:"InsufficientSnapshot",msg:"Insufficient virtual price snapshot"},{code:6022,name:"NonUpdatableCurve",msg:"Current curve is non-updatable"},{code:6023,name:"MisMatchedCurve",msg:"New curve is mismatched with old curve"},{code:6024,name:"InvalidAmplification",msg:"Amplification is invalid"},{code:6025,name:"UnsupportedOperation",msg:"Operation is not supported"},{code:6026,name:"ExceedMaxAChanges",msg:"Exceed max amplification changes"},{code:6027,name:"InvalidRemainingAccountsLen",msg:"Invalid remaining accounts length"},{code:6028,name:"InvalidRemainingAccounts",msg:"Invalid remaining account"},{code:6029,name:"MismatchedDepegMint",msg:"Token mint B doesn't matches depeg type token mint"},{code:6030,name:"InvalidApyAccount",msg:"Invalid APY account"},{code:6031,name:"InvalidTokenMultiplier",msg:"Invalid token multiplier"},{code:6032,name:"InvalidDepegInformation",msg:"Invalid depeg information"}]},Ri,Rs),lu=new Ye.Program({version:"0.5.1",name:"vault",instructions:[{name:"initialize",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"tokenVault",isMut:!0,isSigner:!1},{name:"tokenMint",isMut:!1,isSigner:!1},{name:"feeVault",isMut:!1,isSigner:!1},{name:"lpMint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"enableVault",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"enabled",type:"u8"}]},{name:"setOperator",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"operator",isMut:!1,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[]},{name:"updateLockedProfitDegradation",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[{name:"lockedProfitDegradation",type:"u64"}]},{name:"getUnlockedAmount",accounts:[{name:"vault",isMut:!1,isSigner:!1}],args:[]},{name:"transferAdmin",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"newAdmin",isMut:!1,isSigner:!0}],args:[]},{name:"transferFeeVault",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"newFeeVault",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStrategy",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"strategyProgram",isMut:!1,isSigner:!1},{name:"strategy",isMut:!0,isSigner:!1},{name:"reserve",isMut:!1,isSigner:!1},{name:"collateralVault",isMut:!0,isSigner:!1},{name:"collateralMint",isMut:!1,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bumps",type:{defined:"StrategyBumps"}},{name:"strategyType",type:{defined:"StrategyType"}}]},{name:"removeStrategy",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"strategy",isMut:!0,isSigner:!1},{name:"strategyProgram",isMut:!1,isSigner:!1},{name:"collateralVault",isMut:!0,isSigner:!1},{name:"reserve",isMut:!0,isSigner:!1},{name:"tokenVault",isMut:!0,isSigner:!1},{name:"feeVault",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[]},{name:"addStrategy",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"strategy",isMut:!1,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[]},{name:"depositStrategy",accounts:[{name:"userInfo",isMut:!1,isSigner:!1},{name:"assetPoolSpl",isMut:!1,isSigner:!1},{name:"poolSummaries",isMut:!1,isSigner:!1},{name:"priceSummaries",isMut:!1,isSigner:!1},{name:"userInfoSignerPda",isMut:!1,isSigner:!1},{name:"basePda",isMut:!1,isSigner:!1},{name:"userPagesStats",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdrawStrategy",accounts:[{name:"userInfo",isMut:!1,isSigner:!1},{name:"assetPoolSpl",isMut:!1,isSigner:!1},{name:"poolSummaries",isMut:!1,isSigner:!1},{name:"priceSummaries",isMut:!1,isSigner:!1},{name:"userInfoSignerPda",isMut:!1,isSigner:!1},{name:"basePda",isMut:!1,isSigner:!1},{name:"userPagesStats",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"claimRewards",accounts:[{name:"vault",isMut:!1,isSigner:!1},{name:"strategy",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenRewardAcc",isMut:!0,isSigner:!1},{name:"operator",isMut:!1,isSigner:!0}],args:[]},{name:"deposit",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"tokenVault",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"userToken",isMut:!0,isSigner:!1},{name:"userLp",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"tokenAmount",type:"u64"},{name:"minimumLpTokenAmount",type:"u64"}]},{name:"withdraw",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"tokenVault",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"userToken",isMut:!0,isSigner:!1},{name:"userLp",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"unmintAmount",type:"u64"},{name:"minOutAmount",type:"u64"}]},{name:"withdrawDirectlyFromStrategy",accounts:[{name:"vault",isMut:!0,isSigner:!1},{name:"strategy",isMut:!0,isSigner:!1},{name:"reserve",isMut:!0,isSigner:!1},{name:"strategyProgram",isMut:!1,isSigner:!1},{name:"collateralVault",isMut:!0,isSigner:!1},{name:"tokenVault",isMut:!0,isSigner:!1},{name:"lpMint",isMut:!0,isSigner:!1},{name:"feeVault",isMut:!0,isSigner:!1},{name:"userToken",isMut:!0,isSigner:!1},{name:"userLp",isMut:!0,isSigner:!1},{name:"user",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"unmintAmount",type:"u64"},{name:"minOutAmount",type:"u64"}]}],accounts:[{name:"vault",type:{kind:"struct",fields:[{name:"enabled",type:"u8"},{name:"bumps",type:{defined:"VaultBumps"}},{name:"totalAmount",type:"u64"},{name:"tokenVault",type:"publicKey"},{name:"feeVault",type:"publicKey"},{name:"tokenMint",type:"publicKey"},{name:"lpMint",type:"publicKey"},{name:"strategies",type:{array:["publicKey",30]}},{name:"base",type:"publicKey"},{name:"admin",type:"publicKey"},{name:"operator",type:"publicKey"},{name:"lockedProfitTracker",type:{defined:"LockedProfitTracker"}}]}},{name:"strategy",type:{kind:"struct",fields:[{name:"reserve",type:"publicKey"},{name:"collateralVault",type:"publicKey"},{name:"strategyType",type:{defined:"StrategyType"}},{name:"currentLiquidity",type:"u64"},{name:"bumps",type:{array:["u8",10]}},{name:"vault",type:"publicKey"}]}}],types:[{name:"VaultBumps",type:{kind:"struct",fields:[{name:"vaultBump",type:"u8"},{name:"tokenVaultBump",type:"u8"}]}},{name:"StrategyBumps",type:{kind:"struct",fields:[{name:"strategyIndex",type:"u8"},{name:"otherBumps",type:{array:["u8",10]}}]}},{name:"LockedProfitTracker",type:{kind:"struct",fields:[{name:"lastUpdatedLockedProfit",type:"u64"},{name:"lastReport",type:"u64"},{name:"lockedProfitDegradation",type:"u64"}]}},{name:"StrategyType",type:{kind:"enum",variants:[{name:"PortFinanceWithoutLM"},{name:"PortFinanceWithLM"},{name:"SolendWithoutLM"},{name:"Mango"},{name:"SolendWithLM"},{name:"ApricotWithoutLM"},{name:"Francium"}]}}],events:[{name:"AddLiquidity",fields:[{name:"lpMintAmount",type:"u64",index:!1},{name:"tokenAmount",type:"u64",index:!1}]},{name:"RemoveLiquidity",fields:[{name:"lpUnmintAmount",type:"u64",index:!1},{name:"tokenAmount",type:"u64",index:!1}]},{name:"StrategyDeposit",fields:[{name:"strategyType",type:{defined:"StrategyType"},index:!1},{name:"tokenAmount",type:"u64",index:!1}]},{name:"StrategyWithdraw",fields:[{name:"strategyType",type:{defined:"StrategyType"},index:!1},{name:"collateralAmount",type:"u64",index:!1},{name:"estimatedTokenAmount",type:"u64",index:!1}]},{name:"ClaimReward",fields:[{name:"strategyType",type:{defined:"StrategyType"},index:!1},{name:"tokenAmount",type:"u64",index:!1},{name:"mintAccount",type:"publicKey",index:!1}]},{name:"PerformanceFee",fields:[{name:"lpMintMore",type:"u64",index:!1}]},{name:"ReportLoss",fields:[{name:"strategy",type:"publicKey",index:!1},{name:"loss",type:"u64",index:!1}]},{name:"TotalAmount",fields:[{name:"totalAmount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"VaultIsDisabled",msg:"Vault is disabled"},{code:6001,name:"ExceededSlippage",msg:"Exceeded slippage tolerance"},{code:6002,name:"StrategyIsNotExisted",msg:"Strategy is not existed"},{code:6003,name:"UnAuthorized",msg:"UnAuthorized"},{code:6004,name:"MathOverflow",msg:"Math operation overflow"},{code:6005,name:"ProtocolIsNotSupported",msg:"Protocol is not supported"},{code:6006,name:"UnMatchReserve",msg:"Reserve does not support token mint"},{code:6007,name:"InvalidLockedProfitDegradation",msg:"lockedProfitDegradation is invalid"},{code:6008,name:"MaxStrategyReached",msg:"Maximum number of strategies have been reached"},{code:6009,name:"StrategyExisted",msg:"Strategy existed"},{code:6010,name:"InvalidUnmintAmount",msg:"Invalid unmint amount"},{code:6011,name:"InvalidAccountsForStrategy",msg:"Invalid accounts for strategy"},{code:6012,name:"InvalidBump",msg:"Invalid bump"},{code:6013,name:"AmountMustGreaterThanZero",msg:"Amount must be greater than 0"}]},Ri,Rs),du=e=>cu.coder.accounts.decode("pool",e.data),fu=e=>lu.coder.accounts.decode("vault",e.data);class pu{constructor(e,t,n){this.address=void 0,this.id=void 0,this.label="Meteora",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.poolState=void 0,this.data=void 0,this.depegAccount=void 0,this.depegAccounts=new Map,this.vaultLpMint=void 0,this.vaultToken=void 0,this.feePct=void 0,this.address=e,this.id=e.toBase58(),this.poolState=du(t),this.vaultLpMint={a:new i.PublicKey(n.vaultLpMint.a),b:new i.PublicKey(n.vaultLpMint.b)},this.vaultToken={a:new i.PublicKey(n.vaultToken.a),b:new i.PublicKey(n.vaultToken.b)},n.depegAccount&&(this.depegAccount={...n.depegAccount,pubkey:new i.PublicKey(n.depegAccount.pubkey),data:Buffer.from(n.depegAccount.data[0],n.depegAccount.data[1]),owner:new i.PublicKey(n.depegAccount.owner)},this.depegAccounts=new Map([[this.depegAccount.pubkey.toBase58(),this.depegAccount]]));const{ownerTradeFeeDenominator:r,ownerTradeFeeNumerator:o,tradeFeeDenominator:s,tradeFeeNumerator:a}=this.poolState.fees;this.feePct=new(Te())(o.toString()).div(r.toString()).add(new(Te())(a.toString()).div(s.toString())).toNumber()}getAccountsForUpdate(){var e;const t=[this.poolState.aVault,this.poolState.bVault,this.poolState.aVaultLp,this.poolState.bVaultLp,this.poolState.lpMint,this.vaultLpMint.a,this.vaultLpMint.b,this.vaultToken.a,this.vaultToken.b,i.SYSVAR_CLOCK_PUBKEY];return null!==(e=this.depegAccount)&&void 0!==e&&e.pubkey&&t.push(this.depegAccount.pubkey),t}update(e){const[t,n,r,i,o,s,a,u,c,l,d]=Do(e,this.getAccountsForUpdate());d&&this.depegAccount&&(this.depegAccount.data=d.data),this.data={vaultA:fu(t),vaultB:fu(n),poolAVaultLpAmount:Wa(r),poolBVaultLpAmount:Wa(i),poolLpTotalSupply:za(o),vaultALpTotalSupply:za(s),vaultBLpTotalSupply:za(a),vaultAReserve:Wa(u),vaultBReserve:Wa(c),currentTime:new h.BN(l.data.readBigInt64LE(32).toString()).toNumber()}}getQuote({sourceMint:e,destinationMint:t,amount:n}){if(void 0===this.data)throw new Error("Unable to fetch accounts.");const r=((e,t,n)=>{const{vaultA:r,vaultB:i,vaultALpSupply:o,vaultBLpSupply:s,poolState:a,poolVaultALp:u,poolVaultBLp:c,currentTime:l,depegAccounts:d,vaultAReserve:f,vaultBReserve:p}=n,{tokenAMint:h,tokenBMint:m}=a;let g;if(Mi()(e.equals(h)||e.equals(m),Ci),"stable"in a.curveType){const{amp:e,depeg:t,tokenMultiplier:n}=a.curveType.stable;g=new Yi(e.toNumber(),n,t,d,l)}else g=new ro;const y=Ai(l,r),b=Ai(l,i),w=vi(u,y,o),v=vi(c,b,s),S=e.equals(h),[A,k,_,M,I,E,P,T]=S?[t,w,v,r,i,o,s,$i.AToB]:[t,v,w,i,r,s,o,$i.BToA],O=((e,t)=>{const{ownerTradeFeeDenominator:n,ownerTradeFeeNumerator:r}=t.fees;return e.mul(r).div(n)})(A,a),x=((e,t)=>{const{tradeFeeDenominator:n,tradeFeeNumerator:r}=t.fees;return e.mul(r).div(n)})(A,a),B=Ai(l,M);let L=vi(Si(A.sub(O),B,E),B,E).sub(x);const{outAmount:C,priceImpact:R}=g.computeOutAmount(L,k,_,T),N=Ai(l,I);let D=vi(Si(C,N,P),N,P);const F=((e,t,n,r,i,o,s)=>{Mi()(e.equals(t)||e.equals(n),Ci);const[a,u]=e.equals(t)?[r,o]:[i,s];return a.gt(u)?u:a})(T==$i.AToB?m:h,h,m,w,v,f,p);return Mi()(D.lt(F),"Out amount > vault reserve"),{amountOut:D,fee:O.add(x),priceImpact:R}})(e,new h.BN(n.toString()),{currentTime:this.data.currentTime,depegAccounts:this.depegAccounts,poolState:this.poolState,poolVaultALp:this.data.poolAVaultLpAmount,poolVaultBLp:this.data.poolBVaultLpAmount,vaultA:this.data.vaultA,vaultALpSupply:this.data.vaultALpTotalSupply,vaultB:this.data.vaultB,vaultBLpSupply:this.data.vaultBLpTotalSupply,vaultAReserve:this.data.vaultAReserve,vaultBReserve:this.data.vaultBReserve});return{notEnoughLiquidity:!1,inAmount:n,outAmount:S().BigInt(r.amountOut.toString()),feeAmount:S().BigInt(r.fee.toString()),feeMint:t.toBase58(),feePct:this.feePct,priceImpactPct:0}}getSwapLegAndAccounts(e){var t,n;if(void 0===this.data)throw new Error("Unable to fetch accounts.");const r=e.sourceMint.equals(this.poolState.tokenAMint)?this.poolState.adminTokenAFee:this.poolState.adminTokenBFee;return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){const i=[];return i.push(e.referrer?{pubkey:e.referrer,isSigner:!1,isWritable:!0}:fa),i.push(e.depeg?{pubkey:e.depeg,isSigner:!1,isWritable:!1}:fa),[ia({meteora:{}}),da.instruction.meteoraSwap({accounts:{swapProgram:ys,pool:e.pool,userSourceToken:t,userDestinationToken:n,aVault:e.aVault,bVault:e.bVault,aTokenVault:e.aTokenVault,bTokenVault:e.bTokenVault,aVaultLpMint:e.aVaultLpMint,bVaultLpMint:e.bVaultLpMint,aVaultLp:e.aVaultLp,bVaultLp:e.bVaultLp,adminTokenFee:e.adminTokenFee,user:r,vaultProgram:bs,tokenProgram:g.TOKEN_PROGRAM_ID},remainingAccounts:i}).keys]}({additionalArgs:{pool:this.address,aVault:this.poolState.aVault,bVault:this.poolState.bVault,aTokenVault:this.vaultToken.a,bTokenVault:this.vaultToken.b,aVaultLpMint:this.vaultLpMint.a,bVaultLpMint:this.vaultLpMint.b,aVaultLp:this.poolState.aVaultLp,bVaultLp:this.poolState.bVaultLp,adminTokenFee:r,referrer:null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(e.sourceMint.toBase58()),depeg:null===(n=this.depegAccount)||void 0===n?void 0:n.pubkey},...e})}get reserveTokenMints(){return[this.poolState.tokenAMint,this.poolState.tokenBMint]}}pu.accountInfoToMeteoraSwapLayout=du,pu.accountInfoToVaultLayout=fu;const hu=(0,s.n_)([(0,s._O)("status"),(0,s._O)("nonce"),(0,s._O)("orderNum"),(0,s._O)("depth"),(0,s._O)("coinDecimals"),(0,s._O)("pcDecimals"),(0,s._O)("state"),(0,s._O)("resetFlag"),(0,s._O)("minSize"),(0,s._O)("volMaxCutRatio"),(0,s._O)("amountWaveRatio"),(0,s._O)("coinLotSize"),(0,s._O)("pcLotSize"),(0,s._O)("minPriceMultiplier"),(0,s._O)("maxPriceMultiplier"),(0,s._O)("systemDecimalsValue"),(0,s._O)("minSeparateNumerator"),(0,s._O)("minSeparateDenominator"),(0,s._O)("tradeFeeNumerator"),(0,s._O)("tradeFeeDenominator"),(0,s._O)("pnlNumerator"),(0,s._O)("pnlDenominator"),(0,s._O)("swapFeeNumerator"),(0,s._O)("swapFeeDenominator"),(0,s._O)("needTakePnlCoin"),(0,s._O)("needTakePnlPc"),(0,s._O)("totalPnlPc"),(0,s._O)("totalPnlCoin"),Us("poolTotalDepositPc"),Us("poolTotalDepositCoin"),Us("swapCoinInAmount"),Us("swapPcOutAmount"),(0,s._O)("swapCoin2PcFee"),Us("swapPcInAmount"),Us("swapCoinOutAmount"),(0,s._O)("swapPc2CoinFee"),Ds("poolCoinTokenAccount"),Ds("poolPcTokenAccount"),Ds("coinMintAddress"),Ds("pcMintAddress"),Ds("lpMintAddress"),Ds("ammOpenOrders"),Ds("serumMarket"),Ds("serumProgramId"),Ds("ammTargetOrders"),Ds("poolWithdrawQueue"),Ds("poolTempLpTokenAccount"),Ds("ammOwner"),Ds("pnlOwner")]);class mu{constructor(e,t,n){this.ammId=void 0,this.id=void 0,this.label="Raydium",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.coinMint=void 0,this.pcMint=void 0,this.status=void 0,this.serumProgramId=void 0,this.serumMarket=void 0,this.ammOpenOrders=void 0,this.ammTargetOrders=void 0,this.poolCoinTokenAccount=void 0,this.poolPcTokenAccount=void 0,this.serumMarketKeys=void 0,this.coinReserve=void 0,this.pcReserve=void 0,this.feePct=void 0,this.calculator=void 0,this.ammId=e,this.id=e.toBase58();const r=hu.decode(t.data);this.status=r.status,this.coinMint=new i.PublicKey(r.coinMintAddress),this.pcMint=new i.PublicKey(r.pcMintAddress),this.poolCoinTokenAccount=new i.PublicKey(r.poolCoinTokenAccount),this.poolPcTokenAccount=new i.PublicKey(r.poolPcTokenAccount),this.serumProgramId=new i.PublicKey(r.serumProgramId),this.serumMarket=new i.PublicKey(r.serumMarket),this.ammOpenOrders=new i.PublicKey(r.ammOpenOrders),this.ammTargetOrders=new i.PublicKey(r.ammTargetOrders),this.serumMarketKeys=Object.keys(n).reduce(((e,t)=>{if(!n[t])throw new Error(`Could not find ${t} in params`);return e[t]=new i.PublicKey(n[t]),e}),{});const o=r.swapFeeNumerator,s=r.swapFeeDenominator;this.feePct=new(Te())(o.toString()).div(s.toString()),this.calculator=new ze(new je(S().BigInt(o),S().BigInt(s)),qe)}static decodeSerumMarketKeysString(e,t,n,r){if(!t.equals(Ts))return{serumBids:e.toBase58(),serumAsks:e.toBase58(),serumEventQueue:e.toBase58(),serumCoinVaultAccount:e.toBase58(),serumPcVaultAccount:e.toBase58(),serumVaultSigner:e.toBase58()};const i=o.Market.getLayout(t).decode(r.data),s=Ws([n.toBuffer(),i.vaultSignerNonce.toArrayLike(Buffer,"le",8)],t);return{serumBids:i.bids.toBase58(),serumAsks:i.asks.toBase58(),serumEventQueue:i.eventQueue.toBase58(),serumCoinVaultAccount:i.baseVault.toBase58(),serumPcVaultAccount:i.quoteVault.toBase58(),serumVaultSigner:s.toBase58()}}getAccountsForUpdate(){return[this.ammId,this.poolCoinTokenAccount,this.poolPcTokenAccount,this.ammOpenOrders]}update(e){const[t,n,r,i]=Do(e,this.getAccountsForUpdate()),[s,a]=[Wa(n),Wa(r)],u=o.OpenOrders.fromAccountInfo(this.ammOpenOrders,i,i.owner),c=hu.decode(t.data);this.coinReserve=s.add(u.baseTokenTotal).sub(new g.u64(String(c.needTakePnlCoin))),this.pcReserve=a.add(u.quoteTokenTotal).sub(new g.u64(String(c.needTakePnlPc)))}getQuote({sourceMint:e,amount:t}){const{coinReserve:n,pcReserve:r}=this;if(!n||!r)throw new Error("Pool token accounts balances not refreshed or empty");const i=this.coinMint.equals(e)?1:0,o=this.calculator.exchange([S().BigInt(n),S().BigInt(r)],t,i);return{notEnoughLiquidity:!1,inAmount:t,outAmount:o.expectedOutputAmount,feeAmount:o.fees,feeMint:e.toBase58(),feePct:this.feePct.toNumber(),priceImpactPct:o.priceImpact.toNumber()}}getSwapLegAndAccounts(e){return function({raydiumAmm:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){return[ia({raydium:{}}),da.instruction.raydiumSwap({accounts:ga(e,t,n,r)}).keys]}({raydiumAmm:this,...e})}get reserveTokenMints(){return[this.coinMint,this.pcMint]}get isTradable(){return 1===this.status||6===this.status}}const gu=new Ye.Program({version:"0.0.1",name:"add_decimals",instructions:[],accounts:[{name:"wrappedToken",type:{kind:"struct",fields:[{name:"decimals",type:"u8"},{name:"multiplier",type:"u64"},{name:"wrappedUnderlyingMint",type:"publicKey"},{name:"wrappedUnderlyingTokens",type:"publicKey"},{name:"wrapperMint",type:"publicKey"},{name:"nonce",type:"u8"}]}}],errors:[]},Zo,Rs);class yu{constructor(e,t){this.address=void 0,this.accountInfo=void 0,this.id=void 0,this.label="Saber (Decimals)",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.wrappedToken=void 0,this.multiplierJsbi=void 0,this.address=e,this.accountInfo=t,this.id=e.toBase58(),this.wrappedToken=gu.coder.accounts.decode("wrappedToken",t.data),this.multiplierJsbi=S().BigInt(this.wrappedToken.multiplier)}getAccountsForUpdate(){return new Array}update(e){}toWrappedAmount(e){return S().multiply(this.multiplierJsbi,e)}toUnderlyingAmount(e){return S().divide(e,this.multiplierJsbi)}getAmounts(e,t){if(t)return[e,this.toWrappedAmount(e)];{const t=this.toUnderlyingAmount(e);return[this.toWrappedAmount(t),t]}}getQuote({sourceMint:e,amount:t}){const n=this.wrappedToken.wrappedUnderlyingMint.equals(e),[r,i]=this.getAmounts(t,n);return{notEnoughLiquidity:!1,inAmount:r,outAmount:i,feeAmount:Be,feeMint:e.toBase58(),feePct:0,priceImpactPct:0}}getSwapLegAndAccounts(e){return function({wrapper:e,wrappedToken:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:i,deposit:o}){return[ia(o?{saberAddDecimalsDeposit:{}}:{saberAddDecimalsWithdraw:{}}),da.instruction.saberAddDecimals({accounts:{addDecimalsProgram:Zo,wrapper:e,wrapperMint:t.wrapperMint,wrapperUnderlyingTokens:t.wrappedUnderlyingTokens,owner:i,userUnderlyingTokens:o?n:r,userWrappedTokens:o?r:n,tokenProgram:g.TOKEN_PROGRAM_ID}}).keys]}({wrapper:this.address,wrappedToken:this.wrappedToken,...e,deposit:this.wrappedToken.wrappedUnderlyingMint.equals(e.sourceMint)})}get reserveTokenMints(){return[this.wrappedToken.wrappedUnderlyingMint,this.wrappedToken.wrapperMint]}get wrapperMint(){return this.wrappedToken.wrapperMint}}class bu{constructor(e){this.stableSwap=void 0,this.id=void 0,this.label="Saber",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.tokenReserveAmounts=void 0,this.calculator=void 0,this.stableSwap=e,this.id=e.config.swapAccount.toBase58(),this.calculator=new Ke(Ce,Ee(this.stableSwap.state),[Le,Le],new je(this.stableSwap.state.fees.trade.numerator,this.stableSwap.state.fees.trade.denominator))}getAccountsForUpdate(){return[this.stableSwap.state.tokenA.reserve,this.stableSwap.state.tokenB.reserve]}update(e){const t=Do(e,this.getAccountsForUpdate());this.tokenReserveAmounts=Fo(t)}getQuote({sourceMint:e,destinationMint:t,amount:n}){if(!this.tokenReserveAmounts)throw new Error("Missing tokenReserveAmounts");const r=new(Te())(this.stableSwap.state.fees.trade.asFraction.toFixed(4)),[i,o]=this.stableSwap.state.tokenA.mint.equals(e)?[0,1]:[1,0];this.calculator.setAmp(Ee(this.stableSwap.state));const s=this.calculator.exchange(this.tokenReserveAmounts,n,i,o);return{notEnoughLiquidity:!1,inAmount:n,outAmount:s.expectedOutputAmount,feeAmount:s.fees,feeMint:t.toBase58(),feePct:r.toNumber(),priceImpactPct:s.priceImpact.toNumber()}}getSwapLegAndAccounts(e){return function({stableSwap:e,sourceMint:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:i}){return[ia({saber:{}}),da.instruction.saberSwap({accounts:ba(e,t,n,r,i)}).keys]}({stableSwap:this.stableSwap,...e})}get reserveTokenMints(){return[this.stableSwap.state.tokenA.mint,this.stableSwap.state.tokenB.mint]}}const wu=(0,s.n_)([(0,s.Ik)(8,"discriminator"),Ds("factory"),(0,s.u8)("bump"),Ks("index"),Ds("admin"),Ds("token0Reserves"),Ds("token0Mint"),Ds("token0Fees"),Ds("token1Reserves"),Ds("token1Mint"),Ds("token1Fees"),(0,s.u8)("isPaused"),Ds("poolMint"),Ks("tradeFeeKbps"),Ks("withdrawFeeKbps"),Ks("adminTradeFeeKbps"),Ks("adminWithdrawFeeKbps")]);class vu{constructor(e,t){this.id=void 0,this.label="Sencha",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.poolState=void 0,this.calculator=void 0,this.tokenReserveAmounts=void 0,this.id=e.toBase58(),this.poolState=((e,t)=>{const n=t.owner,r=wu.decode(t.data);return{programId:n,isPaused:Boolean(r.isPaused),bump:r.bump,ammId:e,token0Reserves:r.token0Reserves,token1Reserves:r.token1Reserves,token0Mint:r.token0Mint,token1Mint:r.token1Mint,token0Fees:r.token0Fees,token1Fees:r.token1Fees,poolMint:r.poolMint,tradeFeeKbps:r.tradeFeeKbps.toNumber()}})(e,t),this.calculator=new ze(new je(S().BigInt(this.poolState.tradeFeeKbps),S().BigInt(1e7)),new je(Be,Be),!1)}get isPaused(){return this.poolState.isPaused}getAccountsForUpdate(){return[this.poolState.token0Reserves,this.poolState.token1Reserves]}update(e){const t=Do(e,this.getAccountsForUpdate());this.tokenReserveAmounts=Fo(t)}getQuote({sourceMint:e,amount:t}){if(!this.tokenReserveAmounts)throw new Error("Missing tokenReserveAmounts");const n=this.poolState.token0Mint.equals(e)?1:0;let r=this.calculator.exchange(this.tokenReserveAmounts,t,n),i=this.poolState.tradeFeeKbps/1e7;return{notEnoughLiquidity:!1,inAmount:t,outAmount:r.expectedOutputAmount,feeAmount:r.fees,feeMint:e.toBase58(),feePct:i,priceImpactPct:r.priceImpact.toNumber()}}getSwapLegAndAccounts(e){return function({poolState:e,sourceMint:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:i}){const[o,s]=t.equals(e.token0Mint)?[e.token0Reserves,e.token1Reserves]:[e.token1Reserves,e.token0Reserves],[a,u]=t.equals(e.token0Mint)?[e.token0Fees,e.token1Fees]:[e.token1Fees,e.token0Fees];return[ia({sencha:{}}),da.instruction.senchaSwap({accounts:{swapProgram:e.programId,tokenProgram:g.TOKEN_PROGRAM_ID,swap:e.ammId,userAuthority:i,inputUserAccount:n,inputTokenAccount:o,inputFeesAccount:a,outputUserAccount:r,outputTokenAccount:s,outputFeesAccount:u}}).keys]}({poolState:this.poolState,...e})}get reserveTokenMints(){return[this.poolState.token0Mint,this.poolState.token1Mint]}}const Su=["77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS","5cLrMai1DsLRYc1Nio9qMTicsWtvzjzZfJPXyAoF4t1Z","EERNEEnBqdGzBS8dd46wwNY5F2kwnaCQ3vsq2fNKGogZ","8sFf9TW3KzxLiBXcDcjAxqabEsRroo4EiRr3UG1xbJ9m","2iDSTGhjJEiRxNaLF27CY6daMYPs5hgYrP2REHd5YD62"],Au=["B2na8Awyd7cpC59iEU43FagJAPLigr3AP3s38KM982bu"];function*ku(e){const t=e.isBids;for(const{key:n,quantity:r}of e.slab.items(t)){const e=S().BigInt(n.ushrn(64).toString());yield[e,S().BigInt(r.toString())]}}function _u(e,t){const n=e._decoded.baseLotSize;return n.isZero()?new(Te())(0):function(e,t){const n=new(Te())(e.div(t).toString()),r=e.umod(t),i=r.gcd(t);return n.add(new(Te())(r.div(i).toString()).div(new(Te())(t.div(i).toString())))}(t.mul(e._decoded.quoteLotSize).mul(e._baseSplTokenMultiplier),n.mul(e._quoteSplTokenMultiplier))}class Mu{constructor(e){this.market=void 0,this.id=void 0,this.label=void 0,this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this._orderbooks=void 0,this.isOpenbook=void 0,this.market=e,this.id=e.address.toBase58(),this.isOpenbook=e.programId.equals(Ts),this.label=this.isOpenbook?"Openbook":"Serum"}get orderbooks(){return this._orderbooks}getAccountsForUpdate(){return[this.market.asksAddress,this.market.bidsAddress]}update(e){const[t,n]=Do(e,this.getAccountsForUpdate()),r=o.Orderbook.decode(this.market,t.data),i=o.Orderbook.decode(this.market,n.data);this._orderbooks={asks:r,bids:i}}getQuote({sourceMint:e,destinationMint:t,amount:n}){if(!this.orderbooks)throw new Error("Failed to find orderbooks");const r=function({market:e,asks:t,bids:n,fromAmount:r,fromMint:i,toMint:o,isOpenbook:s}){const a=s?Au.includes(e.address.toBase58())?1e-4:4e-4:Su.includes(e.address.toBase58())?1e-4:4e-4;return i.equals(e.quoteMintAddress)&&o.equals(e.baseMintAddress)?function(e,t,n,r){let i=Be,o=Be,s=Be,a=Be,u=Be;const c=e.quoteSizeLotsToNumber(new(m())(1));let l=c?S().BigInt(new(Te())(n.toString()).div(1+r).div(c).floor()):Be;const d=S().BigInt(e.baseSizeLotsToNumber(new(m())(1)).toString());for(let[e,n]of ku(t)){S().equal(o,Be)&&(o=e),s=e;const t=S().multiply(n,d),r=S().multiply(n,e);if(u=S().add(u,t),S().greaterThanOrEqual(r,l)){const t=S().divide(l,e);a=S().add(a,S().multiply(e,t)),i=S().add(i,S().multiply(d,t)),l=Be;break}a=S().add(a,S().multiply(e,n)),i=S().add(i,t),l=S().subtract(l,r)}const f=new(Te())(o.toString()),p=new(Te())(s.toString()).sub(f).div(f).toNumber(),h=_u(e,new(m())(o.toString())),g=_u(e,new(m())(a.toString())),y=g.mul(d.toString()).ceil(),b=g.mul(d.toString()).mul(r).ceil();return{side:"buy",notEnoughLiquidity:S().lessThanOrEqual(u,i),minimum:{in:S().BigInt(h.mul(d.toString()).mul(1+r).ceil()),out:d},inAmount:S().BigInt(y.add(b)),outAmount:i,feeAmount:S().BigInt(b),priceImpactPct:p,feePct:r}}(e,t,r,a):function(e,t,n,r){let i=S().BigInt(0),o=S().BigInt(0),s=S().BigInt(0),a=S().BigInt(0),u=n,c=S().BigInt(0);const l=S().BigInt(e.baseSizeLotsToNumber(new(m())(1))),d=S().BigInt(e.quoteSizeLotsToNumber(new(m())(1)));for(const[e,n]of ku(t)){S().equal(o,Be)&&(o=e),s=e;const t=S().multiply(l,n),r=S().multiply(n,S().multiply(e,d));if(a=S().add(a,t),S().greaterThanOrEqual(t,u)){const t=S().divide(u,l),n=S().multiply(t,e);i=S().add(i,S().multiply(n,d)),u=S().subtract(u,n),c=S().add(c,S().multiply(t,l));break}i=S().add(i,r),u=S().subtract(u,t),c=S().add(c,t)}let f=new(Te())(i.toString()).mul(1-r).floor();const p=_u(e,new(m())(o.toString())),h=_u(e,new(m())(s.toString())),g=p.minus(h).div(p).toNumber();return{side:"sell",notEnoughLiquidity:S().greaterThan(S().BigInt(n),a),minimum:{in:l,out:S().BigInt(p.mul(S().toNumber(l)).mul(1-r).floor().toString())},inAmount:c,outAmount:S().BigInt(f),feeAmount:S().BigInt(new(Te())(i.toString()).mul(r).round()),priceImpactPct:g,feePct:r}}(e,n,r,a)}({market:this.market,asks:this.orderbooks.asks,bids:this.orderbooks.bids,fromMint:e,toMint:t,fromAmount:n,isOpenbook:this.isOpenbook});return{notEnoughLiquidity:r.notEnoughLiquidity,minInAmount:r.minimum.in,minOutAmount:r.minimum.out,inAmount:r.inAmount,outAmount:r.outAmount,feeAmount:r.feeAmount,feeMint:this.market.quoteMintAddress.toBase58(),feePct:r.feePct,priceImpactPct:r.priceImpactPct}}getSwapLegAndAccounts(e){var t;if(!e.openOrdersAddress)throw new Error("Missing open orders");return function({market:e,sourceMint:t,openOrdersAddress:n,userSourceTokenAccount:r,userDestinationTokenAccount:i,userTransferAuthority:o,referrer:s,isOpenbook:a}){const{side:u,coinWallet:c,pcWallet:l}=t.equals(e.baseMintAddress)?{side:Hs.Ask,coinWallet:r,pcWallet:i}:{side:Hs.Bid,coinWallet:i,pcWallet:r};return[ia(a?ea(u):Qs(u)),da.instruction.serumSwap({accounts:ya(e,n,r,c,l,o),remainingAccounts:s?[{pubkey:s,isSigner:!1,isWritable:!0}]:[fa]}).keys]}({market:this.market,openOrdersAddress:e.openOrdersAddress,referrer:null==e||null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(this.market.quoteMintAddress.toBase58()),isOpenbook:this.isOpenbook,...e})}get reserveTokenMints(){return[this.market.baseMintAddress,this.market.quoteMintAddress]}}Mu.getL2=ku;const Iu=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("bumpSeed"),Ds("tokenProgramId"),Ds("tokenAccountA"),Ds("tokenAccountB"),Ds("tokenPool"),Ds("mintA"),Ds("mintB"),Ds("feeAccount"),Ks("tradeFeeNumerator"),Ks("tradeFeeDenominator"),Ks("ownerTradeFeeNumerator"),Ks("ownerTradeFeeDenominator"),Ks("ownerWithdrawFeeNumerator"),Ks("ownerWithdrawFeeDenominator"),Ks("hostFeeNumerator"),Ks("hostFeeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters")]),Eu=(0,s.n_)([(0,s.u8)("version"),(0,s.u8)("isInitialized"),(0,s.u8)("bumpSeed"),Ds("tokenProgramId"),Ds("tokenAccountA"),Ds("tokenAccountB"),Ds("tokenPool"),Ds("mintA"),Ds("mintB"),Ds("feeAccount"),Ks("tradeFeeNumerator"),Ks("tradeFeeDenominator"),Ks("ownerTradeFeeNumerator"),Ks("ownerTradeFeeDenominator"),Ks("ownerWithdrawFeeNumerator"),Ks("ownerWithdrawFeeDenominator"),(0,s.u8)("curveType"),(0,s.Ik)(32,"curveParameters"),(0,s.u8)("poolNonce")]);var Pu;!function(e){e[e.ConstantProduct=0]="ConstantProduct",e[e.Stable=2]="Stable"}(Pu||(Pu={}));class Tu{constructor(e,t,n){if(this.label=void 0,this.id=void 0,this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.tokenSwapState=void 0,this.curveType=void 0,this.feePct=void 0,this.tokenReserveAmounts=void 0,this.calculator=void 0,this.label=n,this.id=e.toBase58(),this.tokenSwapState=function(e,t){const n=t.owner,r=n.equals(hs)?Eu.decode(t.data):Iu.decode(t.data);if(!r.isInitialized)throw new Error("Invalid token swap state");const o=Ws([e.toBuffer(),Buffer.from([r.bumpSeed])],n),s=new i.PublicKey(r.tokenPool),a=new i.PublicKey(r.feeAccount),u=new i.PublicKey(r.tokenAccountA),c=new i.PublicKey(r.tokenAccountB),l=new i.PublicKey(r.mintA),d=new i.PublicKey(r.mintB);return{address:e,programId:n,tokenProgramId:new i.PublicKey(r.tokenProgramId),poolToken:s,feeAccount:a,authority:o,tokenAccountA:u,tokenAccountB:c,mintA:l,mintB:d,tradeFeeNumerator:r.tradeFeeNumerator,tradeFeeDenominator:r.tradeFeeDenominator,ownerTradeFeeNumerator:r.ownerTradeFeeNumerator,ownerTradeFeeDenominator:r.ownerTradeFeeDenominator,ownerWithdrawFeeNumerator:r.ownerWithdrawFeeNumerator,ownerWithdrawFeeDenominator:r.ownerWithdrawFeeDenominator,curveType:r.curveType,curveParameters:r.curveParameters,poolNonce:"poolNonce"in r?r.poolNonce:void 0}}(e,t),this.curveType=this.tokenSwapState.curveType,!(this.curveType in Pu))throw new Error(`curveType ${this.tokenSwapState.curveType} is not supported`);const r=Tu.getFeeFraction(this.tokenSwapState.tradeFeeNumerator,this.tokenSwapState.tradeFeeDenominator),o=Tu.getFeeFraction(this.tokenSwapState.ownerTradeFeeNumerator,this.tokenSwapState.ownerTradeFeeDenominator);this.calculator=this.tokenSwapState.curveType===Pu.ConstantProduct?new ze(r,o):new We(S().BigInt(this.tokenSwapState.curveParameters[0]),r,o),this.feePct=Tu.getFeeDecimal(this.tokenSwapState.tradeFeeNumerator,this.tokenSwapState.tradeFeeDenominator).add(Tu.getFeeDecimal(this.tokenSwapState.ownerTradeFeeNumerator,this.tokenSwapState.ownerTradeFeeDenominator)).toNumber()}static getFeeFraction(e,t){return new je(S().BigInt(e.toString()),S().BigInt(t.toString()))}static getFeeDecimal(e,t){return e.eq(new g.u64(0))?new(Te())(0):new(Te())(e.toString()).div(t.toString())}getAccountsForUpdate(){return[this.tokenSwapState.tokenAccountA,this.tokenSwapState.tokenAccountB]}update(e){const t=Do(e,this.getAccountsForUpdate());this.tokenReserveAmounts=Fo(t)}getQuote({sourceMint:e,amount:t}){if(!this.tokenReserveAmounts)throw new Error("Missing tokenReserveAmounts");const n=this.reserveTokenMints[0].equals(e)?1:0,r=this.calculator.exchange(this.tokenReserveAmounts,t,n);return{notEnoughLiquidity:!1,inAmount:t,outAmount:r.expectedOutputAmount,feeAmount:r.fees,feeMint:e.toBase58(),feePct:this.feePct,priceImpactPct:r.priceImpact.toNumber()}}getSwapLegAndAccounts(e){return function({tokenSwapState:e,sourceMint:t,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:i,isStep:o}){const[s,a]=t.equals(e.mintA)?[e.tokenAccountA,e.tokenAccountB]:[e.tokenAccountB,e.tokenAccountA];return[ia(o?{step:{}}:{tokenSwap:{}}),(o?da.instruction.stepSwap:da.instruction.tokenSwap)({accounts:{tokenSwapProgram:e.programId,tokenProgram:g.TOKEN_PROGRAM_ID,swap:e.address,authority:e.authority,userTransferAuthority:i,source:n,swapSource:s,swapDestination:a,destination:r,poolMint:e.poolToken,poolFee:e.feeAccount}}).keys]}({tokenSwapState:this.tokenSwapState,...e,isStep:this.tokenSwapState.programId.equals(hs)})}get reserveTokenMints(){return[this.tokenSwapState.mintA,this.tokenSwapState.mintB]}}function Ou(e){return e.reduce(((t,n)=>(e.forEach((e=>{n!==e&&t.push([n,e])})),t)),new Array)}const xu=S().BigInt(100);class Bu{constructor(e,t,n){this.firstAmm=void 0,this.secondAmm=void 0,this.reserveTokenMints=void 0,this.market=void 0,this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.portion1=0,this.portion2=0,this.firstAmm=e,this.secondAmm=t,this.reserveTokenMints=n,this.market=e instanceof Mu?e.market:t instanceof Mu?t.market:null}static getAmmIdsFromSplitTradeAmmId(e){const t=e.split("-");return t.length>1?t:[]}static create(e,t){if(!function(e,t){return!Lo(To,e.label,t.label)}(e,t))return;const n=Ou(e.reserveTokenMints),r=Ou(t.reserveTokenMints);for(const i of n)for(const n of r)if(i.every(((e,t)=>e.equals(n[t]))))return new Bu(e,t,i)}setPortions(e,t){if(e+t!==100)throw new Error("Split trade portions must sum to 100");this.portion1=e,this.portion2=t}get id(){return`${this.firstAmm.id}-${this.secondAmm.id}`}get label(){return[{label:this.firstAmm.label,portion:this.portion1},{label:this.secondAmm.label,portion:this.portion2}].sort(((e,t)=>t.portion-e.portion)).map((({label:e,portion:t})=>`${e} (${t}%)`)).join(" + ")}getAccountsForUpdate(){return[]}update(e){}getQuote(e){const t=e.sourceMint.toBase58(),n=e.amount;let r={outAmount:Be,portion:0,firstQuote:void 0,secondQuote:void 0};for(let t=100;t-=5;t>0){const i=S().divide(S().multiply(n,S().BigInt(t)),xu),o=S().subtract(n,i),s=this.firstAmm.getQuote({...e,amount:i}),a=this.secondAmm.getQuote({...e,amount:o}),u=S().add(s.outAmount,a.outAmount);if(S().lessThan(u,r.outAmount))break;r={outAmount:u,portion:t,firstQuote:s,secondQuote:a}}if(!r.firstQuote||!r.secondQuote)throw new Error("Unreachable: There was no better solution than getting 0 outAmount");const{outAmount:i,portion:o,firstQuote:s,secondQuote:a}=r,u=o,c=100-u;this.portion1=u,this.portion2=c;let l={amount:s.feeAmount,mint:s.feeMint},d={amount:a.feeAmount,mint:a.feeMint};l.mint!==d.mint&&(l.mint!==t&&(l={amount:S().divide(S().divide(S().multiply(l.amount,S().multiply(n,S().BigInt(u))),xu),r.outAmount),mint:t}),d.mint!==t&&(d={amount:S().divide(S().divide(S().multiply(S().multiply(d.amount,n),S().BigInt(c)),xu),r.outAmount),mint:t}));const f=(u*s.feePct+c*a.feePct)/100,p=(u*s.priceImpactPct+c*a.priceImpactPct)/100;return{notEnoughLiquidity:!1,inAmount:e.amount,outAmount:i,feeAmount:S().add(l.amount,d.amount),feeMint:l.mint,feePct:f,priceImpactPct:p}}getSwapLegAndAccounts(e){let[t,n]=this.firstAmm.getSwapLegAndAccounts(e),[r,i]=this.secondAmm.getSwapLegAndAccounts(e),o=[oa(this.portion1,t),oa(this.portion2,r)],s=[...n,...i];return[ra(o),s]}}function Lu(e,t){const n=(0,oo.fB)(t);if(!n)throw new Error(`Failed to parse whirlpool ${e.toBase58()}`);return n}class Cu{constructor(e,t){this.address=void 0,this.id=void 0,this.label="Orca (Whirlpools)",this.shouldPrefetch=!0,this.exactOutputSupported=!0,this.hasDynamicAccounts=!0,this.whirlpoolData=void 0,this.tickArrays=new Map,this.tickPks=void 0,this.oracle=void 0,this.feePct=void 0,this.address=e,this.id=e.toBase58(),this.whirlpoolData=Lu(e,t.data),this.oracle=(0,Ze.findProgramAddressSync)([Buffer.from("oracle"),e.toBuffer()],os)[0],this.feePct=new(Te())(this.whirlpoolData.feeRate).div(1e6),this.tickPks=(0,oo.rz)(e,this.whirlpoolData)}getAccountsForUpdate(){return[this.address,...this.tickPks]}update(e){const t=e.get(this.address.toBase58());if(!t)throw new Error(`Missing ${this.address.toBase58()}`);this.whirlpoolData=Lu(this.address,t.data),this.tickPks=(0,oo.rz)(this.address,this.whirlpoolData),this.tickArrays.clear();for(const t of this.tickPks){const n=t.toBase58(),r=e.get(n);if(!r)continue;const i=(0,oo.pb)(r.data);if(!i)throw new Error(`Could not parse tick array ${n}`);this.tickArrays.set(n,i)}}getQuote({sourceMint:e,destinationMint:t,amount:n,swapMode:r}){const i=(0,oo.m9)({poolAddress:this.address,whirlpool:this.whirlpoolData,tickArrays:this.tickArrays,tokenMint:r===No.ExactIn?e:t,tokenAmount:new(m())(n.toString()),isInput:r===No.ExactIn}),o=S().BigInt(i.amountIn.toString()),s=S().BigInt(i.amountOut.toString()),a=S().BigInt(this.feePct.mul(o.toString()).floor().toString()),u=i.aToB?new(Te())(i.amountOut.toString()).div(i.amountIn.toString()):new(Te())(i.amountIn.toString()).div(i.amountOut.toString()),c=(l=this.whirlpoolData.sqrtPrice,new(Te())(l.toString()).mul(Te().pow(2,-64))).pow(2);var l;const d=c.minus(u).div(c).abs().toNumber();return{notEnoughLiquidity:!1,inAmount:o,outAmount:s,feeAmount:a,feeMint:e.toBase58(),feePct:this.feePct.toNumber(),priceImpactPct:Number(d)}}getSwapLegAndAccounts(e){const t=e.sourceMint.equals(this.whirlpoolData.tokenMintA),n=(0,oo.Rg)(t),[r,i,o]=(0,oo.AR)(this.whirlpoolData.tickCurrentIndex,n,this.whirlpoolData.tickSpacing,this.address,this.tickArrays,os,t);return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){const[i,o]=e.aToB?[t,n]:[n,t];return[ia(Zs(e.aToB)),da.instruction.whirlpoolSwap({accounts:{swapProgram:os,tokenProgram:g.TOKEN_PROGRAM_ID,tokenAuthority:r,whirlpool:e.whirlpool,tokenOwnerAccountA:i,tokenVaultA:e.tokenVaultA,tokenOwnerAccountB:o,tokenVaultB:e.tokenVaultB,tickArray0:e.tickArray0,tickArray1:e.tickArray1,tickArray2:e.tickArray2,oracle:e.oracle}}).keys]}({additionalArgs:{aToB:t,whirlpool:this.address,tickArray0:r,tickArray1:i,tickArray2:o,oracle:this.oracle,...this.whirlpoolData},...e})}createExactOutSwapInstruction(e){const t=e.sourceMint.equals(this.whirlpoolData.tokenMintA),n=(0,oo.Rg)(t),[r,i,o]=(0,oo.AR)(this.whirlpoolData.tickCurrentIndex,n,this.whirlpoolData.tickSpacing,this.address,this.tickArrays,os,t);return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r,outAmount:i,inAmount:o,slippageBps:s,platformFee:a,overflowFeeAccount:u}){var c;const[l,d]=e.aToB?[t,n]:[n,t];return da.instruction.whirlpoolSwapExactOutput(i,{amount:o,slippageBps:s},e.aToB,null!==(c=null==a?void 0:a.feeBps)&&void 0!==c?c:0,{accounts:{swapProgram:os,tokenProgram:g.TOKEN_PROGRAM_ID,tokenAuthority:r,whirlpool:e.whirlpool,tokenOwnerAccountA:l,tokenVaultA:e.tokenVaultA,tokenOwnerAccountB:d,tokenVaultB:e.tokenVaultB,tickArray0:e.tickArray0,tickArray1:e.tickArray1,tickArray2:e.tickArray2,oracle:e.oracle},remainingAccounts:wa(null==a?void 0:a.feeAccount,u)})}({additionalArgs:{aToB:t,whirlpool:this.address,tickArray0:r,tickArray1:i,tickArray2:o,oracle:this.oracle,...this.whirlpoolData},...e,outAmount:new(m())(e.amount.toString()),inAmount:new(m())(e.inAmount.toString()),slippageBps:e.slippageBps,platformFee:e.platformFee,overflowFeeAccount:e.overflowFeeAccount})}get reserveTokenMints(){return[this.whirlpoolData.tokenMintA,this.whirlpoolData.tokenMintB]}}class Ru{constructor(e,t,n){this.address=void 0,this.id=void 0,this.label="Dradex",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.state=void 0,this.orderBookState=void 0,this.quoteCalculator=void 0,this.marketUser=void 0,this.address=e,this.id=e.toBase58(),this.state=So.accounts.decode("market",t.data),this.marketUser=new i.PublicKey(n.marketUser)}getAccountsForUpdate(){return[this.address,...this.reserveTokenMints,this.state.orderBook.bids,this.state.orderBook.asks]}update(e){const t=e.get(this.id),n=e.get(this.state.orderBook.bids.toString()),r=e.get(this.state.orderBook.asks.toString()),o=this.reserveTokenMints.map((t=>e.get(t.toString())));if(!t||!n||!r||o.find((e=>!e)))throw new Error(`One of the required accounts is missing: ${this.address.toBase58()}`);if(o.length!==this.reserveTokenMints.length)throw new Error(`Missing mint info: ${this.address.toBase58()}`);this.state=So.accounts.decode("market",t.data);const s=this.reserveTokenMints.map(((e,t)=>((e,t)=>{if(e.length!==g.MintLayout.span)return;const n=g.MintLayout.decode(e);return n.address=t,0===n.mintAuthorityOption?n.mintAuthority=null:n.mintAuthority=new i.PublicKey(n.mintAuthority),n.supply=g.u64.fromBuffer(n.supply),n.isInitialized=0!==n.isInitialized,0===n.freezeAuthorityOption?n.freezeAuthority=null:n.freezeAuthority=new i.PublicKey(n.freezeAuthority),n})(o[t].data,e)));this.orderBookState={bids:go.decode(n.data).items,asks:go.decode(r.data).items},this.quoteCalculator=new _o(this.state,this.orderBookState,s)}getQuote(e){if(!this.quoteCalculator)throw new Error(`Quote calculator is not initialized: ${this.address.toBase58()}`);const t=this.quoteCalculator.getQuote(e);return{...t,priceImpactPct:t.priceImpactPct/100}}getSwapLegAndAccounts(e){var t;return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r,sourceMint:o}){const{side:s,t0User:a,t1User:u}=o.equals(e.t0)?{side:Hs.Ask,t0User:t,t1User:n}:{side:Hs.Bid,t0User:n,t1User:t};return[ia(Js(s)),da.instruction.dradexSwap({accounts:{swapProgram:ks,pair:e.pair,market:e.market,eventQueue:e.eventQueue,dexUser:Es,marketUser:e.marketUser,bids:e.bids,asks:e.asks,t0Vault:e.t0Vault,t1Vault:e.t1Vault,t0User:a,t1User:u,master:Ms,signer:r,systemProgram:i.SystemProgram.programId,tokenProgram:g.TOKEN_PROGRAM_ID,logger:_s},remainingAccounts:e.referrer?[{pubkey:e.referrer,isSigner:!1,isWritable:!0}]:[fa]}).keys]}({additionalArgs:{pair:this.state.pair,market:this.address,eventQueue:this.state.eventQueue,marketUser:this.marketUser,bids:this.state.orderBook.bids,asks:this.state.orderBook.asks,t0:this.state.t0,t1:this.state.t1,t0Vault:this.state.t0Vault,t1Vault:this.state.t1Vault,referrer:null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(e.destinationMint.toBase58())},...e})}get reserveTokenMints(){return[this.state.t0,this.state.t1]}}class Nu{constructor(e,t){this.address=void 0,this.label="Raydium CLMM",this.id=void 0,this.reserveTokenMints=void 0,this.hasDynamicAccounts=!0,this.shouldPrefetch=!0,this.exactOutputSupported=!1,this.programId=void 0,this.poolState=void 0,this.coder=void 0,this.tickArrayPks=void 0,this.tickArrayCache={},this.ammV3PoolInfo=void 0,this.address=e,this.id=e.toBase58(),this.address=e,this.coder=new Ye.BorshAccountsCoder(Mo.xO),this.poolState=this.coder.decode("poolState",t.data),this.reserveTokenMints=[this.poolState.tokenMint0,this.poolState.tokenMint1],this.programId=Ps,this.tickArrayPks=Mo.ZQ.getTickArrayPks(this.address,this.poolState,this.programId)}getAccountsForUpdate(){return[this.address,this.poolState.ammConfig,...this.tickArrayPks]}update(e){const t=e.get(this.id);if(!t)throw new Error("Missing poolStateAccountInfo");const n=e.get(this.poolState.ammConfig.toBase58());if(!n)throw new Error("Missing ammConfigAccoutnInfo");this.poolState=this.coder.decode("poolState",t.data);const r=this.coder.decode("ammConfig",n.data);this.tickArrayPks=Mo.ZQ.getTickArrayPks(this.address,this.poolState,this.programId);const i={};for(const t of this.tickArrayPks){const n=e.get(t.toBase58());if(!n)continue;const r=this.coder.decode("tickArrayState",n.data);i[r.startTickIndex]={...r,address:t}}this.tickArrayCache=i,this.ammV3PoolInfo=Mo.ZQ.formatPoolInfo({address:this.address,poolState:this.poolState,ammConfig:r,programId:this.programId})}getQuote(e){if(e.swapMode!==No.ExactIn)throw Error("ExactOut does not support");if(0!==this.poolState.status)throw new Error("Pool is not swapable");if(!this.ammV3PoolInfo)throw new Error("Missing ammV3PoolInfo");const{amountOut:t,fee:n,priceImpact:r}=Mo.ZQ.computeAmountOut({poolInfo:this.ammV3PoolInfo,tickArrayCache:this.tickArrayCache,baseMint:e.sourceMint,amountIn:new(m())(e.amount.toString()),slippage:0});return{notEnoughLiquidity:!1,inAmount:e.amount,outAmount:S().BigInt(t.toString()),feeAmount:S().BigInt(n.toString()),feeMint:e.sourceMint.toString(),feePct:this.ammV3PoolInfo.ammConfig.tradeFeeRate/10**6,priceImpactPct:r}}getSwapLegAndAccounts(e){if(!this.ammV3PoolInfo)throw new Error("Missing ammV3PoolInfo");const{remainingAccounts:t}=Mo.ZQ.computeAmountOut({poolInfo:this.ammV3PoolInfo,tickArrayCache:this.tickArrayCache,baseMint:e.sourceMint,amountIn:new(m())(e.amount.toString()),slippage:0}),[n,r]=e.sourceMint.equals(this.poolState.tokenMint0)?[this.poolState.tokenVault0,this.poolState.tokenVault1]:[this.poolState.tokenVault1,this.poolState.tokenVault0],i=t.shift();if(!i)throw new Error("Missing at least one tick array");return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r}){const i=e.remainingAccounts.map((e=>({pubkey:e,isWritable:!0,isSigner:!1})));return i.push(fa),[ia({raydiumClmm:{}}),da.instruction.raydiumClmmSwap({accounts:{swapProgram:Ps,payer:r,ammConfig:e.ammConfig,poolState:e.poolState,inputTokenAccount:t,outputTokenAccount:n,inputVault:e.inputVault,outputVault:e.outputVault,observationState:e.observationState,tokenProgram:g.TOKEN_PROGRAM_ID,tickArray:e.tickArray},remainingAccounts:i}).keys]}({additionalArgs:{poolState:this.address,inputVault:n,outputVault:r,observationState:this.poolState.observationKey,tickArray:i,remainingAccounts:t,...this.poolState},...e})}}const Du=new Ye.Program({version:"0.1.1",name:"marcopolo",instructions:[{name:"createPool",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!0},{name:"poolYAccount",isMut:!0,isSigner:!0},{name:"adminXAccount",isMut:!0,isSigner:!1},{name:"adminYAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"projectOwner",isMut:!1,isSigner:!1},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"lpFee",type:{defined:"FixedPoint"}},{name:"buybackFee",type:{defined:"FixedPoint"}},{name:"projectFee",type:{defined:"FixedPoint"}},{name:"mercantiFee",type:{defined:"FixedPoint"}},{name:"initialTokenX",type:{defined:"Token"}},{name:"initialTokenY",type:{defined:"Token"}},{name:"bump",type:"u8"}]},{name:"createProvider",accounts:[{name:"pool",isMut:!0,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"provider",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"ownerXAccount",isMut:!0,isSigner:!1},{name:"ownerYAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"tokenXAmount",type:{defined:"Token"}},{name:"tokenYAmount",type:{defined:"Token"}},{name:"bump",type:"u8"}]},{name:"createState",accounts:[{name:"state",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"nonce",type:"u8"}]},{name:"addTokens",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"provider",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarco",isMut:!0,isSigner:!1},{name:"tokenProjectFirst",isMut:!0,isSigner:!1},{name:"tokenProjectSecond",isMut:!0,isSigner:!1},{name:"ownerXAccount",isMut:!0,isSigner:!1},{name:"ownerYAccount",isMut:!0,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"ownerMarcoAccount",isMut:!0,isSigner:!1},{name:"ownerProjectFirstAccount",isMut:!0,isSigner:!1},{name:"ownerProjectSecondAccount",isMut:!0,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!1},{name:"tokenProjectFirstAccount",isMut:!0,isSigner:!1},{name:"tokenProjectSecondAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"deltaX",type:{defined:"Token"}},{name:"deltaY",type:{defined:"Token"}}]},{name:"withdrawBuyback",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"buybackXAccount",isMut:!0,isSigner:!1},{name:"buybackYAccount",isMut:!0,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"swap",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"swapperXAccount",isMut:!0,isSigner:!1},{name:"swapperYAccount",isMut:!0,isSigner:!1},{name:"swapper",isMut:!0,isSigner:!0},{name:"referrerXAccount",isMut:!0,isSigner:!1},{name:"referrerYAccount",isMut:!0,isSigner:!1},{name:"referrer",isMut:!0,isSigner:!1},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"deltaIn",type:{defined:"Token"}},{name:"priceLimit",type:{defined:"FixedPoint"}},{name:"xToY",type:"bool"}]},{name:"withdrawShares",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"provider",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarco",isMut:!0,isSigner:!1},{name:"tokenProjectFirst",isMut:!0,isSigner:!1},{name:"tokenProjectSecond",isMut:!0,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!1},{name:"tokenProjectFirstAccount",isMut:!0,isSigner:!1},{name:"tokenProjectSecondAccount",isMut:!0,isSigner:!1},{name:"ownerXAccount",isMut:!0,isSigner:!1},{name:"ownerYAccount",isMut:!0,isSigner:!1},{name:"ownerMarcoAccount",isMut:!0,isSigner:!1},{name:"ownerProjectFirstAccount",isMut:!0,isSigner:!1},{name:"ownerProjectSecondAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"shares",type:{defined:"Token"}}]},{name:"withdrawLpFee",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"provider",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"ownerXAccount",isMut:!0,isSigner:!1},{name:"ownerYAccount",isMut:!0,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"withdrawProjectFee",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"projectOwnerXAccount",isMut:!0,isSigner:!1},{name:"projectOwnerYAccount",isMut:!0,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"projectOwner",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"createFarm",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarco",isMut:!1,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!0},{name:"adminMarcoAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"supply",type:{defined:"Token"}},{name:"duration",type:"u64"},{name:"bump",type:"u8"}]},{name:"createDualFarm",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarco",isMut:!1,isSigner:!1},{name:"tokenProjectFirst",isMut:!1,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!0},{name:"tokenProjectFirstAccount",isMut:!0,isSigner:!0},{name:"adminMarcoAccount",isMut:!0,isSigner:!1},{name:"adminProjectFirstAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"supplyMarco",type:{defined:"Token"}},{name:"supplyProjectFirst",type:{defined:"Token"}},{name:"duration",type:"u64"},{name:"bump",type:"u8"}]},{name:"createTripleFarm",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarco",isMut:!1,isSigner:!1},{name:"tokenProjectFirst",isMut:!1,isSigner:!1},{name:"tokenProjectSecond",isMut:!1,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!0},{name:"tokenProjectFirstAccount",isMut:!0,isSigner:!0},{name:"tokenProjectSecondAccount",isMut:!0,isSigner:!0},{name:"adminMarcoAccount",isMut:!0,isSigner:!1},{name:"adminProjectFirstAccount",isMut:!0,isSigner:!1},{name:"adminProjectSecondAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"supplyMarco",type:{defined:"Token"}},{name:"supplyProjectFirst",type:{defined:"Token"}},{name:"supplyProjectSecond",type:{defined:"Token"}},{name:"duration",type:"u64"},{name:"bump",type:"u8"}]},{name:"withdrawRewards",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"provider",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarco",isMut:!0,isSigner:!1},{name:"tokenProjectFirst",isMut:!0,isSigner:!1},{name:"tokenProjectSecond",isMut:!0,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!1},{name:"tokenProjectFirstAccount",isMut:!0,isSigner:!1},{name:"tokenProjectSecondAccount",isMut:!0,isSigner:!1},{name:"ownerMarcoAccount",isMut:!0,isSigner:!1},{name:"ownerProjectFirstAccount",isMut:!0,isSigner:!1},{name:"ownerProjectSecondAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"closePool",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!1},{name:"tokenProjectFirstAccount",isMut:!0,isSigner:!1},{name:"tokenProjectSecondAccount",isMut:!0,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"buybackXAccount",isMut:!0,isSigner:!1},{name:"buybackYAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"withdrawMercantiFee",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"mercantiXAccount",isMut:!0,isSigner:!1},{name:"mercantiYAccount",isMut:!0,isSigner:!1},{name:"poolXAccount",isMut:!0,isSigner:!1},{name:"poolYAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"addSupply",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!1},{name:"tokenProjectFirstAccount",isMut:!0,isSigner:!1},{name:"tokenProjectSecondAccount",isMut:!0,isSigner:!1},{name:"adminMarcoAccount",isMut:!0,isSigner:!1},{name:"adminProjectFirstAccount",isMut:!0,isSigner:!1},{name:"adminProjectSecondAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"supplyMarco",type:{defined:"Token"}},{name:"supplyProjectFirst",type:{defined:"Token"}},{name:"supplyProjectSecond",type:{defined:"Token"}},{name:"duration",type:"u64"}]},{name:"updateFees",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1}],args:[{name:"newBuybackFee",type:{defined:"FixedPoint"}},{name:"newProjectFee",type:{defined:"FixedPoint"}},{name:"newProviderFee",type:{defined:"FixedPoint"}},{name:"newMercantiFee",type:{defined:"FixedPoint"}}]},{name:"resetFarm",accounts:[{name:"state",isMut:!1,isSigner:!1},{name:"pool",isMut:!1,isSigner:!1},{name:"farm",isMut:!0,isSigner:!1},{name:"tokenX",isMut:!1,isSigner:!1},{name:"tokenY",isMut:!1,isSigner:!1},{name:"tokenMarco",isMut:!1,isSigner:!1},{name:"tokenMarcoAccount",isMut:!0,isSigner:!1},{name:"tokenProjectFirstAccount",isMut:!0,isSigner:!1},{name:"tokenProjectSecondAccount",isMut:!0,isSigner:!1},{name:"adminMarcoAccount",isMut:!0,isSigner:!1},{name:"adminProjectFirstAccount",isMut:!0,isSigner:!1},{name:"adminProjectSecondAccount",isMut:!0,isSigner:!1},{name:"admin",isMut:!0,isSigner:!0},{name:"programAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"farm",type:{kind:"struct",fields:[{name:"pool",type:"publicKey"},{name:"tokens",type:{array:["publicKey",3]}},{name:"tokenAccounts",type:{array:["publicKey",3]}},{name:"supply",type:{array:[{defined:"Token"},3]}},{name:"supplyLeft",type:{array:[{defined:"Token"},3]}},{name:"accumulatedSecondsPerShare",type:{defined:"FixedPoint"}},{name:"offsetSecondsPerShare",type:{defined:"FixedPoint"}},{name:"startTime",type:"u64"},{name:"endTime",type:"u64"},{name:"lastUpdate",type:"u64"},{name:"bump",type:"u8"},{name:"farmType",type:{defined:"FarmType"}}]}},{name:"pool",type:{kind:"struct",fields:[{name:"tokenX",type:"publicKey"},{name:"tokenY",type:"publicKey"},{name:"poolXAccount",type:"publicKey"},{name:"poolYAccount",type:"publicKey"},{name:"admin",type:"publicKey"},{name:"projectOwner",type:"publicKey"},{name:"tokenXReserve",type:{defined:"Token"}},{name:"tokenYReserve",type:{defined:"Token"}},{name:"selfShares",type:{defined:"Token"}},{name:"allShares",type:{defined:"Token"}},{name:"buybackAmountX",type:{defined:"Token"}},{name:"buybackAmountY",type:{defined:"Token"}},{name:"projectAmountX",type:{defined:"Token"}},{name:"projectAmountY",type:{defined:"Token"}},{name:"mercantiAmountX",type:{defined:"Token"}},{name:"mercantiAmountY",type:{defined:"Token"}},{name:"lpAccumulatorX",type:{defined:"FixedPoint"}},{name:"lpAccumulatorY",type:{defined:"FixedPoint"}},{name:"constK",type:{defined:"Product"}},{name:"price",type:{defined:"FixedPoint"}},{name:"lpFee",type:{defined:"FixedPoint"}},{name:"buybackFee",type:{defined:"FixedPoint"}},{name:"projectFee",type:{defined:"FixedPoint"}},{name:"mercantiFee",type:{defined:"FixedPoint"}},{name:"farmCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"provider",type:{kind:"struct",fields:[{name:"tokenX",type:"publicKey"},{name:"tokenY",type:"publicKey"},{name:"owner",type:"publicKey"},{name:"shares",type:{defined:"Token"}},{name:"lastFeeAccumulatorX",type:{defined:"FixedPoint"}},{name:"lastFeeAccumulatorY",type:{defined:"FixedPoint"}},{name:"lastSecondsPerShare",type:{defined:"FixedPoint"}},{name:"lastWithdrawTime",type:"u64"},{name:"tokensOwedX",type:{defined:"Token"}},{name:"tokensOwedY",type:{defined:"Token"}},{name:"currentFarmCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"state",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"programAuthority",type:"publicKey"},{name:"bump",type:"u8"},{name:"nonce",type:"u8"}]}}],types:[{name:"FixedPoint",type:{kind:"struct",fields:[{name:"v",type:"u128"}]}},{name:"Token",type:{kind:"struct",fields:[{name:"v",type:"u64"}]}},{name:"Product",type:{kind:"struct",fields:[{name:"v",type:"u128"}]}},{name:"FarmType",type:{kind:"enum",variants:[{name:"Single"},{name:"Dual"},{name:"Triple"}]}}],errors:[{code:6e3,name:"DeltaTooBig",msg:"Delta greater than provider's tokens"},{code:6001,name:"TokenUnderflow",msg:"Token amount underflow"},{code:6002,name:"WrongRatio",msg:"Wrong tokens ratio"},{code:6003,name:"TooMuchShares",msg:"Too much shares provided"},{code:6004,name:"SwapToBig",msg:"Swap too big"},{code:6005,name:"FeeExceeded",msg:"Fee exceeded 100%"},{code:6007,name:"ScalesNotEqual",msg:"Scales have to be equal"},{code:6008,name:"FeeExceededDeltaOut",msg:"Fees exceeded delta_out"},{code:6009,name:"PriceLimitExceeded",msg:"Price limit exceeded"},{code:6010,name:"MintMismatch",msg:"Mint mismatch"},{code:6011,name:"TokensAreTheSame",msg:"Tokens are the same"},{code:6012,name:"WrongFarm",msg:"Cannot add supply to wrong farm"},{code:6013,name:"RewardsExceedingSupply",msg:"Cannot withdraw rewards exceeding supply left"},{code:6014,name:"FarmNotEnded",msg:"Farm has not ended, cannot add additional rewards"},{code:6015,name:"ZeroAmount",msg:"Must provide a nonzero amount"},{code:6016,name:"InvariantChanged",msg:"Invariant has changed"}],metadata:{address:"9tKE7Mbmj4mxDjWatikzGAtkoWosiiZX9y6J4Hfm2R8H"}},Os,Rs),Fu=new(Te())(10).pow(12);class Ku{constructor(e,t){this.address=void 0,this.id=void 0,this.label="Marco Polo",this.shouldPrefetch=!1,this.exactOutputSupported=!1,this.hasDynamicAccounts=!1,this.pool=void 0,this.calculator=void 0,this.feePct=void 0,this.tokenReserveAmounts=void 0,this.address=e,this.id=e.toBase58(),this.pool=this.decodePoolState(t);const n=this.pool.lpFee.v.add(this.pool.buybackFee.v).add(this.pool.mercantiFee.v).add(this.pool.projectFee.v);this.feePct=new(Te())(n.toString()).div(Fu),this.calculator=new ze(new je(S().BigInt(n),S().BigInt(Fu)),qe,!1)}decodePoolState(e){return Du.coder.accounts.decode("pool",e.data)}getAccountsForUpdate(){return[this.address]}update(e){const t=e.get(this.id);if(!t)throw new Error(`Pool account info is not found: ${this.id}`);const n=this.decodePoolState(t);this.pool=n,this.tokenReserveAmounts=[S().BigInt(n.tokenXReserve.v),S().BigInt(n.tokenYReserve.v)]}getQuote({destinationMint:e,amount:t}){const{tokenX:n}=this.pool;if(!this.tokenReserveAmounts)throw new Error("Missing tokenReserveAmounts");const r=e.equals(n)?0:1,i=this.calculator.exchange(this.tokenReserveAmounts,t,r);return{notEnoughLiquidity:!1,inAmount:t,outAmount:i.expectedOutputAmount,feeAmount:i.fees,feeMint:e.toBase58(),feePct:this.feePct.toNumber(),priceImpactPct:i.priceImpact.toNumber()}}getSwapLegAndAccounts(e){var t,n;return function({additionalArgs:e,userSourceTokenAccount:t,userDestinationTokenAccount:n,userTransferAuthority:r,sourceMint:o}){const s=o.equals(e.tokenX),{swapperXAccount:a,swapperYAccount:u}=s?{swapperXAccount:t,swapperYAccount:n}:{swapperXAccount:n,swapperYAccount:t};return[ia(ta(s)),da.instruction.marcoPoloSwap({accounts:{swapProgram:Os,state:xs,pool:e.pool,tokenX:e.tokenX,tokenY:e.tokenY,poolXAccount:e.poolXAccount,poolYAccount:e.poolYAccount,swapperXAccount:a,swapperYAccount:u,swapper:r,referrerXAccount:e.referrerXAccount,referrerYAccount:e.referrerYAccount,referrer:Qo,programAuthority:Bs,systemProgram:i.SystemProgram.programId,tokenProgram:g.TOKEN_PROGRAM_ID,associatedTokenProgram:g.ASSOCIATED_TOKEN_PROGRAM_ID,rent:i.SYSVAR_RENT_PUBKEY}}).keys]}({additionalArgs:{pool:this.address,tokenX:this.pool.tokenX,tokenY:this.pool.tokenY,poolXAccount:this.pool.poolXAccount,poolYAccount:this.pool.poolYAccount,referrerXAccount:null===(t=e.quoteMintToReferrer)||void 0===t?void 0:t.get(this.pool.tokenX.toBase58()),referrerYAccount:null===(n=e.quoteMintToReferrer)||void 0===n?void 0:n.get(this.pool.tokenY.toBase58())},...e})}get reserveTokenMints(){return[this.pool.tokenX,this.pool.tokenY]}}Ku.getProgram=()=>Du;const Uu=({amms:e,enforceSingleTx:t})=>{const[n,r]=e;return n.id!==r.id&&!Lo(t?xo:To,n.label,r.label)&&!(n instanceof Bu||r instanceof Bu)},Wu=new Map([[ps.toString(),"Orca"],[hs.toString(),"Step"],[ms.toString(),"Penguin"],[gs.toString(),"Saros"],[fs.toString(),"Stepn"]]),zu={};function ju(e){const t=e._bn.toString(),n=zu[t];if(n)return n;{const n=e.toBase58();return zu[t]=n,n}}function qu(e){const t=new Map;return e.forEach((e=>{Ou(e.reserveTokenMints).forEach((([n,r])=>{!function(e,t,n,r){let i=r.get(e);i||(i=new Map([[t,[]]]),r.set(e,i));let o=i.get(t);o||(o=[],i.set(t,o)),o.push(n)}(ju(n),ju(r),e,t)}))})),t}function Vu(e,t,n){return Boolean(e&&t>100&&!e.includes(n))}function Hu(e,t){if(e===No.ExactOut)return!1;if(t.length>1){const[e,n]=t;if(e instanceof mu&&n instanceof mu)return!1}return!0}async function Qu({connection:e,marketInfos:t,owner:n,unwrapSOL:r}){const o=await Promise.all(t.map((({outputMint:t})=>async function({connection:e,payer:t,owner:{publicKey:n},mintAddress:r,unwrapSOL:o}){const s="string"==typeof r?new i.PublicKey(r):r,a=ca({tokenMintAddress:s,walletAddress:n}),u={setupInstructions:[],instructions:[],cleanupInstructions:[],signers:[]},c=await e.getAccountInfo(a);if(null===c)u.setupInstructions.push(ua(t,a,n,s));else{const e=Xe(c.data);if(e&&!e.owner.equals(n))throw new Error(`/! ATA ${a.toBase58()} is not owned by ${n.toBase58()}`)}return s.equals(Wo)&&o&&u.cleanupInstructions.push(g.Token.createCloseAccountInstruction(g.TOKEN_PROGRAM_ID,a,n,n,[])),{address:a,...u}}({connection:e,payer:n.publicKey,owner:n,mintAddress:t,unwrapSOL:r})))),[s]=o.splice(o.length-1,1);return{userIntermediaryTokenAccountResults:o,userDestinationTokenAccountResult:s}}async function Gu(e,t,n,r){const o={setupInstructions:[],instructions:[],cleanupInstructions:[],signers:[]},s=n.address.toString();if(r){let t=r.get(s);if(t){let n=null;if(n=await e.getAccountInfo(t,"confirmed"),n)return{...o,address:t}}}const[a,u]=function(e,t){const[n]=(0,Ze.findProgramAddressSync)([Buffer.from("open_orders"),e.publicKey.toBuffer(),t.toBuffer()],la);return[n,da.instruction.createOpenOrders({accounts:{openOrders:n,payer:t,dexProgram:e.programId,systemProgram:i.SystemProgram.programId,rent:i.SYSVAR_RENT_PUBKEY,market:e.publicKey}})]}(n,t);return await e.getAccountInfo(a)||(o.setupInstructions=[u]),null==r||r.set(n.address.toString(),a),{...o,address:a}}function Xu(e){return e.reduce(((e,t)=>t+e),0)}const Yu={feeBps:0,feeAccounts:new Map};async function Zu(e,t){return(await e.getTokenAccountsByOwner(t,{programId:g.TOKEN_PROGRAM_ID})).value.reduce(((e,t)=>{const n=Xe(t.account.data);return n&&e.set(n.mint.toBase58(),t.pubkey),e}),new Map)}class $u{constructor(e,t,n){this.connection=void 0,this.feePayer=void 0,this.instructions=void 0,this.owner=void 0,this.connection=e,this.feePayer=t,this.instructions=[],this.owner=n}addInstruction(e){return this.instructions.push(e),this}async build(e){e||(e=await this.connection.getLatestBlockhash("confirmed"));const t={...e,feePayer:this.feePayer};let n=[],r=[],o=[],s=[];this.instructions.forEach((e=>{r=r.concat(e.setupInstructions),n=n.concat(e.instructions),o=o.concat(e.cleanupInstructions),s=s.concat(e.signers)}));const a=new i.Transaction(t);return r.concat(n).concat(o).forEach((e=>a.add(e))),a.feePayer=this.feePayer,{transaction:a,signers:s,execute:this.owner.isKeyPair?()=>this.connection.sendTransaction(a,s):async()=>{throw new Error("Please use a Keypair for the owner parameter to enable the execute function")}}}}class Ju{constructor(e){this._owner=void 0,this._owner=e}get publicKey(){return Ju.isKeyPair(this._owner)?this._owner.publicKey:this._owner}get signer(){return Ju.isKeyPair(this._owner)?this._owner:void 0}get isKeyPair(){return Ju.isKeyPair(this._owner)}get isPublicKey(){return Ju.isPublicKey(this._owner)}static isKeyPair(e){return void 0!==e.secretKey}static isPublicKey(e){return!Ju.isKeyPair(e)}}const ec=e=>new Promise((t=>setTimeout(t,e)));function tc(e,t,n){if(e)return function(e,t){var n,r,i,o;const s=null===(n=t.postTokenBalances)||void 0===n||null===(r=n.find((t=>t.accountIndex===e)))||void 0===r?void 0:r.uiTokenAmount.amount,a=null===(i=t.preTokenBalances)||void 0===i||null===(o=i.find((t=>t.accountIndex===e)))||void 0===o?void 0:o.uiTokenAmount.amount;if(s)return Math.abs(parseInt(s)-(void 0!==a?parseInt(a):0))}(t.message.accountKeys.findIndex((e=>e.equals(n))),e)}function nc(e,t,n){let r=t.message.accountKeys.findIndex((e=>e.equals(n)));return-1!==r?Math.abs(e.postBalances[r]-e.preBalances[r]):0}function rc(){return(new Date).getTime()}const ic={skipPreflight:!0,maxRetries:2};async function oc(e,t,n=12e4,r=500,i=2e3,o=40){const s=t.serialize(),a=await e.sendRawTransaction(s,ic),u=rc();let c=rc(),l=0;for(;rc()-u<n;){const t=rc();l<o&&t-c>i&&(c=t,l+=1,await e.sendRawTransaction(s,ic));const n=await Promise.any([e.getTransaction(a,{commitment:"confirmed"}),ec(5e3)]);if(n)return{txid:a,transactionResponse:n};await ec(r)}return{txid:a,transactionResponse:null}}function sc(e){const t=e.signature;if(!t)throw new Error("Transaction has no signature");return Po.bs58.encode(t)}const ac=function(e){if(!Array.isArray(e))throw new TypeError(`Argument must be an array: ${e}`)},uc=function(e,t){return e*t.length},cc={},lc=function(e,t){return String(t)},dc=S().BigInt(1e4);function fc({inputMint:e,outputMint:t}){return`${e}-${t}`}function pc({ammId:e,amount:t}){return`${e}-${t.toString()}`}function hc({inputRouteSegment:e,inputMint:t,outputMint:n,amount:r,getDepositAndFeeForRoute:o,platformFeeBps:s,slippageBps:a,filterTopNResult:u=2,onlyDirectRoutes:c,swapMode:l,enforceSingleTx:d}){const f=t.toBase58(),p=n.toBase58();if(!e.get(f))throw new Error("No routes found for the input and output mints");const h=c?0:2,m=new Map,g=[],y=new Map;return function t({inputMint:n,amount:r,level:o=0,walked:s=[n]}){const a=e.get(n);a&&a.forEach(((f,b)=>{const w=fc({inputMint:n,outputMint:b}),v=function({amms:e,inputMint:t,outputMint:n,amount:r,swapMode:o}){return e.map((e=>{try{return{quote:e.getQuote({amount:r,sourceMint:new i.PublicKey(t),destinationMint:new i.PublicKey(n),swapMode:o}),amm:e}}catch(e){return}})).filter(Boolean).sort(((e,t)=>S().greaterThanOrEqual((null==t?void 0:t.quote.outAmount)||Be,(null==e?void 0:e.quote.outAmount)||Be)?1:-1))}({amms:f,inputMint:n,outputMint:b,amount:r,swapMode:l}),{filteredAmms:A,quoteMap:k}=v.reduce(((e,t,n)=>(n<u&&e.filteredAmms.push(t.amm),e.quoteMap.set(pc({ammId:t.amm.id,amount:r}),t.quote),e)),{filteredAmms:[],quoteMap:new Map}),_=[];if(b!==p||c||function(e,t){for(let n=0;n<e.length;n++)for(let r=n+1;r<e.length;r++)e[n].label!==e[r].label&&t(e[n],e[r])}(A.slice(),((e,t)=>{const n=(()=>{if(!d||!1!==Uu({amms:[e,t],enforceSingleTx:d}))return Bu.create(e,t)})();n&&_.push(n)})),a.set(b,A.concat(_)),m.set(w,k),b!==p&&k.size&&!s.includes(b)&&o<h-1){var M;const e=k.values().next().value.outAmount,n=null!==(M=y.get(b))&&void 0!==M?M:Be;S().greaterThan(e,n)&&(y.set(b,e),t({inputMint:b,amount:e,level:o+1,walked:s.concat(b)}))}else if(b===p){0===o&&a.set(b,v.map((e=>e.amm)).concat(_));const t=s.concat(b),n=t.map((e=>new i.PublicKey(e))),r=t.reduce(((n,r,i)=>{var o;return i<t.length-1&&n.push(null===(o=e.get(t[i]))||void 0===o?void 0:o.get(t[i+1])),n}),[]),u=function(e){if(function(e){if(!Array.isArray(e))throw new TypeError("Argument must be an array of arrays");e.forEach(ac),function({length:e}){if(e>=100)throw new TypeError(`Too many arrays (${e}): please use the 'big-cartesian' library instead of 'fast-cartesian'`)}(e),function(e){const t=e.reduce(uc,1);if(t>=4294967296){const e=Number.isFinite(t)?` (${t.toExponential(0)})`:"";throw new TypeError(`Too many combinations${e}: please use the 'big-cartesian' library instead of 'fast-cartesian'`)}}(e)}(e),0===e.length)return[];const t=[];return function(e){const t=cc[e];if(void 0!==t)return t;const n=function(e){const t=Array.from({length:e},lc),n=t.map((e=>`for (const value${e} of arrays[${e}]) {`)).join("\n"),r=t.map((e=>`value${e}`)).join(", "),i="}\n".repeat(e);return new Function("arrays","result",`${n}\nresult.push([${r}])\n${i}`)}(e);return cc[e]=n,n}(e.length)(e,t),t}(r);for(let e of u)(1===e.length||Uu({amms:e,enforceSingleTx:d}))&&g.push({amms:e,mints:n})}}))}({inputMint:f,amount:r}),g.map((e=>{const{amms:t,mints:n}=e;let i=[],u=r,c=Be;const d=Hu(l,t),f=n,p=t.length;for(const[n,o]of t.entries())try{var h;const e=f[n],t=f[n+1],g=fc({inputMint:e.toBase58(),outputMint:t.toBase58()}),y=null===(h=m.get(g))||void 0===h?void 0:h.get(pc({ammId:o.id,amount:u}));if(S().equal(u,Be))return;const b=y||o.getQuote({sourceMint:e,destinationMint:t,amount:u,swapMode:l}),w=p-1===n&&d?{amount:S().divide(S().multiply(b.outAmount,S().BigInt(s)),dc),mint:t.toBase58(),pct:s/100}:{amount:Be,mint:t.toBase58(),pct:0},v=l===No.ExactIn?b.outAmount:b.inAmount;let A=l===No.ExactIn?S().subtract(v,w.amount):S().add(v,w.amount);S().lessThan(A,Be)&&(A=Be);const k=S().BigInt(l===No.ExactIn?new(Te())(A.toString()).mul(1-a/S().toNumber(dc)).ceil():new(Te())(A.toString()).mul(1+a/S().toNumber(dc)).floor()),[_,M]=l===No.ExactIn?[b.inAmount,A]:[A,u];i.push({amm:o,inputMint:e,outputMint:t,notEnoughLiquidity:b.notEnoughLiquidity,minInAmount:b.minInAmount,minOutAmount:b.minOutAmount,inAmount:_,outAmount:M,priceImpactPct:b.priceImpactPct,lpFee:{amount:b.feeAmount,mint:b.feeMint,pct:b.feePct},platformFee:w}),u=l===No.ExactIn?A:r,c=k}catch(e){return}return{marketInfos:i,getDepositAndFee:()=>o({marketInfos:i}),inAmount:i[0].inAmount,outAmount:u,amount:r,otherAmountThreshold:c,swapMode:l,slippageBps:a,priceImpactPct:1-i.reduce(((e,t)=>e*(1-t.priceImpactPct)),1)}})).filter((e=>void 0!==e)).sort(((e,t)=>S().greaterThanOrEqual(t.outAmount,e.outAmount)?1:-1))}const mc=Object.values(Cs).reduce(((e,t)=>(e[t.code]=t,e)),{});async function gc({txid:e,transactionResponse:t}){var n;if(!t)return new He("Transaction was not confirmed",e);if(null!=t&&null!==(n=t.meta)&&void 0!==n&&n.err){let{message:n,programId:i,code:o}=function(e){var t;const n=[];if(null!=e&&e.meta&&e.meta.logMessages&&e.meta.logMessages.forEach((e=>{const t=/Error: (.*)/gm;let r;for(;null!==(r=t.exec(e));)r.index===t.lastIndex&&t.lastIndex++,r.length>1&&n.push(r[1])})),n.length>0)return{message:n.join(",")};const r=null==e||null===(t=e.meta)||void 0===t?void 0:t.err;let i;if(r&&"string"!=typeof r){const t=r.InstructionError,[n,{Custom:s}]=t;if(i=null!=s?s:t[1],null!=e&&e.meta&&e.meta.logMessages){var o;const n=function(e,t){for(let n=0;n<e.length;n++){const r=e[n].match(new RegExp(`Program ([1-9A-HJ-NP-Za-km-z]{32,44}) failed: custom program error: 0x${t.toString(16)}`));if(r)return r[1]}}(null===(o=e.meta)||void 0===o?void 0:o.logMessages,i);if(n)return n===Ge?function(e){const t=e[1].Custom;let n="";switch(t){case 0:n="An account with the same address already exists";case 1:n="The account does not have enough SOL to perform the operation";default:n=Qe}return{code:t,programId:Ge,message:n}}(t):{message:Qe,programId:n,code:i}}}return{message:"string"==typeof r?r:Qe,code:i}}(t);var r;return i===la.toBase58()&&o&&(n=null===(r=mc[o])||void 0===r?void 0:r.msg),n||(n=Qe),new He(n||"",e,o)}return t}async function yc({onlyDirectRoutes:e,restrictIntermediateTokens:t},n){let r=n||"https://cache.jup.ag/indexed-route-map";return e?r=r.concat("?onlyDirectRoutes=true"):t&&(r=r.concat("?restrictIntermediateTokens=true")),function(e){const t=t=>e.mintKeys[t],n=new Map;return Object.keys(e.indexedRouteMap).forEach((r=>{n.set(t(r),e.indexedRouteMap[r].map((e=>t(e))))})),n}(await(await fetch(r)).json())}class bc{constructor(e,t,n,r,i,o,s=0,a=!0,u,c){this.connection=void 0,this.cluster=void 0,this.tokenRouteSegments=void 0,this.feeCalculator=void 0,this.platformFeeAndAccounts=void 0,this.quoteMintToReferrer=void 0,this.routeCacheDuration=void 0,this.wrapUnwrapSOL=void 0,this.intermediateTokens=void 0,this.shouldLoadSerumOpenOrders=void 0,this.serumOpenOrdersPromise=void 0,this.user=void 0,this.routeCache=new Map,this.getDepositAndFees=async({marketInfos:e,userPublicKey:t,serumOpenOrdersPromise:n=Promise.resolve(new Map)})=>(async({connection:e,owner:t,inputMint:n,marketInfos:r,feeCalculator:i,serumOpenOrdersPromise:o,wrapUnwrapSOL:s})=>{const a=n.equals(Wo)&&s,u=await Promise.all(r.map((async n=>{const r=n.amm;if(r instanceof Mu||r instanceof Bu){if(!r.market)return;return await Gu(e,t.publicKey,r.market,await o)}}))),{userIntermediaryTokenAccountResults:c,userDestinationTokenAccountResult:l}=await Qu({connection:e,marketInfos:r,owner:t,unwrapSOL:s});return(({intermediates:e,destination:t,openOrders:n,hasWrapUnwrapSOL:r,feeCalculator:i})=>{const o=n.filter((e=>e&&e.instructions.length>0)).map((()=>23352760)),s=[...e,t].filter((e=>(null==e?void 0:e.instructions.length)&&0===e.cleanupInstructions.length)).map((()=>2039280)),a=([...null==n?void 0:n.map((e=>null==e?void 0:e.signers)),...null==e?void 0:e.map((e=>e.signers)),t.signers].flat().length+1)*i.lamportsPerSignature;return{signatureFee:a,openOrdersDeposits:o,ataDeposits:s,totalFeeAndDeposits:Xu([a,...o,...s]),minimumSOLForTransaction:Xu([a,...o,...s,r?2039280:0])}})({intermediates:c,destination:l,openOrders:u,hasWrapUnwrapSOL:a,feeCalculator:i})})({connection:this.connection,feeCalculator:this.feeCalculator,inputMint:e[0].inputMint,marketInfos:e,serumOpenOrdersPromise:n,owner:new Ju(t),wrapUnwrapSOL:this.wrapUnwrapSOL}),this.getDepositAndFeesForUser=({marketInfos:e})=>{if(this.user&&this.serumOpenOrdersPromise){const t=new Ju(this.user);return this.getDepositAndFees({marketInfos:e,userPublicKey:t.publicKey,serumOpenOrdersPromise:this.serumOpenOrdersPromise})}return Promise.resolve(void 0)},this.exchange=async({routeInfo:e,userPublicKey:t,feeAccount:n,wrapUnwrapSOL:r,blockhashWithExpiryBlockHeight:i})=>{var o;const{connection:s,serumOpenOrdersPromise:a}=this,u=t||this.user;if(!u)throw new Error("user not found");const c=new Ju(u),l=e.marketInfos.length-1,d=e.marketInfos[0].inputMint,f=e.marketInfos[l].outputMint,p=null!=r?r:this.wrapUnwrapSOL,[m,g,y]=await Promise.all([d.equals(Wo)&&p?aa({connection:s,owner:c,amount:e.swapMode===No.ExactIn?e.amount:e.otherAmountThreshold}):{setupInstructions:[],instructions:[],cleanupInstructions:[],signers:[],address:ca({tokenMintAddress:d,walletAddress:c.publicKey})},Qu({connection:s,marketInfos:e.marketInfos,owner:c,unwrapSOL:p}),Promise.all(e.marketInfos.map((async({amm:e})=>{if(e instanceof Mu||e instanceof Bu){if(!e.market)return;return await Gu(s,c.publicKey,e.market,await a)}})))]),b={intermediates:g.userIntermediaryTokenAccountResults,destination:g.userDestinationTokenAccountResult,openOrders:y},w=b.openOrders.filter(Boolean).length>0,v=(n=null!==(o=n)&&void 0!==o?o:this.platformFeeAndAccounts.feeAccounts.get(e.swapMode===No.ExactIn?f.toBase58():d.toBase58()))?{feeBps:this.platformFeeAndAccounts.feeBps||Math.floor(100*e.marketInfos[l].platformFee.pct),feeAccount:n}:void 0,S=await async function({user:e,openOrdersAddresses:t,userSourceTokenAccountAddress:n,userIntermediateTokenAccountAddresses:r,userDestinationTokenAccountAddress:i,routeInfo:o,platformFee:s,quoteMintToReferrer:a}){if(o.marketInfos.length-1!==r.length)throw new Error("Missing intermediary token account address");const u=s&&function(e){if(e.length<2)return!1;const[t,n]=e.map((e=>e.amm));return t instanceof mu&&n instanceof Mu||t instanceof Mu&&n instanceof mu}(o.marketInfos)?void 0:a,c=[n,...r,i],l=!!s&&s.feeBps>0&&Hu(o.swapMode,o.marketInfos.map((e=>e.amm))),d=e.publicKey,f=[sa(14e5)],p=[];if(o.swapMode===No.ExactIn){const{swapInstruction:e}=function(e,t,n,r,i,o,s,a){const u=[],c=[];for(const[t,r]of e.marketInfos.entries()){const a=r.amm,[l,d]=i.slice(t),[f,p]=a.getSwapLegAndAccounts({sourceMint:r.inputMint,destinationMint:r.outputMint,userSourceTokenAccount:l,userDestinationTokenAccount:d,userTransferAuthority:n,openOrdersAddress:o[t],quoteMintToReferrer:s,swapMode:e.swapMode,amount:e.amount});u.push(f),c.push(...p)}return t&&a&&c.push({pubkey:a.feeAccount,isWritable:!0,isSigner:!1}),{swapInstruction:pa(n,r,na(u),c,new h.BN(e.amount.toString()),new h.BN(e.outAmount.toString()),e.slippageBps,t&&a?a.feeBps:0)}}(o,l,d,i,c,t,u,s);p.push(e)}else if(o.swapMode===No.ExactOut){const{swapInstruction:e}=function(e,t,n,r,i,o){const s=e.marketInfos[0],a=s.amm;if(a.createExactOutSwapInstruction)return{swapInstruction:a.createExactOutSwapInstruction({sourceMint:s.inputMint,destinationMint:s.outputMint,userSourceTokenAccount:n,userDestinationTokenAccount:r,userTransferAuthority:t,quoteMintToReferrer:i,swapMode:e.swapMode,amount:e.amount,slippageBps:e.slippageBps,inAmount:e.inAmount,platformFee:o,overflowFeeAccount:null==i?void 0:i.get(s.inputMint.toBase58())})};throw new Error(`ExactOutInstruction missing for ${a.label}.`)}(o,d,n,i,u,s);p.push(e)}const{signers:m,cleanupInstructions:g}={setupInstructions:[],instructions:[],cleanupInstructions:[],signers:[]};return e.isKeyPair&&e.signer&&m.push(e.signer),{setupInstructions:f,signers:m,cleanupInstructions:g,instructions:p}}({user:c,openOrdersAddresses:b.openOrders.map((e=>null==e?void 0:e.address)),userSourceTokenAccountAddress:m.address,userIntermediateTokenAccountAddresses:b.intermediates.map((({address:e})=>e)),userDestinationTokenAccountAddress:b.destination.address,routeInfo:e,platformFee:v,quoteMintToReferrer:this.quoteMintToReferrer}),A=function(e,{hasSerumOpenOrderInstruction:t}){let n,r;if(1===e.length){const t=e[0].amm;if(!(t instanceof Bu))return!1;n=t.firstAmm,r=t.secondAmm}else[n,r]=e.map((e=>e.amm));return!!t||!!Lo(Oo,n.label,r.label)}(e.marketInfos,{hasSerumOpenOrderInstruction:w}),k=new $u(s,c.publicKey,c),_=new $u(s,c.publicKey,c),M=new $u(s,c.publicKey,c),I=[...b.intermediates,m,!b.destination.address.equals(m.address)&&b.destination];_.addInstruction(S),A?(w&&b.openOrders.forEach((e=>{e&&k.addInstruction(e)})),I.forEach((e=>{e&&(k.addInstruction({...e,cleanupInstructions:[]}),e.cleanupInstructions.length)&&M.addInstruction({setupInstructions:[],instructions:[],cleanupInstructions:[],signers:[],cleanupInstructions:e.cleanupInstructions})}))):(w&&b.openOrders.forEach((e=>{e&&_.addInstruction(e)})),I.forEach((e=>{e&&_.addInstruction(e)}))),i=i||await this.connection.getLatestBlockhash("confirmed");const{transaction:E}=await k.build(i),{transaction:P}=await _.build(i),{transaction:T}=await M.build(i),[O,x,B]=[E.instructions.length?E:void 0,P,T.instructions.length?T:void 0],L=b;return{transactions:{setupTransaction:O,swapTransaction:x,cleanupTransaction:B},execute:({wallet:e,onTransaction:t}={})=>wc({connection:this.connection,wallet:e,onTransaction:t,inputMint:d,outputMint:f,sourceAddress:m.address,destinationAddress:L.destination.address,swapTransaction:x,setupTransaction:O,cleanupTransaction:B,wrapUnwrapSOL:p,owner:c}).finally((()=>{this.routeCache.clear()}))}},this.connection=e,this.cluster=t,this.tokenRouteSegments=n,this.feeCalculator=r,this.platformFeeAndAccounts=i,this.quoteMintToReferrer=o,this.routeCacheDuration=s,this.wrapUnwrapSOL=a,this.intermediateTokens=u,this.shouldLoadSerumOpenOrders=c}static async load({connection:e,cluster:t,user:n,platformFeeAndAccounts:r=Yu,quoteMintToReferrer:o,routeCacheDuration:s=0,wrapUnwrapSOL:a=!0,marketUrl:u,restrictIntermediateTokens:c=!1,shouldLoadSerumOpenOrders:l=!0,ammsToExclude:d={GooseFX:!0,Serum:!0}}){const[{tokenRouteSegments:f,saberWrapperMints:p},{value:{feeCalculator:h}},m]=await Promise.all([bc.fetchAmms(e,t,d,u).then((({amms:e,saberWrapperMints:t})=>({tokenRouteSegments:qu(e),saberWrapperMints:t}))),e.getRecentBlockhashAndContext("processed"),null!=o?o:Zu(e,new i.PublicKey(rs))]),g=c?await bc.getIntermediateTokens(p):void 0,y=new bc(e,t,f,h,r,m,s,a,g,l);return n&&y.setUserPublicKey(n),y}getAccountToAmmIdsMap(){const e=new Map;return this.tokenRouteSegments.forEach((t=>{Array.from(t.values()).forEach((t=>{t.forEach((t=>{t.getAccountsForUpdate().forEach((n=>{const r=e.get(n.toBase58())||new Set;r.add(t.id),e.set(n.toBase58(),r)}))}))}))})),e}getAmmIdToAmmMap(){const e=new Map;return this.tokenRouteSegments.forEach((t=>{Array.from(t.values()).forEach((t=>{t.forEach((t=>{e.set(t.id,t)}))}))})),e}async computeRoutes({inputMint:e,outputMint:t,amount:n,slippageBps:r,feeBps:i=0,forceFetch:o,onlyDirectRoutes:s,swapMode:a=No.ExactIn,filterTopNResult:u,enforceSingleTx:c}){const l=e.toBase58(),d=t.toBase58(),f=i||(this.platformFeeAndAccounts.feeAccounts.get(d)?this.platformFeeAndAccounts.feeBps:0),p=(new Date).getTime(),h=[l,d].sort(((e,t)=>e.localeCompare(t))).join(""),m=this.routeCache.get(h),g=function({inputMint:e,outputMint:t,tokenRouteSegments:n,swapMode:r,intermediateTokens:i,onlyDirectRoutes:o}){const s=new Map,a=n.get(e),u=n.get(t);if(a&&u){const n=Math.min(a.size,u.size),c=a.size<u.size,l=new Map,d=new Map;let[f,p,h,m]=c?[a,u,e,t]:[u,a,t,e];for(let[e,t]of f.entries()){let a=r===No.ExactIn?t:t.filter((e=>e.exactOutputSupported));if(e===m){l.set(e,a),d.set(h,a);continue}if(o||r===No.ExactOut||Vu(i,n,e))continue;const u=p.get(e);if(u){let t=r===No.ExactIn?u:u.filter((e=>e.exactOutputSupported));s.set(e,new Map([[h,a],[m,t]])),l.set(e,a),d.set(e,t)}}s.set(h,l),s.set(m,d)}return s}({inputMint:l,outputMint:d,tokenRouteSegments:this.tokenRouteSegments,intermediateTokens:this.intermediateTokens,onlyDirectRoutes:s,swapMode:a});let y=!1;if(-1===this.routeCacheDuration)y=!1;else if(0===this.routeCacheDuration)y=!0;else if(m){const{fetchTimestamp:e}=m;p-e>this.routeCacheDuration&&(y=!0)}else y=!0;(o||y)&&(await async function(e,t){const n=new Map,r=new Set,i=new Map;t.forEach((e=>{e.forEach((e=>{e.forEach((e=>{i.set(e.id,e),e.getAccountsForUpdate().forEach((e=>{r.add(e.toBase58())}))}))}))}));const o=Array.from(r);o.length>0&&((await Ro(e,o)).forEach(((e,t)=>{e&&n.set(o[t],e)})),i.forEach((e=>{e.update(n)})))}(this.connection,g),this.routeCache.set(h,{fetchTimestamp:(new Date).getTime()}));try{return{routesInfos:hc({inputRouteSegment:g,inputMint:e,outputMint:t,amount:n,getDepositAndFeeForRoute:this.getDepositAndFeesForUser,onlyDirectRoutes:s,slippageBps:r,platformFeeBps:f,filterTopNResult:u,swapMode:a,enforceSingleTx:c}),cached:!(o||y)}}catch(e){throw e}finally{this.routeCache.forEach((({fetchTimestamp:e},t)=>{e-p>this.routeCacheDuration&&this.routeCache.delete(t)}))}}setUserPublicKey(e){this.user=e;const t=new Ju(this.user);this.serumOpenOrdersPromise=this.shouldLoadSerumOpenOrders?bc.findSerumOpenOrdersForOwner({connection:this.connection,cluster:this.cluster,userPublicKey:t.publicKey}):Promise.resolve(new Map)}static async fetchAmms(e,t,n,r){return async function(e,t,n={}){const r=(e=>e.map((e=>{const{data:[t,n],pubkey:r,...o}=e;return{...o,pubkey:new i.PublicKey(r),data:Buffer.from(t,n),owner:new i.PublicKey(o.owner)}})))(t),s=[],a=[],u=r.reduce(((e,t)=>{const r=function(e,t,n){const r=new i.PublicKey(t.owner);if(r.equals(zo)||r.equals(jo)||r.equals(Ts)){const e=o.Market.getLayout(r).decode(t.data);if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market");const n=new o.Market(e,0,0,{},r);return new Mu(n)}if(r.equals(Go)){const r=new mu(e,t,n);if(r.isTradable)return r}else{if(r.equals(is))return new uu(e,t,n);if(r.equals(fe)){const n=t.data.slice(2,3),r=_e.loadWithData(e,t.data,Ws([e.toBuffer(),n],fe));if(r.state.isPaused||!r.state.isInitialized)return;return new bu(r)}if(r.equals(Zo))return new yu(e,t);if(r.equals(ts))return new Ra(e,t,n);if(r.equals(Xo)||r.equals(Yo))return new Pa(e,t,n);if([...Wu.keys()].includes(r.toBase58())){var s;const n=null!==(s=Wu.get(t.owner.toBase58()))&&void 0!==s?s:"Unknown";return new Tu(e,t,n)}if(r.equals($o))return new Na(e,t,n);if(r.equals(Jo)){const n=new vu(e,t);if(n.isPaused)return;return n}if(r.equals(es))return new Ga(e,t);if(r.equals(Is))return new Xa(e,t);if(r.equals(os))return new Cu(e,t);if(r.equals(cs))return new Ua(e,t);if(r.equals(ds))return new nu(e,t);if(r.equals(ys))return new pu(e,t,n);if(r.equals(vs))return new qa(e,t);if(r.equals(ss))return new Qa(e,t);if(r.equals(ks))return new Ru(e,t,n);if(r.equals(As))return new La(e,t);if(r.equals(Ps))return new Nu(e,t);if(r.equals(Os))return new Ku(e,t)}}(t.pubkey,t,t.params);if(r){if(Lo(n,r.label))return e;e.push(r),r.shouldPrefetch&&s.push(r),r instanceof yu&&a.push(r.wrapperMint.toBase58())}return e}),new Array);return await Promise.all([Ko(s,e),(0,Rr.oP)()]),{amms:u,saberWrapperMints:a}}(e,await(async e=>await(await Eo()(e)).json())(r||qo[t]),n)}getRouteMap(e){return function(e,t,n,r){const i=new Map;for(const[r,u]of e){const c=new Set;for(const[i,l]of u){var o;if(c.add(i),n)continue;const d=null!==(o=e.get(i))&&void 0!==o?o:new Map;for(const[n,o]of d){var s,a;if(n===r)continue;const d=null!==(s=null===(a=e.get(n))||void 0===a?void 0:a.size)&&void 0!==s?s:0;if(Vu(t,Math.min(u.size,d),i))continue;let f=!1;for(const e of l){for(const t of o)if(Uu({amms:[e,t],enforceSingleTx:void 0})){c.add(n),f=!0;break}if(f)break}}}i.set(r,Array.from(c))}return i}(this.tokenRouteSegments,this.intermediateTokens,e)}static async getIntermediateTokens(e){const t=await async function(){const e=await(await Eo()("https://cache.jup.ag/top-tokens")).json();return new Set(e.filter(((e,t)=>t<60)))}();for(const e of Ls)t.add(e);return e.forEach((e=>t.add(e))),Array.from(t)}}bc.getRemoteRouteMap=yc,bc.findSerumOpenOrdersForOwner=async({userPublicKey:e,cluster:t,connection:n})=>{const r=new Map;if(e){const i="mainnet-beta"===t?zo:jo;(await o.OpenOrders.findForOwner(n,e,i)).forEach((e=>{r.set(e.market.toString(),e.address)}))}return r};const wc=async({connection:e,wallet:t,onTransaction:n,inputMint:r,outputMint:i,sourceAddress:o,destinationAddress:s,setupTransaction:a,swapTransaction:u,cleanupTransaction:c,owner:l,wrapUnwrapSOL:d})=>{let f,p;try{const h=[a,u,c].filter((e=>void 0!==e)),m=h.length;if(l.signer){const e=l.signer;h.forEach((t=>{t.sign(e)}))}else{if(!t)throw new Error("Signer wallet not found");if(m>1){const e=await t.signAllTransactions(h);let n=0;[a,u,c]=[a?e[n++]:void 0,e[n++],c?e[n++]:void 0]}else u=await t.signTransaction(u)}if(a){let t=sc(a);const r=(async()=>await gc(await oc(e,a)))();if(null==n||n(t,m,"SETUP",r),await r instanceof Error)throw p}const g=sc(u);try{const t=(async()=>await gc(await oc(e,u)))();null==n||n(g,m,"SWAP",t);const a=await t;if(a instanceof Error)throw a;const[f,h]=function({txid:e,inputMint:t,outputMint:n,user:r,sourceAddress:i,destinationAddress:o,transactionResponse:s,hasWrappedSOL:a}){let u,c;if(s){let{meta:e,transaction:l}=s;e&&(u=t.equals(Wo)&&!a?nc(e,l,r):tc(e,l,i),c=n.equals(Wo)&&!a?nc(e,l,r):tc(e,l,o))}if(!u||!c)throw new He("Cannot find source or destination token account balance change",e,Cs.BalancesNotExtractedProperly.code);return[u,c]}({txid:g,inputMint:r,outputMint:i,user:l.publicKey,sourceAddress:o,destinationAddress:s,transactionResponse:a,hasWrappedSOL:Boolean(c)||!d});p={txid:g,inputAddress:o,outputAddress:s,inputAmount:f,outputAmount:h}}catch(e){f=e}finally{if(c){const t=sc(c),r=(async()=>gc(await oc(e,c)))();null==n||n(t,m,"CLEANUP",r),await r}}if(f||!p)throw f||new Error("Swap failed");return p}catch(e){return{error:e}}};var vc=n(2809);const Sc={INITIALIZE_ERROR:"INITIALIZE_ERROR",ROUTES_ERROR:"ROUTES_ERROR"},Ac=e=>({...e,marketInfos:e.marketInfos.map((e=>({...e,inputMint:e.inputMint.toBase58(),outputMint:e.outputMint.toBase58(),lpFee:{...e.lpFee,amount:e.lpFee.amount.toString()},platformFee:{...e.platformFee,amount:e.platformFee.amount.toString()},inAmount:e.inAmount.toString(),outAmount:e.outAmount.toString(),minInAmount:e.minInAmount?e.minInAmount.toString():void 0,minOutAmount:e.minOutAmount?e.minOutAmount.toString():void 0}))),inAmount:e.inAmount.toString(),outAmount:e.outAmount.toString(),amount:e.amount.toString(),otherAmountThreshold:e.otherAmountThreshold.toString()}),kc=(0,r.createContext)(null),_c=({onlyDirectRoutes:e,userPublicKey:t,jupiterQuoteApiUrl:n,children:i,...o})=>{const[s,a]=(0,r.useState)(new Map),[u,c]=(0,r.useState)(),l=(0,r.useMemo)((()=>{const e=new vc.VK({basePath:n??"https://quote-api.jup.ag/",fetchApi:Eo()});return new vc.M2(e)}),[n]);(0,r.useEffect)((()=>{!async function(){const t=new URL("https://cache.jup.ag/indexed-route-map").toString(),n=await yc({onlyDirectRoutes:e,restrictIntermediateTokens:!0},t);a(n)}()}),[e]);const d=(0,r.useMemo)((()=>Array.from(s.keys())),[s]);return r.createElement(kc.Provider,{value:{...o,userPublicKey:t,jupiterApiClient:l,allTokenMints:d,routeMap:s,error:u,setError:c,onlyDirectRoutes:e}},i)},Mc=()=>{const e=(0,r.useContext)(kc);if(!e)throw new Error("JupiterProvider is required");return e.routeMap},Ic=({amount:e,inputMint:t,outputMint:n,slippage:o,debounceTime:s=250})=>{const a=(0,r.useContext)(kc),[u,c]=(0,r.useState)(!1),[l,d]=(0,r.useState)(),[f,p]=(0,r.useState)(0),h=(0,r.useRef)(f),[m,y,b]=function(e,t){const[n,i]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const n=setTimeout((()=>{i(e)}),t);return()=>{clearTimeout(n)}}),[e,t]),n}(r.useMemo((()=>(S().greaterThan(e,S().BigInt(0))&&c(!0),[e,t,n])),[e.toString(),t?.toBase58(),n?.toBase58()]),s),w=(0,r.useRef)(0),v=(0,r.useRef)(0);if(!a)throw new Error("JupiterProvider is required");const{routeMap:A,allTokenMints:k,error:_,setError:M,routeCacheDuration:I=0,onlyDirectRoutes:E,jupiterApiClient:P,userPublicKey:T,connection:O,wrapUnwrapSOL:x,enforceSingleTx:B,platformFeeAndAccounts:L}=a;(0,r.useEffect)((()=>{h.current=-1}),[[y?.toString(),b?.toString()].sort().join("-"),o]),(0,r.useEffect)((()=>{w.current&&(new Date).getTime()-w.current>=I&&(h.current=-1),S().greaterThan(m,S().BigInt(0))?c(!0):c(!1)}),[f,m,o,y,b,E,B]),(0,r.useEffect)((()=>{!async function(){if(S().equal(m,S().BigInt(0))||_===Sc.INITIALIZE_ERROR)c(!1),d(void 0);else if(m){if(!y||!b||!A)return;const e=(new Date).getTime();v.current=e;try{const t=b.toBase58(),n=await P.v3QuoteGet({amount:m.toString(),inputMint:y.toBase58(),outputMint:t,userPublicKey:T?.toBase58(),slippageBps:Math.ceil(100*o),onlyDirectRoutes:E,enforceSingleTx:B,feeBps:L?.feeAccounts.get(t)?L?.feeBps:void 0});if(v.current!==e)return;if(n.data){const e=n.data.map((e=>({marketInfos:e.marketInfos.map((({id:e,inAmount:t,inputMint:n,label:r,lpFee:o,notEnoughLiquidity:s,outAmount:a,outputMint:u,platformFee:c,priceImpactPct:l,minInAmount:d,minOutAmount:f})=>({id:e,label:r,notEnoughLiquidity:s,priceImpactPct:l,inputMint:new i.PublicKey(n),outputMint:new i.PublicKey(u),lpFee:{mint:o.mint,pct:o.pct,amount:S().BigInt(o.amount)},platformFee:{mint:c.mint,pct:c.pct,amount:S().BigInt(c.amount)},inAmount:S().BigInt(t),outAmount:S().BigInt(a),minInAmount:d?S().BigInt(d):void 0,minOutAmount:f?S().BigInt(f):void 0}))),fees:e.fees,priceImpactPct:e.priceImpactPct,slippageBps:e.slippageBps,swapMode:e.swapMode,inAmount:S().BigInt(e.inAmount),outAmount:S().BigInt(e.outAmount),amount:S().BigInt(e.amount),otherAmountThreshold:S().BigInt(e.otherAmountThreshold)})));d(e),M(void 0),w.current=(new Date).getTime()}}catch(t){if(console.error(t),v.current!==e)return;d(void 0),M(Sc.ROUTES_ERROR)}finally{if(v.current!==e)return;h.current=f,c(!1)}}}()}),[L,m,y,b,o,T,f,E,B]);const C=(0,r.useCallback)((async({wallet:e,routeInfo:t,onTransaction:n,...r})=>{if(!T)throw new Error("User public key is required");if(!e)throw new Error("Wallet is required");const[o,s]=[t.marketInfos[0].inputMint,t.marketInfos[t.marketInfos.length-1].outputMint],a=await P.v3SwapPost({body:{route:Ac(t),userPublicKey:T.toBase58(),wrapUnwrapSOL:r.wrapUnwrapSOL??x??!0,feeAccount:L?.feeAccounts.get(s.toBase58())?.toBase58()}}).catch((async e=>{const{error:t,message:n}=await e.json();return{error:new He(n,void 0,t)}}));if("error"in a)return a;const{setupTransaction:u,swapTransaction:c,cleanupTransaction:l}=a;let d=[u,c,l].map((e=>e?i.Transaction.from(Buffer.from(e,"base64")):void 0));const[f,p]=await Promise.all([o,s].map((e=>g.Token.getAssociatedTokenAddress(g.ASSOCIATED_TOKEN_PROGRAM_ID,g.TOKEN_PROGRAM_ID,e,T,!0))));return wc({connection:O,wallet:e,onTransaction:n,inputMint:o,outputMint:s,sourceAddress:f,destinationAddress:p,setupTransaction:d[0],swapTransaction:d[1],cleanupTransaction:d[2],wrapUnwrapSOL:x,owner:new Ju(T)})}),[T,x,O,L]);return{allTokenMints:k,routeMap:A,exchange:C,refresh:()=>{!u&&w.current&&p((e=>e+1))},lastRefreshTimestamp:w.current,loading:u,routes:l,error:_}}},2573:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccountClient:()=>Se,AccountsCoder:()=>W,BN:()=>g(),Coder:()=>$,EventCoder:()=>V,InstructionCoder:()=>K,Program:()=>Ke,Provider:()=>w,StateClient:()=>be,StateCoder:()=>Y,TypesCoder:()=>j,Wallet:()=>v,getProvider:()=>A,setProvider:()=>S,utils:()=>p,web3:()=>y,workspace:()=>We});var r={};n.r(r),n.d(r,{isSet:()=>X,set:()=>G});var i={};n.r(i),n.d(i,{associated:()=>fe,createProgramAddressSync:()=>ce,createWithSeedSync:()=>ue,findProgramAddressSync:()=>le});var o={};n.r(o),n.d(o,{decode:()=>Be,encode:()=>xe});var s={};n.r(s),n.d(s,{decode:()=>Le,encode:()=>Ce});var a={};n.r(a),n.d(a,{decode:()=>Ne,encode:()=>Re});var u={};n.r(u),n.d(u,{decode:()=>Fe,encode:()=>De});var c={};n.r(c),n.d(c,{base64:()=>u,bs58:()=>a,hex:()=>o,utf8:()=>s});var l={};n.r(l),n.d(l,{hash:()=>ze});var d={};n.r(d),n.d(d,{getMultipleAccounts:()=>qe,invoke:()=>je});var f={};n.r(f),n.d(f,{associatedAddress:()=>Qe});var p={};n.r(p),n.d(p,{bytes:()=>c,features:()=>r,publicKey:()=>i,rpc:()=>d,sha256:()=>l,token:()=>f});var h,m=n(9098),g=n.n(m),y=n(9990);const b="undefined"!=typeof window&&!(null===(h=window.process)||void 0===h?void 0:h.hasOwnProperty("type"));class w{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(e,t){t=null!=t?t:w.defaultOptions();const n=new y.Connection(null!=e?e:"http://localhost:8899",t.preflightCommitment),r=v.local();return new w(n,r,t)}static env(){if(b)return;const e=n(4224).env.ANCHOR_PROVIDER_URL;if(void 0===e)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=w.defaultOptions(),r=new y.Connection(e,t.commitment),i=v.local();return new w(r,i,t)}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,y.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(r),o=[];for(let e=0;e<r.length;e+=1){const n=i[e].serialize();o.push(await(0,y.sendAndConfirmRawTransaction)(this.connection,n,t))}return o}async simulate(e,t,n){var r,i;return void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)}}class v{constructor(e){this.payer=e}static local(){const e=y.Keypair.fromSecretKey(Buffer.from(JSON.parse(n(9518).readFileSync(n(6267).homedir()+"/.config/solana/id.json",{encoding:"utf-8"}))));return new v(e)}async signTransaction(e){return e.partialSign(this.payer),e}async signAllTransactions(e){return e.map((e=>(e.partialSign(this.payer),e)))}get publicKey(){return this.payer.publicKey}}function S(e){k=e}function A(){return null===k?w.local():k}let k=null;var _=n(1036),M=n.n(_),I=n(8507),E=n(1511);class P extends Error{}class T extends Error{constructor(e,t,...n){super(...n),this.code=e,this.msg=t}static parse(e,t){let n,r=e.toString().split("custom program error: ");if(2!==r.length)return null;try{n=parseInt(r[1])}catch(e){return null}let i=t.get(n);return void 0!==i?new T(n,i):(i=O.get(n),void 0!==i?new T(n,i):null)}toString(){return this.msg}}const O=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[120,"The program was compiled without idl instructions"],[121,"The transaction was given an invalid program for the IDL instruction"],[140,"A mut constraint was violated"],[141,"A has_one constraint was violated"],[142,"A signer constraint was violated"],[143,"A raw constraint as violated"],[144,"An owner constraint was violated"],[145,"A rent exempt constraint was violated"],[146,"A seeds constraint was violated"],[147,"An executable constraint was violated"],[148,"A state constraint was violated"],[149,"An associated constraint was violated"],[150,"An associated init constraint was violated"],[151,"A close constraint was violated"],[152,"An address constraint was violated"],[160,"The account discriminator was already set on this account"],[161,"No 8 byte discriminator was found on the account"],[162,"8 byte discriminator did not match what was expected"],[163,"Failed to deserialize the account"],[164,"Failed to serialize the account"],[165,"Not enough account keys given to the instruction"],[166,"The given account is not mutable"],[167,"The given account is not owned by the executing program"],[180,"The given state account does not have the correct address"],[299,"The API being used is deprecated and should no longer be used"]]);class x{static fieldLayout(e,t){const n=void 0!==e.name?M()(e.name):void 0;switch(e.type){case"bool":return I.bool(n);case"u8":return I.u8(n);case"i8":return I.i8(n);case"u16":return I.u16(n);case"i16":return I.i16(n);case"u32":return I.u32(n);case"i32":return I.i32(n);case"u64":return I.u64(n);case"i64":return I.i64(n);case"u128":return I.u128(n);case"i128":return I.i128(n);case"bytes":return I.vecU8(n);case"string":return I.str(n);case"publicKey":return I.publicKey(n);default:if(e.type.vec)return I.vec(x.fieldLayout({name:void 0,type:e.type.vec},t),n);if(e.type.option)return I.option(x.fieldLayout({name:void 0,type:e.type.option},t),n);if(e.type.defined){if(void 0===t)throw new P("User defined types not provided");const r=t.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new P(`Type not found: ${JSON.stringify(e)}`);return x.typeDefLayout(r[0],t,n)}if(e.type.array){let r=e.type.array[0],i=e.type.array[1],o=x.fieldLayout({name:void 0,type:r},t);return I.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t,n){if("struct"===e.type.kind){const r=e.type.fields.map((e=>x.fieldLayout(e,t)));return I.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=M()(e.name);if(void 0===e.fields)return I.struct([],n);const r=e.fields.map((e=>{if(void 0===e.name)throw new Error("Tuple enum variants not yet implemented.");return x.fieldLayout(e,t)}));return I.struct(r,n)}));return void 0!==n?I.rustEnum(r).replicate(n):I.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}var B=n(3779),L=n(9489);function C(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if(void 0===t.name)throw new Error("Tuple enum variants not yet implemented.");return R(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>R(e,t.type))).reduce(((e,t)=>e+t))}function R(e,t){switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if(void 0!==t.vec)return 1;if(void 0!==t.option)return 1+R(e,t.option);if(void 0!==t.defined){const n=e.types.filter((e=>e.name===t.defined));if(1!==n.length)throw new P(`Type not found: ${JSON.stringify(t)}`);return C(e,n[0])}if(void 0!==t.array){let n=t.array[0],r=t.array[1];return R(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function N(e,t){let n=`${e}:${(0,B.f)(t)}`;return Buffer.from(L.sha256.digest(n)).slice(0,8)}const D="state",F="global";class K{constructor(e){this.idl=e,this.ixLayout=K.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=N(F,e.name);t.set(E.encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=N(D,e.name);t.set(E.encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode(F,e,t)}encodeState(e,t){return this._encode(D,e,t)}_encode(e,t,n){const r=Buffer.alloc(1e3),i=M()(t),o=this.ixLayout.get(i).encode(n,r),s=r.slice(0,o);return Buffer.concat([N(e,t),s])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>x.fieldLayout(t,e.types)));const r=M()(t.name);return[r,I.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>x.fieldLayout(t,e.types)));const r=M()(t.name);return[r,I.struct(n,r)]})));return new Map(t)}decode(e){"string"==typeof e&&(e=E.decode(e));let t=E.encode(e.slice(0,8)),n=e.slice(8);const r=this.sighashLayouts.get(t);return r?{data:r.layout.decode(n),name:r.name}:null}format(e,t){return U.format(e,t,this.idl)}}class U{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:U.formatIdlType(t.type),data:U.formatIdlData(t,e.data[t.name],n.types)}))),o=U.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){return"string"==typeof e?e:e.vec?`Vec<${this.formatIdlType(e.vec)}>`:e.option?`Option<${this.formatIdlType(e.option)}>`:e.defined?e.defined:void 0}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.vec)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.option)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.defined){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return U.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind)return"{ "+Object.keys(t).map((r=>{const i=e.type.fields.filter((e=>e.name===r))[0];if(void 0===i)throw new Error("Unable to find type");return r+": "+U.formatIdlData(i,t[r],n)})).join(", ")+" }";if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=Object.keys(t)[0],i=t[r],o=Object.keys(i).map((t=>{var o;const s=i[t],a=null===(o=e.type.variants[r])||void 0===o?void 0:o.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+U.formatIdlData(a,s,n)})).join(", "),s=M()(r,{pascalCase:!0});return 0===o.length?s:`${s} { ${o} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.accounts){const r=t?`${t} > ${n}`:n;return U.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}class W{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,x.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const n=Buffer.alloc(1e3),r=this.accountLayouts.get(e).encode(t,n);let i=n.slice(0,r),o=await z(e);return Buffer.concat([o,i])}decode(e,t){const n=t.slice(8);return this.accountLayouts.get(e).decode(n)}}async function z(e){return Buffer.from(L.sha256.digest(`account:${e}`)).slice(0,8)}class j{constructor(e){if(void 0===e.types)return void(this.layouts=new Map);const t=e.types.map((t=>[t.name,x.typeDefLayout(t,e.types)]));this.layouts=new Map(t)}encode(e,t){const n=Buffer.alloc(1e3),r=this.layouts.get(e).encode(t,n);return n.slice(0,r)}decode(e,t){return this.layouts.get(e).decode(t)}}var q=n(5415);class V{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,x.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[q.fromByteArray((t=e.name,Buffer.from(L.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=Buffer.from(q.toByteArray(e))}catch(e){return null}const n=q.fromByteArray(t.slice(0,8)),r=this.discriminators.get(n);return void 0===r?null:{data:this.layouts.get(r).decode(t.slice(8)),name:r}}}const H=new Set(["anchor-deprecated-state"]),Q=new Map;function G(e){if(!H.has(e))throw new Error("Invalid feature");Q.set(e,!0)}function X(e){return void 0!==Q.get(e)}class Y{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=x.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=Buffer.alloc(1e3),r=this.layout.encode(t,n),i=await Z(e),o=n.slice(0,r);return Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function Z(e){let t=X("anchor-deprecated-state")?"account":"state";return Buffer.from(L.sha256.digest(`${t}:${e}`)).slice(0,8)}class ${constructor(e){this.instruction=new K(e),this.accounts=new W(e),this.types=new j(e),this.events=new V(e),e.state&&(this.state=new Y(e))}sighash(e,t){return N(e,t)}}var J=n(3859),ee=n(189);const te=I.struct([I.publicKey("authority"),I.vecU8("data")]);var ne=n(1312),re=n.n(ne);function ie(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function oe(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1})),n}function se(e,t){e.forEach((e=>{if(void 0!==e.accounts)se(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function ae(e){return"string"==typeof e?new y.PublicKey(e):e}function ue(e,t,n){const r=Buffer.concat([e.toBuffer(),Buffer.from(t),n.toBuffer()]),i=L.sha256.digest(r);return new y.PublicKey(Buffer.from(i))}function ce(e,t){let n=Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=Buffer.concat([n,de(e)])})),n=Buffer.concat([n,t.toBuffer(),Buffer.from("ProgramDerivedAddress")]);let r=(0,L.sha256)(new Uint8Array(n)),i=new(g())(r,16).toArray(void 0,32);if(y.PublicKey.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new y.PublicKey(i)}function le(e,t){let n,r=255;for(;0!=r;){try{n=ce(e.concat(Buffer.from([r])),t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const de=e=>e instanceof Buffer?e:e instanceof Uint8Array?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);async function fe(e,...t){let n=[Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(void 0!==e.buffer?e:ae(e).toBuffer())}));const[r]=await y.PublicKey.findProgramAddress(n,ae(e));return r}function pe(e,t){let n={};const r=e.args?e.args.length:0;if(t.length>r){if(t.length!==r+1)throw new Error("provided too many arguments ${args}");n=t.pop()}return[t,n]}class he{static build(e,t,n){if("_inner"===e.name)throw new P("the _inner name is reserved");const r=(...i)=>{const[o,s]=pe(e,[...i]);se(e.accounts,s.accounts);const a=r.accounts(s.accounts);return void 0!==s.remainingAccounts&&a.push(...s.remainingAccounts),s.__private&&s.__private.logAccounts&&console.log("Outgoing account metas:",a),new y.TransactionInstruction({keys:a,programId:n,data:t(e.name,oe(e,...o))})};return r.accounts=t=>he.accountsArray(t,e.accounts),r}static accountsArray(e,t){return t.map((t=>{const n=t.accounts;if(void 0!==n){const r=e[t.name];return he.accountsArray(r,n).flat()}{const n=t;return{pubkey:ae(e[t.name]),isWritable:n.isMut,isSigner:n.isSigner}}})).flat()}}class me{static build(e,t,n,r){return async(...i)=>{const o=t(...i),[,s]=pe(e,[...i]);try{return await r.send(o,s.signers,s.options)}catch(e){console.log("Translating error",e);let t=T.parse(e,n);if(null===t)throw e;throw t}}}}class ge{static build(e,t){return(...n)=>{const[,r]=pe(e,[...n]),i=new y.Transaction;return void 0!==r.instructions&&i.add(...r.instructions),i.add(t(...n)),i}}}class ye{static build(e,t,n,r){if(void 0!==e.state)return new be(e,n,r,t)}}class be{constructor(e,t,n,r){this._idl=e,this._programId=t,this._address=we(t),this._provider=null!=n?n:A(),this._coder=null!=r?r:new $(e),this._sub=null;const[i,o,s]=(()=>{let i={},o={},s={};return e.state.methods.forEach((a=>{const u=he.build(a,((e,t)=>r.instruction.encodeState(e,t)),t);u.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=le([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:we(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:y.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1},{pubkey:y.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}]}return se(n.accounts,r),[{pubkey:we(e),isWritable:!0,isSigner:!1}]}(t,n,a,e);return r.concat(he.accountsArray(e,a.accounts))};const c=ge.build(a,u),l=me.build(a,c,ie(e),n),d=M()(a.name);i[d]=u,o[d]=c,s[d]=l})),[i,o,s]})();this.instruction=i,this.transaction=o,this.rpc=s}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await Z(this._idl.state.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(re()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function we(e){let[t]=le([],e);return ue(t,"unversioned",e)}class ve{static build(e,t,n,r){const i={};return e.accounts.forEach((o=>{const s=M()(o.name);i[s]=new Se(e,o,n,r,t)})),i}}class Se{constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:A(),this._coder=null!=i?i:new $(e),this._size=8+C(e,t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(e){const t=await this._provider.connection.getAccountInfo(ae(e));if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await z(this._idlAccount.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,t.data)}async all(e){let t=await z(this._idlAccount.name);return void 0!==e&&(t=Buffer.concat([t,e])),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:E.encode(t)}}]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){if(Ae.get(e.toString()))return Ae.get(e.toString()).ee;const n=new(re());e=ae(e);const r=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);n.emit("change",t)}),t);return Ae.set(e.toString(),{ee:n,listener:r}),n}unsubscribe(e){let t=Ae.get(e.toString());t?Ae&&this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Ae.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return y.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await fe(this._programId,...e)}}const Ae=new Map;var ke=n(2943),_e=n.n(ke);const Me="Program log: ".length;class Ie{constructor(e,t){this.coder=e,this.programId=t}parseLogs(e,t){const n=new Pe(e),r=new Ee(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(Me);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Ee{constructor(e){const t=/^Program (.*) invoke.*$/g.exec(e)[1];this.stack=[t]}program(){return ke.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){ke.ok(this.stack.length>0),this.stack.pop()}}class Pe{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class Te{static build(e,t,n,r,i,o,s){return async(...a)=>{const u=t(...a),[,c]=pe(e,[...a]);let l;try{l=await r.simulate(u,c.signers,c.options)}catch(e){console.log("Translating error",e);let t=T.parse(e,n);if(null===t)throw e;throw t}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];return s.events&&new Ie(i,o).parseLogs(d,(e=>{f.push(e)})),{events:f,raw:d}}}}class Oe{static build(e,t,n,r){const i={},o={},s={},a={},u=ie(e),c=ye.build(e,t,n,r);e.instructions.forEach((c=>{const l=he.build(c,((e,n)=>t.instruction.encode(e,n)),n),d=ge.build(c,l),f=me.build(c,d,u,r),p=Te.build(c,d,u,r,t,n,e),h=M()(c.name);o[h]=l,s[h]=d,i[h]=f,a[h]=p}));const l=e.accounts?ve.build(e,t,n,r):{};return[i,o,s,l,a,c]}}function xe(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")}function Be(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?Buffer.from([]):Buffer.from(t.map((e=>parseInt(e,16))))}function Le(e){return("undefined"==typeof TextDecoder?new(n(3585).TextDecoder)("utf-8"):new TextDecoder("utf-8")).decode(e)}function Ce(e){return("undefined"==typeof TextEncoder?new(n(3585).TextEncoder)("utf-8"):new TextEncoder).encode(e)}function Re(e){return E.encode(e)}function Ne(e){return E.decode(e)}function De(e){return q.fromByteArray(e)}function Fe(e){return Buffer.from(q.toByteArray(e))}class Ke{constructor(e,t,n){t=ae(t),this._idl=e,this._programId=t,this._provider=null!=n?n:A(),this._coder=new $(e);const[r,i,o,s,a,u]=Oe.build(e,this._coder,t,this._provider);this.rpc=r,this.instruction=i,this.transaction=o,this.account=s,this.simulate=a,this.state=u}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=ae(e),r=await Ke.fetchIdl(n,t);return new Ke(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:A();const n=ae(e),r=await async function(e){const t=(await y.PublicKey.findProgramAddress([],e))[0];return await y.PublicKey.createWithSeed(t,"anchor:idl",e)}(n);let i=(o=(await t.connection.getAccountInfo(r)).data.slice(8),te.decode(o));var o;const s=(0,ee.rr)(i.data);return JSON.parse(Le(s))}addEventListener(e,t){const n=new Ie(this._coder,this._programId);return this._provider.connection.onLogs(this._programId,((r,i)=>{r.err?console.error(r):n.parseLogs(r.logs,(n=>{n.name===e&&t(n.data,i.slot)}))}))}async removeEventListener(e){return this._provider.connection.removeOnLogsListener(e)}}let Ue=!1;const We=new Proxy({},{get(e,t){if(b)return void console.log("Workspaces aren't available in the browser");const r=n(9518),i=n(4224);if(!Ue){const t=n(2005);let o=i.cwd();for(;!r.existsSync(t.join(o,"Anchor.toml"));){const e=t.dirname(o);e===o&&(o=void 0),o=e}if(void 0===o)throw new Error("Could not find workspace root.");const s=`${o}/target/idl`;if(!r.existsSync(s))throw new Error(`${s} doesn't exist. Did you use "anchor build"?`);const a=new Map;r.readdirSync(s).forEach((t=>{const n=`${s}/${t}`,i=r.readFileSync(n),o=JSON.parse(i);a.set(o.name,o);const u=M()(o.name,{pascalCase:!0});o.metadata&&o.metadata.address&&(e[u]=new Ke(o,new y.PublicKey(o.metadata.address)))}));const u=J.parse(r.readFileSync(t.join(o,"Anchor.toml"),"utf-8")),c=u.provider.cluster;u.clusters&&u.clusters[c]&&function(e,t,r){Object.keys(t).forEach((i=>{const o=M()(i,{pascalCase:!0}),s=t[i],a=new y.PublicKey("string"==typeof s?s:s.address);let u=r.get(i);"string"!=typeof s&&s.idl&&(u=JSON.parse(n(9518).readFileSync(s.idl,"utf-8"))),e[o]=new Ke(u,a)}))}(e,u.clusters[c],a),Ue=!0}return e[t]}});function ze(e){return(0,L.sha256)(e)}async function je(e,t,n,r){e=ae(e),r||(r=A());const i=new y.Transaction;return i.add(new y.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(i)}async function qe(e,t){const n=[t.map((e=>e.toBase58())),{commitment:"recent"}],r=await e._rpcRequest("getMultipleAccounts",n);if(r.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+r.error.message);_e()(void 0!==r.result);const i=[];for(const e of r.result.value){let t=null;if(null!==e){if(r.result.value){const{executable:n,owner:r,lamports:i,data:o}=e;_e()("base64"===o[1]),t={executable:n,owner:new y.PublicKey(r),lamports:i,data:Buffer.from(o[0],"base64")}}if(null===t)throw new Error("Invalid response");i.push(t)}else i.push(null)}return i.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}const Ve=new y.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),He=new y.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function Qe({mint:e,owner:t}){return(await y.PublicKey.findProgramAddress([t.toBuffer(),Ve.toBuffer(),e.toBuffer()],He))[0]}},9068:(e,t,n)=>{"use strict";n.d(t,{BN:()=>o(),VH:()=>l});var r,i=n(9098),o=n.n(i),s=n(9990);const a="undefined"!=typeof window&&!(null===(r=window.process)||void 0===r?void 0:r.hasOwnProperty("type"));class u{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(e,t){t=null!=t?t:u.defaultOptions();const n=new s.Connection(null!=e?e:"http://localhost:8899",t.preflightCommitment),r=c.local();return new u(n,r,t)}static env(){if(a)throw new Error("Provider env is not available on browser.");const e=n(4224).env.ANCHOR_PROVIDER_URL;if(void 0===e)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=u.defaultOptions(),r=new s.Connection(e,t.commitment),i=c.local();return new u(r,i,t)}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,s.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(r),o=[];for(let e=0;e<r.length;e+=1){const n=i[e].serialize();o.push(await(0,s.sendAndConfirmRawTransaction)(this.connection,n,t))}return o}async simulate(e,t,n=this.opts){var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"recent")}}class c{constructor(e){this.payer=e}static local(){const e=n(4224),t=s.Keypair.fromSecretKey(Buffer.from(JSON.parse(n(9563).readFileSync(e.env.ANCHOR_WALLET,{encoding:"utf-8"}))));return new c(t)}async signTransaction(e){return e.partialSign(this.payer),e}async signAllTransactions(e){return e.map((e=>(e.partialSign(this.payer),e)))}get publicKey(){return this.payer.publicKey}}function l(){return null===d?u.local():d}let d=null;var f=n(1036),p=n.n(f),h=n(8507),m=n(1511);class g extends Error{constructor(e){super(e),this.name="IdlError"}}class y extends Error{constructor(e,t,...n){super(...n),this.code=e,this.msg=t}static parse(e,t){let n,r=e.toString().split("custom program error: ");if(2!==r.length)return null;try{n=parseInt(r[1])}catch(e){return null}let i=t.get(n);return void 0!==i?new y(n,i,n+": "+i):(i=b.get(n),void 0!==i?new y(n,i,n+": "+i):null)}toString(){return this.msg}}const b=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[120,"The program was compiled without idl instructions"],[121,"The transaction was given an invalid program for the IDL instruction"],[140,"A mut constraint was violated"],[141,"A has_one constraint was violated"],[142,"A signer constraint was violated"],[143,"A raw constraint was violated"],[144,"An owner constraint was violated"],[145,"A rent exempt constraint was violated"],[146,"A seeds constraint was violated"],[147,"An executable constraint was violated"],[148,"A state constraint was violated"],[149,"An associated constraint was violated"],[150,"An associated init constraint was violated"],[151,"A close constraint was violated"],[152,"An address constraint was violated"],[160,"The account discriminator was already set on this account"],[161,"No 8 byte discriminator was found on the account"],[162,"8 byte discriminator did not match what was expected"],[163,"Failed to deserialize the account"],[164,"Failed to serialize the account"],[165,"Not enough account keys given to the instruction"],[166,"The given account is not mutable"],[167,"The given account is not owned by the executing program"],[168,"Program ID was not as expected"],[169,"Program account is not executable"],[180,"The given state account does not have the correct address"],[299,"The API being used is deprecated and should no longer be used"]]);class w{static fieldLayout(e,t){const n=void 0!==e.name?p()(e.name):void 0;switch(e.type){case"bool":return h.bool(n);case"u8":return h.u8(n);case"i8":return h.i8(n);case"u16":return h.u16(n);case"i16":return h.i16(n);case"u32":return h.u32(n);case"i32":return h.i32(n);case"u64":return h.u64(n);case"i64":return h.i64(n);case"u128":return h.u128(n);case"i128":return h.i128(n);case"bytes":return h.vecU8(n);case"string":return h.str(n);case"publicKey":return h.publicKey(n);default:if("vec"in e.type)return h.vec(w.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return h.option(w.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new g("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new g(`Type not found: ${JSON.stringify(e)}`);return w.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=w.fieldLayout({name:void 0,type:r},t);return h.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],n){if("struct"===e.type.kind){const r=e.type.fields.map((e=>w.fieldLayout(e,t)));return h.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=p()(e.name);if(void 0===e.fields)return h.struct([],n);const r=e.fields.map((e=>{if(void 0===e.name)throw new Error("Tuple enum variants not yet implemented.");return w.fieldLayout(e,t)}));return h.struct(r,n)}));return void 0!==n?h.rustEnum(r).replicate(n):h.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}var v=n(3779),S=n(9489);function A(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return k(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>k(e,t.type))).reduce(((e,t)=>e+t),0)}function k(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+k(e,t.option);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new g(`Type not found: ${JSON.stringify(t)}`);return A(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return k(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function _(e,t){let n=`${e}:${(0,v.f)(t)}`;return Buffer.from(S.sha256.digest(n)).slice(0,8)}const M="state",I="global";class E{constructor(e){this.idl=e,this.ixLayout=E.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=_(I,e.name);t.set(m.encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=_(M,e.name);t.set(m.encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode(I,e,t)}encodeState(e,t){return this._encode(M,e,t)}_encode(e,t,n){const r=Buffer.alloc(1e3),i=p()(t),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const s=o.encode(n,r),a=r.slice(0,s);return Buffer.concat([_(e,t),a])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return w.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=p()(t.name);return[r,h.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return w.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=p()(t.name);return[r,h.struct(n,r)]})));return new Map(t)}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?Buffer.from(e,"hex"):m.decode(e));let n=m.encode(e.slice(0,8)),r=e.slice(8);const i=this.sighashLayouts.get(n);return i?{data:i.layout.decode(r),name:i.name}:null}format(e,t){return P.format(e,t,this.idl)}}class P{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:P.formatIdlType(t.type),data:P.formatIdlData(t,e.data[t.name],n.types)}))),o=P.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.vec)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.option)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.defined){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return P.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+P.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+P.formatIdlData(a,s,n)})).join(", "),a=p()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.accounts){const r=t?`${t} > ${n}`:n;return P.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}class T{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,w.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const n=Buffer.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const i=r.encode(t,n);let o=n.slice(0,i),s=T.accountDiscriminator(e);return Buffer.concat([s,o])}decode(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}static accountDiscriminator(e){return Buffer.from(S.sha256.digest(`account:${e}`)).slice(0,8)}}var O=n(5415);class x{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,w.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[O.fromByteArray((t=e.name,Buffer.from(S.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=Buffer.from(O.toByteArray(e))}catch(e){return null}const n=O.fromByteArray(t.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return{data:i.decode(t.slice(8)),name:r}}}new Set(["anchor-deprecated-state"]);const B=new Map;class L{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=w.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=Buffer.alloc(1e3),r=this.layout.encode(t,n),i=await C(e),o=n.slice(0,r);return Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function C(e){let t=("anchor-deprecated-state",void 0!==B.get("anchor-deprecated-state")?"account":"state");return Buffer.from(S.sha256.digest(`${t}:${e}`)).slice(0,8)}class R{constructor(e){this.instruction=new E(e),this.accounts=new T(e),this.events=new x(e),e.state&&(this.state=new L(e))}sighash(e,t){return _(e,t)}}var N=n(3859),D=n(189);const F=h.struct([h.publicKey("authority"),h.vecU8("data")]);var K=n(1312),U=n.n(K);function W(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function z(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1})),n}function j(e,t={}){e.forEach((e=>{if("accounts"in e)j(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function q(e){return"string"==typeof e?new s.PublicKey(e):e}function V(e,t){let n=Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=Buffer.concat([n,Q(e)])})),n=Buffer.concat([n,t.toBuffer(),Buffer.from("ProgramDerivedAddress")]);let r=(0,S.sha256)(new Uint8Array(n)),i=new(o())(r,16).toArray(void 0,32);if(s.PublicKey.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new s.PublicKey(i)}function H(e,t){let n,r=255;for(;0!=r;){try{n=V(e.concat(Buffer.from([r])),t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const Q=e=>e instanceof Buffer?e:e instanceof Uint8Array?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e);function G(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class X{static build(e,t,n){if("_inner"===e.name)throw new g("the _inner name is reserved");const r=(...i)=>{const[o,a]=G(e,[...i]);j(e.accounts,a.accounts);const u=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&u.push(...a.remainingAccounts),a.__private&&a.__private.logAccounts&&console.log("Outgoing account metas:",u),new s.TransactionInstruction({keys:u,programId:n,data:t(e.name,z(e,...o))})};return r.accounts=t=>X.accountsArray(t,e.accounts),r}static accountsArray(e,t){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const n=e[t.name];return X.accountsArray(n,t.accounts).flat()}{const n=t;return{pubkey:q(e[t.name]),isWritable:n.isMut,isSigner:n.isSigner}}})).flat():[]}}class Y{static build(e,t,n,r){return async(...i)=>{const o=t(...i),[,s]=G(e,[...i]);try{return await r.send(o,s.signers,s.options)}catch(e){console.log("Translating error",e);let t=y.parse(e,n);if(null===t)throw e;throw t}}}}class Z{static build(e,t){return(...n)=>{var r;const[,i]=G(e,[...n]),o=new s.Transaction;return null===(r=i.instructions)||void 0===r||r.forEach((e=>o.add(e))),o.add(t(...n)),o}}}class ${static build(e,t,n,r){if(void 0!==e.state)return new J(e,n,r,t)}}class J{constructor(e,t,n=l(),r=new R(e)){this.provider=n,this.coder=r,this._idl=e,this._programId=t,this._address=ee(t),this._sub=null;const[i,o,a]=(()=>{var i;let o={},a={},u={};return null===(i=e.state)||void 0===i||i.methods.forEach((i=>{const c=X.build(i,((e,t)=>r.instruction.encodeState(e,t)),t);c.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=H([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:ee(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:s.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return j(n.accounts,r),[{pubkey:ee(e),isWritable:!0,isSigner:!1}]}(t,n,i,e);return r.concat(X.accountsArray(e,i.accounts))};const l=Z.build(i,c),d=Y.build(i,l,W(e),n),f=p()(i.name);o[f]=c,a[f]=l,u[f]=d})),[o,a,u]})();this.instruction=i,this.transaction=o,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await C(n.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(U()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function ee(e){let[t]=H([],e);return function(e,t,n){const r=Buffer.concat([e.toBuffer(),Buffer.from("unversioned"),n.toBuffer()]),i=S.sha256.digest(r);return new s.PublicKey(Buffer.from(i))}(t,0,e)}var te=n(2943),ne=n.n(te);async function re(e,t){const n=[t.map((e=>e.toBase58())),{commitment:"recent"}],r=await e._rpcRequest("getMultipleAccounts",n);if(r.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+r.error.message);ne()(void 0!==r.result);const i=[];for(const e of r.result.value){let t=null;if(null!==e){if(r.result.value){const{executable:n,owner:r,lamports:i,data:o}=e;ne()("base64"===o[1]),t={executable:n,owner:new s.PublicKey(r),lamports:i,data:Buffer.from(o[0],"base64")}}if(null===t)throw new Error("Invalid response");i.push(t)}else i.push(null)}return i.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}class ie{static build(e,t,n,r){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=p()(i.name);o[s]=new oe(e,i,n,r,t)})),o}}class oe{constructor(e,t,n,r,i){var o;this._idlAccount=t,this._programId=n,this._provider=null!=r?r:l(),this._coder=null!=i?i:new R(e),this._size=8+(null!==(o=A(e,t))&&void 0!==o?o:0)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e){const t=await this._provider.connection.getAccountInfo(q(e));if(null===t)return null;if(T.accountDiscriminator(this._idlAccount.name).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,t.data)}async fetch(e){const t=await this.fetchNullable(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);return t}async fetchMultiple(e){const t=await async function(e,t){if(t.length<=99)return await re(e,t);{const r=(n=t,Array.apply(0,new Array(Math.ceil(n.length/99))).map(((e,t)=>n.slice(99*t,99*(t+1)))));return(await Promise.all(r.map((t=>re(e,t))))).flat()}var n}(this._provider.connection,e.map((e=>q(e)))),n=T.accountDiscriminator(this._idlAccount.name);return t.map((e=>null==e||n.compare(null==e?void 0:e.account.data.slice(0,8))?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){const t=T.accountDiscriminator(this._idlAccount.name);return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:m.encode(e instanceof Buffer?Buffer.concat([t,e]):t)}},...Array.isArray(e)?e:[]]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){const n=se.get(e.toString());if(n)return n.ee;const r=new(U());e=q(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return se.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=se.get(e.toString());t?se&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{se.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return s.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await async function(e,...t){let n=[Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(void 0!==e.buffer?e:q(e).toBuffer())}));const[r]=await s.PublicKey.findProgramAddress(n,q(e));return r}(this._programId,...e)}}const se=new Map,ae="Program log: ".length;class ue{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new ce(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err?console.error(e):this._eventParser.parseLogs(e.logs,(e=>{const n=this._eventListeners.get(e.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(e.data,t.slot)}}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(te.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class ce{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const n=new de(e),r=new le(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(ae);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class le{constructor(e){var t;const n=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return te.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){te.ok(this.stack.length>0),this.stack.pop()}}class de{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class fe{static build(e,t,n,r,i,o,s){return async(...a)=>{const u=t(...a),[,c]=G(e,[...a]);let l;try{l=await r.simulate(u,c.signers,c.options)}catch(e){console.log("Translating error",e);let t=y.parse(e,n);if(null===t)throw e;throw t}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];return s.events&&new ce(o,i).parseLogs(d,(e=>{f.push(e)})),{events:f,raw:d}}}}class pe{static build(e,t,n,r){const i={},o={},s={},a={},u=W(e),c=$.build(e,t,n,r);e.instructions.forEach((c=>{const l=X.build(c,((e,n)=>t.instruction.encode(e,n)),n),d=Z.build(c,l),f=Y.build(c,d,u,r),h=fe.build(c,d,u,r,t,n,e),m=p()(c.name);o[m]=l,s[m]=d,i[m]=f,a[m]=h}));const l=e.accounts?ie.build(e,t,n,r):{};return[i,o,s,l,a,c]}}class he{constructor(e,t,n){t=q(t),n||(n=l()),this._idl=e,this._provider=n,this._programId=t,this._coder=new R(e),this._events=new ue(this._programId,n,this._coder);const[r,i,o,s,a,u]=pe.build(e,this._coder,t,n);this.rpc=r,this.instruction=i,this.transaction=o,this.account=s,this.simulate=a,this.state=u}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=q(e),r=await he.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new he(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:l();const r=q(e),i=await async function(e){const t=(await s.PublicKey.findProgramAddress([],e))[0];return await s.PublicKey.createWithSeed(t,"anchor:idl",e)}(r),o=await t.connection.getAccountInfo(i);if(!o)return null;let a=(u=o.data.slice(8),F.decode(u));var u;const c=(0,D.rr)(a.data);return JSON.parse((d=c,("undefined"==typeof TextDecoder?new(n(3585).TextDecoder)("utf-8"):new TextDecoder("utf-8")).decode(d)));var d}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}let me=!1;new Proxy({},{get(e,t){if(a)return void console.log("Workspaces aren't available in the browser");const r=n(9563),i=n(4224);if(!me){const t=n(2005);let o=i.cwd();for(;!r.existsSync(t.join(o,"Anchor.toml"));){const e=t.dirname(o);e===o&&(o=void 0),o=e}if(void 0===o)throw new Error("Could not find workspace root.");const a=`${o}/target/idl`;if(!r.existsSync(a))throw new Error(`${a} doesn't exist. Did you use "anchor build"?`);const u=new Map;r.readdirSync(a).forEach((t=>{const n=`${a}/${t}`,i=r.readFileSync(n),o=JSON.parse(i);u.set(o.name,o);const c=p()(o.name,{pascalCase:!0});o.metadata&&o.metadata.address&&(e[c]=new he(o,new s.PublicKey(o.metadata.address)))}));const c=N.parse(r.readFileSync(t.join(o,"Anchor.toml"),"utf-8")),l=c.provider.cluster;c.programs&&c.programs[l]&&function(e,t,r){Object.keys(t).forEach((i=>{const o=p()(i,{pascalCase:!0}),a=t[i],u=new s.PublicKey("string"==typeof a?a:a.address);let c=r.get(i);if("string"!=typeof a&&a.idl&&(c=JSON.parse(n(9563).readFileSync(a.idl,"utf-8"))),!c)throw new Error(`Error loading workspace IDL for ${i}`);e[o]=new he(c,u)}))}(e,c.programs[l],u),me=!0}return e[t]}}),new s.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new s.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL")},3352:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccountClient:()=>_e,AccountsCoder:()=>F,BN:()=>i.a,Coder:()=>H,EventCoder:()=>K,EventManager:()=>Ee,EventParser:()=>Pe,IdlError:()=>k,InstructionCoder:()=>N,Program:()=>xe,ProgramError:()=>_,Provider:()=>w,StateClient:()=>Ae,StateCoder:()=>q,getProvider:()=>S,parseIdlErrors:()=>G,setProvider:()=>v,splitArgsAndCtx:()=>be,toInstruction:()=>X,translateAddress:()=>Z,utils:()=>ge,validateAccounts:()=>Y,web3:()=>o});var r=n(9098),i=n.n(r),o=n(9990),s=n(5872),a=n(1036),u=n.n(a),c=n(8507),l=n(1511),d=n.n(l),f=n(9489),p=n(5415),h=n(2943),m=n.n(h),g=n(189),y=n(1312),b=n.n(y);class w{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const r=e.serialize();return await(0,o.sendAndConfirmRawTransaction)(this.connection,r,n)}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(r),s=[];for(let e=0;e<r.length;e+=1){const n=i[e].serialize();s.push(await(0,o.sendAndConfirmRawTransaction)(this.connection,n,t))}return s}async simulate(e,t,n=this.opts){var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}function v(e){A=e}function S(){return null===A?w.local():A}let A=null;class k extends Error{constructor(e){super(e),this.name="IdlError"}}class _ extends Error{constructor(e,t,...n){super(...n),this.code=e,this.msg=t}static parse(e,t){let n,r=e.toString().split("custom program error: ");if(2!==r.length)return null;try{n=parseInt(r[1])}catch(e){return null}let i=t.get(n);return void 0!==i?new _(n,i,n+": "+i):(i=M.get(n),void 0!==i?new _(n,i,n+": "+i):null)}toString(){return this.msg}}const M=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exempt constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[4e3,"The given state account does not have the correct address"],[5e3,"The API being used is deprecated and should no longer be used"]]);class I{static fieldLayout(e,t){const n=void 0!==e.name?u()(e.name):void 0;switch(e.type){case"bool":return c.bool(n);case"u8":return c.u8(n);case"i8":return c.i8(n);case"u16":return c.u16(n);case"i16":return c.i16(n);case"u32":return c.u32(n);case"i32":return c.i32(n);case"u64":return c.u64(n);case"i64":return c.i64(n);case"u128":return c.u128(n);case"i128":return c.i128(n);case"bytes":return c.vecU8(n);case"string":return c.str(n);case"publicKey":return c.publicKey(n);default:if("vec"in e.type)return c.vec(I.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return c.option(I.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new k("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new k(`Type not found: ${JSON.stringify(e)}`);return I.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=I.fieldLayout({name:void 0,type:r},t);return c.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],n){if("struct"===e.type.kind){const r=e.type.fields.map((e=>I.fieldLayout(e,t)));return c.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=u()(e.name);if(void 0===e.fields)return c.struct([],n);const r=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return I.fieldLayout(e,t)}));return c.struct(r,n)}));return void 0!==n?c.rustEnum(r).replicate(n):c.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}var E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E.apply(this,arguments)},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)};function T(e){return e.toLowerCase()}var O=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],x=/[^A-Z0-9]+/gi;function B(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function L(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return C(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>C(e,t.type))).reduce(((e,t)=>e+t),0)}function C(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+C(e,t.option);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new k(`Type not found: ${JSON.stringify(t)}`);return L(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return C(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function R(e,t){var n;let r=`${e}:${void 0===n&&(n={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?O:n,i=t.stripRegexp,o=void 0===i?x:i,s=t.transform,a=void 0===s?T:s,u=t.delimiter,c=void 0===u?" ":u,l=B(B(e,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(a).join(c)}(e,P({delimiter:"."},t))}(t,E({delimiter:"_"},n))}`;return s.Buffer.from(f.sha256.digest(r)).slice(0,8)}class N{constructor(e){this.idl=e,this.ixLayout=N.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=R("global",e.name);t.set(d().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=R("state",e.name);t.set(d().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,n){const r=s.Buffer.alloc(1e3),i=u()(t),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const a=o.encode(n,r),c=r.slice(0,a);return s.Buffer.concat([R(e,t),c])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return I.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=u()(t.name);return[r,c.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return I.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=u()(t.name);return[r,c.struct(n,r)]})));return new Map(t)}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?s.Buffer.from(e,"hex"):d().decode(e));let n=d().encode(e.slice(0,8)),r=e.slice(8);const i=this.sighashLayouts.get(n);return i?{data:i.layout.decode(r),name:i.name}:null}format(e,t){return D.format(e,t,this.idl)}}class D{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:D.formatIdlType(t.type),data:D.formatIdlData(t,e.data[t.name],n.types)}))),o=D.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return D.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+D.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+D.formatIdlData(a,s,n)})).join(", "),a=u()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return D.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}class F{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,I.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const n=s.Buffer.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const i=r.encode(t,n);let o=n.slice(0,i),a=F.accountDiscriminator(e);return s.Buffer.concat([a,o])}decode(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}static accountDiscriminator(e){return s.Buffer.from(f.sha256.digest(`account:${u()(e,{pascalCase:!0})}`)).slice(0,8)}}class K{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,I.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[p.fromByteArray((t=e.name,s.Buffer.from(f.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=s.Buffer.from(p.toByteArray(e))}catch(e){return null}const n=p.fromByteArray(t.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return{data:i.decode(t.slice(8)),name:r}}}const U=new Set(["anchor-deprecated-state"]),W=new Map;function z(e){return void 0!==W.get(e)}var j=Object.freeze({__proto__:null,set:function(e){if(!U.has(e))throw new Error("Invalid feature");W.set(e,!0)},isSet:z});class q{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=I.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=s.Buffer.alloc(1e3),r=this.layout.encode(t,n),i=await V(e),o=n.slice(0,r);return s.Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function V(e){let t=z("anchor-deprecated-state")?"account":"state";return s.Buffer.from(f.sha256.digest(`${t}:${e}`)).slice(0,8)}class H{constructor(e){this.instruction=new N(e),this.accounts=new F(e),this.events=new K(e),e.state&&(this.state=new q(e))}sighash(e,t){return R(e,t)}}var Q=Object.freeze({__proto__:null,hash:function(e){return(0,f.sha256)(e)}});function G(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function X(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1})),n}function Y(e,t={}){e.forEach((e=>{if("accounts"in e)Y(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function Z(e){return e instanceof o.PublicKey?e:new o.PublicKey(e)}async function $(e,t,n){if(t.length<=99)return await J(e,t,n);{const i=(r=t,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((e,t)=>r.slice(99*t,99*(t+1)))));return(await Promise.all(i.map((t=>J(e,t,n))))).flat()}var r}async function J(e,t,n){const r=null!=n?n:e.commitment,i=[t.map((e=>e.toBase58()))];r&&i.push({commitment:r});const a=await e._rpcRequest("getMultipleAccounts",i);if(a.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+a.error.message);m()(void 0!==a.result);const u=[];for(const e of a.result.value){let t=null;if(null!==e){if(a.result.value){const{executable:n,owner:r,lamports:i,data:a}=e;m()("base64"===a[1]),t={executable:n,owner:new o.PublicKey(r),lamports:i,data:s.Buffer.from(a[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}var ee=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=Z(e),r||(r=S());const i=new o.Transaction;return i.add(new o.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(i)},getMultipleAccounts:$});function te(e,t,n){const r=s.Buffer.concat([e.toBuffer(),s.Buffer.from(t),n.toBuffer()]),i=f.sha256.digest(r);return new o.PublicKey(s.Buffer.from(i))}function ne(e,t){let n=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=s.Buffer.concat([n,ie(e)])})),n=s.Buffer.concat([n,t.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);let r=(0,f.sha256)(new Uint8Array(n)),a=new(i())(r,16).toArray(void 0,32);if(o.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new o.PublicKey(a)}function re(e,t){let n,r=255;for(;0!=r;){try{n=ne(e.concat(s.Buffer.from([r])),t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const ie=e=>e instanceof s.Buffer?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);async function oe(e,...t){let n=[s.Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(e instanceof s.Buffer?e:Z(e).toBuffer())}));const[r]=await o.PublicKey.findProgramAddress(n,Z(e));return r}var se=Object.freeze({__proto__:null,createWithSeedSync:te,createProgramAddressSync:ne,findProgramAddressSync:re,associated:oe}),ae=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?s.Buffer.from([]):s.Buffer.from(t.map((e=>parseInt(e,16))))}});function ue(e){return new TextDecoder("utf-8").decode(e)}var ce=Object.freeze({__proto__:null,decode:ue,encode:function(e){return(new TextEncoder).encode(e)}}),le=Object.freeze({__proto__:null,encode:function(e){return d().encode(e)},decode:function(e){return d().decode(e)}}),de=Object.freeze({__proto__:null,encode:function(e){return p.fromByteArray(e)},decode:function(e){return s.Buffer.from(p.toByteArray(e))}}),fe=Object.freeze({__proto__:null,hex:ae,utf8:ce,bs58:le,base64:de});const pe=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),he=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var me=Object.freeze({__proto__:null,associatedAddress:async function({mint:e,owner:t}){return(await o.PublicKey.findProgramAddress([t.toBuffer(),pe.toBuffer(),e.toBuffer()],he))[0]}}),ge=Object.freeze({__proto__:null,sha256:Q,rpc:ee,publicKey:se,bytes:fe,token:me,features:j});const ye=c.struct([c.publicKey("authority"),c.vecU8("data")]);function be(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class we{static build(e,t,n){if("_inner"===e.name)throw new k("the _inner name is reserved");const r=(...i)=>{const[s,a]=be(e,[...i]);Y(e.accounts,a.accounts);const u=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&u.push(...a.remainingAccounts),z("debug-logs")&&console.log("Outgoing account metas:",u),new o.TransactionInstruction({keys:u,programId:n,data:t(e.name,X(e,...s))})};return r.accounts=t=>we.accountsArray(t,e.accounts,e.name),r}static accountsArray(e,t,n){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const r=e[t.name];return we.accountsArray(r,t.accounts,n).flat()}{const r=t;let i;try{i=Z(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class ve{static build(e,t,n,r){return async(...i)=>{const o=t(...i),[,s]=be(e,[...i]);try{return await r.send(o,s.signers,s.options)}catch(e){z("debug-logs")&&console.log("Translating error:",e);let t=_.parse(e,n);if(null===t)throw e;throw t}}}}class Se{static build(e,t){return(...n)=>{var r,i,s;const[,a]=be(e,[...n]),u=new o.Transaction;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=a.preInstructions)||void 0===r||r.forEach((e=>u.add(e))),null===(i=a.instructions)||void 0===i||i.forEach((e=>u.add(e))),u.add(t(...n)),null===(s=a.postInstructions)||void 0===s||s.forEach((e=>u.add(e))),u}}}class Ae{constructor(e,t,n=S(),r=new H(e)){this.provider=n,this.coder=r,this._idl=e,this._programId=t,this._address=ke(t),this._sub=null;const[i,s,a]=(()=>{var i;let s={},a={},c={};return null===(i=e.state)||void 0===i||i.methods.forEach((i=>{const l=we.build(i,((e,t)=>r.instruction.encodeState(e,t)),t);l.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=re([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:ke(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:o.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return Y(n.accounts,r),[{pubkey:ke(e),isWritable:!0,isSigner:!1}]}(t,n,i,e);return r.concat(we.accountsArray(e,i.accounts,i.name))};const d=Se.build(i,l),f=ve.build(i,d,G(e),n),p=u()(i.name);s[p]=l,a[p]=d,c[p]=f})),[s,a,c]})();this.instruction=i,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await V(n.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(b()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function ke(e){let[t]=re([],e);return te(t,"unversioned",e)}class _e{constructor(e,t,n,r,i){var o;this._idlAccount=t,this._programId=n,this._provider=null!=r?r:S(),this._coder=null!=i?i:new H(e),this._size=8+(null!==(o=L(e,t))&&void 0!==o?o:0)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const n=await this.getAccountInfo(e,t);if(null===n)return null;if(F.accountDiscriminator(this._idlAccount.name).compare(n.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,t){const n=await this.fetchNullable(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,t){const n=await $(this._provider.connection,e.map((e=>Z(e))),t),r=F.accountDiscriminator(this._idlAccount.name);return n.map((e=>null==e||r.compare(null==e?void 0:e.account.data.slice(0,8))?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){const t=F.accountDiscriminator(this._idlAccount.name);return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:d().encode(e instanceof s.Buffer?s.Buffer.concat([t,e]):t)}},...Array.isArray(e)?e:[]]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){const n=Me.get(e.toString());if(n)return n.ee;const r=new(b());e=Z(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return Me.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=Me.get(e.toString());t?Me&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Me.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;return o.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await oe(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(Z(e),t)}}const Me=new Map,Ie="Program log: ".length;class Ee{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new Pe(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err?console.error(e):this._eventParser.parseLogs(e.logs,(e=>{const n=this._eventListeners.get(e.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(e.data,t.slot)}}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(h.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Pe{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const n=new Oe(e),r=new Te(n.next());let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(Ie);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Te{constructor(e){var t;const n=null===(t=/^Program (.*) invoke.*$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("Could not find program invocation log line");this.stack=[n]}program(){return h.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){h.ok(this.stack.length>0),this.stack.pop()}}class Oe{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class xe{constructor(e,t,n){t=Z(t),n||(n=S()),this._idl=e,this._provider=n,this._programId=t,this._coder=new H(e),this._events=new Ee(this._programId,n,this._coder);const[r,i,o,s,a,c]=class{static build(e,t,n,r){const i={},o={},s={},a={},c=G(e),l=class{static build(e,t,n,r){if(void 0!==e.state)return new Ae(e,n,r,t)}}.build(e,t,n,r);e.instructions.forEach((l=>{const d=we.build(l,((e,n)=>t.instruction.encode(e,n)),n),f=Se.build(l,d),p=ve.build(l,f,c,r),h=class{static build(e,t,n,r,i,o,s){return async(...a)=>{const u=t(...a),[,c]=be(e,[...a]);let l;try{l=await r.simulate(u,c.signers,c.options)}catch(e){z("debug-logs")&&console.log("Translating error:",e);let t=_.parse(e,n);if(null===t)throw e;throw t}if(void 0===l)throw new Error("Unable to simulate transaction");if(l.value.err)throw new Error(`Simulate error: ${l.value.err.toString()}`);const d=l.value.logs;if(!d)throw new Error("Simulated logs not found");const f=[];return s.events&&new Pe(o,i).parseLogs(d,(e=>{f.push(e)})),{events:f,raw:d}}}}.build(l,f,c,r,t,n,e),m=u()(l.name);o[m]=d,s[m]=f,i[m]=p,a[m]=h}));const d=e.accounts?class{static build(e,t,n,r){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=u()(i.name);o[s]=new _e(e,i,n,r,t)})),o}}.build(e,t,n,r):{};return[i,o,s,d,a,l]}}.build(e,this._coder,t,n);this.rpc=r,this.instruction=i,this.transaction=o,this.account=s,this.simulate=a,this.state=c}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=Z(e),r=await xe.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new xe(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:S();const n=Z(e),r=await async function(e){const t=(await o.PublicKey.findProgramAddress([],e))[0];return await o.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),i=await t.connection.getAccountInfo(r);if(!i)return null;let s=(a=i.data.slice(8),ye.decode(a));var a;const u=(0,g.rr)(s.data);return JSON.parse(ue(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}},3524:(e,t,n)=>{"use strict";n.d(t,{BN:()=>a.a,P6:()=>tt,VC:()=>Ke,Wr:()=>Y,lc:()=>ee});var i=n(5872),o=n(9990),s=n(9098),a=n.n(s),u=n(1511),c=n.n(u),l=n(5415),d=n(1036),f=n.n(d),p=n(9489),h=n(8507),m=n(2943),g=n.n(m),y=(n(189),n(1312),Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?i.Buffer.from([]):i.Buffer.from(t.map((e=>parseInt(e,16))))}}));function b(e){return(new TextEncoder).encode(e)}var w=Object.freeze({__proto__:null,decode:function(e){return new TextDecoder("utf-8").decode(e)},encode:b});function v(e){return c().encode(e)}var S=Object.freeze({__proto__:null,encode:v,decode:function(e){return c().decode(e)}}),A=Object.freeze({__proto__:null,encode:function(e){return l.fromByteArray(e)},decode:function(e){return i.Buffer.from(l.toByteArray(e))}}),k=Object.freeze({__proto__:null,hex:y,utf8:w,bs58:S,base64:A});class _{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async send(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const i=e.serialize();try{return await M(this.connection,i,n)}catch(t){if(t instanceof I){const n=await this.connection.getTransaction(v(e.signature),{commitment:"confirmed"});if(n){const e=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw e?new o.SendTransactionError(t.message,e):t}throw t}throw t}}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{let t=e.tx,r=e.signers;return void 0===r&&(r=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=n.blockhash,r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(r),o=[];for(let e=0;e<r.length;e+=1){const n=i[e].serialize();o.push(await M(this.connection,n,t))}return o}async simulate(e,t,n=this.opts){var r,i,o;return void 0===t&&(t=[]),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(r=n.preflightCommitment)&&void 0!==r?r:this.opts.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,n){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const r=t.serializeMessage(),i=[t._serialize(r).toString("base64"),{encoding:"base64",commitment:n}],o=await e._rpcRequest("simulateTransaction",i);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(o=null!==(i=n.commitment)&&void 0!==i?i:this.opts.commitment)&&void 0!==o?o:"processed")}}async function M(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await e.sendRawTransaction(t,r),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new I(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class I extends Error{constructor(e){super(e)}}function E(){return null===P?_.local():P}let P=null;const T=new Set(["anchor-deprecated-state","debug-logs"]),O=new Map;function x(e){return void 0!==O.get(e)}var B=Object.freeze({__proto__:null,set:function(e){if(!T.has(e))throw new Error("Invalid feature");O.set(e,!0)},isSet:x});class L extends Error{constructor(e){super(e),this.name="IdlError"}}class C extends Error{constructor(e,t,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=U.parse(r)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const n=e[t],i=[n];let o;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,o=n.exec(e[t+2])[1],s=n.exec(e[t+4])[1];new r(o),new r(s),i.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/;n.exec(e[t+1])[2],n.exec(e[t+2])[2];i.push(...e.slice(t+1,t+3))}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),u=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[t,n,r]=s.slice(1,4),a={code:t,number:parseInt(n)};return new C(a,r,i,e,void 0,o)}if(a){const[t,n,r,s,u]=a.slice(1,6),c={code:r,number:parseInt(s)},l={file:t,line:parseInt(n)};return new C(c,u,i,e,l,o)}if(u){const[t,n,r,s]=u.slice(1,5),a=t,c={code:n,number:parseInt(r)};return new C(c,s,i,e,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class R extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=U.parse(n))}static parse(e,t){const n=e.toString();let r;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;e[0].match(/([0-9]+)/g)[0]}try{parseInt(undefined)}catch(e){return null}let i=t.get(r);return void 0!==i?new R(r,i,e.logs):(V.get(r),void 0!==i?new R(r,i,e.logs):null)}get program(){return this._programErrorStack,void 0}get programErrorStack(){return this._programErrorStack,void 0}toString(){return this.msg}}new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)},D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)};function F(e){return e.toLowerCase()}var K=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],W=/[^A-Z0-9]+/gi;function z(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}class j{static fieldLayout(e,t){const n=void 0!==e.name?f()(e.name):void 0;switch(e.type){case"bool":return h.bool(n);case"u8":return h.u8(n);case"i8":return h.i8(n);case"u16":return h.u16(n);case"i16":return h.i16(n);case"u32":return h.u32(n);case"i32":return h.i32(n);case"f32":return h.f32(n);case"u64":return h.u64(n);case"i64":return h.i64(n);case"f64":return h.f64(n);case"u128":return h.u128(n);case"i128":return h.i128(n);case"bytes":return h.vecU8(n);case"string":return h.str(n);case"publicKey":return h.publicKey(n);default:if("vec"in e.type)return h.vec(j.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return h.option(j.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new L("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new L(`Type not found: ${JSON.stringify(e)}`);return j.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=j.fieldLayout({name:void 0,type:r},t);return h.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],n){if("struct"===e.type.kind){const r=e.type.fields.map((e=>j.fieldLayout(e,t)));return h.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=f()(e.name);if(void 0===e.fields)return h.struct([],n);const r=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return j.fieldLayout(e,t)}));return h.struct(r,n)}));return void 0!==n?h.rustEnum(r).replicate(n):h.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}class q{constructor(e){this.idl=e,this.ixLayout=q.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=Q("global",e.name);t.set(c().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=Q("state",e.name);t.set(c().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,n){const r=i.Buffer.alloc(1e3),o=f()(t),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(n,r),u=r.slice(0,a);return i.Buffer.concat([Q(e,t),u])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return j.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=f()(t.name);return[r,h.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return j.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=f()(t.name);return[r,h.struct(n,r)]})));return new Map(t)}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?i.Buffer.from(e,"hex"):c().decode(e));let n=c().encode(e.slice(0,8)),r=e.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(r),name:o.name}:null}format(e,t){return H.format(e,t,this.idl)}}class H{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:H.formatIdlType(t.type),data:H.formatIdlData(t,e.data[t.name],n.types)}))),o=H.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return H.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+H.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+H.formatIdlData(a,s,n)})).join(", "),a=f()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return H.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}function Q(e,t){var n;let r=`${e}:${void 0===n&&(n={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?K:n,i=t.stripRegexp,o=void 0===i?W:i,s=t.transform,a=void 0===s?F:s,u=t.delimiter,c=void 0===u?" ":u,l=z(z(e,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(a).join(c)}(e,D({delimiter:"."},t))}(t,N({delimiter:"_"},n))}`;return i.Buffer.from(p.sha256.digest(r)).slice(0,8)}function G(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return X(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>X(e,t.type))).reduce(((e,t)=>e+t),0)}function X(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+X(e,t.option);if("coption"in t)return 4+X(e,t.coption);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new L(`Type not found: ${JSON.stringify(t)}`);return G(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return X(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}class Y{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,j.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const n=i.Buffer.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const o=r.encode(t,n);let s=n.slice(0,o),a=Y.accountDiscriminator(e);return i.Buffer.concat([a,s])}decode(e,t){if(Y.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=Y.accountDiscriminator(e);return{offset:0,bytes:c().encode(t?i.Buffer.concat([n,t]):n)}}size(e){var t;return 8+(null!==(t=G(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return i.Buffer.from(p.sha256.digest(`account:${f()(e,{pascalCase:!0})}`)).slice(0,8)}}class Z{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,j.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[l.fromByteArray($(e.name)),e.name])))}decode(e){let t;try{t=i.Buffer.from(l.toByteArray(e))}catch(e){return null}const n=l.fromByteArray(t.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const o=this.layouts.get(r);if(!o)throw new Error(`Unknown event: ${r}`);return{data:o.decode(t.slice(8)),name:r}}}function $(e){return i.Buffer.from(p.sha256.digest(`event:${e}`)).slice(0,8)}class J{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=j.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=i.Buffer.alloc(1e3),r=this.layout.encode(t,n),o=await async function(e){let t=x("anchor-deprecated-state")?"account":"state";return i.Buffer.from(p.sha256.digest(`${t}:${e}`)).slice(0,8)}(e),s=n.slice(0,r);return i.Buffer.concat([o,s])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}class ee{constructor(e){this.instruction=new q(e),this.accounts=new Y(e),this.events=new Z(e),e.state&&(this.state=new J(e))}}var te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};class ne{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var re=ne;class ie extends ne{isCount(){throw new Error("ExternalLayout is abstract")}}class oe extends ie{constructor(e,t,n){if(!(e instanceof ne))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof se||this.layout instanceof ae}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class se extends ne{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class ae extends ne{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const ue=Math.pow(2,32);class ce extends ne{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return function(e,t){return e*ue+t}(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=function(e){const t=Math.floor(e/ue);return{hi32:t,lo32:e-t*ue}}(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class le extends ne{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof ne),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class de{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class fe extends de{constructor(e,t){if(!(e instanceof ie&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class pe extends ne{constructor(e,t,n){const r=e instanceof se||e instanceof ae;if(r)e=new fe(new oe(e));else if(e instanceof ie&&e.isCount())e=new fe(e);else if(!(e instanceof de))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof ne))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new he(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class he extends ne{constructor(e,t,n,r){if(!(e instanceof pe))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof ne))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class me extends ne{constructor(e,t){if(!(e instanceof ie&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ie||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof ie&&(r=e.length),!Buffer.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof ie&&this.length.encode(r,t,n),r}}var ge=e=>new se(1,e),ye=e=>new ce(e),be=(e,t,n)=>new le(e,t,n),we=(e,t)=>new me(e,t);class ve{constructor(e){}encode(e,t){switch(f()(e)){case"initializeMint":return function({decimals:e,mintAuthority:t,freezeAuthority:n}){return _e({initializeMint:{decimals:e,mintAuthority:t.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||o.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return _e({initializeAccount:{}});case"initializeMultisig":return function({m:e}){return _e({initializeMultisig:{m:e}})}(t);case"transfer":return function({amount:e}){return _e({transfer:{amount:e}})}(t);case"approve":return function({amount:e}){return _e({approve:{amount:e}})}(t);case"revoke":return _e({revoke:{}});case"setAuthority":return function({authorityType:e,newAuthority:t}){return _e({setAuthority:{authorityType:e,newAuthority:t}})}(t);case"mintTo":return function({amount:e}){return _e({mintTo:{amount:e}})}(t);case"burn":return function({amount:e}){return _e({burn:{amount:e}})}(t);case"closeAccount":return _e({closeAccount:{}});case"freezeAccount":return _e({freezeAccount:{}});case"thawAccount":return _e({thawAccount:{}});case"transferChecked":return function({amount:e,decimals:t}){return _e({transferChecked:{amount:e,decimals:t}})}(t);case"approvedChecked":return function({amount:e,decimals:t}){return _e({approveChecked:{amount:e,decimals:t}})}(t);case"mintToChecked":return function({amount:e,decimals:t}){return _e({mintToChecked:{amount:e,decimals:t}})}(t);case"burnChecked":return function({amount:e,decimals:t}){return _e({burnChecked:{amount:e,decimals:t}})}(t);case"intializeAccount2":return function({authority:e}){return _e({initilaizeAccount2:{authority:e}})}(t);case"syncNative":return _e({syncNative:{}});case"initializeAccount3":return function({authority:e}){return _e({initializeAccount3:{authority:e}})}(t);case"initializeMultisig2":return function({m:e}){return _e({initializeMultisig2:{m:e}})}(t);case"initializeMint2":return function({decimals:e,mintAuthority:t,freezeAuthority:n}){return _e({encodeInitializeMint2:{decimals:e,mintAuthority:t,freezeAuthority:n}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const Se=(Ae=ge("instruction"),new pe(Ae,void 0,void 0));var Ae;function ke(e){return we(32,e)}function _e(e){let t=Buffer.alloc(Me),n=Se.encode(e,t);return t.slice(0,n)}Se.addVariant(0,be([ge("decimals"),we(32,"mintAuthority"),ge("freezeAuthorityOption"),ke("freezeAuthority")]),"initializeMint"),Se.addVariant(1,be([]),"initializeAccount"),Se.addVariant(2,be([ge("m")]),"initializeMultisig"),Se.addVariant(3,be([ye("amount")]),"transfer"),Se.addVariant(4,be([ye("amount")]),"approve"),Se.addVariant(5,be([]),"revoke"),Se.addVariant(6,be([ge("authorityType"),ge("newAuthorityOption"),ke("newAuthority")]),"setAuthority"),Se.addVariant(7,be([ye("amount")]),"mintTo"),Se.addVariant(8,be([ye("amount")]),"burn"),Se.addVariant(9,be([]),"closeAccount"),Se.addVariant(10,be([]),"freezeAccount"),Se.addVariant(11,be([]),"thawAccount"),Se.addVariant(12,be([ye("amount"),ge("decimals")]),"transferChecked"),Se.addVariant(13,be([ye("amount"),ge("decimals")]),"approvedChecked"),Se.addVariant(14,be([ye("amount"),ge("decimals")]),"mintToChecked"),Se.addVariant(15,be([ye("amount"),ge("decimals")]),"burnedChecked"),Se.addVariant(16,be([ke("authority")]),"InitializeAccount2"),Se.addVariant(17,be([]),"syncNative"),Se.addVariant(18,be([ke("authority")]),"initializeAccount3"),Se.addVariant(19,be([ge("m")]),"initializeMultisig2"),Se.addVariant(20,be([ge("decimals"),ke("mintAuthority"),ge("freezeAuthorityOption"),ke("freezeAuthority")]),"initializeMint2");const Me=Math.max(...Object.values(Se.registry).map((e=>e.span)));class Ie{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function Ee(e){return new Oe(we(8),(e=>Be.fromBuffer(e)),(e=>e.toBuffer()),e)}function Pe(e){return new Oe(we(32),(e=>new o.PublicKey(e)),(e=>e.toBuffer()),e)}function Te(e,t){return new xe(e,t)}class Oe extends re{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class xe extends re{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=new se(4,void 0)}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class Be extends(a()){toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new Be([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Le{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const e=Buffer.alloc(165),n=Re.encode(t,e);return e.slice(0,n)}case"mint":{const e=Buffer.alloc(82),n=Ce.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(e){return Re.decode(e)}(t);case"mint":return function(e){return Ce.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=G(this.idl,e))&&void 0!==t?t:0}}const Ce=be([Te(Pe(),"mintAuthority"),Ee("supply"),ge("decimals"),new Oe(ge(),(function(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}),(function(e){return e?1:0}),"isInitialized"),Te(Pe(),"freezeAuthority")]),Re=be([Pe("mint"),Pe("authority"),Ee("amount"),Te(Pe(),"delegate"),ge("state"),Te(Ee(),"isNative"),Ee("delegatedAmount"),Te(Pe(),"closeAuthority")]);class Ne{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class De{constructor(e){this.instruction=new ve(e),this.accounts=new Le(e),this.events=new Ne(e),this.state=new Ie(e)}}var Fe=Object.freeze({__proto__:null,hash:function(e){return(0,p.sha256)(e)}});function Ke(e){return e instanceof o.PublicKey?e:new o.PublicKey(e)}async function Ue(e,t,n){const r=null!=n?n:e.commitment,s=[t.map((e=>e.toBase58()))];r&&s.push({commitment:r});const a=await e._rpcRequest("getMultipleAccounts",s);if(a.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+a.error.message);g()(void 0!==a.result);const u=[];for(const e of a.result.value){let t=null;if(null!==e){if(a.result.value){const{executable:n,owner:r,lamports:s,data:a}=e;g()("base64"===a[1]),t={executable:n,owner:new o.PublicKey(r),lamports:s,data:i.Buffer.from(a[0],"base64")}}if(null===t)throw new Error("Invalid response");u.push(t)}else u.push(null)}return u.map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}var We=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=Ke(e),r||(r=E());const i=new o.Transaction;return i.add(new o.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),await r.send(i)},getMultipleAccounts:async function(e,t,n){if(t.length<=99)return await Ue(e,t,n);{const i=(r=t,Array.apply(0,new Array(Math.ceil(r.length/99))).map(((e,t)=>r.slice(99*t,99*(t+1)))));return(await Promise.all(i.map((t=>Ue(e,t,n))))).flat()}var r}});function ze(e,t){let n=i.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,je(e)])})),n=i.Buffer.concat([n,t.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);let r=(0,p.sha256)(new Uint8Array(n)),s=new(a())(r,16).toArray(void 0,32);if(o.PublicKey.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new o.PublicKey(s)}const je=e=>e instanceof i.Buffer?e:e instanceof Uint8Array?i.Buffer.from(e.buffer,e.byteOffset,e.byteLength):i.Buffer.from(e);var qe=Object.freeze({__proto__:null,createWithSeedSync:function(e,t,n){const r=i.Buffer.concat([e.toBuffer(),i.Buffer.from(t),n.toBuffer()]),s=p.sha256.digest(r);return new o.PublicKey(i.Buffer.from(s))},createProgramAddressSync:ze,findProgramAddressSync:function(e,t){let n,r=255;for(;0!=r;){try{n=ze(e.concat(i.Buffer.from([r])),t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")},associated:async function(e,...t){let n=[i.Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(e instanceof i.Buffer?e:Ke(e).toBuffer())}));const[r]=await o.PublicKey.findProgramAddress(n,Ke(e));return r}});const Ve=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),He=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Qe=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ve,ASSOCIATED_PROGRAM_ID:He,associatedAddress:async function({mint:e,owner:t}){return(await o.PublicKey.findProgramAddress([t.toBuffer(),Ve.toBuffer(),e.toBuffer()],He))[0]}}),Ge={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:te,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];S.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new w(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new S(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=f,e.Request=w,e.Response=S),t.Headers=f,t.Request=w,t.Response=S,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Ge,Ge.exports);var Xe,Ye=(Xe=Ge.exports)&&Xe.__esModule&&Object.prototype.hasOwnProperty.call(Xe,"default")?Xe.default:Xe;async function Ze(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=Je(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Je(i.data);return o}const $e=h.rustEnum([h.struct([],"uninitialized"),h.struct([h.option(h.publicKey(),"authorityAddress")],"buffer"),h.struct([h.publicKey("programdataAddress")],"program"),h.struct([h.u64("slot"),h.option(h.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,h.u32());function Je(e){return $e.decode(e)}var et=Object.freeze({__proto__:null,verifiedBuild:async function(e,t,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([Ze(e,t),Ye(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:Ze,decodeUpgradeableLoaderState:Je}),tt=Object.freeze({__proto__:null,sha256:Fe,rpc:We,publicKey:qe,bytes:k,token:Qe,features:B,registry:et});h.struct([h.publicKey("authority"),h.vecU8("data")]),new Map,new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");const nt={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class rt{constructor(e,t,n,r,i,o){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new it(n,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],n=f()(t.name);t.pda&&t.pda.seeds.length>0&&!this._accounts[n]?await this.autoPopulatePda(t):!t.isSigner||this._accounts[n]?Reflect.has(rt.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=rt.CONST_ACCOUNTS[n]):this._accounts[n]=this._provider.wallet.publicKey}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),n=await this.parseProgramId(e),[r]=await o.PublicKey.findProgramAddress(t,n);this._accounts[f()(e.name)]=r}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new o.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=f()(e.path.split(".")[0]),n=this._idlIx.args.findIndex((e=>e.name===t));if(-1===n)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[n]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),n=t[0],r=this._accounts[f()(n)];if(1===t.length)return r;const i=await this._accountStore.fetchAccount(e.account,r);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[f()(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return Buffer.from([t]);case"u16":let n=Buffer.alloc(2);return n.writeUInt16LE(t),n;case"u32":let r=Buffer.alloc(4);return r.writeUInt32LE(t),r;case"u64":let i=Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return Buffer.from(b(t));case"publicKey":return t.toBuffer();default:if(e.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}rt.CONST_ACCOUNTS={systemProgram:o.SystemProgram.programId,tokenProgram:Ve,associatedTokenProgram:He,rent:o.SYSVAR_RENT_PUBKEY};class it{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const n=t.toString();if(!this._cache.has(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=new De(nt).accounts.decode("token",e.data);this._cache.set(n,r)}else{const r=this._accounts[f()(e)].fetch(t);this._cache.set(n,r)}return this._cache.get(n)}}},55:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACCOUNT_DISCRIMINATOR_SIZE:()=>Re,AccountClient:()=>Xt,AnchorError:()=>we,AnchorProvider:()=>se,BN:()=>s.a,BorshAccountsCoder:()=>Ne,BorshCoder:()=>We,BorshEventCoder:()=>De,BorshInstructionCoder:()=>Oe,BorshStateCoder:()=>Ke,EventManager:()=>Jt,EventParser:()=>en,IdlError:()=>ye,LangErrorCode:()=>Ae,LangErrorMessage:()=>ke,MethodsBuilderFactory:()=>cn,Program:()=>dn,ProgramError:()=>ve,ProgramErrorStack:()=>be,Spl:()=>fn,SplTokenCoder:()=>_t,StateClient:()=>Qt,eventDiscriminator:()=>Fe,getProvider:()=>de,parseIdlErrors:()=>E,setProvider:()=>le,splitArgsAndCtx:()=>jt,stateDiscriminator:()=>Ue,toInstruction:()=>P,translateAddress:()=>O,translateError:()=>Se,utils:()=>Wt,validateAccounts:()=>T,web3:()=>i});var r=n(5872),i=n(9990),o=n(9098),s=n.n(o),a=n(1511),u=n.n(a),c=n(5415),l=n(1036),d=n.n(l),f=n(9489),p=n(8507),h=n(189),m=n(1312),g=n.n(m),y=n(2943),b=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?r.Buffer.from([]):r.Buffer.from(t.map((e=>parseInt(e,16))))}});function w(e){return new TextDecoder("utf-8").decode(e)}function v(e){return(new TextEncoder).encode(e)}var S=Object.freeze({__proto__:null,decode:w,encode:v});function A(e){return u().encode(e)}var k=Object.freeze({__proto__:null,encode:A,decode:function(e){return u().decode(e)}});function _(e){return r.Buffer.from(c.toByteArray(e))}var M=Object.freeze({__proto__:null,encode:function(e){return c.fromByteArray(e)},decode:_}),I=Object.freeze({__proto__:null,hex:b,utf8:S,bs58:k,base64:M});function E(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}function P(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1})),n}function T(e,t={}){e.forEach((e=>{if("accounts"in e)T(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function O(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}class x extends TypeError{constructor(e,t){let n;const{message:r,...i}=e,{path:o}=e;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]}}}function B(e){return"object"==typeof e&&null!=e}function L(e){return"string"==typeof e?JSON.stringify(e):""+e}function C(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:u="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+L(r)+"`"}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*R(e,t,n,r){var i;B(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=C(i,t,n,r);e&&(yield e)}}function*N(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&B(t.schema)&&B(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let u=!0;for(const n of t.validator(e,a))u=!1,yield[n,void 0];for(let[n,c,l]of t.entries(e,a)){const t=N(c,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,c],coerce:o,mask:s});for(const r of t)r[0]?(u=!1,yield[r[0],void 0]):o&&(c=r[1],void 0===n?e=c:e instanceof Map?e.set(n,c):e instanceof Set?e.add(c):B(e)&&(e[n]=c))}if(u)for(const n of t.refiner(e,a))u=!1,yield[n,void 0];u&&(yield[void 0,e])}class D{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>R(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>R(i(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const n=U(e,t);if(n[0])throw n[0]}(e,this)}create(e){return F(e,this)}is(e){return K(e,this)}mask(e){return function(e,t){const n=U(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t={}){return U(e,this,t)}}function F(e,t){const n=U(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function K(e,t){return!U(e,t)[0]}function U(e,t,n={}){const r=N(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);return i[0]?[new x(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]:[void 0,i[1]]}function W(e,t){return new D({type:e,schema:null,validator:t})}function z(e){return new D({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+L(e)})}function j(e){const t=L(e),n=typeof e;return new D({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `"+t+"`, but received: "+L(n)})}function q(e){return new D({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function V(){return W("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+L(e)))}function H(e){return new D({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function Q(){return W("string",(e=>"string"==typeof e||"Expected a string, but received: "+L(e)))}function G(e){const t=Object.keys(e);return new D({type:"type",schema:e,*entries(n){if(B(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>B(e)||"Expected an object, but received: "+L(e)})}function X(e){const t=e.map((e=>e.type)).join(" | ");return new D({type:"union",schema:null,validator(n,r){const i=[];for(const t of e){const[...e]=N(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+L(n),...i]}})}function Y(){return W("unknown",(()=>!0))}async function Z(e,t,n){if(t.length<=99)return await $(e,t,n);{const r=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/99))).map(((t,n)=>e.slice(99*n,99*(n+1))))}(t);return(await Promise.all(r.map((t=>$(e,t,n))))).flat()}}async function $(e,t,n){const r=null!=n?n:e.commitment;return(await e.getMultipleAccountsInfo(t,r)).map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}async function J(e,t,n,r,o){n&&n.length>0&&t.sign(...n);const s=t._compile(),a=s.serialize(),u=t._serialize(a).toString("base64"),c={encoding:"base64",commitment:null!=r?r:e.commitment};if(o){const e=(Array.isArray(o)?o:s.nonProgramIds()).map((e=>e.toBase58()));c.accounts={encoding:"base64",addresses:e}}n&&(c.sigVerify=!0);const l=[u,c],d=F(await e._rpcRequest("simulateTransaction",l),ne);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(d.error.message,n)}throw new i.SendTransactionError("failed to simulate transaction: "+d.error.message,e)}return d.result}const ee=te(Y());function te(e){return X([G({jsonrpc:j("2.0"),id:Q(),result:e}),G({jsonrpc:j("2.0"),id:Q(),error:G({code:Y(),message:Q(),data:H(W("any",(()=>!0)))})})])}const ne=(ie=G({err:q(X([G({}),Q()])),logs:q(z(Q())),accounts:H(q(z(q(G({executable:W("boolean",(e=>"boolean"==typeof e)),owner:Q(),lamports:V(),data:z(Q()),rentEpoch:H(V())}))))),unitsConsumed:H(V())}),function(e,t,n){return new D({...e,coercer:(r,i)=>K(r,t)?e.coercer(n(r),i):e.coercer(r,i)})}(te(re=G({context:G({slot:V()}),value:ie})),ee,(e=>"error"in e?e:{...e,result:F(e.result,re)})));var re,ie,oe=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=O(e),r||(r=de());const o=new i.Transaction;if(o.add(new i.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(o,[])},getMultipleAccounts:Z,simulateTransaction:J});class se{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var r;void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(null!=t?t:[]).forEach((t=>{e.partialSign(t)}));const o=e.serialize();try{return await ue(this.connection,o,n)}catch(t){if(t instanceof ce){const n=await this.connection.getTransaction(A(e.signature),{commitment:"confirmed"});if(n){const e=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw e?new i.SendTransactionError(t.message,e):t}throw t}throw t}}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{var t;let r=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return r.feePayer=this.wallet.publicKey,r.recentBlockhash=n.blockhash,i.forEach((e=>{r.partialSign(e)})),r}));const i=await this.wallet.signAllTransactions(r),o=[];for(let e=0;e<r.length;e+=1){const n=i[e].serialize();o.push(await ue(this.connection,n,t))}return o}async simulate(e,t,n,r){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const i=await J(this.connection,e,t,n,r);if(i.value.err)throw new ae(i.value);return i.value}}class ae extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function ue(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await e.sendRawTransaction(t,r),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new ce(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class ce extends Error{constructor(e){super(e)}}function le(e){fe=e}function de(){return null===fe?se.local():fe}let fe=null;const pe=new Set(["anchor-deprecated-state","debug-logs"]),he=new Map;function me(e){return void 0!==he.get(e)}var ge=Object.freeze({__proto__:null,set:function(e){if(!pe.has(e))throw new Error("Invalid feature");he.set(e,!0)},isSet:me});class ye extends Error{constructor(e){super(e),this.name="IdlError"}}class be{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,o=[];for(let s=0;s<e.length;s++){if(r.exec(e[s])){o.pop();continue}const a=null===(t=n.exec(e[s]))||void 0===t?void 0:t[1];a&&o.push(new i.PublicKey(a))}return new be(o)}}class we extends Error{constructor(e,t,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=be.parse(r)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const n=e[t],r=[n];let o;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,s=n.exec(e[t+2])[1],a=n.exec(e[t+4])[1];o=[new i.PublicKey(s),new i.PublicKey(a)],r.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,i=n.exec(e[t+1])[2],s=n.exec(e[t+2])[2];r.push(...e.slice(t+1,t+3)),o=[i,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),u=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[t,n,i]=s.slice(1,4),a={code:t,number:parseInt(n)};return new we(a,i,r,e,void 0,o)}if(a){const[t,n,i,s,u]=a.slice(1,6),c={code:i,number:parseInt(s)},l={file:t,line:parseInt(n)};return new we(c,u,r,e,l,o)}if(u){const[t,n,i,s]=u.slice(1,5),a=t,c={code:n,number:parseInt(i)};return new we(c,s,r,e,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ve extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=be.parse(n))}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(e){return null}let o=t.get(i);return void 0!==o?new ve(i,o,e.logs):(o=ke.get(i),void 0!==o?new ve(i,o,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function Se(e,t){me("debug-logs")&&console.log("Translating error:",e);const n=we.parse(e.logs);if(n)return n;const r=ve.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return"programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=be.parse(e.logs),new Proxy(e,t)}return e}const Ae={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},ke=new Map([[Ae.InstructionMissing,"8 byte instruction identifier not provided"],[Ae.InstructionFallbackNotFound,"Fallback functions are not supported"],[Ae.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Ae.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Ae.IdlInstructionStub,"The program was compiled without idl instructions"],[Ae.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Ae.ConstraintMut,"A mut constraint was violated"],[Ae.ConstraintHasOne,"A has_one constraint was violated"],[Ae.ConstraintSigner,"A signer constraint was violated"],[Ae.ConstraintRaw,"A raw constraint was violated"],[Ae.ConstraintOwner,"An owner constraint was violated"],[Ae.ConstraintRentExempt,"A rent exemption constraint was violated"],[Ae.ConstraintSeeds,"A seeds constraint was violated"],[Ae.ConstraintExecutable,"An executable constraint was violated"],[Ae.ConstraintState,"A state constraint was violated"],[Ae.ConstraintAssociated,"An associated constraint was violated"],[Ae.ConstraintAssociatedInit,"An associated init constraint was violated"],[Ae.ConstraintClose,"A close constraint was violated"],[Ae.ConstraintAddress,"An address constraint was violated"],[Ae.ConstraintZero,"Expected zero account discriminant"],[Ae.ConstraintTokenMint,"A token mint constraint was violated"],[Ae.ConstraintTokenOwner,"A token owner constraint was violated"],[Ae.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Ae.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Ae.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Ae.ConstraintSpace,"A space constraint was violated"],[Ae.RequireViolated,"A require expression was violated"],[Ae.RequireEqViolated,"A require_eq expression was violated"],[Ae.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Ae.RequireNeqViolated,"A require_neq expression was violated"],[Ae.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Ae.RequireGtViolated,"A require_gt expression was violated"],[Ae.RequireGteViolated,"A require_gte expression was violated"],[Ae.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Ae.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Ae.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Ae.AccountDidNotDeserialize,"Failed to deserialize the account"],[Ae.AccountDidNotSerialize,"Failed to serialize the account"],[Ae.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Ae.AccountNotMutable,"The given account is not mutable"],[Ae.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Ae.InvalidProgramId,"Program ID was not as expected"],[Ae.InvalidProgramExecutable,"Program account is not executable"],[Ae.AccountNotSigner,"The given account did not sign"],[Ae.AccountNotSystemOwned,"The given account is not owned by the system program"],[Ae.AccountNotInitialized,"The program expected this account to be already initialized"],[Ae.AccountNotProgramData,"The given account is not a program data account"],[Ae.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Ae.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Ae.StateInvalidAddress,"The given state account does not have the correct address"],[Ae.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Ae.Deprecated,"The API being used is deprecated and should no longer be used"]]);var _e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_e.apply(this,arguments)};function Me(e){return e.toLowerCase()}var Ie=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Ee=/[^A-Z0-9]+/gi;function Pe(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}class Te{static fieldLayout(e,t){const n=void 0!==e.name?d()(e.name):void 0;switch(e.type){case"bool":return p.bool(n);case"u8":return p.u8(n);case"i8":return p.i8(n);case"u16":return p.u16(n);case"i16":return p.i16(n);case"u32":return p.u32(n);case"i32":return p.i32(n);case"f32":return p.f32(n);case"u64":return p.u64(n);case"i64":return p.i64(n);case"f64":return p.f64(n);case"u128":return p.u128(n);case"i128":return p.i128(n);case"bytes":return p.vecU8(n);case"string":return p.str(n);case"publicKey":return p.publicKey(n);default:if("vec"in e.type)return p.vec(Te.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return p.option(Te.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){const r=e.type.defined;if(void 0===t)throw new ye("User defined types not provided");const i=t.filter((e=>e.name===r));if(1!==i.length)throw new ye(`Type not found: ${JSON.stringify(e)}`);return Te.typeDefLayout(i[0],t,n)}if("array"in e.type){let r=e.type.array[0],i=e.type.array[1],o=Te.fieldLayout({name:void 0,type:r},t);return p.array(o,i,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],n){if("struct"===e.type.kind){const r=e.type.fields.map((e=>Te.fieldLayout(e,t)));return p.struct(r,n)}if("enum"===e.type.kind){let r=e.type.variants.map((e=>{const n=d()(e.name);if(void 0===e.fields)return p.struct([],n);const r=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Te.fieldLayout(e,t)}));return p.struct(r,n)}));return void 0!==n?p.rustEnum(r).replicate(n):p.rustEnum(r,n)}throw new Error(`Unknown type kint: ${e}`)}}class Oe{constructor(e){this.idl=e,this.ixLayout=Oe.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=Be("global",e.name);t.set(u().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=Be("state",e.name);t.set(u().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,n){const i=r.Buffer.alloc(1e3),o=d()(t),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(n,i),u=i.slice(0,a);return r.Buffer.concat([Be(e,t),u])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let n=t.args.map((t=>{var n,r;return Te.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=d()(t.name);return[r,p.struct(n,r)]})).concat(e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return Te.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=d()(t.name);return[r,p.struct(n,r)]})));return new Map(t)}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?r.Buffer.from(e,"hex"):u().decode(e));let n=u().encode(e.slice(0,8)),i=e.slice(8);const o=this.sighashLayouts.get(n);return o?{data:o.layout.decode(i),name:o.name}:null}format(e,t){return xe.format(e,t,this.idl)}}class xe{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:xe.formatIdlType(t.type),data:xe.formatIdlData(t,e.data[t.name],n.types)}))),o=xe.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return xe.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){if("struct"===e.type.kind){const r=e.type;return"{ "+Object.keys(t).map((e=>{const i=r.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+xe.formatIdlData(i,t[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=r[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+xe.formatIdlData(a,s,n)})).join(", "),a=d()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return xe.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}function Be(e,t){var n;let i=`${e}:${void 0===n&&(n={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?Ie:n,i=t.stripRegexp,o=void 0===i?Ee:i,s=t.transform,a=void 0===s?Me:s,u=t.delimiter,c=void 0===u?" ":u,l=Pe(Pe(e,r,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(a).join(c)}(e,_e({delimiter:"."},t))}(t,_e({delimiter:"_"},n))}`;return r.Buffer.from(f.sha256.digest(i)).slice(0,8)}function Le(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return Ce(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>Ce(e,t.type))).reduce(((e,t)=>e+t),0)}function Ce(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+Ce(e,t.option);if("coption"in t)return 4+Ce(e,t.coption);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new ye(`Type not found: ${JSON.stringify(t)}`);return Le(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return Ce(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}const Re=8;class Ne{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,Te.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.encode(t,n);let s=n.slice(0,o),a=Ne.accountDiscriminator(e);return r.Buffer.concat([a,s])}decode(e,t){if(Ne.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const n=t.slice(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=Ne.accountDiscriminator(e);return{offset:0,bytes:u().encode(t?r.Buffer.concat([n,t]):n)}}size(e){var t;return 8+(null!==(t=Le(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return r.Buffer.from(f.sha256.digest(`account:${d()(e,{pascalCase:!0})}`)).slice(0,8)}}class De{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,Te.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[c.fromByteArray(Fe(e.name)),e.name])))}decode(e){let t;try{t=r.Buffer.from(c.toByteArray(e))}catch(e){return null}const n=c.fromByteArray(t.slice(0,8)),i=this.discriminators.get(n);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(t.slice(8)),name:i}}}function Fe(e){return r.Buffer.from(f.sha256.digest(`event:${e}`)).slice(0,8)}class Ke{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=Te.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const n=r.Buffer.alloc(1e3),i=this.layout.encode(t,n),o=await Ue(e),s=n.slice(0,i);return r.Buffer.concat([o,s])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function Ue(e){let t=me("anchor-deprecated-state")?"account":"state";return r.Buffer.from(f.sha256.digest(`${t}:${e}`)).slice(0,8)}class We{constructor(e){this.instruction=new Oe(e),this.accounts=new Ne(e),this.events=new De(e),e.state&&(this.state=new Ke(e))}}var ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};class je{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var qe=je;class Ve extends je{isCount(){throw new Error("ExternalLayout is abstract")}}class He extends Ve{constructor(e,t,n){if(!(e instanceof je))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Qe||this.layout instanceof Ge}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class Qe extends je{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class Ge extends je{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const Xe=Math.pow(2,32);class Ye extends je{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return function(e,t){return e*Xe+t}(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=function(e){const t=Math.floor(e/Xe);return{hi32:t,lo32:e-t*Xe}}(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class Ze extends je{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof je),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class $e{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Je extends $e{constructor(e,t){if(!(e instanceof Ve&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class et extends je{constructor(e,t,n){const r=e instanceof Qe||e instanceof Ge;if(r)e=new Je(new He(e));else if(e instanceof Ve&&e.isCount())e=new Je(e);else if(!(e instanceof $e))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof je))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new tt(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class tt extends je{constructor(e,t,n,r){if(!(e instanceof et))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof je))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class nt extends je{constructor(e,t){if(!(e instanceof Ve&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ve||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof Ve&&(r=e.length),!Buffer.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof Ve&&this.length.encode(r,t,n),r}}var rt=e=>new Qe(1,e),it=e=>new Ye(e),ot=(e,t,n)=>new Ze(e,t,n),st=(e,t)=>new nt(e,t);class at{constructor(e){}encode(e,t){switch(d()(e)){case"initializeMint":return function({decimals:e,mintAuthority:t,freezeAuthority:n}){return dt({initializeMint:{decimals:e,mintAuthority:t.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||i.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return dt({initializeAccount:{}});case"initializeMultisig":return function({m:e}){return dt({initializeMultisig:{m:e}})}(t);case"transfer":return function({amount:e}){return dt({transfer:{amount:e}})}(t);case"approve":return function({amount:e}){return dt({approve:{amount:e}})}(t);case"revoke":return dt({revoke:{}});case"setAuthority":return function({authorityType:e,newAuthority:t}){return dt({setAuthority:{authorityType:e,newAuthority:t}})}(t);case"mintTo":return function({amount:e}){return dt({mintTo:{amount:e}})}(t);case"burn":return function({amount:e}){return dt({burn:{amount:e}})}(t);case"closeAccount":return dt({closeAccount:{}});case"freezeAccount":return dt({freezeAccount:{}});case"thawAccount":return dt({thawAccount:{}});case"transferChecked":return function({amount:e,decimals:t}){return dt({transferChecked:{amount:e,decimals:t}})}(t);case"approvedChecked":return function({amount:e,decimals:t}){return dt({approveChecked:{amount:e,decimals:t}})}(t);case"mintToChecked":return function({amount:e,decimals:t}){return dt({mintToChecked:{amount:e,decimals:t}})}(t);case"burnChecked":return function({amount:e,decimals:t}){return dt({burnChecked:{amount:e,decimals:t}})}(t);case"intializeAccount2":return function({authority:e}){return dt({initilaizeAccount2:{authority:e}})}(t);case"syncNative":return dt({syncNative:{}});case"initializeAccount3":return function({authority:e}){return dt({initializeAccount3:{authority:e}})}(t);case"initializeMultisig2":return function({m:e}){return dt({initializeMultisig2:{m:e}})}(t);case"initializeMint2":return function({decimals:e,mintAuthority:t,freezeAuthority:n}){return dt({encodeInitializeMint2:{decimals:e,mintAuthority:t,freezeAuthority:n}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const ut=(ct=rt("instruction"),new et(ct,void 0,void 0));var ct;function lt(e){return st(32,e)}function dt(e){let t=Buffer.alloc(ft),n=ut.encode(e,t);return t.slice(0,n)}ut.addVariant(0,ot([rt("decimals"),st(32,"mintAuthority"),rt("freezeAuthorityOption"),lt("freezeAuthority")]),"initializeMint"),ut.addVariant(1,ot([]),"initializeAccount"),ut.addVariant(2,ot([rt("m")]),"initializeMultisig"),ut.addVariant(3,ot([it("amount")]),"transfer"),ut.addVariant(4,ot([it("amount")]),"approve"),ut.addVariant(5,ot([]),"revoke"),ut.addVariant(6,ot([rt("authorityType"),rt("newAuthorityOption"),lt("newAuthority")]),"setAuthority"),ut.addVariant(7,ot([it("amount")]),"mintTo"),ut.addVariant(8,ot([it("amount")]),"burn"),ut.addVariant(9,ot([]),"closeAccount"),ut.addVariant(10,ot([]),"freezeAccount"),ut.addVariant(11,ot([]),"thawAccount"),ut.addVariant(12,ot([it("amount"),rt("decimals")]),"transferChecked"),ut.addVariant(13,ot([it("amount"),rt("decimals")]),"approvedChecked"),ut.addVariant(14,ot([it("amount"),rt("decimals")]),"mintToChecked"),ut.addVariant(15,ot([it("amount"),rt("decimals")]),"burnedChecked"),ut.addVariant(16,ot([lt("authority")]),"InitializeAccount2"),ut.addVariant(17,ot([]),"syncNative"),ut.addVariant(18,ot([lt("authority")]),"initializeAccount3"),ut.addVariant(19,ot([rt("m")]),"initializeMultisig2"),ut.addVariant(20,ot([rt("decimals"),lt("mintAuthority"),rt("freezeAuthorityOption"),lt("freezeAuthority")]),"initializeMint2");const ft=Math.max(...Object.values(ut.registry).map((e=>e.span)));class pt{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function ht(e){return new yt(st(8),(e=>wt.fromBuffer(e)),(e=>e.toBuffer()),e)}function mt(e){return new yt(st(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}function gt(e,t){return new bt(e,t)}class yt extends qe{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class bt extends qe{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=new Qe(4,void 0)}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class wt extends(s()){toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new wt([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class vt{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const e=Buffer.alloc(165),n=At.encode(t,e);return e.slice(0,n)}case"mint":{const e=Buffer.alloc(82),n=St.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(e){return At.decode(e)}(t);case"mint":return function(e){return St.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=Le(this.idl,e))&&void 0!==t?t:0}}const St=ot([gt(mt(),"mintAuthority"),ht("supply"),rt("decimals"),new yt(rt(),(function(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}),(function(e){return e?1:0}),"isInitialized"),gt(mt(),"freezeAuthority")]),At=ot([mt("mint"),mt("authority"),ht("amount"),gt(mt(),"delegate"),rt("state"),gt(ht(),"isNative"),ht("delegatedAmount"),gt(mt(),"closeAuthority")]);class kt{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class _t{constructor(e){this.instruction=new at(e),this.accounts=new vt(e),this.events=new kt(e),this.state=new pt(e)}}var Mt=Object.freeze({__proto__:null,hash:function(e){return(0,f.sha256)(e)}});function It(e,t,n){const o=r.Buffer.concat([e.toBuffer(),r.Buffer.from(t),n.toBuffer()]),s=f.sha256.digest(o);return new i.PublicKey(r.Buffer.from(s))}function Et(e,t){let n=r.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,Tt(e)])})),n=r.Buffer.concat([n,t.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);let o=(0,f.sha256)(new Uint8Array(n)),a=new(s())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(a)}function Pt(e,t){let n,i=255;for(;0!=i;){try{n=Et(e.concat(r.Buffer.from([i])),t)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}const Tt=e=>e instanceof r.Buffer?e:e instanceof Uint8Array?r.Buffer.from(e.buffer,e.byteOffset,e.byteLength):r.Buffer.from(e);async function Ot(e,...t){let n=[r.Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(e instanceof r.Buffer?e:O(e).toBuffer())}));const[o]=await i.PublicKey.findProgramAddress(n,O(e));return o}var xt=Object.freeze({__proto__:null,createWithSeedSync:It,createProgramAddressSync:Et,findProgramAddressSync:Pt,associated:Ot});const Bt=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Lt=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Ct=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Bt,ASSOCIATED_PROGRAM_ID:Lt,associatedAddress:async function({mint:e,owner:t}){return(await i.PublicKey.findProgramAddress([t.toBuffer(),Bt.toBuffer(),e.toBuffer()],Lt))[0]}}),Rt={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:ze,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];S.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new w(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new S(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=f,e.Request=w,e.Response=S),t.Headers=f,t.Request=w,t.Response=S,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Rt,Rt.exports);var Nt=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Rt.exports);async function Dt(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=Kt(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Kt(i.data);return o}const Ft=p.rustEnum([p.struct([],"uninitialized"),p.struct([p.option(p.publicKey(),"authorityAddress")],"buffer"),p.struct([p.publicKey("programdataAddress")],"program"),p.struct([p.u64("slot"),p.option(p.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,p.u32());function Kt(e){return Ft.decode(e)}var Ut=Object.freeze({__proto__:null,verifiedBuild:async function(e,t,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([Dt(e,t),Nt(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:Dt,decodeUpgradeableLoaderState:Kt}),Wt=Object.freeze({__proto__:null,sha256:Mt,rpc:oe,publicKey:xt,bytes:I,token:Ct,features:ge,registry:Ut});const zt=p.struct([p.publicKey("authority"),p.vecU8("data")]);function jt(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class qt{static build(e,t,n){if("_inner"===e.name)throw new ye("the _inner name is reserved");const r=(...o)=>{const[s,a]=jt(e,[...o]);T(e.accounts,a.accounts);const u=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&u.push(...a.remainingAccounts),me("debug-logs")&&console.log("Outgoing account metas:",u),new i.TransactionInstruction({keys:u,programId:n,data:t(e.name,P(e,...s))})};return r.accounts=t=>qt.accountsArray(t,e.accounts,e.name),r}static accountsArray(e,t,n){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const r=e[t.name];return qt.accountsArray(r,t.accounts,n).flat()}{const r=t;let i;try{i=O(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class Vt{static build(e,t,n,r){return async(...i)=>{var o;const s=t(...i),[,a]=jt(e,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(s,null!==(o=a.signers)&&void 0!==o?o:[],a.options)}catch(e){throw Se(e,n)}}}}class Ht{static build(e,t){return(...n)=>{var r,o,s;const[,a]=jt(e,[...n]),u=new i.Transaction;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=a.preInstructions)||void 0===r||r.forEach((e=>u.add(e))),null===(o=a.instructions)||void 0===o||o.forEach((e=>u.add(e))),u.add(t(...n)),null===(s=a.postInstructions)||void 0===s||s.forEach((e=>u.add(e))),u}}}class Qt{constructor(e,t,n=de(),r=new We(e)){this.provider=n,this.coder=r,this._idl=e,this._programId=t,this._address=Gt(t),this._sub=null;const[o,s,a]=(()=>{var o;let s={},a={},u={};return null===(o=e.state)||void 0===o||o.methods.forEach((o=>{const c=qt.build(o,((e,t)=>r.instruction.encodeState(e,t)),t);c.accounts=e=>{const r=function(e,t,n,r){if("new"===n.name){const[n]=Pt([],e);if(void 0===t.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Gt(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return T(n.accounts,r),[{pubkey:Gt(e),isWritable:!0,isSigner:!1}]}(t,n,o,e);return r.concat(qt.accountsArray(e,o.accounts,o.name))};const l=Ht.build(o,c),f=Vt.build(o,l,E(e),n),p=d()(o.name);s[p]=c,a[p]=l,u[p]=f})),[s,a,u]})();this.instruction=o,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await Ue(n.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(g()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);t.emit("change",n)}),e);return this._sub={ee:t,listener:n},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Gt(e){let[t]=Pt([],e);return It(t,"unversioned",e)}class Xt{constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:de(),this._coder=null!=i?i:new We(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const n=await this.getAccountInfo(e,t);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,t){const n=await this.fetchNullable(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,t){return(await Z(this._provider.connection,e.map((e=>O(e))),t)).map((e=>null==e?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){const n=Yt.get(e.toString());if(n)return n.ee;const r=new(g());e=O(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return Yt.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=Yt.get(e.toString());t?Yt&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Yt.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await Ot(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(O(e),t)}}const Yt=new Map,Zt="Program log: ".length,$t="Program data: ".length;class Jt{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new en(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{e.err||this._eventParser.parseLogs(e.logs,(e=>{const n=this._eventListeners.get(e.name);n&&n.forEach((n=>{const r=this._eventCallbacks.get(n);if(r){const[,n]=r;n(e.data,t.slot)}}))}))}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(y.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class en{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const n=new nn(e),r=new tn;let i=n.next();for(;null!==i;){let[e,o,s]=this.handleLog(r,i);e&&t(e),o&&r.push(o),s&&r.pop(),i=n.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const t=e.startsWith("Program log: ")?e.slice(Zt):e.slice($t);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class tn{constructor(){this.stack=[]}program(){return y.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){y.ok(this.stack.length>0),this.stack.pop()}}class nn{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const rn=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function on(){return new _t(sn)}const sn={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class an{constructor(e,t,n,r,i,o){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new un(n,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],n=d()(t.name);if(t.pda&&t.pda.seeds.length>0&&!this._accounts[n])await this.autoPopulatePda(t);else if(!t.isSigner||this._accounts[n])Reflect.has(an.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=an.CONST_ACCOUNTS[n]);else{if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),n=await this.parseProgramId(e),[r]=await i.PublicKey.findProgramAddress(t,n);this._accounts[d()(e.name)]=r}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=d()(e.path.split(".")[0]),n=this._idlIx.args.findIndex((e=>e.name===t));if(-1===n)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[n]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),n=t[0],r=this._accounts[d()(n)];if(1===t.length)return r;const i=await this._accountStore.fetchAccount(e.account,r);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[d()(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return Buffer.from([t]);case"u16":let n=Buffer.alloc(2);return n.writeUInt16LE(t),n;case"u32":let r=Buffer.alloc(4);return r.writeUInt32LE(t),r;case"u64":let i=Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return Buffer.from(v(t));case"publicKey":return t.toBuffer();default:if(e.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}an.CONST_ACCOUNTS={systemProgram:i.SystemProgram.programId,tokenProgram:Bt,associatedTokenProgram:Lt,rent:i.SYSVAR_RENT_PUBKEY};class un{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const n=t.toString();if(!this._cache.has(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=on().accounts.decode("token",e.data);this._cache.set(n,r)}else{const r=this._accounts[d()(e)].fetch(t);this._cache.set(n,r)}return this._cache.get(n)}}class cn{static build(e,t,n,r,i,o,s,a,u){return(...c)=>new ln(c,r,i,o,s,a,e,t,n,u)}}class ln{constructor(e,t,n,r,i,o,s,a,u,c){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new an(e,this._accounts,s,a,u,c)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class dn{constructor(e,t,n,r){t=O(t),n||(n=de()),this._idl=e,this._provider=n,this._programId=t,this._coder=null!=r?r:new We(e),this._events=new Jt(this._programId,n,this._coder);const[i,o,s,a,u,c,l,f]=class{static build(e,t,n,r){const i={},o={},s={},a={},u={},c={},l=E(e),f=e.accounts?class{static build(e,t,n,r){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=d()(i.name);o[s]=new Xt(e,i,n,r,t)})),o}}.build(e,t,n,r):{},p=class{static build(e,t,n,r){if(void 0!==e.state)return new Qt(e,n,r,t)}}.build(e,t,n,r);return e.instructions.forEach((p=>{const h=qt.build(p,((e,n)=>t.instruction.encode(e,n)),n),m=Ht.build(p,h),g=Vt.build(p,m,l,r),y=class{static build(e,t,n,r,i,o,s){return async(...a)=>{var u;const c=t(...a),[,l]=jt(e,[...a]);let d;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{d=await r.simulate(c,l.signers,null===(u=l.options)||void 0===u?void 0:u.commitment)}catch(e){throw Se(e,n)}if(void 0===d)throw new Error("Unable to simulate transaction");const f=d.logs;if(!f)throw new Error("Simulated logs not found");const p=[];return s.events&&new en(o,i).parseLogs(f,(e=>{p.push(e)})),{events:p,raw:f}}}}.build(p,m,l,r,t,n,e),b=class{static build(e,t,n,r){const i=t.accounts.find((e=>e.isMut)),o=!!t.returns;if(!i&&o)return async(...i)=>{var o,s;let a=await n(...i);const u=`Program return: ${e} `;let c=a.raw.find((e=>e.startsWith(u)));if(!c)throw new Error("View expected return log");let l=_(c.slice(u.length)),d=t.returns;if(!d)throw new Error("View expected return type");return Te.fieldLayout({type:d},Array.from([...null!==(o=r.accounts)&&void 0!==o?o:[],...null!==(s=r.types)&&void 0!==s?s:[]])).decode(l)}}}.build(n,p,y,e),w=cn.build(r,n,p,h,m,g,y,b,f),v=d()(p.name);o[v]=h,s[v]=m,i[v]=g,a[v]=y,u[v]=w,b&&(c[v]=b)})),[i,o,s,f,a,u,p,c]}}.build(e,this._coder,t,n);this.rpc=i,this.instruction=o,this.transaction=s,this.account=a,this.simulate=u,this.methods=c,this.state=l,this.views=f}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const n=O(e),r=await dn.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new dn(r,n,t)}static async fetchIdl(e,t){t=null!=t?t:de();const n=O(e),r=await async function(e){const t=(await i.PublicKey.findProgramAddress([],e))[0];return await i.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),o=await t.connection.getAccountInfo(r);if(!o)return null;let s=(a=o.data.slice(8),zt.decode(a));var a;const u=(0,h.rr)(s.data);return JSON.parse(w(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class fn{static token(e){return function(e){return new dn(sn,rn,e,on())}(e)}}},8186:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LangErrorMessage=t.LangErrorCode=t.translateError=t.ProgramError=t.AnchorError=t.ProgramErrorStack=t.IdlError=void 0;const s=n(9990),a=o(n(3761));class u extends Error{constructor(e){super(e),this.name="IdlError"}}t.IdlError=u;class c{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(r.exec(e[o])){i.pop();continue}const a=null===(t=n.exec(e[o]))||void 0===t?void 0:t[1];a&&i.push(new s.PublicKey(a))}return new c(i)}}t.ProgramErrorStack=c;class l extends Error{constructor(e,t,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=c.parse(r)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const n=e[t],r=[n];let i;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,o=n.exec(e[t+2])[1],a=n.exec(e[t+4])[1];i=[new s.PublicKey(o),new s.PublicKey(a)],r.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,o=n.exec(e[t+1])[2],s=n.exec(e[t+2])[2];r.push(...e.slice(t+1,t+3)),i=[o,s]}const o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),u=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(o){const[t,n,s]=o.slice(1,4),a={code:t,number:parseInt(n)};return new l(a,s,r,e,void 0,i)}if(a){const[t,n,o,s,u]=a.slice(1,6),c={code:o,number:parseInt(s)},d={file:t,line:parseInt(n)};return new l(c,u,r,e,d,i)}if(u){const[t,n,o,s]=u.slice(1,5),a=t,c={code:n,number:parseInt(o)};return new l(c,s,r,e,a,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}t.AnchorError=l;class d extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=c.parse(n))}static parse(e,n){const r=e.toString();let i,o;if(r.includes("custom program error:")){let e=r.split("custom program error: ");if(2!==e.length)return null;i=e[1]}else{const e=r.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;i=e[0].match(/([0-9]+)/g)[0]}try{o=parseInt(i)}catch(e){return null}let s=n.get(o);return void 0!==s?new d(o,s,e.logs):(s=t.LangErrorMessage.get(o),void 0!==s?new d(o,s,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}t.ProgramError=d,t.translateError=function(e,t){a.isSet("debug-logs")&&console.log("Translating error:",e);const n=l.parse(e.logs);if(n)return n;const r=d.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return"programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=c.parse(e.logs),new Proxy(e,t)}return e},t.LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},t.LangErrorMessage=new Map([[t.LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[t.LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[t.LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[t.LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[t.LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[t.LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[t.LangErrorCode.ConstraintMut,"A mut constraint was violated"],[t.LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[t.LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[t.LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[t.LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[t.LangErrorCode.ConstraintRentExempt,"A rent exemption constraint was violated"],[t.LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[t.LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[t.LangErrorCode.ConstraintState,"A state constraint was violated"],[t.LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[t.LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[t.LangErrorCode.ConstraintClose,"A close constraint was violated"],[t.LangErrorCode.ConstraintAddress,"An address constraint was violated"],[t.LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[t.LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[t.LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[t.LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[t.LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[t.LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[t.LangErrorCode.ConstraintSpace,"A space constraint was violated"],[t.LangErrorCode.RequireViolated,"A require expression was violated"],[t.LangErrorCode.RequireEqViolated,"A require_eq expression was violated"],[t.LangErrorCode.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[t.LangErrorCode.RequireNeqViolated,"A require_neq expression was violated"],[t.LangErrorCode.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[t.LangErrorCode.RequireGtViolated,"A require_gt expression was violated"],[t.LangErrorCode.RequireGteViolated,"A require_gte expression was violated"],[t.LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[t.LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[t.LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[t.LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[t.LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[t.LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[t.LangErrorCode.AccountNotMutable,"The given account is not mutable"],[t.LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[t.LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[t.LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[t.LangErrorCode.AccountNotSigner,"The given account did not sign"],[t.LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[t.LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[t.LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[t.LangErrorCode.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[t.LangErrorCode.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[t.LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[t.LangErrorCode.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[t.LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]])},9794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translateAddress=t.validateAccounts=t.toInstruction=t.parseIdlErrors=void 0;const r=n(9990);t.parseIdlErrors=function(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t},t.toInstruction=function(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1})),n},t.validateAccounts=function e(t,n={}){t.forEach((t=>{if("accounts"in t)e(t.accounts,n[t.name]);else if(void 0===n[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))},t.translateAddress=function(e){return e instanceof r.PublicKey?e:new r.PublicKey(e)}},5679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitArgsAndCtx=void 0,t.splitArgsAndCtx=function(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}},7033:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=n(9990),a=n(8186),u=n(9794),c=n(5679),l=o(n(3761));class d{static build(e,t,n){if("_inner"===e.name)throw new a.IdlError("the _inner name is reserved");const r=(...i)=>{const[o,a]=(0,c.splitArgsAndCtx)(e,[...i]);(0,u.validateAccounts)(e.accounts,a.accounts);const d=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&d.push(...a.remainingAccounts),l.isSet("debug-logs")&&console.log("Outgoing account metas:",d),new s.TransactionInstruction({keys:d,programId:n,data:t(e.name,(0,u.toInstruction)(e,...o))})};return r.accounts=t=>d.accountsArray(t,e.accounts,e.name),r}static accountsArray(e,t,n){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const r=e[t.name];return d.accountsArray(r,t.accounts,n).flat()}{const r=t;let i;try{i=(0,u.translateAddress)(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}t.default=d},1081:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const s=n(5872),a=o(n(5415));t.encode=function(e){return a.fromByteArray(e)},t.decode=function(e){return s.Buffer.from(a.toByteArray(e))}},108:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const i=r(n(1511));t.encode=function(e){return i.default.encode(e)},t.decode=function(e){return i.default.decode(e)}},1552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const r=n(5872);t.encode=function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},t.decode=function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?r.Buffer.from([]):r.Buffer.from(t.map((e=>parseInt(e,16))))}},9490:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.base64=t.bs58=t.utf8=t.hex=void 0,t.hex=o(n(1552)),t.utf8=o(n(5644)),t.bs58=o(n(108)),t.base64=o(n(1081))},5644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const r=n(1888);t.decode=function(e){return(r.isBrowser?new TextDecoder("utf-8"):new(n(3585).TextDecoder)("utf-8")).decode(e)},t.encode=function(e){return(r.isBrowser?new TextEncoder:new(n(3585).TextEncoder)("utf-8")).encode(e)}},1888:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.chunks=t.isBrowser=void 0,t.isBrowser=process.env.BROWSER||"undefined"!=typeof window&&!(null===(n=window.process)||void 0===n?void 0:n.hasOwnProperty("type")),t.chunks=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((n,r)=>e.slice(r*t,(r+1)*t)))}},3761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSet=t.set=void 0;const n=new Set(["anchor-deprecated-state","debug-logs"]),r=new Map;t.set=function(e){if(!n.has(e))throw new Error("Invalid feature");r.set(e,!0)},t.isSet=function(e){return void 0!==r.get(e)}},2781:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.associated=t.findProgramAddressSync=t.createProgramAddressSync=t.createWithSeedSync=void 0;const i=n(5872),o=r(n(9098)),s=n(9489),a=n(9990),u=n(9794);function c(e,t){let n=i.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,l(e)])})),n=i.Buffer.concat([n,t.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);let r=(0,s.sha256)(new Uint8Array(n)),u=new o.default(r,16).toArray(void 0,32);if(a.PublicKey.isOnCurve(new Uint8Array(u)))throw new Error("Invalid seeds, address must fall off the curve");return new a.PublicKey(u)}t.createWithSeedSync=function(e,t,n){const r=i.Buffer.concat([e.toBuffer(),i.Buffer.from(t),n.toBuffer()]),o=s.sha256.digest(r);return new a.PublicKey(i.Buffer.from(o))},t.createProgramAddressSync=c,t.findProgramAddressSync=function(e,t){let n,r=255;for(;0!=r;){try{n=c(e.concat(i.Buffer.from([r])),t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")};const l=e=>e instanceof i.Buffer?e:e instanceof Uint8Array?i.Buffer.from(e.buffer,e.byteOffset,e.byteLength):i.Buffer.from(e);t.associated=async function(e,...t){let n=[i.Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(e instanceof i.Buffer?e:(0,u.translateAddress)(e).toBuffer())}));const[r]=await a.PublicKey.findProgramAddress(n,(0,u.translateAddress)(e));return r}},6297:(e,t,n)=>{"use strict";t.ap=t.H_=void 0;const r=n(9990);t.H_=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.ap=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL")},5481:(t,n,r)=>{"use strict";r.d(n,{rV:()=>o});var i=r(5872),o=r(9990),s=r(9098),a=r.n(s),u=r(1511),c=r.n(u),l=r(5415),d=r(1036),f=r.n(d),p=r(9489),h=r(8507),m=(r(189),r(1312),r(2943),Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?i.Buffer.from([]):i.Buffer.from(t.map((e=>parseInt(e,16))))}}));function g(e){return(new TextEncoder).encode(e)}var y=Object.freeze({__proto__:null,decode:function(e){return new TextDecoder("utf-8").decode(e)},encode:g});function b(e){return c().encode(e)}var w=Object.freeze({__proto__:null,encode:b,decode:function(e){return c().decode(e)}});var v=Object.freeze({__proto__:null,encode:function(e){return l.fromByteArray(e)},decode:function(e){return i.Buffer.from(l.toByteArray(e))}}),S=Object.freeze({__proto__:null,hex:m,utf8:y,bs58:w,base64:v});function A(e){return e instanceof o.PublicKey?e:new o.PublicKey(e)}class k extends TypeError{constructor(e,t){let n;const{message:r,...i}=e,{path:o}=e;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]}}}function _(e){return"object"==typeof e&&null!=e}function M(e){return"string"==typeof e?JSON.stringify(e):""+e}function I(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:u="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+M(r)+"`"}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*E(e,t,n,r){var i;_(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=I(i,t,n,r);e&&(yield e)}}function*P(e,t,n){void 0===n&&(n={});const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&_(t.schema)&&_(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let u=!0;for(const n of t.validator(e,a))u=!1,yield[n,void 0];for(let[n,c,l]of t.entries(e,a)){const t=P(c,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,c],coerce:o,mask:s});for(const r of t)r[0]?(u=!1,yield[r[0],void 0]):o&&(c=r[1],void 0===n?e=c:e instanceof Map?e.set(n,c):e instanceof Set?e.add(c):_(e)&&(e[n]=c))}if(u)for(const n of t.refiner(e,a))u=!1,yield[n,void 0];u&&(yield[void 0,e])}class T{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>E(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>E(i(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const n=B(e,t);if(n[0])throw n[0]}(e,this)}create(e){return O(e,this)}is(e){return x(e,this)}mask(e){return function(e,t){const n=B(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),B(e,this,t)}}function O(e,t){const n=B(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function x(e,t){return!B(e,t)[0]}function B(e,t,n){void 0===n&&(n={});const r=P(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);return i[0]?[new k(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]:[void 0,i[1]]}function L(e,t){return new T({type:e,schema:null,validator:t})}function C(e){return new T({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+M(e)})}function R(e){const t=M(e),n=typeof e;return new T({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `"+t+"`, but received: "+M(n)})}function N(e){return new T({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function D(){return L("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+M(e)))}function F(e){return new T({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function K(){return L("string",(e=>"string"==typeof e||"Expected a string, but received: "+M(e)))}function U(e){const t=Object.keys(e);return new T({type:"type",schema:e,*entries(n){if(_(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>_(e)||"Expected an object, but received: "+M(e)})}function W(e){const t=e.map((e=>e.type)).join(" | ");return new T({type:"union",schema:null,coercer:(t,n)=>(e.find((e=>{const[n]=e.validate(t,{coerce:!0});return!n}))||z()).coercer(t,n),validator(n,r){const i=[];for(const t of e){const[...e]=P(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+M(n),...i]}})}function z(){return L("unknown",(()=>!0))}async function j(e,t,n){const r=null!=n?n:e.commitment;return(await e.getMultipleAccountsInfo(t,r)).map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}async function q(e,t,n,r,i){n&&n.length>0&&t.sign(...n);const s=t._compile(),a=s.serialize(),u=t._serialize(a).toString("base64"),c={encoding:"base64",commitment:null!=r?r:e.commitment};if(i){const e=(Array.isArray(i)?i:s.nonProgramIds()).map((e=>e.toBase58()));c.accounts={encoding:"base64",addresses:e}}n&&(c.sigVerify=!0);const l=[u,c],d=O(await e._rpcRequest("simulateTransaction",l),Q);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(d.error.message,n)}throw new o.SendTransactionError("failed to simulate transaction: "+d.error.message,e)}return d.result}const V=H(z());function H(e){return W([U({jsonrpc:R("2.0"),id:K(),result:e}),U({jsonrpc:R("2.0"),id:K(),error:U({code:z(),message:K(),data:F(L("any",(()=>!0)))})})])}const Q=(X=U({err:N(W([U({}),K()])),logs:N(C(K())),accounts:F(N(C(N(U({executable:L("boolean",(e=>"boolean"==typeof e)),owner:K(),lamports:D(),data:C(K()),rentEpoch:F(D())}))))),unitsConsumed:F(D())}),function(e,t,n){return new T({...e,coercer:(r,i)=>x(r,t)?e.coercer(n(r),i):e.coercer(r,i)})}(H(G=U({context:U({slot:D()}),value:X})),V,(e=>"error"in e?e:{...e,result:O(e.result,G)})));var G,X,Y=Object.freeze({__proto__:null,invoke:async function(e,t,n,r){e=A(e),r||(r=null===te?Z.local():te);const i=new o.Transaction;if(i.add(new o.TransactionInstruction({programId:e,keys:null!=t?t:[],data:n})),void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(i,[])},getMultipleAccounts:async function(e,t,n){if(t.length<=99)return await j(e,t,n);{const r=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/99))).map(((t,n)=>e.slice(99*n,99*(n+1))))}(t);return(await Promise.all(r.map((t=>j(e,t,n))))).flat()}},simulateTransaction:q});class Z{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n,this.publicKey=t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var r;void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(null!=t?t:[]).forEach((t=>{e.partialSign(t)}));const i=e.serialize();try{return await J(this.connection,i,n)}catch(t){if(t instanceof ee){const n=await this.connection.getTransaction(b(e.signature),{commitment:"confirmed"});if(n){const e=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw e?new o.SendTransactionError(t.message,e):t}throw t}throw t}}async sendAll(e,t){void 0===t&&(t=this.opts);const n=await this.connection.getRecentBlockhash(t.preflightCommitment);let r=e.map((e=>{var t;let r=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return r.feePayer=this.wallet.publicKey,r.recentBlockhash=n.blockhash,i.forEach((e=>{r.partialSign(e)})),r}));const i=await this.wallet.signAllTransactions(r),o=[];for(let e=0;e<r.length;e+=1){const n=i[e].serialize();o.push(await J(this.connection,n,t))}return o}async simulate(e,t,n,r){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const i=await q(this.connection,e,t,n,r);if(i.value.err)throw new $(i.value);return i.value}}class $ extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function J(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await e.sendRawTransaction(t,r),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new ee(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class ee extends Error{constructor(e){super(e)}}let te=null;const ne=new Set(["anchor-deprecated-state","debug-logs"]),re=new Map;var ie=Object.freeze({__proto__:null,set:function(e){if(!ne.has(e))throw new Error("Invalid feature");re.set(e,!0)},isSet:function(e){return void 0!==re.get(e)}});class oe extends Error{constructor(e){super(e),this.name="IdlError"}}class se extends Error{constructor(e,t,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=wt.parse(r)}static parse(t){if(!t)return null;const n=t.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===n)return null;const r=t[n],i=[r];let o;if(n+1<t.length)if("Program log: Left:"===t[n+1]){const r=/^Program log: (.*)$/,o=r.exec(t[n+2])[1],s=r.exec(t[n+4])[1];new e(o),new e(s),i.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const e=/^Program log: (Left|Right): (.*)$/;e.exec(t[n+1])[2],e.exec(t[n+2])[2];i.push(...t.slice(n+1,n+3))}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),u=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(s){const[e,n,r]=s.slice(1,4),a={code:e,number:parseInt(n)};return new se(a,r,i,t,void 0,o)}if(a){const[e,n,r,s,u]=a.slice(1,6),c={code:r,number:parseInt(s)},l={file:e,line:parseInt(n)};return new se(c,u,i,t,l,o)}if(u){const[e,n,r,s]=u.slice(1,5),a=e,c={code:n,number:parseInt(r)};return new se(c,s,i,t,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ae extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=wt.parse(n))}static parse(e,t){const n=e.toString();let r;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;e[0].match(/([0-9]+)/g)[0]}try{parseInt(undefined)}catch(e){return null}let i=t.get(r);return void 0!==i?new ae(r,i,e.logs):(St.get(r),void 0!==i?new ae(r,i,e.logs):null)}get program(){return this._programErrorStack,void 0}get programErrorStack(){return this._programErrorStack,void 0}toString(){return this.msg}}function ue(e,t){if("enum"===t.type.kind){let n=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return ce(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...n)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>ce(e,t.type))).reduce(((e,t)=>e+t),0)}function ce(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+ce(e,t.option);if("coption"in t)return 4+ce(e,t.coption);if("defined"in t){const i=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new oe(`Type not found: ${JSON.stringify(t)}`);return ue(e,i[0])}if("array"in t){let n=t.array[0],r=t.array[1];return ce(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[3016,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[3017,"The account was duplicated for more than one reallocation"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};class de{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var fe=de;class pe extends de{isCount(){throw new Error("ExternalLayout is abstract")}}class he extends pe{constructor(e,t,n){if(!(e instanceof de))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof me||this.layout instanceof ge}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class me extends de{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class ge extends de{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const ye=Math.pow(2,32);function be(e){const t=Math.floor(e/ye);return{hi32:t,lo32:e-t*ye}}function we(e,t){return e*ye+t}class ve extends de{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return we(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=be(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class Se extends de{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return we(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=be(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class Ae extends de{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof de),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class ke{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class _e extends ke{constructor(e,t){if(!(e instanceof pe&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class Me extends de{constructor(e,t,n){const r=e instanceof me||e instanceof ge;if(r)e=new _e(new he(e));else if(e instanceof pe&&e.isCount())e=new _e(e);else if(!(e instanceof ke))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof de))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Ie(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class Ie extends de{constructor(e,t,n,r){if(!(e instanceof Me))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof de))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Ee extends de{constructor(e,t){if(!(e instanceof pe&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof pe||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof pe&&(r=e.length),!Buffer.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof pe&&this.length.encode(r,t,n),r}}var Pe=(e,t,n)=>new he(e,t,n),Te=e=>new me(1,e),Oe=e=>new me(4,e),xe=e=>new ve(e),Be=e=>new Se(e),Le=(e,t,n)=>new Ae(e,t,n),Ce=(e,t,n)=>new Me(e,t,n),Re=(e,t)=>new Ee(e,t);class Ne{constructor(e){}encode(e,t){switch(f()(e)){case"initializeMint":return function({decimals:e,mintAuthority:t,freezeAuthority:n}){return Ke({initializeMint:{decimals:e,mintAuthority:t.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||o.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return Ke({initializeAccount:{}});case"initializeMultisig":return function({m:e}){return Ke({initializeMultisig:{m:e}})}(t);case"transfer":return function({amount:e}){return Ke({transfer:{amount:e}})}(t);case"approve":return function({amount:e}){return Ke({approve:{amount:e}})}(t);case"revoke":return Ke({revoke:{}});case"setAuthority":return function({authorityType:e,newAuthority:t}){return Ke({setAuthority:{authorityType:e,newAuthority:t}})}(t);case"mintTo":return function({amount:e}){return Ke({mintTo:{amount:e}})}(t);case"burn":return function({amount:e}){return Ke({burn:{amount:e}})}(t);case"closeAccount":return Ke({closeAccount:{}});case"freezeAccount":return Ke({freezeAccount:{}});case"thawAccount":return Ke({thawAccount:{}});case"transferChecked":return function({amount:e,decimals:t}){return Ke({transferChecked:{amount:e,decimals:t}})}(t);case"approvedChecked":return function({amount:e,decimals:t}){return Ke({approveChecked:{amount:e,decimals:t}})}(t);case"mintToChecked":return function({amount:e,decimals:t}){return Ke({mintToChecked:{amount:e,decimals:t}})}(t);case"burnChecked":return function({amount:e,decimals:t}){return Ke({burnChecked:{amount:e,decimals:t}})}(t);case"intializeAccount2":return function({authority:e}){return Ke({initilaizeAccount2:{authority:e}})}(t);case"syncNative":return Ke({syncNative:{}});case"initializeAccount3":return function({authority:e}){return Ke({initializeAccount3:{authority:e}})}(t);case"initializeMultisig2":return function({m:e}){return Ke({initializeMultisig2:{m:e}})}(t);case"initializeMint2":return function({decimals:e,mintAuthority:t,freezeAuthority:n}){return Ke({encodeInitializeMint2:{decimals:e,mintAuthority:t,freezeAuthority:n}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const De=Ce(Te("instruction"));function Fe(e){return Re(32,e)}function Ke(e){let t=Buffer.alloc(Ue),n=De.encode(e,t);return t.slice(0,n)}De.addVariant(0,Le([Te("decimals"),Re(32,"mintAuthority"),Te("freezeAuthorityOption"),Fe("freezeAuthority")]),"initializeMint"),De.addVariant(1,Le([]),"initializeAccount"),De.addVariant(2,Le([Te("m")]),"initializeMultisig"),De.addVariant(3,Le([xe("amount")]),"transfer"),De.addVariant(4,Le([xe("amount")]),"approve"),De.addVariant(5,Le([]),"revoke"),De.addVariant(6,Le([Te("authorityType"),Te("newAuthorityOption"),Fe("newAuthority")]),"setAuthority"),De.addVariant(7,Le([xe("amount")]),"mintTo"),De.addVariant(8,Le([xe("amount")]),"burn"),De.addVariant(9,Le([]),"closeAccount"),De.addVariant(10,Le([]),"freezeAccount"),De.addVariant(11,Le([]),"thawAccount"),De.addVariant(12,Le([xe("amount"),Te("decimals")]),"transferChecked"),De.addVariant(13,Le([xe("amount"),Te("decimals")]),"approvedChecked"),De.addVariant(14,Le([xe("amount"),Te("decimals")]),"mintToChecked"),De.addVariant(15,Le([xe("amount"),Te("decimals")]),"burnedChecked"),De.addVariant(16,Le([Fe("authority")]),"InitializeAccount2"),De.addVariant(17,Le([]),"syncNative"),De.addVariant(18,Le([Fe("authority")]),"initializeAccount3"),De.addVariant(19,Le([Te("m")]),"initializeMultisig2"),De.addVariant(20,Le([Te("decimals"),Fe("mintAuthority"),Te("freezeAuthorityOption"),Fe("freezeAuthority")]),"initializeMint2");const Ue=Math.max(...Object.values(De.registry).map((e=>e.span)));class We{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function ze(e){return new Ve(Re(8),(e=>Qe.fromBuffer(e)),(e=>e.toBuffer()),e)}function je(e){return new Ve(Re(32),(e=>new o.PublicKey(e)),(e=>e.toBuffer()),e)}function qe(e,t){return new He(e,t)}class Ve extends fe{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class He extends fe{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Oe()}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class Qe extends(a()){toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new Qe([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Ge{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const e=Buffer.alloc(165),n=Ye.encode(t,e);return e.slice(0,n)}case"mint":{const e=Buffer.alloc(82),n=Xe.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(e){return Ye.decode(e)}(t);case"mint":return function(e){return Xe.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=ue(this.idl,e))&&void 0!==t?t:0}}const Xe=Le([qe(je(),"mintAuthority"),ze("supply"),Te("decimals"),new Ve(Te(),(function(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}),(function(e){return e?1:0}),"isInitialized"),qe(je(),"freezeAuthority")]),Ye=Le([je("mint"),je("authority"),ze("amount"),qe(je(),"delegate"),Te("state"),qe(ze(),"isNative"),ze("delegatedAmount"),qe(je(),"closeAuthority")]);class Ze{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class $e{constructor(e){}encode(e,t){throw new Error("SPL token does not have user-defined types")}decode(e,t){throw new Error("SPL token does not have user-defined types")}}class Je{constructor(e){this.instruction=new Ne(e),this.accounts=new Ge(e),this.events=new Ze(e),this.state=new We(e),this.types=new $e(e)}}class et extends fe{constructor(e){super(-1,e),this.property=e,this.layout=Le([Oe("length"),Oe("lengthPadding"),Re(Pe(Oe(),-8),"chars")],this.property)}encode(e,t,n=0){if(null==e)return this.layout.span;const r={chars:Buffer.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Oe().span+Oe().span+new(a())(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function tt(e){return new et(e)}function nt(e){return Re(32,e)}const rt=Ce(Oe("instruction"));rt.addVariant(0,Le([Be("lamports"),Be("space"),nt("owner")]),"createAccount"),rt.addVariant(1,Le([nt("owner")]),"assign"),rt.addVariant(2,Le([Be("lamports")]),"transfer"),rt.addVariant(3,Le([nt("base"),tt("seed"),Be("lamports"),Be("space"),nt("owner")]),"createAccountWithSeed"),rt.addVariant(4,Le([nt("authorized")]),"advanceNonceAccount"),rt.addVariant(5,Le([Be("lamports")]),"withdrawNonceAccount"),rt.addVariant(6,Le([nt("authorized")]),"initializeNonceAccount"),rt.addVariant(7,Le([nt("authorized")]),"authorizeNonceAccount"),rt.addVariant(8,Le([Be("space")]),"allocate"),rt.addVariant(9,Le([nt("base"),tt("seed"),Be("space"),nt("owner")]),"allocateWithSeed"),rt.addVariant(10,Le([nt("base"),tt("seed"),nt("owner")]),"assignWithSeed"),rt.addVariant(11,Le([Be("lamports"),tt("seed"),nt("owner")]),"transferWithSeed"),Math.max(...Object.values(rt.registry).map((e=>e.span)));class it extends fe{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function ot(e){return new it(Re(32),(e=>new o.PublicKey(e)),(e=>e.toBuffer()),e)}Le([Oe("version"),Oe("state"),ot("authorizedPubkey"),ot("nonce"),Le([xe("lamportsPerSignature")],"feeCalculator")]);var st=Object.freeze({__proto__:null,hash:function(e){return(0,p.sha256)(e)}});function at(e,t){let n=i.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,ut(e)])})),n=i.Buffer.concat([n,t.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);let r=(0,p.sha256)(new Uint8Array(n)),s=new(a())(r,16).toArray(void 0,32);if(o.PublicKey.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new o.PublicKey(s)}const ut=e=>e instanceof i.Buffer?e:e instanceof Uint8Array?i.Buffer.from(e.buffer,e.byteOffset,e.byteLength):i.Buffer.from(e);var ct=Object.freeze({__proto__:null,createWithSeedSync:function(e,t,n){const r=i.Buffer.concat([e.toBuffer(),i.Buffer.from(t),n.toBuffer()]),s=p.sha256.digest(r);return new o.PublicKey(i.Buffer.from(s))},createProgramAddressSync:at,findProgramAddressSync:function(e,t){let n,r=255;for(;0!=r;){try{n=at(e.concat(i.Buffer.from([r])),t)}catch(e){if(e instanceof TypeError)throw e;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")},associated:async function(e,...t){let n=[i.Buffer.from([97,110,99,104,111,114])];t.forEach((e=>{n.push(e instanceof i.Buffer?e:A(e).toBuffer())}));const[r]=await o.PublicKey.findProgramAddress(n,A(e));return r}});const lt=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),dt=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ft=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:lt,ASSOCIATED_PROGRAM_ID:dt,associatedAddress:async function({mint:e,owner:t}){return(await o.PublicKey.findProgramAddress([t.toBuffer(),lt.toBuffer(),e.toBuffer()],dt))[0]}}),pt={exports:{}};!function(e,t){var n="undefined"!=typeof self?self:le,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];S.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new w(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new S(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=f,e.Request=w,e.Response=S),t.Headers=f,t.Request=w,t.Response=S,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(pt,pt.exports);var ht=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(pt.exports);async function mt(e,t){const n=await e.getAccountInfo(t);if(null===n)throw new Error("program account not found");const{program:r}=yt(n.data),i=await e.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=yt(i.data);return o}const gt=h.rustEnum([h.struct([],"uninitialized"),h.struct([h.option(h.publicKey(),"authorityAddress")],"buffer"),h.struct([h.publicKey("programdataAddress")],"program"),h.struct([h.u64("slot"),h.option(h.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,h.u32());function yt(e){return gt.decode(e)}var bt=Object.freeze({__proto__:null,verifiedBuild:async function(e,t,n=5){const r=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([mt(e,t),ht(r)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:mt,decodeUpgradeableLoaderState:yt});Object.freeze({__proto__:null,sha256:st,rpc:Y,publicKey:ct,bytes:S,token:ft,features:ie,registry:bt}),h.struct([h.publicKey("authority"),h.vecU8("data")]),new Map,new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");const vt={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class At{constructor(e,t,n,r,i,o){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new kt(n,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],n=f()(t.name);if(!t.isSigner||this._accounts[n])Reflect.has(At.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=At.CONST_ACCOUNTS[n]);else{if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],n=f()(t.name);t.pda&&t.pda.seeds.length>0&&!this._accounts[n]&&await this.autoPopulatePda(t)}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),n=await this.parseProgramId(e),[r]=await o.PublicKey.findProgramAddress(t,n);this._accounts[f()(e.name)]=r}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new o.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=f()(e.path.split(".")[0]),n=this._idlIx.args.findIndex((e=>e.name===t));if(-1===n)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[n]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),n=t[0],r=this._accounts[f()(n)];if(1===t.length)return r;const i=await this._accountStore.fetchAccount(e.account,r);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[f()(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return Buffer.from([t]);case"u16":let n=Buffer.alloc(2);return n.writeUInt16LE(t),n;case"u32":let r=Buffer.alloc(4);return r.writeUInt32LE(t),r;case"u64":let i=Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return Buffer.from(g(t));case"publicKey":return t.toBuffer();default:if(e.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}At.CONST_ACCOUNTS={associatedTokenProgram:dt,rent:o.SYSVAR_RENT_PUBKEY,systemProgram:o.SystemProgram.programId,tokenProgram:lt};class kt{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const n=t.toString();if(!this._cache.has(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${n}`);const r=new Je(vt).accounts.decode("token",e.data);this._cache.set(n,r)}else{const r=this._accounts[f()(e)].fetch(t);this._cache.set(n,r)}return this._cache.get(n)}}new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new o.PublicKey("11111111111111111111111111111111")},8507:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const i=n(4104),o=n(9990),s=r(n(9098));var a=n(4104);Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return a.struct}});class u extends i.Layout{constructor(e,t,n){super(e,n),this.blob=i.blob(e),this.signed=t}decode(e,t=0){const n=new s.default(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,t,n=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),t,n)}}function c(e){return new u(8,!1,e)}t.u64=c,t.i64=function(e){return new u(8,!0,e)},t.u128=function(e){return new u(16,!1,e)},t.i128=function(e){return new u(16,!0,e)};class l extends i.Layout{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}t.publicKey=function(e){return new l(i.blob(32),(e=>new o.PublicKey(e)),(e=>e.toBuffer()),e)};class d extends i.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=i.u8()}encode(e,t,n=0){return null==e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+1)+1)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function f(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function p(e){return e?1:0}function h(e){const t=i.u32("length"),n=i.struct([t,i.blob(i.offset(t,-t.span),"data")]);return new l(n,(({data:e})=>e),(e=>({data:e})),e)}t.option=function(e,t){return new d(e,t)},t.bool=function(e){return new l(i.u8(),f,p,e)},t.vec=function(e,t){const n=i.u32("length"),r=i.struct([n,i.seq(e,i.offset(n,-n.span),"values")]);return new l(r,(({values:e})=>e),(e=>({values:e})),t)},t.tagged=function(e,t,n){const r=i.struct([c("tag"),t.replicate("data")]);return new l(r,(function({tag:t,data:n}){if(!t.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return n}),(t=>({tag:e,data:t})),n)},t.vecU8=h,t.str=function(e){return new l(h(),(e=>e.toString("utf-8")),(e=>Buffer.from(e,"utf-8")),e)},t.rustEnum=function(e,t,n){const r=i.union(null!=n?n:i.u8(),t);return e.forEach(((e,t)=>r.addVariant(t,e,e.property))),r},t.array=function(e,t,n){const r=i.struct([i.seq(e,t,"values")]);return new l(r,(({values:e})=>e),(e=>({values:e})),n)};class m extends i.Layout{constructor(e,t,n){super(e.span+t.span,n),this.keyLayout=e,this.valueLayout=t}decode(e,t){return t=t||0,[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,n){n=n||0;const r=this.keyLayout.encode(e[0],t,n);return r+this.valueLayout.encode(e[1],t,n+r)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}t.map=function(e,t,n){const r=i.u32("length"),o=i.struct([r,i.seq(new m(e,t),i.offset(r,-r.span),"values")]);return new l(o,(({values:e})=>new Map(e)),(e=>({values:Array.from(e.entries())})),n)}},8433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstructionErrorResponse=t.KNOWN_PROGRAMS=t.DexError=void 0;const r=n(9990),i=n(9630),o=n(8323);var s;!function(e){e[e.InvalidMarketFlags=0]="InvalidMarketFlags",e[e.InvalidAskFlags=1]="InvalidAskFlags",e[e.InvalidBidFlags=2]="InvalidBidFlags",e[e.InvalidQueueLength=3]="InvalidQueueLength",e[e.OwnerAccountNotProvided=4]="OwnerAccountNotProvided",e[e.ConsumeEventsQueueFailure=5]="ConsumeEventsQueueFailure",e[e.WrongCoinVault=6]="WrongCoinVault",e[e.WrongPcVault=7]="WrongPcVault",e[e.WrongCoinMint=8]="WrongCoinMint",e[e.WrongPcMint=9]="WrongPcMint",e[e.CoinVaultProgramId=10]="CoinVaultProgramId",e[e.PcVaultProgramId=11]="PcVaultProgramId",e[e.CoinMintProgramId=12]="CoinMintProgramId",e[e.PcMintProgramId=13]="PcMintProgramId",e[e.WrongCoinMintSize=14]="WrongCoinMintSize",e[e.WrongPcMintSize=15]="WrongPcMintSize",e[e.WrongCoinVaultSize=16]="WrongCoinVaultSize",e[e.WrongPcVaultSize=17]="WrongPcVaultSize",e[e.UninitializedVault=18]="UninitializedVault",e[e.UninitializedMint=19]="UninitializedMint",e[e.CoinMintUninitialized=20]="CoinMintUninitialized",e[e.PcMintUninitialized=21]="PcMintUninitialized",e[e.WrongMint=22]="WrongMint",e[e.WrongVaultOwner=23]="WrongVaultOwner",e[e.VaultHasDelegate=24]="VaultHasDelegate",e[e.AlreadyInitialized=25]="AlreadyInitialized",e[e.WrongAccountDataAlignment=26]="WrongAccountDataAlignment",e[e.WrongAccountDataPaddingLength=27]="WrongAccountDataPaddingLength",e[e.WrongAccountHeadPadding=28]="WrongAccountHeadPadding",e[e.WrongAccountTailPadding=29]="WrongAccountTailPadding",e[e.RequestQueueEmpty=30]="RequestQueueEmpty",e[e.EventQueueTooSmall=31]="EventQueueTooSmall",e[e.SlabTooSmall=32]="SlabTooSmall",e[e.BadVaultSignerNonce=33]="BadVaultSignerNonce",e[e.InsufficientFunds=34]="InsufficientFunds",e[e.SplAccountProgramId=35]="SplAccountProgramId",e[e.SplAccountLen=36]="SplAccountLen",e[e.WrongFeeDiscountAccountOwner=37]="WrongFeeDiscountAccountOwner",e[e.WrongFeeDiscountMint=38]="WrongFeeDiscountMint",e[e.CoinPayerProgramId=39]="CoinPayerProgramId",e[e.PcPayerProgramId=40]="PcPayerProgramId",e[e.ClientIdNotFound=41]="ClientIdNotFound",e[e.TooManyOpenOrders=42]="TooManyOpenOrders",e[e.FakeErrorSoWeDontChangeNumbers=43]="FakeErrorSoWeDontChangeNumbers",e[e.BorrowError=44]="BorrowError",e[e.WrongOrdersAccount=45]="WrongOrdersAccount",e[e.WrongBidsAccount=46]="WrongBidsAccount",e[e.WrongAsksAccount=47]="WrongAsksAccount",e[e.WrongRequestQueueAccount=48]="WrongRequestQueueAccount",e[e.WrongEventQueueAccount=49]="WrongEventQueueAccount",e[e.RequestQueueFull=50]="RequestQueueFull",e[e.EventQueueFull=51]="EventQueueFull",e[e.MarketIsDisabled=52]="MarketIsDisabled",e[e.WrongSigner=53]="WrongSigner",e[e.TransferFailed=54]="TransferFailed",e[e.ClientOrderIdIsZero=55]="ClientOrderIdIsZero",e[e.WrongRentSysvarAccount=56]="WrongRentSysvarAccount",e[e.RentNotProvided=57]="RentNotProvided",e[e.OrdersNotRentExempt=58]="OrdersNotRentExempt",e[e.OrderNotFound=59]="OrderNotFound",e[e.OrderNotYours=60]="OrderNotYours",e[e.WouldSelfTrade=61]="WouldSelfTrade",e[e.Unknown=1e3]="Unknown"}(s=t.DexError||(t.DexError={})),t.KNOWN_PROGRAMS={[o.TOKEN_PROGRAM_ID.toString()]:"Token program",[r.SystemProgram.programId.toString()]:"System program"},t.parseInstructionErrorResponse=function(e,n){const[r,o]=n,a=e.instructions[r];let u;return u=a.programId.toString()in i.PROGRAM_LAYOUT_VERSIONS?s[o.Custom]:a.programId.toString()in t.KNOWN_PROGRAMS?`${t.KNOWN_PROGRAMS[a.programId.toString()]} error ${o.Custom}`:`Unknown program ${a.programId.toString()} custom error: ${o.Custom}`,{failedInstructionIndex:r,error:u,failedProgram:a.programId.toString()}}},2190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeeTier=t.getFeeRates=t.supportsSrmFeeDiscounts=void 0;const r=n(9630);t.supportsSrmFeeDiscounts=function(e){return r.getLayoutVersion(e)>1},t.getFeeRates=function(e){return 1===e?{taker:.002,maker:-3e-4}:2===e?{taker:.0018,maker:-3e-4}:3===e?{taker:.0016,maker:-3e-4}:4===e?{taker:.0014,maker:-3e-4}:5===e?{taker:.0012,maker:-3e-4}:6===e?{taker:.001,maker:-5e-4}:{taker:.0022,maker:-3e-4}},t.getFeeTier=function(e,t){return e>=1?6:t>=1e6?5:t>=1e5?4:t>=1e4?3:t>=1e3?2:t>=100?1:0}},9174:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.PermissionedCrank=t.ReferralFees=t.OpenOrdersPda=t.MarketProxyBuilder=t.MarketProxy=t.TokenInstructions=t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeRequestQueue=t.decodeEventQueue=t.getLayoutVersion=t.MARKETS=t.TOKEN_MINTS=t.supportsSrmFeeDiscounts=t.getFeeRates=t.getFeeTier=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=t.decodeInstructionV2=t.decodeInstruction=t.DexInstructions=t.MARKET_STATE_LAYOUT_V2=t.MARKET_STATE_LAYOUT_V3=t.OpenOrders=t.Orderbook=t.Market=void 0;var a=n(2106);Object.defineProperty(t,"Market",{enumerable:!0,get:function(){return a.Market}}),Object.defineProperty(t,"Orderbook",{enumerable:!0,get:function(){return a.Orderbook}}),Object.defineProperty(t,"OpenOrders",{enumerable:!0,get:function(){return a.OpenOrders}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V3",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V3}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V2",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V2}});var u=n(8500);Object.defineProperty(t,"DexInstructions",{enumerable:!0,get:function(){return u.DexInstructions}}),Object.defineProperty(t,"decodeInstruction",{enumerable:!0,get:function(){return u.decodeInstruction}}),Object.defineProperty(t,"decodeInstructionV2",{enumerable:!0,get:function(){return u.decodeInstructionV2}}),Object.defineProperty(t,"SETTLE_FUNDS_BASE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_BASE_WALLET_INDEX}}),Object.defineProperty(t,"SETTLE_FUNDS_QUOTE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_QUOTE_WALLET_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OWNER_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OWNER_INDEX}});var c=n(2190);Object.defineProperty(t,"getFeeTier",{enumerable:!0,get:function(){return c.getFeeTier}}),Object.defineProperty(t,"getFeeRates",{enumerable:!0,get:function(){return c.getFeeRates}}),Object.defineProperty(t,"supportsSrmFeeDiscounts",{enumerable:!0,get:function(){return c.supportsSrmFeeDiscounts}});var l=n(9630);Object.defineProperty(t,"TOKEN_MINTS",{enumerable:!0,get:function(){return l.TOKEN_MINTS}}),Object.defineProperty(t,"MARKETS",{enumerable:!0,get:function(){return l.MARKETS}}),Object.defineProperty(t,"getLayoutVersion",{enumerable:!0,get:function(){return l.getLayoutVersion}});var d=n(7403);Object.defineProperty(t,"decodeEventQueue",{enumerable:!0,get:function(){return d.decodeEventQueue}}),Object.defineProperty(t,"decodeRequestQueue",{enumerable:!0,get:function(){return d.decodeRequestQueue}}),Object.defineProperty(t,"REQUEST_QUEUE_LAYOUT",{enumerable:!0,get:function(){return d.REQUEST_QUEUE_LAYOUT}}),Object.defineProperty(t,"EVENT_QUEUE_LAYOUT",{enumerable:!0,get:function(){return d.EVENT_QUEUE_LAYOUT}}),t.TokenInstructions=o(n(8323)),s(n(8433),t);var f=n(4659);Object.defineProperty(t,"MarketProxy",{enumerable:!0,get:function(){return f.MarketProxy}}),Object.defineProperty(t,"MarketProxyBuilder",{enumerable:!0,get:function(){return f.MarketProxyBuilder}});var p=n(311);Object.defineProperty(t,"OpenOrdersPda",{enumerable:!0,get:function(){return p.OpenOrdersPda}}),Object.defineProperty(t,"ReferralFees",{enumerable:!0,get:function(){return p.ReferralFees}}),Object.defineProperty(t,"PermissionedCrank",{enumerable:!0,get:function(){return p.PermissionedCrank}}),Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return p.Logger}})},8500:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DexInstructions=t.decodeInstructionV2=t.decodeInstruction=t.encodeInstructionV2=t.encodeInstruction=t.INSTRUCTION_LAYOUT_V2=t.INSTRUCTION_LAYOUT=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=void 0;const i=n(4104),o=n(8849),s=n(9990),a=n(8323),u=r(n(9098));t.SETTLE_FUNDS_BASE_WALLET_INDEX=5,t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=6,t.NEW_ORDER_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_OWNER_INDEX=4,t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_V3_OWNER_INDEX=7,t.INSTRUCTION_LAYOUT=new o.VersionedLayout(0,i.union(i.u32("instruction"))),t.INSTRUCTION_LAYOUT.inner.addVariant(0,i.struct([o.u64("baseLotSize"),o.u64("quoteLotSize"),i.u16("feeRateBps"),o.u64("vaultSignerNonce"),o.u64("quoteDustThreshold")]),"initializeMarket"),t.INSTRUCTION_LAYOUT.inner.addVariant(1,i.struct([o.sideLayout("side"),o.u64("limitPrice"),o.u64("maxQuantity"),o.orderTypeLayout("orderType"),o.u64("clientId")]),"newOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(2,i.struct([i.u16("limit")]),"matchOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(3,i.struct([i.u16("limit")]),"consumeEvents"),t.INSTRUCTION_LAYOUT.inner.addVariant(4,i.struct([o.sideLayout("side"),o.u128("orderId"),o.publicKeyLayout("openOrders"),i.u8("openOrdersSlot")]),"cancelOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(5,i.struct([]),"settleFunds"),t.INSTRUCTION_LAYOUT.inner.addVariant(6,i.struct([o.u64("clientId")]),"cancelOrderByClientId"),t.INSTRUCTION_LAYOUT.inner.addVariant(10,i.struct([o.sideLayout("side"),o.u64("limitPrice"),o.u64("maxBaseQuantity"),o.u64("maxQuoteQuantity"),o.selfTradeBehaviorLayout("selfTradeBehavior"),o.orderTypeLayout("orderType"),o.u64("clientId"),i.u16("limit")]),"newOrderV3"),t.INSTRUCTION_LAYOUT.inner.addVariant(11,i.struct([o.sideLayout("side"),o.u128("orderId")]),"cancelOrderV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(12,i.struct([o.u64("clientId")]),"cancelOrderByClientIdV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(14,i.struct([]),"closeOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(15,i.struct([]),"initOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(16,i.struct([i.u16("limit")]),"prune"),t.INSTRUCTION_LAYOUT.inner.addVariant(17,i.struct([i.u16("limit")]),"consumeEventsPermissioned"),t.INSTRUCTION_LAYOUT.inner.addVariant(18,i.struct([i.seq(o.u64(),8,"clientIds")]),"cancelOrdersByClientIds");const c=()=>i.struct([o.sideLayout("side"),o.u64("limitPrice"),o.u64("maxBaseQuantity"),o.u64("maxQuoteQuantity"),o.selfTradeBehaviorLayout("selfTradeBehavior"),o.orderTypeLayout("orderType"),o.u64("clientId"),i.u16("limit"),o.i64("maxTs")]);function l(e,n=100){const r=Buffer.alloc(n);return r.slice(0,t.INSTRUCTION_LAYOUT.encode(e,r))}function d(e){const n=Buffer.alloc(100);return n.slice(0,t.INSTRUCTION_LAYOUT_V2.encode(e,n))}t.INSTRUCTION_LAYOUT.inner.addVariant(19,c(),"replaceOrderByClientId"),t.INSTRUCTION_LAYOUT.inner.addVariant(20,i.struct([o.u64("orderAmount"),i.seq(c(),8,"orders")]),"replaceOrdersByClientIds"),t.INSTRUCTION_LAYOUT_V2=new o.VersionedLayout(0,i.union(i.u32("instruction"))),t.INSTRUCTION_LAYOUT_V2.inner.addVariant(10,c(),"newOrderV3"),t.encodeInstruction=l,t.encodeInstructionV2=d,t.decodeInstruction=function(e){return t.INSTRUCTION_LAYOUT.decode(e)},t.decodeInstructionV2=function(e){return t.INSTRUCTION_LAYOUT_V2.decode(e)},t.DexInstructions=class{static initializeMarket({market:e,requestQueue:t,eventQueue:n,bids:r,asks:i,baseVault:o,quoteVault:a,baseMint:u,quoteMint:c,baseLotSize:d,quoteLotSize:f,feeRateBps:p,vaultSignerNonce:h,quoteDustThreshold:m,programId:g,authority:y,pruneAuthority:b,crankAuthority:w}){return new s.PublicKey("SysvarRent111111111111111111111111111111111"),new s.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:y?c:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(y?{pubkey:y,isSigner:!1,isWritable:!1}:[]).concat(y&&b?{pubkey:b,isSigner:!1,isWritable:!1}:[]).concat(y&&b&&w?{pubkey:w,isSigner:!1,isWritable:!1}:[]),programId:g,data:l({initializeMarket:{baseLotSize:d,quoteLotSize:f,feeRateBps:p,vaultSignerNonce:h,quoteDustThreshold:m}})})}static newOrder({market:e,openOrders:t,payer:n,owner:r,requestQueue:i,baseVault:o,quoteVault:u,side:c,limitPrice:d,maxQuantity:f,orderType:p,clientId:h,programId:m,feeDiscountPubkey:g=null}){const y=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return g&&y.push({pubkey:g,isSigner:!1,isWritable:!1}),new s.TransactionInstruction({keys:y,programId:m,data:l({newOrder:h?{side:c,limitPrice:d,maxQuantity:f,orderType:p,clientId:h}:{side:c,limitPrice:d,maxQuantity:f,orderType:p}})})}static newOrderV3({market:e,openOrders:t,payer:n,owner:r,requestQueue:i,eventQueue:o,bids:c,asks:f,baseVault:p,quoteVault:h,side:m,limitPrice:g,maxBaseQuantity:y,maxQuoteQuantity:b,orderType:w,clientId:v,programId:S,selfTradeBehavior:A,feeDiscountPubkey:k=null,maxTs:_=null,replaceIfExists:M=!1}){const I=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];let E,P;return k&&I.push({pubkey:k,isSigner:!1,isWritable:!1}),M?(E="replaceOrderByClientId",P=l):(E="newOrderV3",P=_?d:l),new s.TransactionInstruction({keys:I,programId:S,data:P({[E]:{side:m,limitPrice:g,maxBaseQuantity:y,maxQuoteQuantity:b,selfTradeBehavior:A,orderType:w,clientId:v,limit:65535,maxTs:new u.default(null!=_?_:"9223372036854775807")}})})}static replaceOrdersByClientIds({market:e,openOrders:t,payer:n,owner:r,requestQueue:i,eventQueue:o,bids:c,asks:d,baseVault:f,quoteVault:p,feeDiscountPubkey:h=null,programId:m,orders:g}){const y=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return h&&y.push({pubkey:h,isSigner:!1,isWritable:!1}),new s.TransactionInstruction({keys:y,programId:m,data:l({replaceOrdersByClientIds:{orderAmount:new u.default(g.length),orders:g.map((e=>{var t;return{...e,maxTs:new u.default(null!==(t=e.maxTs)&&void 0!==t?t:"9223372036854775807"),limit:65535}}))}},15+60*g.length).slice(0,13+54*g.length)})}static matchOrders({market:e,requestQueue:t,eventQueue:n,bids:r,asks:i,baseVault:o,quoteVault:a,limit:u,programId:c}){return new s.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0}],programId:c,data:l({matchOrders:{limit:u}})})}static consumeEvents({market:e,eventQueue:t,coinFee:n,pcFee:r,openOrdersAccounts:i,limit:o,programId:a}){return new s.TransactionInstruction({keys:[...i.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWriteable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],programId:a,data:l({consumeEvents:{limit:o}})})}static consumeEventsPermissioned({market:e,eventQueue:t,crankAuthority:n,openOrdersAccounts:r,limit:i,programId:o}){return new s.TransactionInstruction({keys:[...r.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:o,data:l({consumeEventsPermissioned:{limit:i}})})}static cancelOrder({market:e,openOrders:t,owner:n,requestQueue:r,side:i,orderId:o,openOrdersSlot:a,programId:u}){return new s.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:u,data:l({cancelOrder:{side:i,orderId:o,openOrders:t,openOrdersSlot:a}})})}static cancelOrderV2(e){const{market:t,bids:n,asks:r,eventQueue:i,openOrders:o,owner:a,side:u,orderId:c,programId:d}=e;return new s.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],programId:d,data:l({cancelOrderV2:{side:u,orderId:c}})})}static cancelOrderByClientId({market:e,openOrders:t,owner:n,requestQueue:r,clientId:i,programId:o}){return new s.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:o,data:l({cancelOrderByClientId:{clientId:i}})})}static cancelOrderByClientIdV2({market:e,openOrders:t,owner:n,bids:r,asks:i,eventQueue:o,clientId:a,programId:u}){return new s.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}],programId:u,data:l({cancelOrderByClientIdV2:{clientId:a}})})}static cancelOrdersByClientIds({market:e,openOrders:t,owner:n,bids:r,asks:i,eventQueue:o,clientIds:a,programId:c}){if(a.length>8)throw new Error("Number of client ids cannot exceed 8!");for(;a.length<8;)a.push(new u.default(0));return new s.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}],programId:c,data:l({cancelOrdersByClientIds:{clientIds:a}})})}static settleFunds({market:e,openOrders:t,owner:n,baseVault:r,quoteVault:i,baseWallet:o,quoteWallet:u,vaultSigner:c,programId:d,referrerQuoteWallet:f=null}){const p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return f&&p.push({pubkey:f,isSigner:!1,isWritable:!0}),new s.TransactionInstruction({keys:p,programId:d,data:l({settleFunds:{}})})}static closeOpenOrders({market:e,openOrders:t,owner:n,solWallet:r,programId:i}){const o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:o,programId:i,data:l({closeOpenOrders:{}})})}static initOpenOrders({market:e,openOrders:t,owner:n,programId:r,marketAuthority:i}){const o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(i?{pubkey:i,isSigner:!1,isWritable:!1}:[]);return new s.TransactionInstruction({keys:o,programId:r,data:l({initOpenOrders:{}})})}static prune({market:e,bids:t,asks:n,eventQueue:r,pruneAuthority:i,openOrders:o,openOrdersOwner:a,programId:u,limit:c}){const d=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}];return new s.TransactionInstruction({keys:d,programId:u,data:l({prune:{limit:c}})})}}},8849:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setLayoutEncoder=t.setLayoutDecoder=t.accountFlagsLayout=t.selfTradeBehaviorLayout=t.orderTypeLayout=t.sideLayout=t.VersionedLayout=t.WideBits=t.u128=t.i64=t.u64=t.publicKeyLayout=t.zeros=void 0;const i=n(4104),o=n(9990),s=r(n(9098));class a extends i.Blob{decode(e,t){const n=super.decode(e,t);if(!n.every((e=>0===e)))throw new Error("nonzero padding bytes");return n}}t.zeros=function(e){return new a(e)};class u extends i.Blob{constructor(e){super(32,e)}decode(e,t){return new o.PublicKey(super.decode(e,t))}encode(e,t,n){return super.encode(e.toBuffer(),t,n)}}t.publicKeyLayout=function(e){return new u(e)};class c extends i.Blob{decode(e,t){return new s.default(super.decode(e,t),10,"le")}encode(e,t,n){return super.encode(e.toArrayLike(Buffer,"le",this.span),t,n)}}t.u64=function(e){return new c(8,e)},t.i64=function(e){return new c(8,e)},t.u128=function(e){return new c(16,e)};class l extends i.Layout{constructor(e){super(8,e),this._lower=i.bits(i.u32(),!1),this._upper=i.bits(i.u32(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){return{...this._lower.decode(e,t),...this._upper.decode(e,t+this._lower.span)}}encode(e,t,n=0){return this._lower.encode(e,t,n)+this._upper.encode(e,t,n+this._lower.span)}}t.WideBits=l;class d extends i.Layout{constructor(e,t,n){super(t.span>0?t.span+1:t.span,n),this.version=e,this.inner=t}decode(e,t=0){return this.inner.decode(e,t+1)}encode(e,t,n=0){return t.writeUInt8(this.version,n),1+this.inner.encode(e,t,n+1)}getSpan(e,t=0){return 1+this.inner.getSpan(e,t+1)}}t.VersionedLayout=d;class f extends i.UInt{constructor(e,t,n){super(t,n),this.values=e}encode(e,t,n){if(void 0!==this.values[e])return super.encode(this.values[e],t,n);throw new Error("Invalid "+this.property)}decode(e,t){const n=super.decode(e,t),r=Object.entries(this.values).find((([,e])=>e===n));if(r)return r[0];throw new Error("Invalid "+this.property)}}t.sideLayout=function(e){return new f({buy:0,sell:1},4,e)},t.orderTypeLayout=function(e){return new f({limit:0,ioc:1,postOnly:2},4,e)},t.selfTradeBehaviorLayout=function(e){return new f({decrementTake:0,cancelProvide:1,abortTransaction:2},4,e)};const p=new l;p.addBoolean("initialized"),p.addBoolean("market"),p.addBoolean("openOrders"),p.addBoolean("requestQueue"),p.addBoolean("eventQueue"),p.addBoolean("bids"),p.addBoolean("asks"),t.accountFlagsLayout=function(e="accountFlags"){return p.replicate(e)},t.setLayoutDecoder=function(e,t){const n=e.decode;e.decode=function(e,r=0){return t(n.call(this,e,r))}},t.setLayoutEncoder=function(e,t){const n=e.encode;return e.encode=function(e,r,i){return n.call(this,t(e),r,i)},e}},4659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketProxyBuilder=t.MarketProxyInstruction=t.MarketProxy=void 0;const r=n(2573),i=n(2106),o=n(8500);class s{constructor(e,t){this._market=e,this._instruction=t}get market(){return this._market}get instruction(){return this._instruction}get dexProgramId(){return this._market.programId}get proxyProgramId(){return this._instruction.proxyProgramId}}t.MarketProxy=s;class a{constructor(e,t,n,r){this._proxyProgramId=e,this._dexProgramId=t,this._market=n,this._middlewares=r}get proxyProgramId(){return this._proxyProgramId}newOrderV3(e){const t=this._market.makeNewOrderV3Instruction({...e,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.newOrderV3(t))),this.proxy(t)}initOpenOrders(e,t,n,r){const i=o.DexInstructions.initOpenOrders({market:t,openOrders:n,owner:e,programId:this._proxyProgramId,marketAuthority:r});return this._middlewares.forEach((e=>e.initOpenOrders(i))),this.proxy(i)}cancelOrder(e,t){const n=o.DexInstructions.cancelOrderV2({market:this._market.address,owner:e,openOrders:t.openOrdersAddress,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,side:t.side,orderId:t.orderId,openOrdersSlot:t.openOrdersSlot,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.cancelOrderV2(n))),this.proxy(n)}cancelOrderByClientId(e,t,n){const r=o.DexInstructions.cancelOrderByClientIdV2({market:this._market.address,openOrders:t,owner:e,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,clientId:n,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.cancelOrderByClientIdV2(r))),this.proxy(r)}settleFunds(e,t,n,i,s){const a=o.DexInstructions.settleFunds({market:this._market.address,openOrders:e,owner:t,baseVault:this._market.decoded.baseVault,quoteVault:this._market.decoded.quoteVault,baseWallet:n,quoteWallet:i,vaultSigner:r.utils.publicKey.createProgramAddressSync([this._market.address.toBuffer(),this._market.decoded.vaultSignerNonce.toArrayLike(Buffer,"le",8)],this._dexProgramId),programId:this._proxyProgramId,referrerQuoteWallet:s});return this._middlewares.forEach((e=>e.settleFunds(a))),this.proxy(a)}closeOpenOrders(e,t,n){const r=o.DexInstructions.closeOpenOrders({market:this._market.address,openOrders:e,owner:t,solWallet:n,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.closeOpenOrders(r))),this.proxy(r)}prune(e,t,n){n||(n=65535);const r=o.DexInstructions.prune({market:this._market.address,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,pruneAuthority:this._market.decoded.pruneAuthority,openOrders:e,openOrdersOwner:t,programId:this._proxyProgramId,limit:n});return this._middlewares.forEach((e=>e.prune(r))),this.proxy(r)}consumeEvents(e,t){const n=o.DexInstructions.consumeEvents({market:this._market.address,eventQueue:this._market.decoded.eventQueue,coinFee:this._market.decoded.eventQueue,pcFee:this._market.decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.consumeEvents(n))),this.proxy(n)}consumeEventsPermissioned(e,t){const n=o.DexInstructions.consumeEventsPermissioned({market:this._market.address,eventQueue:this._market.decoded.eventQueue,crankAuthority:this._market.decoded.consumeEventsAuthority,openOrdersAccounts:e,limit:t,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.consumeEventsPermissioned(n))),this.proxy(n)}proxy(e){return e.keys=[{pubkey:this._dexProgramId,isWritable:!1,isSigner:!1},...e.keys],e}}t.MarketProxyInstruction=a,t.MarketProxyBuilder=class{constructor(){this._middlewares=[]}middleware(e){return this._middlewares.push(e),this}async load({connection:e,market:t,options:n={},dexProgramId:r,proxyProgramId:o}){const u=await i.Market.load(e,t,n,r,i.MARKET_STATE_LAYOUT_V3),c=new a(o,r,u,this._middlewares);return new s(u,c)}}},311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.PermissionedCrank=t.ReferralFees=t.OpenOrdersPda=void 0;const r=n(2573),i=n(9990);t.OpenOrdersPda=class{constructor({proxyProgramId:e,dexProgramId:t}){this._proxyProgramId=e,this._dexProgramId=t}static async marketAuthority(e,t,n){const r=Buffer.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[o]=await i.PublicKey.findProgramAddress([r,t.toBuffer(),e.toBuffer()],n);return o}static async openOrdersAddress(e,t,n,r){const o=Buffer.from([111,112,101,110,45,111,114,100,101,114,115]),[s]=await i.PublicKey.findProgramAddress([o,n.toBuffer(),e.toBuffer(),t.toBuffer()],r);return s}initOpenOrders(e){const t=e.keys[2].pubkey,n=e.keys[1].pubkey,o=Buffer.from([111,112,101,110,45,111,114,100,101,114,115]),s=Buffer.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[a,u]=r.utils.publicKey.findProgramAddressSync([o,this._dexProgramId.toBuffer(),t.toBuffer(),n.toBuffer()],this._proxyProgramId),[c,l]=r.utils.publicKey.findProgramAddressSync([s,this._dexProgramId.toBuffer(),t.toBuffer()],this._proxyProgramId);e.keys[0].pubkey=a,e.keys[4].pubkey=c,e.keys[1].isWritable=!0,e.keys=[{pubkey:this._dexProgramId,isSigner:!1,isWritable:!1},{pubkey:i.SystemProgram.programId,isSigner:!1,isWritable:!1},...e.keys],e.data=Buffer.concat([Buffer.from([0,u,l]),e.data])}newOrderV3(e){e.data=Buffer.concat([Buffer.from([1]),e.data])}cancelOrderV2(e){e.data=Buffer.concat([Buffer.from([2]),e.data])}cancelOrderByClientIdV2(e){e.data=Buffer.concat([Buffer.from([3]),e.data])}settleFunds(e){e.data=Buffer.concat([Buffer.from([4]),e.data])}closeOpenOrders(e){e.data=Buffer.concat([Buffer.from([5]),e.data])}prune(e){e.data=Buffer.concat([Buffer.from([6]),e.data])}consumeEvents(e){e.data=Buffer.concat([Buffer.from([7]),e.data])}consumeEventsPermissioned(e){e.data=Buffer.concat([Buffer.from([8]),e.data])}},t.ReferralFees=class{initOpenOrders(e){}newOrderV3(e){}cancelOrderV2(e){}cancelOrderByClientIdV2(e){}settleFunds(e){}closeOpenOrders(e){}prune(e){}consumeEvents(e){}consumeEventsPermissioned(e){}},t.PermissionedCrank=class{initOpenOrders(e){}newOrderV3(e){}cancelOrderV2(e){}cancelOrderByClientIdV2(e){}settleFunds(e){}closeOpenOrders(e){}prune(e){}consumeEvents(e){}consumeEventsPermissioned(e){e.keys[e.keys.length-1].isSigner=!1}},t.Logger=class{initOpenOrders(e){console.log("Proxying initOpenOrders",this.ixToDisplay(e))}newOrderV3(e){console.log("Proxying newOrderV3",this.ixToDisplay(e))}cancelOrderV2(e){console.log("Proxying cancelOrderV2",this.ixToDisplay(e))}cancelOrderByClientIdV2(e){console.log("Proxying cancelOrderByClientIdV2",this.ixToDisplay(e))}settleFunds(e){console.log("Proxying settleFunds",this.ixToDisplay(e))}closeOpenOrders(e){console.log("Proxying closeOpenOrders",this.ixToDisplay(e))}prune(e){console.log("Proxying prune",this.ixToDisplay(e))}consumeEvents(e){console.log("Proxying consumeEvents",this.ixToDisplay(e))}consumeEventsPermissioned(e){console.log("Proxying consumeEventsPermissioned",this.ixToDisplay(e))}ixToDisplay(e){return{keys:e.keys.map((e=>({...e,pubkey:e.pubkey.toString()}))),programId:e.programId.toString(),data:new Uint8Array(e.data)}}}},2106:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMintDecimals=t.Orderbook=t.ORDERBOOK_LAYOUT=t.OpenOrders=t._OPEN_ORDERS_LAYOUT_V2=t._OPEN_ORDERS_LAYOUT_V1=t.Market=t.MARKET_STATE_LAYOUT_V3=t.MARKET_STATE_LAYOUT_V2=t._MARKET_STAT_LAYOUT_V1=void 0;const i=n(4104),o=n(8849),s=n(5605),a=n(8500),u=r(n(9098)),c=n(9990),l=n(7403),d=n(5872),f=n(2190),p=n(8323),h=n(9630);t._MARKET_STAT_LAYOUT_V1=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("ownAddress"),o.u64("vaultSignerNonce"),o.publicKeyLayout("baseMint"),o.publicKeyLayout("quoteMint"),o.publicKeyLayout("baseVault"),o.u64("baseDepositsTotal"),o.u64("baseFeesAccrued"),o.publicKeyLayout("quoteVault"),o.u64("quoteDepositsTotal"),o.u64("quoteFeesAccrued"),o.u64("quoteDustThreshold"),o.publicKeyLayout("requestQueue"),o.publicKeyLayout("eventQueue"),o.publicKeyLayout("bids"),o.publicKeyLayout("asks"),o.u64("baseLotSize"),o.u64("quoteLotSize"),o.u64("feeRateBps"),i.blob(7)]),t.MARKET_STATE_LAYOUT_V2=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("ownAddress"),o.u64("vaultSignerNonce"),o.publicKeyLayout("baseMint"),o.publicKeyLayout("quoteMint"),o.publicKeyLayout("baseVault"),o.u64("baseDepositsTotal"),o.u64("baseFeesAccrued"),o.publicKeyLayout("quoteVault"),o.u64("quoteDepositsTotal"),o.u64("quoteFeesAccrued"),o.u64("quoteDustThreshold"),o.publicKeyLayout("requestQueue"),o.publicKeyLayout("eventQueue"),o.publicKeyLayout("bids"),o.publicKeyLayout("asks"),o.u64("baseLotSize"),o.u64("quoteLotSize"),o.u64("feeRateBps"),o.u64("referrerRebatesAccrued"),i.blob(7)]),t.MARKET_STATE_LAYOUT_V3=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("ownAddress"),o.u64("vaultSignerNonce"),o.publicKeyLayout("baseMint"),o.publicKeyLayout("quoteMint"),o.publicKeyLayout("baseVault"),o.u64("baseDepositsTotal"),o.u64("baseFeesAccrued"),o.publicKeyLayout("quoteVault"),o.u64("quoteDepositsTotal"),o.u64("quoteFeesAccrued"),o.u64("quoteDustThreshold"),o.publicKeyLayout("requestQueue"),o.publicKeyLayout("eventQueue"),o.publicKeyLayout("bids"),o.publicKeyLayout("asks"),o.u64("baseLotSize"),o.u64("quoteLotSize"),o.u64("feeRateBps"),o.u64("referrerRebatesAccrued"),o.publicKeyLayout("authority"),o.publicKeyLayout("pruneAuthority"),o.publicKeyLayout("consumeEventsAuthority"),i.blob(992),i.blob(7)]);class m{constructor(e,t,n,r={},i,o){const{skipPreflight:s=!1,commitment:a="recent"}=r;if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market state");this._decoded=e,this._baseSplTokenDecimals=t,this._quoteSplTokenDecimals=n,this._skipPreflight=s,this._commitment=a,this._programId=i,this._openOrdersAccountsCache={},this._feeDiscountKeysCache={},this._layoutOverride=o}static getLayout(e){return 1===h.getLayoutVersion(e)?t._MARKET_STAT_LAYOUT_V1:t.MARKET_STATE_LAYOUT_V2}static async findAccountsByMints(e,t,n,r){return A(e,r,[{memcmp:{offset:this.getLayout(r).offsetOf("baseMint"),bytes:t.toBase58()}},{memcmp:{offset:m.getLayout(r).offsetOf("quoteMint"),bytes:n.toBase58()}}])}static async load(e,t,n={},r,i){const{owner:o,data:s}=k(await e.getAccountInfo(t),"Market not found");if(!o.equals(r))throw new Error("Address not owned by program: "+o.toBase58());const a=(null!=i?i:this.getLayout(r)).decode(s);if(!a.accountFlags.initialized||!a.accountFlags.market||!a.ownAddress.equals(t))throw new Error("Invalid market");const[u,c]=await Promise.all([S(e,a.baseMint),S(e,a.quoteMint)]);return new m(a,u,c,n,r,i)}get programId(){return this._programId}get address(){return this._decoded.ownAddress}get publicKey(){return this.address}get baseMintAddress(){return this._decoded.baseMint}get quoteMintAddress(){return this._decoded.quoteMint}get bidsAddress(){return this._decoded.bids}get asksAddress(){return this._decoded.asks}get decoded(){return this._decoded}async loadBids(e){const{data:t}=k(await e.getAccountInfo(this._decoded.bids));return y.decode(this,t)}async loadAsks(e){const{data:t}=k(await e.getAccountInfo(this._decoded.asks));return y.decode(this,t)}async loadOrdersForOwner(e,t,n=0){const[r,i,o]=await Promise.all([this.loadBids(e),this.loadAsks(e),this.findOpenOrdersAccountsForOwner(e,t,n)]);return this.filterForOpenOrders(r,i,o)}filterForOpenOrders(e,t,n){return[...e,...t].filter((e=>n.some((t=>e.openOrdersAddress.equals(t.address)))))}async findBaseTokenAccountsForOwner(e,t,n=!1){if(this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)&&n){const[n,r]=await Promise.all([this.findBaseTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==r?[{pubkey:t,account:r},...n]:n}return await this.getTokenAccountsByOwnerForMint(e,t,this.baseMintAddress)}async getTokenAccountsByOwnerForMint(e,t,n){return(await e.getTokenAccountsByOwner(t,{mint:n})).value}async findQuoteTokenAccountsForOwner(e,t,n=!1){if(this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)&&n){const[n,r]=await Promise.all([this.findQuoteTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==r?[{pubkey:t,account:r},...n]:n}return await this.getTokenAccountsByOwnerForMint(e,t,this.quoteMintAddress)}async findOpenOrdersAccountsForOwner(e,t,n=0){const r=t.toBase58(),i=(new Date).getTime();if(r in this._openOrdersAccountsCache&&i-this._openOrdersAccountsCache[r].ts<n)return this._openOrdersAccountsCache[r].accounts;const o=await g.findForMarketAndOwner(e,this.address,t,this._programId);return this._openOrdersAccountsCache[r]={accounts:o,ts:i},o}async replaceOrders(e,t,n,r=0){var i;if(!t.openOrdersAccount&&!t.openOrdersAddressKey){const n=null!==(i=t.owner.publicKey)&&void 0!==i?i:t.owner,o=await this.findOpenOrdersAccountsForOwner(e,n,r);t.openOrdersAddressKey=o[0].address}const o=new c.Transaction;return o.add(this.makeReplaceOrdersByClientIdsInstruction(t,n)),await this._sendTransaction(e,o,[t.owner])}async placeOrder(e,{owner:t,payer:n,side:r,price:i,size:o,orderType:s="limit",clientId:a,openOrdersAddressKey:u,openOrdersAccount:c,feeDiscountPubkey:l,maxTs:d,replaceIfExists:f=!1}){const{transaction:p,signers:h}=await this.makePlaceOrderTransaction(e,{owner:t,payer:n,side:r,price:i,size:o,orderType:s,clientId:a,openOrdersAddressKey:u,openOrdersAccount:c,feeDiscountPubkey:l,maxTs:d,replaceIfExists:f});return await this._sendTransaction(e,p,[t,...h])}getSplTokenBalanceFromAccountInfo(e,t){return w(new u.default(e.data.slice(64,72),10,"le"),new u.default(10).pow(new u.default(t)))}get supportsSrmFeeDiscounts(){return f.supportsSrmFeeDiscounts(this._programId)}get supportsReferralFees(){return h.getLayoutVersion(this._programId)>1}get usesRequestQueue(){return h.getLayoutVersion(this._programId)<=2}async findFeeDiscountKeys(e,t,n=0){let r=[];const i=(new Date).getTime(),o=t.toBase58();if(o in this._feeDiscountKeysCache&&i-this._feeDiscountKeysCache[o].ts<n)return this._feeDiscountKeysCache[o].accounts;if(this.supportsSrmFeeDiscounts){const n=(await this.getTokenAccountsByOwnerForMint(e,t,p.MSRM_MINT)).map((({pubkey:e,account:t})=>{const n=this.getSplTokenBalanceFromAccountInfo(t,p.MSRM_DECIMALS);return{pubkey:e,mint:p.MSRM_MINT,balance:n,feeTier:f.getFeeTier(n,0)}})),i=(await this.getTokenAccountsByOwnerForMint(e,t,p.SRM_MINT)).map((({pubkey:e,account:t})=>{const n=this.getSplTokenBalanceFromAccountInfo(t,p.SRM_DECIMALS);return{pubkey:e,mint:p.SRM_MINT,balance:n,feeTier:f.getFeeTier(0,n)}}));r=n.concat(i).sort(((e,t)=>e.feeTier>t.feeTier?-1:e.feeTier<t.feeTier?1:e.balance>t.balance?-1:e.balance<t.balance?1:0))}return this._feeDiscountKeysCache[o]={accounts:r,ts:i},r}async findBestFeeDiscountKey(e,t,n=3e4){const r=await this.findFeeDiscountKeys(e,t,n);return r.length>0?{pubkey:r[0].pubkey,feeTier:r[0].feeTier}:{pubkey:null,feeTier:0}}async makePlaceOrderTransaction(e,{owner:t,payer:n,side:r,price:i,size:o,orderType:s="limit",clientId:a,openOrdersAddressKey:u,openOrdersAccount:l,feeDiscountPubkey:d,selfTradeBehavior:f="decrementTake",maxTs:h,replaceIfExists:m=!1},y=0,b=0){var w,v;const S=null!==(w=t.publicKey)&&void 0!==w?w:t,A=await this.findOpenOrdersAccountsForOwner(e,S,y),k=new c.Transaction,_=[];let M,I;if(M=d||(void 0===d&&this.supportsSrmFeeDiscounts?(await this.findBestFeeDiscountKey(e,S,b)).pubkey:null),0===A.length){let t;t=l||new c.Account,k.add(await g.makeCreateAccountTransaction(e,this.address,S,t.publicKey,this._programId)),I=t.publicKey,_.push(t),this._openOrdersAccountsCache[S.toBase58()].ts=0}else I=l?l.publicKey:u||A[0].address;let E=null;if(n.equals(S)){if(!("buy"===r&&this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)||"sell"===r&&this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)))throw new Error("Invalid payer account");{let e;E=new c.Account,"buy"===r?(e=Math.round(i*o*1.01*c.LAMPORTS_PER_SOL),A.length>0&&(e-=A[0].quoteTokenFree.toNumber())):(e=Math.round(o*c.LAMPORTS_PER_SOL),A.length>0&&(e-=A[0].baseTokenFree.toNumber())),e=Math.max(e,0)+1e7,k.add(c.SystemProgram.createAccount({fromPubkey:S,newAccountPubkey:E.publicKey,lamports:e,space:165,programId:p.TOKEN_PROGRAM_ID})),k.add(p.initializeAccount({account:E.publicKey,mint:p.WRAPPED_SOL_MINT,owner:S})),_.push(E)}}const P=this.makePlaceOrderInstruction(e,{owner:t,payer:null!==(v=null==E?void 0:E.publicKey)&&void 0!==v?v:n,side:r,price:i,size:o,orderType:s,clientId:a,openOrdersAddressKey:I,feeDiscountPubkey:M,selfTradeBehavior:f,maxTs:h,replaceIfExists:m});return k.add(P),E&&k.add(p.closeAccount({source:E.publicKey,destination:S,owner:S})),{transaction:k,signers:_,payer:t}}makePlaceOrderInstruction(e,t){var n;const{owner:r,payer:i,side:o,price:s,size:c,orderType:l="limit",clientId:d,openOrdersAddressKey:f,openOrdersAccount:p,feeDiscountPubkey:h=null}=t,m=null!==(n=r.publicKey)&&void 0!==n?n:r;if(this.baseSizeNumberToLots(c).lte(new u.default(0)))throw new Error("size too small");if(this.priceNumberToLots(s).lte(new u.default(0)))throw new Error("invalid price");return this.usesRequestQueue?a.DexInstructions.newOrder({market:this.address,requestQueue:this._decoded.requestQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:p?p.publicKey:f,owner:m,payer:i,side:o,limitPrice:this.priceNumberToLots(s),maxQuantity:this.baseSizeNumberToLots(c),orderType:l,clientId:d,programId:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?h:null}):this.makeNewOrderV3Instruction(t)}makeNewOrderV3Instruction(e){var t;const{owner:n,payer:r,side:i,price:o,size:s,orderType:c="limit",clientId:l,openOrdersAddressKey:d,openOrdersAccount:f,feeDiscountPubkey:p=null,selfTradeBehavior:h="decrementTake",programId:m,maxTs:g,replaceIfExists:y}=e,b=null!==(t=n.publicKey)&&void 0!==t?t:n;return a.DexInstructions.newOrderV3({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:f?f.publicKey:d,owner:b,payer:r,side:i,limitPrice:this.priceNumberToLots(o),maxBaseQuantity:this.baseSizeNumberToLots(s),maxQuoteQuantity:new u.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(s).mul(this.priceNumberToLots(o))),orderType:c,clientId:l,programId:null!=m?m:this._programId,selfTradeBehavior:h,feeDiscountPubkey:this.supportsSrmFeeDiscounts?p:null,maxTs:g,replaceIfExists:y})}makeReplaceOrdersByClientIdsInstruction(e,t){var n,r;const i=null!==(n=e.owner.publicKey)&&void 0!==n?n:e.owner;return a.DexInstructions.replaceOrdersByClientIds({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:e.openOrdersAccount?e.openOrdersAccount.publicKey:e.openOrdersAddressKey,owner:i,payer:e.payer,programId:null!==(r=e.programId)&&void 0!==r?r:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?e.feeDiscountPubkey:null,orders:t.map((t=>{var n;return{side:t.side,limitPrice:this.priceNumberToLots(t.price),maxBaseQuantity:this.baseSizeNumberToLots(t.size),maxQuoteQuantity:new u.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(t.size).mul(this.priceNumberToLots(t.price))),orderType:t.orderType,clientId:t.clientId,programId:null!==(n=e.programId)&&void 0!==n?n:this._programId,selfTradeBehavior:t.selfTradeBehavior,maxTs:t.maxTs}}))})}async _sendTransaction(e,t,n){const r=await e.sendTransaction(t,n,{skipPreflight:this._skipPreflight}),{value:i}=await e.confirmTransaction(r,this._commitment);if(null==i?void 0:i.err)throw new Error(JSON.stringify(i.err));return r}async cancelOrderByClientId(e,t,n,r){const i=await this.makeCancelOrderByClientIdTransaction(e,t.publicKey,n,r);return await this._sendTransaction(e,i,[t])}async cancelOrdersByClientIds(e,t,n,r){const i=await this.makeCancelOrdersByClientIdsTransaction(e,t.publicKey,n,r);return await this._sendTransaction(e,i,[t])}async makeCancelOrderByClientIdTransaction(e,t,n,r){const i=new c.Transaction;return this.usesRequestQueue?i.add(a.DexInstructions.cancelOrderByClientId({market:this.address,owner:t,openOrders:n,requestQueue:this._decoded.requestQueue,clientId:r,programId:this._programId})):i.add(a.DexInstructions.cancelOrderByClientIdV2({market:this.address,openOrders:n,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientId:r,programId:this._programId})),i}async makeCancelOrdersByClientIdsTransaction(e,t,n,r){const i=new c.Transaction;return i.add(a.DexInstructions.cancelOrdersByClientIds({market:this.address,openOrders:n,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientIds:r,programId:this._programId})),i}async cancelOrder(e,t,n){const r=await this.makeCancelOrderTransaction(e,t.publicKey,n);return await this._sendTransaction(e,r,[t])}async makeCancelOrderTransaction(e,t,n){const r=new c.Transaction;return r.add(this.makeCancelOrderInstruction(e,t,n)),r}makeCancelOrderInstruction(e,t,n){return this.usesRequestQueue?a.DexInstructions.cancelOrder({market:this.address,owner:t,openOrders:n.openOrdersAddress,requestQueue:this._decoded.requestQueue,side:n.side,orderId:n.orderId,openOrdersSlot:n.openOrdersSlot,programId:this._programId}):a.DexInstructions.cancelOrderV2({market:this.address,owner:t,openOrders:n.openOrdersAddress,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,side:n.side,orderId:n.orderId,openOrdersSlot:n.openOrdersSlot,programId:this._programId})}makeConsumeEventsInstruction(e,t){return a.DexInstructions.consumeEvents({market:this.address,eventQueue:this._decoded.eventQueue,coinFee:this._decoded.eventQueue,pcFee:this._decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._programId})}makeConsumeEventsPermissionedInstruction(e,t){return a.DexInstructions.consumeEventsPermissioned({market:this.address,eventQueue:this._decoded.eventQueue,crankAuthority:this._decoded.consumeEventsAuthority,openOrdersAccounts:e,limit:t,programId:this._programId})}async settleFunds(e,t,n,r,i,o=null){if(!n.owner.equals(t.publicKey))throw new Error("Invalid open orders account");if(o&&!this.supportsReferralFees)throw new Error("This program ID does not support referrerQuoteWallet");const{transaction:s,signers:a}=await this.makeSettleFundsTransaction(e,n,r,i,o);return await this._sendTransaction(e,s,[t,...a])}async makeSettleFundsTransaction(e,t,n,r,i=null){const o=await c.PublicKey.createProgramAddress([this.address.toBuffer(),this._decoded.vaultSignerNonce.toArrayLike(d.Buffer,"le",8)],this._programId),s=new c.Transaction,u=[];let l=null;return(this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)&&n.equals(t.owner)||this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)&&r.equals(t.owner))&&(l=new c.Account,s.add(c.SystemProgram.createAccount({fromPubkey:t.owner,newAccountPubkey:l.publicKey,lamports:await e.getMinimumBalanceForRentExemption(165),space:165,programId:p.TOKEN_PROGRAM_ID})),s.add(p.initializeAccount({account:l.publicKey,mint:p.WRAPPED_SOL_MINT,owner:t.owner})),u.push(l)),s.add(a.DexInstructions.settleFunds({market:this.address,openOrders:t.address,owner:t.owner,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,baseWallet:n.equals(t.owner)&&l?l.publicKey:n,quoteWallet:r.equals(t.owner)&&l?l.publicKey:r,vaultSigner:o,programId:this._programId,referrerQuoteWallet:i})),l&&s.add(p.closeAccount({source:l.publicKey,destination:t.owner,owner:t.owner})),{transaction:s,signers:u,payer:t.owner}}async matchOrders(e,t,n){const r=this.makeMatchOrdersTransaction(n);return await this._sendTransaction(e,r,[t])}makeMatchOrdersTransaction(e){const t=new c.Transaction;return t.add(a.DexInstructions.matchOrders({market:this.address,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,bids:this._decoded.bids,asks:this._decoded.asks,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,limit:e,programId:this._programId})),t}async loadRequestQueue(e){const{data:t}=k(await e.getAccountInfo(this._decoded.requestQueue));return l.decodeRequestQueue(t)}async loadEventQueue(e){const{data:t}=k(await e.getAccountInfo(this._decoded.eventQueue));return l.decodeEventQueue(t)}async loadFills(e,t=100){const{data:n}=k(await e.getAccountInfo(this._decoded.eventQueue));return l.decodeEventQueue(n,t).filter((e=>e.eventFlags.fill&&e.nativeQuantityPaid.gtn(0))).map(this.parseFillEvent.bind(this))}parseFillEvent(e){let t,n,r,i;return e.eventFlags.bid?(r="buy",i=e.eventFlags.maker?e.nativeQuantityPaid.add(e.nativeFeeOrRebate):e.nativeQuantityPaid.sub(e.nativeFeeOrRebate),n=w(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityReleased)),t=w(e.nativeQuantityReleased,this._baseSplTokenMultiplier)):(r="sell",i=e.eventFlags.maker?e.nativeQuantityReleased.sub(e.nativeFeeOrRebate):e.nativeQuantityReleased.add(e.nativeFeeOrRebate),n=w(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityPaid)),t=w(e.nativeQuantityPaid,this._baseSplTokenMultiplier)),{...e,side:r,price:n,feeCost:this.quoteSplSizeToNumber(e.nativeFeeOrRebate)*(e.eventFlags.maker?-1:1),size:t}}get _baseSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._baseSplTokenDecimals))}get _quoteSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._quoteSplTokenDecimals))}priceLotsToNumber(e){return w(e.mul(this._decoded.quoteLotSize).mul(this._baseSplTokenMultiplier),this._decoded.baseLotSize.mul(this._quoteSplTokenMultiplier))}priceNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals)*this._decoded.baseLotSize.toNumber()/(Math.pow(10,this._baseSplTokenDecimals)*this._decoded.quoteLotSize.toNumber())))}baseSplSizeToNumber(e){return w(e,this._baseSplTokenMultiplier)}quoteSplSizeToNumber(e){return w(e,this._quoteSplTokenMultiplier)}baseSizeLotsToNumber(e){return w(e.mul(this._decoded.baseLotSize),this._baseSplTokenMultiplier)}baseSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._baseSplTokenDecimals))).div(this._decoded.baseLotSize)}quoteSizeLotsToNumber(e){return w(e.mul(this._decoded.quoteLotSize),this._quoteSplTokenMultiplier)}quoteSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals))).div(this._decoded.quoteLotSize)}get minOrderSize(){return this.baseSizeLotsToNumber(new u.default(1))}get tickSize(){return this.priceLotsToNumber(new u.default(1))}}t.Market=m,t._OPEN_ORDERS_LAYOUT_V1=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("market"),o.publicKeyLayout("owner"),o.u64("baseTokenFree"),o.u64("baseTokenTotal"),o.u64("quoteTokenFree"),o.u64("quoteTokenTotal"),o.u128("freeSlotBits"),o.u128("isBidBits"),i.seq(o.u128(),128,"orders"),i.seq(o.u64(),128,"clientIds"),i.blob(7)]),t._OPEN_ORDERS_LAYOUT_V2=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),o.publicKeyLayout("market"),o.publicKeyLayout("owner"),o.u64("baseTokenFree"),o.u64("baseTokenTotal"),o.u64("quoteTokenFree"),o.u64("quoteTokenTotal"),o.u128("freeSlotBits"),o.u128("isBidBits"),i.seq(o.u128(),128,"orders"),i.seq(o.u64(),128,"clientIds"),o.u64("referrerRebatesAccrued"),i.blob(7)]);class g{constructor(e,t,n){this.address=e,this._programId=n,Object.assign(this,t)}static getLayout(e){return 1===h.getLayoutVersion(e)?t._OPEN_ORDERS_LAYOUT_V1:t._OPEN_ORDERS_LAYOUT_V2}static async findForOwner(e,t,n){const r=[{memcmp:{offset:this.getLayout(n).offsetOf("owner"),bytes:t.toBase58()}},{dataSize:this.getLayout(n).span}];return(await A(e,n,r)).map((({publicKey:e,accountInfo:t})=>g.fromAccountInfo(e,t,n)))}static async findForMarketAndOwner(e,t,n,r){const i=[{memcmp:{offset:this.getLayout(r).offsetOf("market"),bytes:t.toBase58()}},{memcmp:{offset:this.getLayout(r).offsetOf("owner"),bytes:n.toBase58()}},{dataSize:this.getLayout(r).span}];return(await A(e,r,i)).map((({publicKey:e,accountInfo:t})=>g.fromAccountInfo(e,t,r)))}static async load(e,t,n){const r=await e.getAccountInfo(t);if(null===r)throw new Error("Open orders account not found");return g.fromAccountInfo(t,r,n)}static fromAccountInfo(e,t,n){const{owner:r,data:i}=t;if(!r.equals(n))throw new Error("Address not owned by program");const o=this.getLayout(n).decode(i);if(!o.accountFlags.initialized||!o.accountFlags.openOrders)throw new Error("Invalid open orders account");return new g(e,o,n)}static async makeCreateAccountTransaction(e,t,n,r,i){return c.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:r,lamports:await e.getMinimumBalanceForRentExemption(this.getLayout(i).span),space:this.getLayout(i).span,programId:i})}get publicKey(){return this.address}}t.OpenOrders=g,t.ORDERBOOK_LAYOUT=i.struct([i.blob(5),o.accountFlagsLayout("accountFlags"),s.SLAB_LAYOUT.replicate("slab"),i.blob(7)]);class y{constructor(e,t,n){if(!(t.initialized&&t.bids^t.asks))throw new Error("Invalid orderbook");this.market=e,this.isBids=t.bids,this.slab=n}static get LAYOUT(){return t.ORDERBOOK_LAYOUT}static decode(e,n){const{accountFlags:r,slab:i}=t.ORDERBOOK_LAYOUT.decode(n);return new y(e,r,i)}getL2(e){const t=this.isBids,n=[];for(const{key:r,quantity:i}of this.slab.items(t)){const t=b(r);if(n.length>0&&n[n.length-1][0].eq(t))n[n.length-1][1]=n[n.length-1][1].add(i);else{if(n.length===e)break;n.push([t,i])}}return n.map((([e,t])=>[this.market.priceLotsToNumber(e),this.market.baseSizeLotsToNumber(t),e,t]))}[Symbol.iterator](){return this.items(!1)}*items(e=!1){for(const{key:t,ownerSlot:n,owner:r,quantity:i,feeTier:o,clientOrderId:s}of this.slab.items(e)){const e=b(t);yield{orderId:t,clientId:s,openOrdersAddress:r,openOrdersSlot:n,feeTier:o,price:this.market.priceLotsToNumber(e),priceLots:e,size:this.market.baseSizeLotsToNumber(i),sizeLots:i,side:this.isBids?"buy":"sell"}}}}function b(e){return e.ushrn(64)}function w(e,t){const n=e.div(t).toNumber(),r=e.umod(t),i=r.gcd(t);return n+r.div(i).toNumber()/t.div(i).toNumber()}t.Orderbook=y;const v=i.struct([i.blob(44),i.u8("decimals"),i.blob(37)]);async function S(e,t){if(t.equals(p.WRAPPED_SOL_MINT))return 9;const{data:n}=k(await e.getAccountInfo(t),"mint not found"),{decimals:r}=v.decode(n);return r}async function A(e,t,n){const r=await e._rpcRequest("getProgramAccounts",[t.toBase58(),{commitment:e.commitment,filters:n,encoding:"base64"}]);if(r.error)throw new Error(r.error.message);return r.result.map((({pubkey:e,account:{data:t,executable:n,owner:r,lamports:i}})=>({publicKey:new c.PublicKey(e),accountInfo:{data:d.Buffer.from(t[0],"base64"),executable:n,owner:new c.PublicKey(r),lamports:i}})))}function k(e,t="account not found"){if(null===e)throw new Error(t);return e}t.getMintDecimals=S},7403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeEventQueue=t.decodeRequestQueue=t.decodeEventsSince=void 0;const r=n(4104),i=n(8849),o=r.struct([r.blob(5),i.accountFlagsLayout("accountFlags"),r.u32("head"),i.zeros(4),r.u32("count"),i.zeros(4),r.u32("nextSeqNum"),i.zeros(4)]),s=r.bits(r.u8(),!1,"requestFlags");s.addBoolean("newOrder"),s.addBoolean("cancelOrder"),s.addBoolean("bid"),s.addBoolean("postOnly"),s.addBoolean("ioc");const a=r.struct([s,r.u8("openOrdersSlot"),r.u8("feeTier"),r.blob(5),i.u64("maxBaseSizeOrCancelId"),i.u64("nativeQuoteQuantityLocked"),i.u128("orderId"),i.publicKeyLayout("openOrders"),i.u64("clientOrderId")]),u=r.struct([r.blob(5),i.accountFlagsLayout("accountFlags"),r.u32("head"),i.zeros(4),r.u32("count"),i.zeros(4),r.u32("seqNum"),i.zeros(4)]),c=r.bits(r.u8(),!1,"eventFlags");c.addBoolean("fill"),c.addBoolean("out"),c.addBoolean("bid"),c.addBoolean("maker");const l=r.struct([c,r.u8("openOrdersSlot"),r.u8("feeTier"),r.blob(5),i.u64("nativeQuantityReleased"),i.u64("nativeQuantityPaid"),i.u64("nativeFeeOrRebate"),i.u128("orderId"),i.publicKeyLayout("openOrders"),i.u64("clientOrderId")]);function d(e,t,n,r){return t.decode(n,e.span+r*t.span)}function f(e,t,n,r){const i=e.decode(n),o=Math.floor((n.length-e.span)/t.span),s=[];if(r)for(let a=0;a<Math.min(r,o);++a){const r=(i.head+i.count+o-1-a)%o;s.push(d(e,t,n,r))}else for(let r=0;r<i.count;++r){const a=(i.head+r)%o;s.push(d(e,t,n,a))}return{header:i,nodes:s}}t.decodeEventsSince=function(e,t){const n=u.decode(e),r=Math.floor((e.length-u.span)/l.span),i=4294967296;let o=(n.seqNum-t+i)%i;o>r&&(o=r-1);const s=(n.seqNum-o+i)%i,a=((n.head+n.count)%r-o+r)%r,c=[];for(let t=0;t<o;++t){const n=d(u,l,e,(a+t)%r);n.seqNum=(s+t)%i,c.push(n)}return c},t.decodeRequestQueue=function(e,t){const{header:n,nodes:r}=f(o,a,e,t);if(!n.accountFlags.initialized||!n.accountFlags.requestQueue)throw new Error("Invalid requests queue");return r},t.decodeEventQueue=function(e,t){const{header:n,nodes:r}=f(u,l,e,t);if(!n.accountFlags.initialized||!n.accountFlags.eventQueue)throw new Error("Invalid events queue");return r},t.REQUEST_QUEUE_LAYOUT={HEADER:o,NODE:a},t.EVENT_QUEUE_LAYOUT={HEADER:u,NODE:l}},5605:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slab=t.SLAB_LAYOUT=void 0;const i=r(n(9098)),o=n(4104),s=n(8849),a=o.struct([o.u32("bumpIndex"),s.zeros(4),o.u32("freeListLen"),s.zeros(4),o.u32("freeListHead"),o.u32("root"),o.u32("leafCount"),s.zeros(4)],"header"),u=o.union(o.u32("tag"),o.blob(68),"node");u.addVariant(0,o.struct([]),"uninitialized"),u.addVariant(1,o.struct([o.u32("prefixLen"),s.u128("key"),o.seq(o.u32(),2,"children")]),"innerNode"),u.addVariant(2,o.struct([o.u8("ownerSlot"),o.u8("feeTier"),o.blob(2),s.u128("key"),s.publicKeyLayout("owner"),s.u64("quantity"),s.u64("clientOrderId")]),"leafNode"),u.addVariant(3,o.struct([o.u32("next")]),"freeNode"),u.addVariant(4,o.struct([]),"lastFreeNode"),t.SLAB_LAYOUT=o.struct([a,o.seq(u,o.offset(a.layoutFor("bumpIndex"),a.offsetOf("bumpIndex")-a.span),"nodes")]);class c{constructor(e,t){this.header=e,this.nodes=t}static decode(e){return t.SLAB_LAYOUT.decode(e)}get(e){if(0===this.header.leafCount)return null;e instanceof i.default||(e=new i.default(e));let t=this.header.root;for(;;){const{leafNode:n,innerNode:r}=this.nodes[t];if(n)return n.key.eq(e)?n:null;if(!r)throw new Error("Invalid slab");if(!r.key.xor(e).iushrn(128-r.prefixLen).isZero())return null;t=r.children[e.testn(128-r.prefixLen-1)?1:0]}}[Symbol.iterator](){return this.items(!1)}*items(e=!1){if(0===this.header.leafCount)return;const t=[this.header.root];for(;t.length>0;){const n=t.pop(),{leafNode:r,innerNode:i}=this.nodes[n];r?yield r:i&&(e?t.push(i.children[0],i.children[1]):t.push(i.children[1],i.children[0]))}}}t.Slab=c,s.setLayoutDecoder(t.SLAB_LAYOUT,(({header:e,nodes:t})=>new c(e,t)))},8323:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.closeAccount=t.mintTo=t.setAuthority=t.revoke=t.approve=t.transfer=t.initializeAccount=t.initializeMint=t.decodeTokenInstructionData=t.SRM_DECIMALS=t.SRM_MINT=t.MSRM_DECIMALS=t.MSRM_MINT=t.WRAPPED_SOL_MINT=t.TOKEN_PROGRAM_ID=t.CLOSE_ACCOUNT_OWNER_INDEX=t.CLOSE_ACCOUNT_DESTINATION_INDEX=t.CLOSE_ACCOUNT_SOURCE_INDEX=t.TRANSFER_OWNER_INDEX=t.TRANSFER_DESTINATION_INDEX=t.TRANSFER_SOURCE_INDEX=t.INITIALIZE_ACCOUNT_OWNER_INDEX=t.INITIALIZE_ACCOUNT_MINT_INDEX=t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=void 0;const s=o(n(4104)),a=n(9990),u=n(8849);t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=0,t.INITIALIZE_ACCOUNT_MINT_INDEX=1,t.INITIALIZE_ACCOUNT_OWNER_INDEX=2,t.TRANSFER_SOURCE_INDEX=0,t.TRANSFER_DESTINATION_INDEX=1,t.TRANSFER_OWNER_INDEX=2,t.CLOSE_ACCOUNT_SOURCE_INDEX=0,t.CLOSE_ACCOUNT_DESTINATION_INDEX=1,t.CLOSE_ACCOUNT_OWNER_INDEX=2,t.TOKEN_PROGRAM_ID=new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.WRAPPED_SOL_MINT=new a.PublicKey("So11111111111111111111111111111111111111112"),t.MSRM_MINT=new a.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),t.MSRM_DECIMALS=0,t.SRM_MINT=new a.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),t.SRM_DECIMALS=6;const c=s.union(s.u8("instruction"));c.addVariant(0,s.struct([s.u8("decimals"),u.publicKeyLayout("mintAuthority"),s.u8("freezeAuthorityOption"),u.publicKeyLayout("freezeAuthority")]),"initializeMint"),c.addVariant(1,s.struct([]),"initializeAccount"),c.addVariant(3,s.struct([s.nu64("amount")]),"transfer"),c.addVariant(4,s.struct([s.nu64("amount")]),"approve"),c.addVariant(5,s.struct([]),"revoke"),c.addVariant(6,s.struct([s.u8("authorityType"),s.u8("newAuthorityOption"),u.publicKeyLayout("newAuthority")]),"setAuthority"),c.addVariant(7,s.struct([s.nu64("amount")]),"mintTo"),c.addVariant(8,s.struct([s.nu64("amount")]),"burn"),c.addVariant(9,s.struct([]),"closeAccount");const l=Math.max(...Object.values(c.registry).map((e=>e.span)));function d(e){const t=Buffer.alloc(l),n=c.encode(e,t);return t.slice(0,n)}t.decodeTokenInstructionData=function(e){return c.decode(e)},t.initializeMint=function({mint:e,decimals:n,mintAuthority:r,freezeAuthority:i=null}){const o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:o,data:d({initializeMint:{decimals:n,mintAuthority:r,freezeAuthorityOption:!!i,freezeAuthority:i||new a.PublicKey(0)}}),programId:t.TOKEN_PROGRAM_ID})},t.initializeAccount=function({account:e,mint:n,owner:r}){const i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:i,data:d({initializeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})},t.transfer=function({source:e,destination:n,amount:r,owner:i}){const o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new a.TransactionInstruction({keys:o,data:d({transfer:{amount:r}}),programId:t.TOKEN_PROGRAM_ID})},t.approve=function({source:e,delegate:n,amount:r,owner:i}){const o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new a.TransactionInstruction({keys:o,data:d({approve:{amount:r}}),programId:t.TOKEN_PROGRAM_ID})},t.revoke=function({source:e,owner:n}){const r=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new a.TransactionInstruction({keys:r,data:d({revoke:{}}),programId:t.TOKEN_PROGRAM_ID})},t.setAuthority=function({target:e,currentAuthority:n,newAuthority:r,authorityType:i}){const o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new a.TransactionInstruction({keys:o,data:d({setAuthority:{authorityType:i,newAuthorityOption:!!r,newAuthority:r}}),programId:t.TOKEN_PROGRAM_ID})},t.mintTo=function({mint:e,destination:n,amount:r,mintAuthority:i}){const o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new a.TransactionInstruction({keys:o,data:d({mintTo:{amount:r}}),programId:t.TOKEN_PROGRAM_ID})},t.closeAccount=function({source:e,destination:n,owner:r}){const i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new a.TransactionInstruction({keys:i,data:d({closeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})}},9630:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MARKETS=t.TOKEN_MINTS=t.getLayoutVersion=t.PROGRAM_LAYOUT_VERSIONS=void 0;const i=n(9990),o=r(n(5525)),s=r(n(9777));t.PROGRAM_LAYOUT_VERSIONS={"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn":1,BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg:1,EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o:2,"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin":3},t.getLayoutVersion=function(e){return t.PROGRAM_LAYOUT_VERSIONS[e.toString()]||3},t.TOKEN_MINTS=s.default.map((e=>({address:new i.PublicKey(e.address),name:e.name}))),t.MARKETS=o.default.map((e=>({address:new i.PublicKey(e.address),name:e.name,programId:new i.PublicKey(e.programId),deprecated:e.deprecated})))},2069:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythConnection=void 0;var o=n(1057),s=function(){function e(e,t,n){void 0===n&&(n="finalized"),this.productAccountKeyToProduct={},this.priceAccountKeyToProductAccountKey={},this.callbacks=[],this.connection=e,this.pythProgramKey=t,this.commitment=n}return e.prototype.handleProductAccount=function(e,t){var n=o.parseProductData(t.data),r=n.priceAccountKey,i=(n.type,n.product);this.productAccountKeyToProduct[e.toString()]=i,"11111111111111111111111111111111"!==r.toString()&&(this.priceAccountKeyToProductAccountKey[r.toString()]=e.toString())},e.prototype.handlePriceAccount=function(e,t,n){var r=this.productAccountKeyToProduct[this.priceAccountKeyToProductAccountKey[e.toString()]];if(void 0===r)throw new Error("Got a price update for an unknown product. This is a bug in the library, please report it to the developers.");for(var i=o.parsePriceData(t.data,n),s=0,a=this.callbacks;s<a.length;s++)(0,a[s])(r,i)},e.prototype.handleAccount=function(e,t,n,r){var i=o.parseBaseData(t.data);if(i)switch(i.type){case o.AccountType.Mapping:break;case o.AccountType.Product:this.handleProductAccount(e,t);break;case o.AccountType.Price:n||this.handlePriceAccount(e,t,r);break;case o.AccountType.Test:break;default:throw new Error("Unknown account type: "+i.type+". Try upgrading pyth-client.")}},e.prototype.start=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o,s=this;return i(this,(function(i){switch(i.label){case 0:return[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:return e=i.sent(),[4,this.connection.getSlot(this.commitment)];case 2:for(t=i.sent(),n=0,r=e;n<r.length;n++)o=r[n],this.handleAccount(o.pubkey,o.account,!0,t);return this.connection.onProgramAccountChange(this.pythProgramKey,(function(e,t){s.handleAccount(e.accountId,e.accountInfo,!1,t.slot)}),this.commitment),[2]}}))}))},e.prototype.onPriceChange=function(e){this.callbacks.push(e)},e.prototype.stop=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return this.callbacks=[],[2]}))}))},e}();t.PythConnection=s},1619:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythHttpClient=void 0;var o=n(1057),s=function(){function e(e,t,n){void 0===n&&(n="finalized"),this.connection=e,this.pythProgramKey=t,this.commitment=n}return e.prototype.getData=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,s,a,u,c,l,d;return i(this,(function(i){switch(i.label){case 0:return e=new Set,t=new Set,n=new Set,r=new Map,s=new Map,a=new Array,[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:return u=i.sent(),c=new Array,l=new Map,[4,this.connection.getSlot(this.commitment)];case 2:return d=i.sent(),u.forEach((function(i){var s=o.parseBaseData(i.account.data);if(s)switch(s.type){case o.AccountType.Mapping:break;case o.AccountType.Product:var a=o.parseProductData(i.account.data);l.set(i.pubkey.toBase58(),a.product),e.add(a.product.asset_type),t.add(a.product.symbol),n.add(a.product),r.set(a.product.symbol,a.product);break;case o.AccountType.Price:var u=o.parsePriceData(i.account.data,d);c.push(u);break;case o.AccountType.Test:break;default:throw new Error("Unknown account type: "+s.type+". Try upgrading pyth-client.")}})),c.forEach((function(e){var t=l.get(e.productAccountKey.toBase58());t&&(s.set(t.symbol,e),a.push(e))})),[2,{assetTypes:Array.from(e),symbols:Array.from(t),products:Array.from(n),productFromSymbol:r,productPrice:s,prices:a}]}}))}))},e}();t.PythHttpClient=s},5963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythClusterApiUrl=t.getPythProgramKeyForCluster=void 0;var r=n(9990),i={"mainnet-beta":"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",devnet:"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s",testnet:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz",pythtest:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz",pythnet:"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH"};t.getPythProgramKeyForCluster=function(e){if(void 0!==i[e])return new r.PublicKey(i[e]);throw new Error("Invalid Solana cluster name: "+e+". Valid options are: "+JSON.stringify(Object.keys(i)))},t.getPythClusterApiUrl=function(e){return"pythtest"===e?"https://api.pythtest.pyth.network":"pythnet"===e?"https://pythnet.rpcpool.com":r.clusterApiUrl(e)}},1057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythProgramKeyForCluster=t.PythHttpClient=t.PythConnection=t.parsePriceData=t.parseProductData=t.parseMappingData=t.parseBaseData=t.AccountType=t.DeriveType=t.PriceType=t.CorpAction=t.PriceStatus=t.MAX_SLOT_DIFFERENCE=t.Version=t.Version2=t.Magic=void 0;var r,i,o,s,a,u=n(9990),c=n(5872),l=n(3461);t.Magic=2712847316,t.Version2=2,t.Version=t.Version2,t.MAX_SLOT_DIFFERENCE=25,function(e){e[e.Unknown=0]="Unknown",e[e.Trading=1]="Trading",e[e.Halted=2]="Halted",e[e.Auction=3]="Auction"}(r=t.PriceStatus||(t.PriceStatus={})),(a=t.CorpAction||(t.CorpAction={}))[a.NoCorpAct=0]="NoCorpAct",(s=t.PriceType||(t.PriceType={}))[s.Unknown=0]="Unknown",s[s.Price=1]="Price",(o=t.DeriveType||(t.DeriveType={}))[o.Unknown=0]="Unknown",o[o.Volatility=1]="Volatility",(i=t.AccountType||(t.AccountType={}))[i.Unknown=0]="Unknown",i[i.Mapping=1]="Mapping",i[i.Product=2]="Product",i[i.Price=3]="Price",i[i.Test=4]="Test";var d=c.Buffer.alloc(32),f=function(e){return e.equals(d)?null:new u.PublicKey(e)};t.parseBaseData=function(e){if(!(e.byteLength<4)){var n=e.readUInt32LE(0);return n===t.Magic?{magic:n,version:e.readUInt32LE(4),type:e.readUInt32LE(8),size:e.readUInt32LE(12)}:void 0}},t.parseMappingData=function(e){for(var t=e.readUInt32LE(0),n=e.readUInt32LE(4),r=e.readUInt32LE(8),i=e.readUInt32LE(12),o=e.readUInt32LE(16),s=f(e.slice(24,56)),a=56,c=[],l=0;l<o;l++){var d=e.slice(a,a+32),p=new u.PublicKey(d);a+=32,c.push(p)}return{magic:t,version:n,type:r,size:i,nextMappingAccount:s,productAccountKeys:c}},t.parseProductData=function(e){var t=e.readUInt32LE(0),n=e.readUInt32LE(4),r=e.readUInt32LE(8),i=e.readUInt32LE(12),o=e.slice(16,48),s=new u.PublicKey(o),a={};a.price_account=s.toBase58();for(var c=48;c<i;){var l=e[c];if(c++,l){var d=e.slice(c,c+l).toString(),f=e[c+=l];c++;var p=e.slice(c,c+f).toString();c+=f,a[d]=p}}return{magic:t,version:n,type:r,size:i,priceAccountKey:s,product:a}};var p=function(e,t){var n=l.readBigInt64LE(e,0);return{valueComponent:n,value:Number(n)*Math.pow(10,t),numerator:l.readBigInt64LE(e,8),denominator:l.readBigInt64LE(e,16)}},h=function(e,t){var n=l.readBigInt64LE(e,0),r=Number(n)*Math.pow(10,t),i=l.readBigUInt64LE(e,8);return{priceComponent:n,price:r,confidenceComponent:i,confidence:Number(i)*Math.pow(10,t),status:e.readUInt32LE(16),corporateAction:e.readUInt32LE(20),publishSlot:Number(l.readBigUInt64LE(e,24))}};t.parsePriceData=function(e,n){var i,o,s=e.readUInt32LE(0),a=e.readUInt32LE(4),c=e.readUInt32LE(8),d=e.readUInt32LE(12),m=e.readUInt32LE(16),g=e.readInt32LE(20),y=e.readUInt32LE(24),b=e.readUInt32LE(28),w=l.readBigUInt64LE(e,32),v=l.readBigUInt64LE(e,40),S=p(e.slice(48,72),g),A=p(e.slice(72,96),g),k=l.readBigInt64LE(e,96),_=e.readUInt8(104),M=e.readInt8(105),I=e.readInt16LE(106),E=e.readInt32LE(108),P=new u.PublicKey(e.slice(112,144)),T=f(e.slice(144,176)),O=l.readBigUInt64LE(e,176),x=l.readBigInt64LE(e,184),B=Number(x)*Math.pow(10,g),L=l.readBigUInt64LE(e,192),C=Number(L)*Math.pow(10,g),R=l.readBigInt64LE(e,200),N=h(e.slice(208,240),g),D=N.status;n&&D===r.Trading&&n-N.publishSlot>t.MAX_SLOT_DIFFERENCE&&(D=r.Unknown),D===r.Trading&&(i=N.price,o=N.confidence);for(var F=[],K=240,U=!0;K<e.length&&U;){var W=f(e.slice(K,K+32));if(K+=32,W){var z=h(e.slice(K,K+32),g);K+=32;var j=h(e.slice(K,K+32),g);K+=32,F.push({publisher:W,aggregate:z,latest:j})}else U=!1}return{magic:s,version:a,type:c,size:d,priceType:m,exponent:g,numComponentPrices:y,numQuoters:b,lastSlot:w,validSlot:v,emaPrice:S,emaConfidence:A,timestamp:k,minPublishers:_,drv2:M,drv3:I,drv4:E,productAccountKey:P,nextPriceAccountKey:T,previousSlot:O,previousPriceComponent:x,previousPrice:B,previousConfidenceComponent:L,previousConfidence:C,previousTimestamp:R,aggregate:N,priceComponents:F,price:i,confidence:o,status:D}};var m=n(2069);Object.defineProperty(t,"PythConnection",{enumerable:!0,get:function(){return m.PythConnection}});var g=n(1619);Object.defineProperty(t,"PythHttpClient",{enumerable:!0,get:function(){return g.PythHttpClient}});var y=n(5963);Object.defineProperty(t,"getPythProgramKeyForCluster",{enumerable:!0,get:function(){return y.getPythProgramKeyForCluster}})},3461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readBigUInt64LE=t.readBigInt64LE=void 0;var n=function(e,t,n){return new Error('The value of "'+e+" is out of range. It must be "+t+". Received "+n)};function r(e,t){if("number"!=typeof e)throw function(e,t,n){return new Error('The "'+e+'" argument must be of type number. Received '+n)}(t,0,e)}function i(e,t){if(Math.floor(e)!==e)throw r(e,"offset"),n("offset","an integer",e);if(t<0)throw new Error("Attempt to access memory outside buffer bounds");throw n("offset",">= 0 and <= "+t,e)}t.readBigInt64LE=function(e,t){void 0===t&&(t=0),r(t,"offset");var n=e[t],o=e[t+7];void 0!==n&&void 0!==o||i(t,e.length-8);var s=e[t+4]+e[t+5]*Math.pow(2,8)+e[t+6]*Math.pow(2,16)+(o<<24);return(BigInt(s)<<BigInt(32))+BigInt(n+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24))},t.readBigUInt64LE=function(e,t){void 0===t&&(t=0),r(t,"offset");var n=e[t],o=e[t+7];void 0!==n&&void 0!==o||i(t,e.length-8);var s=n+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24),a=e[++t]+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+o*Math.pow(2,24);return BigInt(s)+(BigInt(a)<<BigInt(32))}},3803:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythConnection=void 0;var s=n(7235),a=function(){function e(e,t,n){void 0===n&&(n="finalized"),this.productAccountKeyToProduct={},this.priceAccountKeyToProductAccountKey={},this.callbacks=[],this.connection=e,this.pythProgramKey=t,this.commitment=n}return e.prototype.handleProductAccount=function(e,t,n){var i=s.parseProductData(t.data);this.productAccountKeyToProduct[e.toString()]={key:e,slot:n,accountInfo:r(r({},t),{data:i})},"11111111111111111111111111111111"!==i.priceAccountKey.toString()&&(this.priceAccountKeyToProductAccountKey[i.priceAccountKey.toString()]=e.toString())},e.prototype.handlePriceAccount=function(e,t,n){var i=this.productAccountKeyToProduct[this.priceAccountKeyToProductAccountKey[e.toString()]];if(void 0===i)throw new Error("Got a price update for an unknown product. This is a bug in the library, please report it to the developers.");for(var o=s.parsePriceData(t.data,n),a={key:e,slot:n,accountInfo:r(r({},t),{data:o})},u=0,c=this.callbacks;u<c.length;u++)(0,c[u])(i,a)},e.prototype.handleAccount=function(e,t,n,r){var i=s.parseBaseData(t.data);if(i)switch(i.type){case s.AccountType.Mapping:break;case s.AccountType.Product:this.handleProductAccount(e,t,r);break;case s.AccountType.Price:n||this.handlePriceAccount(e,t,r);break;case s.AccountType.Test:break;default:throw new Error("Unknown account type: "+i.type+". Try upgrading pyth-client.")}},e.prototype.start=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i,s=this;return o(this,(function(o){switch(o.label){case 0:return[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:return e=o.sent(),[4,this.connection.getSlot(this.commitment)];case 2:for(t=o.sent(),n=0,r=e;n<r.length;n++)i=r[n],this.handleAccount(i.pubkey,i.account,!0,t);return this.connection.onProgramAccountChange(this.pythProgramKey,(function(e,t){s.handleAccount(e.accountId,e.accountInfo,!1,t.slot)}),this.commitment),[2]}}))}))},e.prototype.onPriceChange=function(e){this.callbacks.push((function(t,n){return e(t.accountInfo.data.product,n.accountInfo.data)}))},e.prototype.onPriceChangeVerbose=function(e){this.callbacks.push(e)},e.prototype.stop=function(){return i(this,void 0,void 0,(function(){return o(this,(function(e){return this.callbacks=[],[2]}))}))},e}();t.PythConnection=a},8531:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythHttpClient=void 0;var o=n(7235),s=function(){function e(e,t,n){void 0===n&&(n="finalized"),this.connection=e,this.pythProgramKey=t,this.commitment=n}return e.prototype.getData=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,s,a,u,c,l,d;return i(this,(function(i){switch(i.label){case 0:return e=new Set,t=new Set,n=new Set,r=new Map,s=new Map,a=new Array,[4,this.connection.getProgramAccounts(this.pythProgramKey,this.commitment)];case 1:return u=i.sent(),c=new Array,l=new Map,[4,this.connection.getSlot(this.commitment)];case 2:return d=i.sent(),u.forEach((function(i){var s=o.parseBaseData(i.account.data);if(s)switch(s.type){case o.AccountType.Mapping:break;case o.AccountType.Product:var a=o.parseProductData(i.account.data);l.set(i.pubkey.toBase58(),a.product),e.add(a.product.asset_type),t.add(a.product.symbol),n.add(a.product),r.set(a.product.symbol,a.product);break;case o.AccountType.Price:var u=o.parsePriceData(i.account.data,d);c.push(u);break;case o.AccountType.Test:break;default:throw new Error("Unknown account type: "+s.type+". Try upgrading pyth-client.")}})),c.forEach((function(e){var t=l.get(e.productAccountKey.toBase58());t&&(s.set(t.symbol,e),a.push(e))})),[2,{assetTypes:Array.from(e),symbols:Array.from(t),products:Array.from(n),productFromSymbol:r,productPrice:s,prices:a}]}}))}))},e}();t.PythHttpClient=s},3428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythClusterApiUrl=t.getPythProgramKeyForCluster=void 0;var r=n(9990),i={"mainnet-beta":"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH",devnet:"gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s",testnet:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz",pythtest:"8tfDNiaEyrV6Q1U4DEXrEigs9DoDtkugzFbybENEbCDz",pythnet:"FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH"};t.getPythProgramKeyForCluster=function(e){if(void 0!==i[e])return new r.PublicKey(i[e]);throw new Error("Invalid Solana cluster name: "+e+". Valid options are: "+JSON.stringify(Object.keys(i)))},t.getPythClusterApiUrl=function(e){return"pythtest"===e?"https://api.pythtest.pyth.network":"pythnet"===e?"https://pythnet.rpcpool.com":r.clusterApiUrl(e)}},7235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythProgramKeyForCluster=t.PythHttpClient=t.PythConnection=t.parsePriceData=t.parseProductData=t.parseMappingData=t.parseBaseData=t.AccountType=t.DeriveType=t.PriceType=t.CorpAction=t.PriceStatus=t.MAX_SLOT_DIFFERENCE=t.Version=t.Version2=t.Magic=void 0;var r,i,o,s,a,u=n(9990),c=n(5872),l=n(4609);t.Magic=2712847316,t.Version2=2,t.Version=t.Version2,t.MAX_SLOT_DIFFERENCE=25,function(e){e[e.Unknown=0]="Unknown",e[e.Trading=1]="Trading",e[e.Halted=2]="Halted",e[e.Auction=3]="Auction"}(r=t.PriceStatus||(t.PriceStatus={})),(a=t.CorpAction||(t.CorpAction={}))[a.NoCorpAct=0]="NoCorpAct",(s=t.PriceType||(t.PriceType={}))[s.Unknown=0]="Unknown",s[s.Price=1]="Price",(o=t.DeriveType||(t.DeriveType={}))[o.Unknown=0]="Unknown",o[o.Volatility=1]="Volatility",(i=t.AccountType||(t.AccountType={}))[i.Unknown=0]="Unknown",i[i.Mapping=1]="Mapping",i[i.Product=2]="Product",i[i.Price=3]="Price",i[i.Test=4]="Test";var d=c.Buffer.alloc(32),f=function(e){return e.equals(d)?null:new u.PublicKey(e)};t.parseBaseData=function(e){if(!(e.byteLength<4)){var n=e.readUInt32LE(0);return n===t.Magic?{magic:n,version:e.readUInt32LE(4),type:e.readUInt32LE(8),size:e.readUInt32LE(12)}:void 0}},t.parseMappingData=function(e){for(var t=e.readUInt32LE(0),n=e.readUInt32LE(4),r=e.readUInt32LE(8),i=e.readUInt32LE(12),o=e.readUInt32LE(16),s=f(e.slice(24,56)),a=56,c=[],l=0;l<o;l++){var d=e.slice(a,a+32),p=new u.PublicKey(d);a+=32,c.push(p)}return{magic:t,version:n,type:r,size:i,nextMappingAccount:s,productAccountKeys:c}},t.parseProductData=function(e){var t=e.readUInt32LE(0),n=e.readUInt32LE(4),r=e.readUInt32LE(8),i=e.readUInt32LE(12),o=e.slice(16,48),s=new u.PublicKey(o),a={};a.price_account=s.toBase58();for(var c=48;c<i;){var l=e[c];if(c++,l){var d=e.slice(c,c+l).toString(),f=e[c+=l];c++;var p=e.slice(c,c+f).toString();c+=f,a[d]=p}}return{magic:t,version:n,type:r,size:i,priceAccountKey:s,product:a}};var p=function(e,t){var n=l.readBigInt64LE(e,0);return{valueComponent:n,value:Number(n)*Math.pow(10,t),numerator:l.readBigInt64LE(e,8),denominator:l.readBigInt64LE(e,16)}},h=function(e,t){var n=l.readBigInt64LE(e,0),r=Number(n)*Math.pow(10,t),i=l.readBigUInt64LE(e,8);return{priceComponent:n,price:r,confidenceComponent:i,confidence:Number(i)*Math.pow(10,t),status:e.readUInt32LE(16),corporateAction:e.readUInt32LE(20),publishSlot:Number(l.readBigUInt64LE(e,24))}};t.parsePriceData=function(e,n){var i,o,s=e.readUInt32LE(0),a=e.readUInt32LE(4),c=e.readUInt32LE(8),d=e.readUInt32LE(12),m=e.readUInt32LE(16),g=e.readInt32LE(20),y=e.readUInt32LE(24),b=e.readUInt32LE(28),w=l.readBigUInt64LE(e,32),v=l.readBigUInt64LE(e,40),S=p(e.slice(48,72),g),A=p(e.slice(72,96),g),k=l.readBigInt64LE(e,96),_=e.readUInt8(104),M=e.readInt8(105),I=e.readInt16LE(106),E=e.readInt32LE(108),P=new u.PublicKey(e.slice(112,144)),T=f(e.slice(144,176)),O=l.readBigUInt64LE(e,176),x=l.readBigInt64LE(e,184),B=Number(x)*Math.pow(10,g),L=l.readBigUInt64LE(e,192),C=Number(L)*Math.pow(10,g),R=l.readBigInt64LE(e,200),N=h(e.slice(208,240),g),D=N.status;n&&D===r.Trading&&n-N.publishSlot>t.MAX_SLOT_DIFFERENCE&&(D=r.Unknown),D===r.Trading&&(i=N.price,o=N.confidence);for(var F=[],K=240,U=!0;K<e.length&&U;){var W=f(e.slice(K,K+32));if(K+=32,W){var z=h(e.slice(K,K+32),g);K+=32;var j=h(e.slice(K,K+32),g);K+=32,F.push({publisher:W,aggregate:z,latest:j})}else U=!1}return{magic:s,version:a,type:c,size:d,priceType:m,exponent:g,numComponentPrices:y,numQuoters:b,lastSlot:w,validSlot:v,emaPrice:S,emaConfidence:A,timestamp:k,minPublishers:_,drv2:M,drv3:I,drv4:E,productAccountKey:P,nextPriceAccountKey:T,previousSlot:O,previousPriceComponent:x,previousPrice:B,previousConfidenceComponent:L,previousConfidence:C,previousTimestamp:R,aggregate:N,priceComponents:F,price:i,confidence:o,status:D}};var m=n(3803);Object.defineProperty(t,"PythConnection",{enumerable:!0,get:function(){return m.PythConnection}});var g=n(8531);Object.defineProperty(t,"PythHttpClient",{enumerable:!0,get:function(){return g.PythHttpClient}});var y=n(3428);Object.defineProperty(t,"getPythProgramKeyForCluster",{enumerable:!0,get:function(){return y.getPythProgramKeyForCluster}})},4609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readBigUInt64LE=t.readBigInt64LE=void 0;var n=function(e,t,n){return new Error('The value of "'+e+" is out of range. It must be "+t+". Received "+n)};function r(e,t){if("number"!=typeof e)throw function(e,t,n){return new Error('The "'+e+'" argument must be of type number. Received '+n)}(t,0,e)}function i(e,t){if(Math.floor(e)!==e)throw r(e,"offset"),n("offset","an integer",e);if(t<0)throw new Error("Attempt to access memory outside buffer bounds");throw n("offset",">= 0 and <= "+t,e)}t.readBigInt64LE=function(e,t){void 0===t&&(t=0),r(t,"offset");var n=e[t],o=e[t+7];void 0!==n&&void 0!==o||i(t,e.length-8);var s=e[t+4]+e[t+5]*Math.pow(2,8)+e[t+6]*Math.pow(2,16)+(o<<24);return(BigInt(s)<<BigInt(32))+BigInt(n+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24))},t.readBigUInt64LE=function(e,t){void 0===t&&(t=0),r(t,"offset");var n=e[t],o=e[t+7];void 0!==n&&void 0!==o||i(t,e.length-8);var s=n+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+e[++t]*Math.pow(2,24),a=e[++t]+e[++t]*Math.pow(2,8)+e[++t]*Math.pow(2,16)+o*Math.pow(2,24);return BigInt(s)+(BigInt(a)<<BigInt(32))}},4380:(e,t,n)=>{"use strict";t._O=t.Jq=t.Vb=t.KB=t.u8=t.cv=t.t6=t.Ar=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;const r=n(5872);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}t.Ar=s;class u extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends u{constructor(e,t=0,n){if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof d}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}class l extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntLE(t,this.span)}encode(e,t,n=0){return o(t).writeUIntLE(e,n,this.span),this.span}}class d extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntBE(t,this.span)}encode(e,t,n=0){return o(t).writeUIntBE(e,n,this.span),this.span}}const f=Math.pow(2,32);function p(e){const t=Math.floor(e/f);return{hi32:t,lo32:e-t*f}}function h(e,t){return e*f+t}class m extends s{constructor(e){super(8,e)}decode(e,t=0){const n=o(e),r=n.readUInt32LE(t);return h(n.readUInt32LE(t+4),r)}encode(e,t,n=0){const r=p(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class g extends s{constructor(e){super(8,e)}decode(e,t=0){const n=o(e),r=n.readUInt32LE(t);return h(n.readInt32LE(t+4),r)}encode(e,t,n=0){const r=p(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class y extends s{constructor(e,t,n){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof u)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof u&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let r=0,i=this.count;for(i instanceof u&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof u&&this.count.encode(e.length,t,n),i}}class b extends s{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t=0){i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class w extends s{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof u||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),o(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof u&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=o(e);return o(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof u&&this.length.encode(r,t,n),r}}t.t6=w;t.cv=(e,t,n)=>new c(e,t,n),t.u8=e=>new l(1,e),t.KB=e=>new l(2,e),t.Vb=e=>new l(3,e),t.Jq=e=>new l(4,e),t._O=e=>new m(e),t.gM=e=>new g(e),t.n_=(e,t,n)=>new b(e,t,n),t.A9=(e,t,n)=>new y(e,t,n),t.Ik=(e,t)=>new w(e,t)},3864:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CDNTokenListResolutionStrategy:()=>c,CLUSTER_SLUGS:()=>a,ENV:()=>r,GitHubTokenListResolutionStrategy:()=>u,SolanaTokenListResolutionStrategy:()=>l,StaticTokenListResolutionStrategy:()=>p,Strategy:()=>f,TokenListContainer:()=>m,TokenListProvider:()=>h});var r,i=n(3609),o=n(283),s=n.n(o);!function(e){e[e.MainnetBeta=101]="MainnetBeta",e[e.Testnet=102]="Testnet",e[e.Devnet=103]="Devnet"}(r||(r={}));const a={"mainnet-beta":r.MainnetBeta,testnet:r.Testnet,devnet:r.Devnet};class u{constructor(){this.repositories=["https://raw.githubusercontent.com/solana-labs/token-list/main/src/tokens/solana.tokenlist.json"],this.resolve=()=>d(this.repositories)}}class c{constructor(){this.repositories=["https://cdn.jsdelivr.net/gh/solana-labs/token-list@latest/src/tokens/solana.tokenlist.json"],this.resolve=()=>d(this.repositories)}}class l{constructor(){this.repositories=["https://token-list.solana.com/solana.tokenlist.json"],this.resolve=()=>d(this.repositories)}}const d=async e=>(await Promise.all(e.map((async e=>{try{const t=await(0,i.fetch)(e);return await t.json()}catch{return console.info("@solana/token-registry: falling back to static repository."),s()}})))).map((e=>e.tokens||[])).reduce(((e,t)=>e.concat(t)),[]);var f;!function(e){e.GitHub="GitHub",e.Static="Static",e.Solana="Solana",e.CDN="CDN"}(f||(f={}));class p{constructor(){this.resolve=()=>s().tokens||[]}}class h{constructor(){this.resolve=async(e=f.CDN)=>new m(await h.strategies[e].resolve())}}h.strategies={[f.GitHub]:new u,[f.Static]:new p,[f.Solana]:new l,[f.CDN]:new c};class m{constructor(e){this.tokenList=e,this.filterByTag=e=>new m(this.tokenList.filter((t=>(t.tags||[]).includes(e)))),this.filterByChainId=e=>new m(this.tokenList.filter((t=>t.chainId===e))),this.excludeByChainId=e=>new m(this.tokenList.filter((t=>t.chainId!==e))),this.excludeByTag=e=>new m(this.tokenList.filter((t=>!(t.tags||[]).includes(e)))),this.filterByClusterSlug=e=>{if(e in a)return this.filterByChainId(a[e]);throw new Error(`Unknown slug: ${e}, please use one of ${Object.keys(a)}`)},this.getList=()=>this.tokenList}}},6604:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{ASSOCIATED_TOKEN_PROGRAM_ID:()=>Xe,AccountLayout:()=>it,MintLayout:()=>rt,NATIVE_MINT:()=>nt,TOKEN_PROGRAM_ID:()=>Ge,Token:()=>st,u64:()=>Je});for(var o=n(9098),s=n.n(o),a=n(9990),u={},c={byteLength:function(e){var t=g(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=g(e),i=r[0],o=r[1],s=new f(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),a=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=d[e.charCodeAt(n)]<<18|d[e.charCodeAt(n+1)]<<12|d[e.charCodeAt(n+2)]<<6|d[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=d[e.charCodeAt(n)]<<2|d[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===o&&(t=d[e.charCodeAt(n)]<<10|d[e.charCodeAt(n+1)]<<4|d[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(y(e,s,s+o>a?a:s+o));return 1===r?(t=e[n-1],i.push(l[t>>2]+l[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),i.join("")}},l=[],d=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,m=p.length;h<m;++h)l[h]=p[h],d[p.charCodeAt(h)]=h;function g(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function y(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(l[(i=r)>>18&63]+l[i>>12&63]+l[i>>6&63]+l[63&i]);return o.join("")}d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;var b={read:function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=h,s/=256,c-=8);e[n+p-h]|=128*m}};!function(e){const t=c,n=b,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let r=o(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);const i=function(e){if(s.isBuffer(e)){const t=0|p(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),o(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function p(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Y(r))return s;e[n+s]=r}return s}function S(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function A(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return G(Q(t),e,n,r)}function _(e,t,n,r){return G(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function M(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(X(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=s.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))i+t.length>r.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const u=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<u;++e)if(c[e]!==l[e]){o=c[e],a=l[e];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Z[e[r]];return i}function x(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function B(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function C(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function R(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,r,i,o){return t=+t,r>>>=0,o||N(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function F(e,t,r,i,o){return t=+t,r>>>=0,o||N(e,0,r,8),n.write(e,t,r,i,52,8),r+8}s.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),s.prototype.readBigUInt64BE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),s.prototype.readBigInt64BE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),n.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),n.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),n.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),n.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=$((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=$((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=$((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=$((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=s.isBuffer(e)?e:s.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const K={};function U(e,t,n){K[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new K.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,o)}function j(e,t){if("number"!=typeof e)throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw j(e,n),new K.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=W(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function $(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}}(u);var w=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},v="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};function S(e,t){var n={seen:[],stylize:k};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),E(t)?n.showHidden=t:t&&F(n,t),O(n.showHidden)&&(n.showHidden=!1),O(n.depth)&&(n.depth=2),O(n.colors)&&(n.colors=!1),O(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=A),_(n,e,n.depth)}function A(e,t){var n=S.styles[t];return n?"["+S.colors[n][0]+"m"+e+"["+S.colors[n][1]+"m":e}function k(e,t){return e}function _(e,t,n){if(e.customInspect&&t&&R(t.inspect)&&t.inspect!==S&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return T(r)||(r=_(e,r,n)),r}var i=function(e,t){if(O(t))return e.stylize("undefined","undefined");if(T(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):E(t)?e.stylize(""+t,"boolean"):P(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var o=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),C(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return M(t);if(0===o.length){if(R(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(L(t))return e.stylize(Date.prototype.toString.call(t),"date");if(C(t))return M(t)}var u,c,l="",d=!1,f=["{","}"];return u=t,Array.isArray(u)&&(d=!0,f=["[","]"]),R(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),x(t)&&(l=" "+RegExp.prototype.toString.call(t)),L(t)&&(l=" "+Date.prototype.toUTCString.call(t)),C(t)&&(l=" "+M(t)),0!==o.length||d&&0!=t.length?n<0?x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=d?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)K(t,String(s))?o.push(I(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(I(e,t,n,r,i,!0))})),o}(e,t,n,s,o):o.map((function(r){return I(e,t,n,s,r,d)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,f)):f[0]+l+f[1]}function M(e){return"["+Error.prototype.toString.call(e)+"]"}function I(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),K(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=P(n)?_(e,u.value,null):_(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),O(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function E(e){return"boolean"==typeof e}function P(e){return null===e}function T(e){return"string"==typeof e}function O(e){return void 0===e}function x(e){return B(e)&&"[object RegExp]"===D(e)}function B(e){return"object"==typeof e&&null!==e}function L(e){return B(e)&&"[object Date]"===D(e)}function C(e){return B(e)&&("[object Error]"===D(e)||e instanceof Error)}function R(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function D(e){return Object.prototype.toString.call(e)}function F(e,t){if(!t||!B(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function U(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}S.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},S.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var W,z=Object.prototype.hasOwnProperty,j=Object.keys||function(e){var t=[];for(var n in e)z.call(e,n)&&t.push(n);return t},q=Array.prototype.slice;function V(){return void 0!==W?W:W="foo"===function(){}.name}function H(e){return Object.prototype.toString.call(e)}function Q(e){return!u.isBuffer(e)&&"function"==typeof w.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function G(e,t){e||ee(e,!0,t,"==",te)}var X=/\s*function\s+([^\(\s]*)\s*/;function Y(e){if(R(e)){if(V())return e.name;var t=e.toString().match(X);return t&&t[1]}}function Z(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return $(J(e.actual),128)+" "+e.operator+" "+$(J(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||ee;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=Y(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}}function $(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function J(e){if(V()||!R(e))return S(e);var t=Y(e);return"[Function"+(t?": "+t:"")+"]"}function ee(e,t,n,r,i){throw new Z({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function te(e,t){e||ee(e,!0,t,"==",te)}function ne(e,t,n,r){if(e===t)return!0;if(u.isBuffer(e)&&u.isBuffer(t))return 0===U(e,t);if(L(e)&&L(t))return e.getTime()===t.getTime();if(x(e)&&x(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(Q(e)&&Q(t)&&H(e)===H(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===U(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(u.isBuffer(e)!==u.isBuffer(t))return!1;var i=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(N(e)||N(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=re(e),o=re(t);if(i&&!o||!i&&o)return!1;if(i)return ne(e=q.call(e),t=q.call(t),n);var s,a,u=j(e),c=j(t);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!==c[a])return!1;for(a=u.length-1;a>=0;a--)if(!ne(e[s=u[a]],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function re(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function ie(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function oe(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&ee(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&i&&!n;if((!e&&C(i)&&o&&ie(i,n)||s)&&ee(i,n,"Got unwanted exception"+r),e&&i&&n&&!ie(i,n)||!e&&i)throw i}G.AssertionError=Z,v(Z,Error),G.fail=ee,G.ok=te,G.equal=function e(t,n,r){t!=n&&ee(t,n,r,"==",e)},G.notEqual=function e(t,n,r){t==n&&ee(t,n,r,"!=",e)},G.deepEqual=function e(t,n,r){ne(t,n,!1)||ee(t,n,r,"deepEqual",e)},G.deepStrictEqual=function e(t,n,r){ne(t,n,!0)||ee(t,n,r,"deepStrictEqual",e)},G.notDeepEqual=function e(t,n,r){ne(t,n,!1)&&ee(t,n,r,"notDeepEqual",e)},G.notDeepStrictEqual=function e(t,n,r){ne(t,n,!0)&&ee(t,n,r,"notDeepStrictEqual",e)},G.strictEqual=function e(t,n,r){t!==n&&ee(t,n,r,"===",e)},G.notStrictEqual=function e(t,n,r){t===n&&ee(t,n,r,"!==",e)},G.throws=function(e,t,n){oe(!0,e,t,n)},G.doesNotThrow=function(e,t,n){oe(!1,e,t,n)},G.ifError=function(e){if(e)throw e};var se={};class ae{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function ue(e,t){return t.property?e+"["+t.property+"]":e}se.Layout=ae,se.nameWithProperty=ue,se.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof ae))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};class ce extends ae{isCount(){throw new Error("ExternalLayout is abstract")}}class le extends ce{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class de extends ce{constructor(e,t,n){if(!(e instanceof ae))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof fe||this.layout instanceof pe}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class fe extends ae{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class pe extends ae{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}class he extends ae{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class me extends ae{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const ge=Math.pow(2,32);function ye(e){const t=Math.floor(e/ge);return{hi32:t,lo32:e-t*ge}}function be(e,t){return e*ge+t}class we extends ae{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return be(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class ve extends ae{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),be(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class Se extends ae{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return be(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class Ae extends ae{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),be(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=ye(e);return t.writeInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class ke extends ae{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatLE(e,n),4}}class _e extends ae{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatBE(e,n),4}}class Me extends ae{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleLE(e,n),8}}class Ie extends ae{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleBE(e,n),8}}class Ee extends ae{constructor(e,t,n){if(!(e instanceof ae))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof ce&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof ce)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0,r=this.count;if(r instanceof ce&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t){void 0===t&&(t=0);const n=[];let r=0,i=this.count;for(i instanceof ce&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n){void 0===n&&(n=0);const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof ce&&this.count.encode(e.length,t,n),i}}class Pe extends ae{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof ae),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class Te{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Oe extends Te{constructor(e,t){if(!(e instanceof ce&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class xe extends ae{constructor(e,t,n){const r=e instanceof fe||e instanceof pe;if(r)e=new Oe(new de(e));else if(e instanceof ce&&e.isCount())e=new Oe(e);else if(!(e instanceof Te))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof ae))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Be(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return u.Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class Be extends ae{constructor(e,t,n,r){if(!(e instanceof xe))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof ae))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function Le(e){return 0>e&&(e+=4294967296),e}class Ce extends ae{constructor(e,t,n){if(!(e instanceof fe||e instanceof pe))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=Le(e),this},this._packedGetValue=function(){return r}}decode(e,t){const n=this.makeDestinationObject();void 0===t&&(t=0);const r=this.word.decode(e,t);this._packedSetValue(r);for(const e of this.fields)void 0!==e.property&&(n[e.property]=e.decode(r));return n}encode(e,t,n){void 0===n&&(n=0);const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new Re(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new Ne(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class Re{constructor(e,t,n){if(!(e instanceof Ce))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=Le(this.valueMask<<this.start),this.property=n}decode(){return Le(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==Le(e&this.valueMask))throw new TypeError(ue("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=Le(e<<this.start);this.container._packedSetValue(Le(t&~this.wordMask)|n)}}class Ne extends Re{constructor(e,t){super(e,1,t)}decode(e,t){return!!Re.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),Re.prototype.encode.call(this,e)}}class De extends ae{constructor(e,t){if(!(e instanceof ce&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ce||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof ce&&(r=e.length),!u.Buffer.isBuffer(e)||r!==e.length)throw new TypeError(ue("Blob.encode",this)+" requires (length "+r+") Buffer as src");if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof ce&&this.length.encode(r,t,n),r}}class Fe extends ae{constructor(e){super(-1,e)}getSpan(e,t){if(!u.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);return e.slice(t,t+r-1).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new u.Buffer(e,"utf8"),i=r.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),t[n+i]=0,i+1}}class Ke extends ae{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!u.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+r).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new u.Buffer(e,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),i}}class Ue extends ae{constructor(e,t){super(0,t),this.value=e}decode(e,t,n){return this.value}encode(e,t,n){return 0}}se.ExternalLayout=ce,se.GreedyCount=le,se.OffsetLayout=de,se.UInt=fe,se.UIntBE=pe,se.Int=he,se.IntBE=me,se.Float=ke,se.FloatBE=_e,se.Double=Me,se.DoubleBE=Ie,se.Sequence=Ee,se.Structure=Pe,se.UnionDiscriminator=Te,se.UnionLayoutDiscriminator=Oe,se.Union=xe,se.VariantLayout=Be,se.BitStructure=Ce,se.BitField=Re,se.Boolean=Ne,se.Blob=De,se.CString=Fe,se.UTF8=Ke,se.Constant=Ue,se.greedy=(e,t)=>new le(e,t),se.offset=(e,t,n)=>new de(e,t,n);var We=se.u8=e=>new fe(1,e);se.u16=e=>new fe(2,e),se.u24=e=>new fe(3,e);var ze=se.u32=e=>new fe(4,e);se.u40=e=>new fe(5,e),se.u48=e=>new fe(6,e),se.nu64=e=>new we(e),se.u16be=e=>new pe(2,e),se.u24be=e=>new pe(3,e),se.u32be=e=>new pe(4,e),se.u40be=e=>new pe(5,e),se.u48be=e=>new pe(6,e),se.nu64be=e=>new ve(e),se.s8=e=>new he(1,e),se.s16=e=>new he(2,e),se.s24=e=>new he(3,e),se.s32=e=>new he(4,e),se.s40=e=>new he(5,e),se.s48=e=>new he(6,e),se.ns64=e=>new Se(e),se.s16be=e=>new me(2,e),se.s24be=e=>new me(3,e),se.s32be=e=>new me(4,e),se.s40be=e=>new me(5,e),se.s48be=e=>new me(6,e),se.ns64be=e=>new Ae(e),se.f32=e=>new ke(e),se.f32be=e=>new _e(e),se.f64=e=>new Me(e),se.f64be=e=>new Ie(e);var je=se.struct=(e,t,n)=>new Pe(e,t,n);se.bits=(e,t,n)=>new Ce(e,t,n),se.seq=(e,t,n)=>new Ee(e,t,n),se.union=(e,t,n)=>new xe(e,t,n),se.unionLayoutDiscriminator=(e,t)=>new Oe(e,t);var qe=se.blob=(e,t)=>new De(e,t);se.cstr=e=>new Fe(e),se.utf8=(e,t)=>new Ke(e,t),se.const=(e,t)=>new Ue(e,t);const Ve=(e="publicKey")=>qe(32,e),He=(e="uint64")=>qe(8,e);function Qe(e,t,n,...r){return(0,a.sendAndConfirmTransaction)(t,n,r,{skipPreflight:!1})}const Ge=new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Xe=new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Ye="Failed to find account",Ze="Invalid account owner";function $e(e){return u.Buffer.from(e.toBuffer())}class Je extends(s()){toBuffer(){const e=super.toArray().reverse(),t=u.Buffer.from(e);if(8===t.length)return t;G(t.length<8,"u64 too large");const n=u.Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){return G(8===e.length,`Invalid buffer length: ${e.length}`),new Je([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}function et(e){return"publicKey"in e}const tt={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},nt=new a.PublicKey("So11111111111111111111111111111111111111112"),rt=je([ze("mintAuthorityOption"),Ve("mintAuthority"),He("supply"),We("decimals"),We("isInitialized"),ze("freezeAuthorityOption"),Ve("freezeAuthority")]),it=je([Ve("mint"),Ve("owner"),He("amount"),ze("delegateOption"),Ve("delegate"),We("state"),ze("isNativeOption"),He("isNative"),He("delegatedAmount"),ze("closeAuthorityOption"),Ve("closeAuthority")]),ot=je([We("m"),We("n"),We("is_initialized"),Ve("signer1"),Ve("signer2"),Ve("signer3"),Ve("signer4"),Ve("signer5"),Ve("signer6"),Ve("signer7"),Ve("signer8"),Ve("signer9"),Ve("signer10"),Ve("signer11")]);class st{constructor(e,t,n,r){i(this,"connection",void 0),i(this,"publicKey",void 0),i(this,"programId",void 0),i(this,"associatedProgramId",void 0),i(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:n,payer:r,associatedProgramId:Xe})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(rt.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(it.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(ot.span)}static async createMint(e,t,n,r,i,o){const s=a.Keypair.generate(),u=new st(e,s.publicKey,o,t),c=await st.getMinBalanceRentForExemptMint(e),l=new a.Transaction;return l.add(a.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:s.publicKey,lamports:c,space:rt.span,programId:o})),l.add(st.createInitMintInstruction(o,s.publicKey,i,n,r)),await Qe(0,e,l,t,s),u}async createAccount(e){const t=await st.getMinBalanceRentForExemptAccount(this.connection),n=a.Keypair.generate(),r=new a.Transaction;r.add(a.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:t,space:it.span,programId:this.programId}));const i=this.publicKey;return r.add(st.createInitAccountInstruction(this.programId,i,n.publicKey,e)),await Qe(0,this.connection,r,this.payer,n),n.publicKey}async createAssociatedTokenAccount(e){const t=await st.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await Qe(0,this.connection,(new a.Transaction).add(st.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await st.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(n){if(n.message===Ye||n.message===Ze){try{await this.createAssociatedTokenAccountInternal(e,t)}catch(e){}return await this.getAccountInfo(t)}throw n}}static async createWrappedNativeAccount(e,t,n,r,i){const o=await st.getMinBalanceRentForExemptAccount(e),s=a.Keypair.generate(),u=new a.Transaction;return u.add(a.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:s.publicKey,lamports:o,space:it.span,programId:t})),u.add(a.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:s.publicKey,lamports:i})),u.add(st.createInitAccountInstruction(t,nt,s.publicKey,n)),await Qe(0,e,u,r,s),s.publicKey}async createMultisig(e,t){const n=a.Keypair.generate(),r=await st.getMinBalanceRentForExemptMultisig(this.connection),i=new a.Transaction;i.add(a.SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:r,space:ot.span,programId:this.programId}));let o=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.forEach((e=>o.push({pubkey:e,isSigner:!1,isWritable:!1})));const s=je([We("instruction"),We("m")]),c=u.Buffer.alloc(s.span);return s.encode({instruction:2,m:e},c),i.add({keys:o,programId:this.programId,data:c}),await Qe(0,this.connection,i,this.payer,n),n.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(null===e)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=rt.span)throw new Error("Invalid mint size");const t=u.Buffer.from(e.data),n=rt.decode(t);return 0===n.mintAuthorityOption?n.mintAuthority=null:n.mintAuthority=new a.PublicKey(n.mintAuthority),n.supply=Je.fromBuffer(n.supply),n.isInitialized=0!=n.isInitialized,0===n.freezeAuthorityOption?n.freezeAuthority=null:n.freezeAuthority=new a.PublicKey(n.freezeAuthority),n}async getAccountInfo(e,t){const n=await this.connection.getAccountInfo(e,t);if(null===n)throw new Error(Ye);if(!n.owner.equals(this.programId))throw new Error(Ze);if(n.data.length!=it.span)throw new Error("Invalid account size");const r=u.Buffer.from(n.data),i=it.decode(r);if(i.address=e,i.mint=new a.PublicKey(i.mint),i.owner=new a.PublicKey(i.owner),i.amount=Je.fromBuffer(i.amount),0===i.delegateOption?(i.delegate=null,i.delegatedAmount=new Je):(i.delegate=new a.PublicKey(i.delegate),i.delegatedAmount=Je.fromBuffer(i.delegatedAmount)),i.isInitialized=0!==i.state,i.isFrozen=2===i.state,1===i.isNativeOption?(i.rentExemptReserve=Je.fromBuffer(i.isNative),i.isNative=!0):(i.rentExemptReserve=null,i.isNative=!1),0===i.closeAuthorityOption?i.closeAuthority=null:i.closeAuthority=new a.PublicKey(i.closeAuthority),!i.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(i.mint)} !== ${JSON.stringify(this.publicKey)}`);return i}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(null===t)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=ot.span)throw new Error("Invalid multisig size");const n=u.Buffer.from(t.data),r=ot.decode(n);return r.signer1=new a.PublicKey(r.signer1),r.signer2=new a.PublicKey(r.signer2),r.signer3=new a.PublicKey(r.signer3),r.signer4=new a.PublicKey(r.signer4),r.signer5=new a.PublicKey(r.signer5),r.signer6=new a.PublicKey(r.signer6),r.signer7=new a.PublicKey(r.signer7),r.signer8=new a.PublicKey(r.signer8),r.signer9=new a.PublicKey(r.signer9),r.signer10=new a.PublicKey(r.signer10),r.signer11=new a.PublicKey(r.signer11),r}async transfer(e,t,n,r,i){let o,s;return et(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await Qe("Transfer",this.connection,(new a.Transaction).add(st.createTransferInstruction(this.programId,e,t,o,r,i)),this.payer,...s)}async approve(e,t,n,r,i){let o,s;et(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await Qe("Approve",this.connection,(new a.Transaction).add(st.createApproveInstruction(this.programId,e,t,o,r,i)),this.payer,...s)}async revoke(e,t,n){let r,i;et(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Qe("Revoke",this.connection,(new a.Transaction).add(st.createRevokeInstruction(this.programId,e,r,n)),this.payer,...i)}async setAuthority(e,t,n,r,i){let o,s;et(r)?(o=r.publicKey,s=[r]):(o=r,s=i),await Qe("SetAuthority",this.connection,(new a.Transaction).add(st.createSetAuthorityInstruction(this.programId,e,t,n,o,i)),this.payer,...s)}async mintTo(e,t,n,r){let i,o;et(t)?(i=t.publicKey,o=[t]):(i=t,o=n),await Qe("MintTo",this.connection,(new a.Transaction).add(st.createMintToInstruction(this.programId,this.publicKey,e,i,n,r)),this.payer,...o)}async burn(e,t,n,r){let i,o;et(t)?(i=t.publicKey,o=[t]):(i=t,o=n),await Qe("Burn",this.connection,(new a.Transaction).add(st.createBurnInstruction(this.programId,this.publicKey,e,i,n,r)),this.payer,...o)}async closeAccount(e,t,n,r){let i,o;et(n)?(i=n.publicKey,o=[n]):(i=n,o=r),await Qe("CloseAccount",this.connection,(new a.Transaction).add(st.createCloseAccountInstruction(this.programId,e,t,i,r)),this.payer,...o)}async freezeAccount(e,t,n){let r,i;et(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Qe("FreezeAccount",this.connection,(new a.Transaction).add(st.createFreezeAccountInstruction(this.programId,e,this.publicKey,r,n)),this.payer,...i)}async thawAccount(e,t,n){let r,i;et(t)?(r=t.publicKey,i=[t]):(r=t,i=n),await Qe("ThawAccount",this.connection,(new a.Transaction).add(st.createThawAccountInstruction(this.programId,e,this.publicKey,r,n)),this.payer,...i)}async transferChecked(e,t,n,r,i,o){let s,u;return et(n)?(s=n.publicKey,u=[n]):(s=n,u=r),await Qe("TransferChecked",this.connection,(new a.Transaction).add(st.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,s,r,i,o)),this.payer,...u)}async approveChecked(e,t,n,r,i,o){let s,u;et(n)?(s=n.publicKey,u=[n]):(s=n,u=r),await Qe("ApproveChecked",this.connection,(new a.Transaction).add(st.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,s,r,i,o)),this.payer,...u)}async mintToChecked(e,t,n,r,i){let o,s;et(t)?(o=t.publicKey,s=[t]):(o=t,s=n),await Qe("MintToChecked",this.connection,(new a.Transaction).add(st.createMintToCheckedInstruction(this.programId,this.publicKey,e,o,n,r,i)),this.payer,...s)}async burnChecked(e,t,n,r,i){let o,s;et(t)?(o=t.publicKey,s=[t]):(o=t,s=n),await Qe("BurnChecked",this.connection,(new a.Transaction).add(st.createBurnCheckedInstruction(this.programId,this.publicKey,e,o,n,r,i)),this.payer,...s)}async syncNative(e){await Qe(0,this.connection,(new a.Transaction).add(st.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,t,n,r,i){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const s=je([We("instruction"),We("decimals"),Ve("mintAuthority"),We("option"),Ve("freezeAuthority")]);let c=u.Buffer.alloc(1024);{const e=s.encode({instruction:0,decimals:n,mintAuthority:$e(r),option:null===i?0:1,freezeAuthority:$e(i||new a.PublicKey(0))},c);c=c.slice(0,e)}return new a.TransactionInstruction({keys:o,programId:e,data:c})}static createInitAccountInstruction(e,t,n,r){const i=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],o=je([We("instruction")]),s=u.Buffer.alloc(o.span);return o.encode({instruction:1},s),new a.TransactionInstruction({keys:i,programId:e,data:s})}static createTransferInstruction(e,t,n,r,i,o){const s=je([We("instruction"),He("amount")]),c=u.Buffer.alloc(s.span);s.encode({instruction:3,amount:new Je(o).toBuffer()},c);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:c})}static createApproveInstruction(e,t,n,r,i,o){const s=je([We("instruction"),He("amount")]),c=u.Buffer.alloc(s.span);s.encode({instruction:4,amount:new Je(o).toBuffer()},c);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:c})}static createRevokeInstruction(e,t,n,r){const i=je([We("instruction")]),o=u.Buffer.alloc(i.span);i.encode({instruction:5},o);let s=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===r.length?s.push({pubkey:n,isSigner:!0,isWritable:!1}):(s.push({pubkey:n,isSigner:!1,isWritable:!1}),r.forEach((e=>s.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:s,programId:e,data:o})}static createSetAuthorityInstruction(e,t,n,r,i,o){const s=je([We("instruction"),We("authorityType"),We("option"),Ve("newAuthority")]);let c=u.Buffer.alloc(1024);{const e=s.encode({instruction:6,authorityType:tt[r],option:null===n?0:1,newAuthority:$e(n||new a.PublicKey(0))},c);c=c.slice(0,e)}let l=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===o.length?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:c})}static createMintToInstruction(e,t,n,r,i,o){const s=je([We("instruction"),He("amount")]),c=u.Buffer.alloc(s.span);s.encode({instruction:7,amount:new Je(o).toBuffer()},c);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:c})}static createBurnInstruction(e,t,n,r,i,o){const s=je([We("instruction"),He("amount")]),c=u.Buffer.alloc(s.span);s.encode({instruction:8,amount:new Je(o).toBuffer()},c);let l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?l.push({pubkey:r,isSigner:!0,isWritable:!1}):(l.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:l,programId:e,data:c})}static createCloseAccountInstruction(e,t,n,r,i){const o=je([We("instruction")]),s=u.Buffer.alloc(o.span);o.encode({instruction:9},s);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:r,isSigner:!0,isWritable:!1}):(c.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:c,programId:e,data:s})}static createFreezeAccountInstruction(e,t,n,r,i){const o=je([We("instruction")]),s=u.Buffer.alloc(o.span);o.encode({instruction:10},s);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?c.push({pubkey:r,isSigner:!0,isWritable:!1}):(c.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:c,programId:e,data:s})}static createThawAccountInstruction(e,t,n,r,i){const o=je([We("instruction")]),s=u.Buffer.alloc(o.span);o.encode({instruction:11},s);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===i.length?c.push({pubkey:r,isSigner:!0,isWritable:!1}):(c.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:c,programId:e,data:s})}static createTransferCheckedInstruction(e,t,n,r,i,o,s,c){const l=je([We("instruction"),He("amount"),We("decimals")]),d=u.Buffer.alloc(l.span);l.encode({instruction:12,amount:new Je(s).toBuffer(),decimals:c},d);let f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===o.length?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>f.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:f,programId:e,data:d})}static createApproveCheckedInstruction(e,t,n,r,i,o,s,c){const l=je([We("instruction"),He("amount"),We("decimals")]),d=u.Buffer.alloc(l.span);l.encode({instruction:13,amount:new Je(s).toBuffer(),decimals:c},d);let f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===o.length?f.push({pubkey:i,isSigner:!0,isWritable:!1}):(f.push({pubkey:i,isSigner:!1,isWritable:!1}),o.forEach((e=>f.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:f,programId:e,data:d})}static createMintToCheckedInstruction(e,t,n,r,i,o,s){const c=je([We("instruction"),He("amount"),We("decimals")]),l=u.Buffer.alloc(c.span);c.encode({instruction:14,amount:new Je(o).toBuffer(),decimals:s},l);let d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===i.length?d.push({pubkey:r,isSigner:!0,isWritable:!1}):(d.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>d.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:d,programId:e,data:l})}static createBurnCheckedInstruction(e,t,n,r,i,o,s){const c=je([We("instruction"),He("amount"),We("decimals")]),l=u.Buffer.alloc(c.span);c.encode({instruction:15,amount:new Je(o).toBuffer(),decimals:s},l);let d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?d.push({pubkey:r,isSigner:!0,isWritable:!1}):(d.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach((e=>d.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new a.TransactionInstruction({keys:d,programId:e,data:l})}static createSyncNativeInstruction(e,t){const n=je([We("instruction")]),r=u.Buffer.alloc(n.span);n.encode({instruction:17},r);let i=[{pubkey:t,isSigner:!1,isWritable:!0}];return new a.TransactionInstruction({keys:i,programId:e,data:r})}static async getAssociatedTokenAddress(e,t,n,r,i=!1){if(!i&&!a.PublicKey.isOnCurve(r.toBuffer()))throw new Error(`Owner cannot sign: ${r.toString()}`);return(await a.PublicKey.findProgramAddress([r.toBuffer(),t.toBuffer(),n.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,n,r,i,o){const s=u.Buffer.alloc(0);let c=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:c,programId:e,data:s})}}},9990:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Account:()=>tr,AddressLookupTableAccount:()=>ai,AddressLookupTableInstruction:()=>qo,AddressLookupTableProgram:()=>Vo,Authorized:()=>ts,BLOCKHASH_CACHE_TIMEOUT_MS:()=>pi,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>nr,BPF_LOADER_PROGRAM_ID:()=>Xr,BpfLoader:()=>Yr,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Qo,ComputeBudgetInstruction:()=>Ho,ComputeBudgetProgram:()=>Go,Connection:()=>Wo,Ed25519Program:()=>Yo,Enum:()=>Xn,EpochSchedule:()=>ni,FeeCalculatorLayout:()=>Kr,Keypair:()=>zo,LAMPORTS_PER_SOL:()=>_s,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>jo,Loader:()=>Gr,Lockup:()=>ns,MAX_SEED_LENGTH:()=>Zn,Message:()=>yr,MessageAccountKeys:()=>ur,MessageV0:()=>br,NONCE_ACCOUNT_LENGTH:()=>Wr,NonceAccount:()=>zr,PACKET_DATA_SIZE:()=>rr,PUBLIC_KEY_LENGTH:()=>$n,PublicKey:()=>er,SIGNATURE_LENGTH_IN_BYTES:()=>or,SOLANA_SCHEMA:()=>Yn,STAKE_CONFIG_ID:()=>es,STAKE_INSTRUCTION_LAYOUTS:()=>is,SYSTEM_INSTRUCTION_LAYOUTS:()=>Vr,SYSVAR_CLOCK_PUBKEY:()=>Ir,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Er,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Pr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Tr,SYSVAR_RENT_PUBKEY:()=>Or,SYSVAR_REWARDS_PUBKEY:()=>xr,SYSVAR_SLOT_HASHES_PUBKEY:()=>Br,SYSVAR_SLOT_HISTORY_PUBKEY:()=>Lr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>Cr,Secp256k1Program:()=>Jo,SendTransactionError:()=>ri,SolanaJSONRPCError:()=>oi,SolanaJSONRPCErrorCode:()=>ii,StakeAuthorizationLayout:()=>os,StakeInstruction:()=>rs,StakeProgram:()=>ss,Struct:()=>Gn,SystemInstruction:()=>qr,SystemProgram:()=>Hr,Transaction:()=>kr,TransactionExpiredBlockheightExceededError:()=>sr,TransactionExpiredTimeoutError:()=>ar,TransactionInstruction:()=>Ar,TransactionMessage:()=>_r,TransactionStatus:()=>vr,VALIDATOR_INFO_KEY:()=>fs,VERSION_PREFIX_MASK:()=>ir,VOTE_PROGRAM_ID:()=>ms,ValidatorInfo:()=>hs,VersionedMessage:()=>wr,VersionedTransaction:()=>Mr,VoteAccount:()=>ys,VoteAuthorizationLayout:()=>ls,VoteInit:()=>as,VoteInstruction:()=>us,VoteProgram:()=>ds,clusterApiUrl:()=>As,sendAndConfirmRawTransaction:()=>ks,sendAndConfirmTransaction:()=>Rr});var r=n(5858);function i(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function o(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const s={number:i,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:o,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");i(e.outputLen),i(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},a=s,u=("object"==typeof self&&"crypto"in self&&self.crypto,e=>new DataView(e.buffer,e.byteOffset,e.byteLength)),c=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function l(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));class d{clone(){return this._cloneInto()}}function f(e){const t=t=>e().update(l(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class p extends d{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=u(this.buffer)}update(e){a.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=l(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=u(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){a.exists(this),a.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),u=r?4:0,c=r?0:4;e.setUint32(t+u,s,r),e.setUint32(t+c,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=u(e);this.get().forEach(((e,t)=>s.setUint32(4*t,e,i)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const h=BigInt(2**32-1),m=BigInt(32);function g(e,t=!1){return t?{h:Number(e&h),l:Number(e>>m&h)}:{h:0|Number(e>>m&h),l:0|Number(e&h)}}const y=function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=g(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]},b=(e,t,n)=>e>>>n,w=(e,t,n)=>e<<32-n|t>>>n,v=(e,t,n)=>e>>>n|t<<32-n,S=(e,t,n)=>e<<32-n|t>>>n,A=(e,t,n)=>e<<64-n|t>>>n-32,k=(e,t,n)=>e>>>n-32|t<<64-n,_=(e,t,n)=>e<<n|t>>>32-n,M=(e,t,n)=>t<<n|e>>>32-n,I=(e,t,n)=>t<<n-32|e>>>64-n,E=(e,t,n)=>e<<n-32|t>>>64-n,P=function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},T=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),O=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,x=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),B=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,L=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,C=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),[R,N]=y(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),D=new Uint32Array(80),F=new Uint32Array(80);class K extends p{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:l,Fl:d,Gh:f,Gl:p,Hh:h,Hl:m}=this;return[e,t,n,r,i,o,s,a,u,c,l,d,f,p,h,m]}set(e,t,n,r,i,o,s,a,u,c,l,d,f,p,h,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)D[n]=e.getUint32(t),F[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|D[e-15],n=0|F[e-15],r=v(t,n,1)^v(t,n,8)^b(t,n,7),i=S(t,n,1)^S(t,n,8)^w(t,n,7),o=0|D[e-2],s=0|F[e-2],a=v(o,s,19)^A(o,s,61)^b(o,s,6),u=S(o,s,19)^k(o,s,61)^w(o,s,6),c=x(i,u,F[e-7],F[e-16]),l=B(c,r,a,D[e-7],D[e-16]);D[e]=0|l,F[e]=0|c}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:c,Eh:l,El:d,Fh:f,Fl:p,Gh:h,Gl:m,Hh:g,Hl:y}=this;for(let e=0;e<80;e++){const t=v(l,d,14)^v(l,d,18)^A(l,d,41),b=S(l,d,14)^S(l,d,18)^k(l,d,41),w=l&f^~l&h,_=C(y,b,d&p^~d&m,N[e],F[e]),M=L(_,g,t,w,R[e],D[e]),I=0|_,E=v(n,r,28)^A(n,r,34)^A(n,r,39),x=S(n,r,28)^k(n,r,34)^k(n,r,39),B=n&i^n&s^i&s,K=r&o^r&a^o&a;g=0|h,y=0|m,h=0|f,m=0|p,f=0|l,p=0|d,({h:l,l:d}=P(0|u,0|c,0|M,0|I)),u=0|s,c=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const U=T(I,x,K);n=O(U,M,E,B),r=0|U}({h:n,l:r}=P(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=P(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=P(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:c}=P(0|this.Dh,0|this.Dl,0|u,0|c)),({h:l,l:d}=P(0|this.Eh,0|this.El,0|l,0|d)),({h:f,l:p}=P(0|this.Fh,0|this.Fl,0|f,0|p)),({h,l:m}=P(0|this.Gh,0|this.Gl,0|h,0|m)),({h:g,l:y}=P(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,i,o,s,a,u,c,l,d,f,p,h,m,g,y)}roundClean(){D.fill(0),F.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class U extends K{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class W extends K{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const z=f((()=>new K));f((()=>new U)),f((()=>new W));var j=n(9572),q=n.t(j,2);const V=BigInt(0),H=BigInt(1),Q=BigInt(2),G=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),X=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:G,n:G,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),Y=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Z=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),$=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),J=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ee=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),te=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ne{constructor(e,t,n,r){this.x=e,this.y=t,this.z=n,this.t=r}static fromAffine(e){if(!(e instanceof ue))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(ue.ZERO)?ne.ZERO:new ne(e.x,e.y,H,ve(e.x*e.y))}static toAffineBatch(e){const t=function(e,t=X.P){const n=new Array(e.length),r=Se(e.reduce(((e,r,i)=>r===V?e:(n[i]=e,ve(e*r,t))),H),t);return e.reduceRight(((e,r,i)=>r===V?e:(n[i]=ve(e*n[i],t),ve(e*r,t))),r),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){re(e);const{x:t,y:n,z:r}=this,{x:i,y:o,z:s}=e,a=ve(t*s),u=ve(i*r),c=ve(n*s),l=ve(o*r);return a===u&&c===l}negate(){return new ne(ve(-this.x),this.y,this.z,ve(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:r}=X,i=ve(e*e),o=ve(t*t),s=ve(Q*ve(n*n)),a=ve(r*i),u=e+t,c=ve(ve(u*u)-i-o),l=a+o,d=l-s,f=a-o,p=ve(c*d),h=ve(l*f),m=ve(c*f),g=ve(d*l);return new ne(p,h,g,m)}add(e){re(e);const{x:t,y:n,z:r,t:i}=this,{x:o,y:s,z:a,t:u}=e,c=ve((n-t)*(s+o)),l=ve((n+t)*(s-o)),d=ve(l-c);if(d===V)return this.double();const f=ve(r*Q*u),p=ve(i*Q*a),h=p+f,m=l+c,g=p-f,y=ve(h*d),b=ve(m*g),w=ve(h*g),v=ve(d*m);return new ne(y,b,v,w)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let r=this,i=r;for(let o=0;o<t;o++){i=r,n.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(e,t){!t&&this.equals(ne.BASE)&&(t=ue.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&ae.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=ne.normalizeZ(r),ae.set(t,r)));let i=ne.ZERO,o=ne.ZERO;const s=1+256/n,a=2**(n-1),u=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let t=0;t<s;t++){const n=t*a;let s=Number(e&u);if(e>>=l,s>a&&(s-=c,e+=H),0===s){let e=r[n];t%2&&(e=e.negate()),o=o.add(e)}else{let e=r[n+Math.abs(s)-1];s<0&&(e=e.negate()),i=i.add(e)}}return ne.normalizeZ([i,o])[0]}multiply(e,t){return this.wNAF(Ee(e,X.l),t)}multiplyUnsafe(e){let t=Ee(e,X.l,!1);const n=ne.BASE,r=ne.ZERO;if(t===V)return r;if(this.equals(r)||t===H)return this;if(this.equals(n))return this.wNAF(t);let i=r,o=this;for(;t>V;)t&H&&(i=i.add(o)),o=o.double(),t>>=H;return i}isSmallOrder(){return this.multiplyUnsafe(X.h).equals(ne.ZERO)}isTorsionFree(){return this.multiplyUnsafe(X.l).equals(ne.ZERO)}toAffine(e=Se(this.z)){const{x:t,y:n,z:r}=this,i=ve(t*e),o=ve(n*e);if(ve(r*e)!==H)throw new Error("invZ was invalid");return new ue(i,o)}fromRistrettoBytes(){oe()}toRistrettoBytes(){oe()}fromRistrettoHash(){oe()}}function re(e){if(!(e instanceof ne))throw new TypeError("ExtendedPoint expected")}function ie(e){if(!(e instanceof se))throw new TypeError("RistrettoPoint expected")}function oe(){throw new Error("Legacy method: switch to RistrettoPoint")}ne.BASE=new ne(X.Gx,X.Gy,H,ve(X.Gx*X.Gy)),ne.ZERO=new ne(V,H,H,V);class se{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=X,n=ve(Z*e*e),r=ve((n+H)*ee);let i=BigInt(-1);const o=ve((i-t*n)*ve(n+t));let{isValid:s,value:a}=ke(r,o),u=ve(a*e);ge(u)||(u=ve(-u)),s||(a=u),s||(i=n);const c=ve(i*(n-H)*te-o),l=a*a,d=ve((a+a)*o),f=ve(c*$),p=ve(H-l),h=ve(H+l);return new ne(ve(d*h),ve(p*f),ve(f*h),ve(d*p))}static hashToCurve(e){const t=we((e=Ie(e,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(t),r=we(e.slice(32,64)),i=this.calcElligatorRistrettoMap(r);return new se(n.add(i))}static fromHex(e){e=Ie(e,32);const{a:t,d:n}=X,r="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=we(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(me(i),e)||ge(i))throw new Error(r);const o=ve(i*i),s=ve(H+t*o),a=ve(H-t*o),u=ve(s*s),c=ve(a*a),l=ve(t*n*u-c),{isValid:d,value:f}=_e(ve(l*c)),p=ve(f*a),h=ve(f*p*l);let m=ve((i+i)*p);ge(m)&&(m=ve(-m));const g=ve(s*h),y=ve(m*g);if(!d||ge(y)||g===V)throw new Error(r);return new se(new ne(m,g,H,y))}toRawBytes(){let{x:e,y:t,z:n,t:r}=this.ep;const i=ve(ve(n+t)*ve(n-t)),o=ve(e*t),s=ve(o*o),{value:a}=_e(ve(i*s)),u=ve(a*i),c=ve(a*o),l=ve(u*c*r);let d;if(ge(r*l)){let n=ve(t*Z),r=ve(e*Z);e=n,t=r,d=ve(u*J)}else d=c;ge(e*l)&&(t=ve(-t));let f=ve((n-t)*d);return ge(f)&&(f=ve(-f)),me(f)}toHex(){return fe(this.toRawBytes())}toString(){return this.toHex()}equals(e){ie(e);const t=this.ep,n=e.ep,r=ve(t.x*n.y)===ve(t.y*n.x),i=ve(t.y*n.y)===ve(t.x*n.x);return r||i}add(e){return ie(e),new se(this.ep.add(e.ep))}subtract(e){return ie(e),new se(this.ep.subtract(e.ep))}multiply(e){return new se(this.ep.multiply(e))}multiplyUnsafe(e){return new se(this.ep.multiplyUnsafe(e))}}se.BASE=new se(ne.BASE),se.ZERO=new se(ne.ZERO);const ae=new WeakMap;class ue{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,ae.delete(this)}static fromHex(e,t=!0){const{d:n,P:r}=X,i=(e=Ie(e,32)).slice();i[31]=-129&e[31];const o=ye(i);if(t&&o>=r)throw new Error("Expected 0 < hex < P");if(!t&&o>=Y)throw new Error("Expected 0 < hex < 2**256");const s=ve(o*o),a=ve(s-H),u=ve(n*s+H);let{isValid:c,value:l}=ke(a,u);if(!c)throw new Error("Point.fromHex: invalid y coordinate");const d=(l&H)===H;return 0!=(128&e[31])!==d&&(l=ve(-l)),new ue(l,o)}static async fromPrivateKey(e){return(await Be(e)).point}toRawBytes(){const e=me(this.y);return e[31]|=this.x&H?128:0,e}toHex(){return fe(this.toRawBytes())}toX25519(){const{y:e}=this;return me(ve((H+e)*Se(H-e)))}isTorsionFree(){return ne.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ue(ve(-this.x),this.y)}add(e){return ne.fromAffine(this).add(ne.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ne.fromAffine(this).multiply(e,this).toAffine()}}ue.BASE=new ue(X.Gx,X.Gy),ue.ZERO=new ue(V,H);class ce{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=Ie(e,64),n=ue.fromHex(t.slice(0,32),!1),r=ye(t.slice(32,64));return new ce(n,r)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof ue))throw new Error("Expected Point instance");return Ee(t,X.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(me(this.s),32),e}toHex(){return fe(this.toRawBytes())}}function le(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const de=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function fe(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=de[e[n]];return t}function pe(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function he(e){return pe(e.toString(16).padStart(64,"0"))}function me(e){return he(e).reverse()}function ge(e){return(ve(e)&H)===H}function ye(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+fe(Uint8Array.from(e).reverse()))}const be=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function we(e){return ve(ye(e)&be)}function ve(e,t=X.P){const n=e%t;return n>=V?n:t+n}function Se(e,t=X.P){if(e===V||t<=V)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ve(e,t),r=t,i=V,o=H,s=H,a=V;for(;n!==V;){const e=r/n,t=r%n,u=i-s*e,c=o-a*e;r=n,n=t,i=s,o=a,s=u,a=c}if(r!==H)throw new Error("invert: does not exist");return ve(i,t)}function Ae(e,t){const{P:n}=X;let r=e;for(;t-- >V;)r*=r,r%=n;return r}function ke(e,t){const n=ve(t*t*t),r=ve(n*n*t);let i=ve(e*n*function(e){const{P:t}=X,n=BigInt(5),r=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),a=e*e%t*e%t,u=Ae(a,Q)*a%t,c=Ae(u,H)*e%t,l=Ae(c,n)*c%t,d=Ae(l,r)*l%t,f=Ae(d,i)*d%t,p=Ae(f,o)*f%t,h=Ae(p,s)*p%t,m=Ae(h,s)*p%t,g=Ae(m,r)*l%t;return{pow_p_5_8:Ae(g,Q)*e%t,b2:a}}(e*r).pow_p_5_8);const o=ve(t*i*i),s=i,a=ve(i*Z),u=o===e,c=o===ve(-e),l=o===ve(-e*Z);return u&&(i=s),(c||l)&&(i=a),ge(i)&&(i=ve(-i)),{isValid:u||c,value:i}}function _e(e){return ke(H,e)}function Me(e){return ve(ye(e),X.l)}function Ie(e,t){const n=e instanceof Uint8Array?Uint8Array.from(e):pe(e);if("number"==typeof t&&n.length!==t)throw new Error(`Expected ${t} bytes`);return n}function Ee(e,t,n=!0){if(!t)throw new TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t)if(n){if(V<e)return e}else if(V<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Pe(e){if(32!==(e="bigint"==typeof e||"number"==typeof e?he(Ee(e,Y)):Ie(e)).length)throw new Error("Expected 32 bytes");return e}function Te(e){const t=function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}(e.slice(0,32)),n=e.slice(32,64),r=Me(t),i=ue.BASE.multiply(r),o=i.toRawBytes();return{head:t,prefix:n,scalar:r,point:i,pointBytes:o}}let Oe;function xe(...e){if("function"!=typeof Oe)throw new Error("utils.sha512Sync must be set to use sync methods");return Oe(...e)}async function Be(e){return Te(await Fe.sha512(Pe(e)))}function Le(e){return Te(xe(Pe(e)))}const Ce=function(e){return Le(e).pointBytes},Re=function(e,t){e=Ie(e);const{prefix:n,scalar:r,pointBytes:i}=Le(t),o=Me(xe(n,e)),s=ue.BASE.multiply(o),a=ve(o+Me(xe(s.toRawBytes(),i,e))*r,X.l);return new ce(s,a).toRawBytes()},Ne=function(e,t,n){const{r,SB:i,msg:o,pub:s}=function(e,t,n){t=Ie(t),n instanceof ue||(n=ue.fromHex(n,!1));const{r,s:i}=e instanceof ce?e.assertValidity():ce.fromHex(e);return{r,s:i,SB:ne.BASE.multiplyUnsafe(i),pub:n,msg:t}}(e,t,n),a=xe(r.toRawBytes(),s.toRawBytes(),o);return function(e,t,n,r){const i=Me(r),o=ne.fromAffine(e).multiplyUnsafe(i);return ne.fromAffine(t).add(o).subtract(n).multiplyUnsafe(X.h).equals(ne.ZERO)}(s,r,i,a)};ue.BASE._setWindowSize(8);const De={node:q,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Fe={bytesToHex:fe,hexToBytes:pe,concatBytes:le,getExtendedPublicKey:Be,mod:ve,invert:Se,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if((e=Ie(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return ve(ye(e),X.l-H)+H},randomBytes:(e=32)=>{if(De.web)return De.web.getRandomValues(new Uint8Array(e));if(De.node){const{randomBytes:t}=De.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Fe.randomBytes(32),sha512:async(...e)=>{const t=le(...e);if(De.web){const e=await De.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}if(De.node)return Uint8Array.from(De.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=ue.BASE){const n=t.equals(ue.BASE)?t:new ue(t.x,t.y);return n._setWindowSize(e),n.multiply(Q),n},sha512Sync:void 0};Object.defineProperties(Fe,{sha512Sync:{configurable:!1,get:()=>Oe,set(e){Oe||(Oe=e)}}});var Ke=n(9098),Ue=n.n(Ke),We=n(1511),ze=n.n(We);const je=(e,t,n)=>e&t^e&n^t&n,qe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ve=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),He=new Uint32Array(64);class Qe extends p{constructor(){super(64,32,8,!1),this.A=0|Ve[0],this.B=0|Ve[1],this.C=0|Ve[2],this.D=0|Ve[3],this.E=0|Ve[4],this.F=0|Ve[5],this.G=0|Ve[6],this.H=0|Ve[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)He[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=He[e-15],n=He[e-2],r=c(t,7)^c(t,18)^t>>>3,i=c(n,17)^c(n,19)^n>>>10;He[e]=i+He[e-7]+r+He[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:u,H:l}=this;for(let e=0;e<64;e++){const t=l+(c(s,6)^c(s,11)^c(s,25))+((d=s)&a^~d&u)+qe[e]+He[e]|0,f=(c(n,2)^c(n,13)^c(n,22))+je(n,r,i)|0;l=u,u=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+f|0}var d;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,r,i,o,s,a,u,l)}roundClean(){He.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ge=f((()=>new Qe));var Xe=n(8797),Ye=n(4380),Ze=n(3477);class $e extends TypeError{constructor(e,t){let n;const{message:r,...i}=e,{path:o}=e;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]}}}function Je(e){return"object"==typeof e&&null!=e}function et(e){return"string"==typeof e?JSON.stringify(e):""+e}function tt(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:u="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+et(r)+"`"}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*nt(e,t,n,r){var i;Je(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=tt(i,t,n,r);e&&(yield e)}}function*rt(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&Je(t.schema)&&Je(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let u=!0;for(const n of t.validator(e,a))u=!1,yield[n,void 0];for(let[n,c,l]of t.entries(e,a)){const t=rt(c,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,c],coerce:o,mask:s});for(const r of t)r[0]?(u=!1,yield[r[0],void 0]):o&&(c=r[1],void 0===n?e=c:e instanceof Map?e.set(n,c):e instanceof Set?e.add(c):Je(e)&&(e[n]=c))}if(u)for(const n of t.refiner(e,a))u=!1,yield[n,void 0];u&&(yield[void 0,e])}class it{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>nt(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>nt(i(e,t),t,this,e):()=>[]}assert(e){return ot(e,this)}create(e){return st(e,this)}is(e){return at(e,this)}mask(e){return function(e,t){const n=ut(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t={}){return ut(e,this,t)}}function ot(e,t){const n=ut(e,t);if(n[0])throw n[0]}function st(e,t){const n=ut(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function at(e,t){return!ut(e,t)[0]}function ut(e,t,n={}){const r=rt(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);return i[0]?[new $e(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]:[void 0,i[1]]}function ct(e,t){return new it({type:e,schema:null,validator:t})}function lt(e){return new it({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+et(e)})}function dt(){return ct("boolean",(e=>"boolean"==typeof e))}function ft(e){return ct("instance",(t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+et(t)))}function pt(e){const t=et(e),n=typeof e;return new it({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `"+t+"`, but received: "+et(n)})}function ht(e){return new it({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function mt(){return ct("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+et(e)))}function gt(e){return new it({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function yt(e,t){return new it({type:"record",schema:null,*entries(n){if(Je(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>Je(e)||"Expected an object, but received: "+et(e)})}function bt(){return ct("string",(e=>"string"==typeof e||"Expected a string, but received: "+et(e)))}function wt(e){const t=ct("never",(()=>!1));return new it({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||"Expected an array, but received: "+et(e)})}function vt(e){const t=Object.keys(e);return new it({type:"type",schema:e,*entries(n){if(Je(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Je(e)||"Expected an object, but received: "+et(e)})}function St(e){const t=e.map((e=>e.type)).join(" | ");return new it({type:"union",schema:null,validator(n,r){const i=[];for(const t of e){const[...e]=rt(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+et(n),...i]}})}function At(){return ct("unknown",(()=>!0))}function kt(e,t,n){return new it({...e,coercer:(r,i)=>at(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var _t=n(7969),Mt=n(7167),It=n.n(Mt);const[Et,Pt,Tt]=[[],[],[]],Ot=BigInt(0),xt=BigInt(1),Bt=BigInt(2),Lt=BigInt(7),Ct=BigInt(256),Rt=BigInt(113);for(let e=0,t=xt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Et.push(2*(5*r+n)),Pt.push((e+1)*(e+2)/2%64);let i=Ot;for(let e=0;e<7;e++)t=(t<<xt^(t>>Lt)*Rt)%Ct,t&Bt&&(i^=xt<<(xt<<BigInt(e))-xt);Tt.push(i)}const[Nt,Dt]=y(Tt,!0),Ft=(e,t,n)=>n>32?I(e,t,n):_(e,t,n),Kt=(e,t,n)=>n>32?E(e,t,n):M(e,t,n);class Ut extends d{constructor(e,t,n,r=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,a.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,o=n[i],s=n[i+1],a=Ft(o,s,1)^n[r],u=Kt(o,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=u}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Pt[n],o=Ft(t,i,r),s=Kt(t,i,r),a=Et[n];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=Nt[r],e[1]^=Dt[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){a.exists(this);const{blockLen:t,state:n}=this,r=(e=l(e)).length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){a.exists(this,!1),a.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return a.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(a.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new Ut(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Wt=(e,t,n)=>f((()=>new Ut(t,e,n))),zt=(Wt(6,144,28),Wt(6,136,32),Wt(6,104,48),Wt(6,72,64),Wt(1,144,28),Wt(1,136,32)),jt=(Wt(1,104,48),Wt(1,72,64),(e,t,n)=>function(e){const t=(t,n)=>e(n).update(l(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(((r={})=>new Ut(t,e,void 0===r.dkLen?n:r.dkLen,!0))));jt(31,168,16),jt(31,136,32);class qt extends d{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,a.hash(e);const n=l(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return a.exists(this),this.iHash.update(e),this}digestInto(e){a.exists(this),a.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vt=(e,t,n)=>new qt(e,t).update(n).digest();Vt.create=(e,t)=>new qt(e,t);var Ht=n(4490),Qt=n.t(Ht,2);const Gt=BigInt(0),Xt=BigInt(1),Yt=BigInt(2),Zt=BigInt(3),$t=BigInt(8),Jt=Object.freeze({a:Gt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Xt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function en(e){const{a:t,b:n}=Jt,r=An(e*e),i=An(r*e);return An(i+t*e+n)}const tn=Jt.a===Gt;class nn extends Error{constructor(e){super(e)}}class rn{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof sn))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new rn(e.x,e.y,Xt)}static toAffineBatch(e){const t=function(e,t=Jt.P){const n=new Array(e.length),r=_n(e.reduce(((e,r,i)=>r===Gt?e:(n[i]=e,An(e*r,t))),Xt),t);return e.reduceRight(((e,r,i)=>r===Gt?e:(n[i]=An(e*n[i],t),An(e*r,t))),r),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return rn.toAffineBatch(e).map(rn.fromAffine)}equals(e){if(!(e instanceof rn))throw new TypeError("JacobianPoint expected");const{x:t,y:n,z:r}=this,{x:i,y:o,z:s}=e,a=An(r*r),u=An(s*s),c=An(t*u),l=An(i*a),d=An(An(n*s)*u),f=An(An(o*r)*a);return c===l&&d===f}negate(){return new rn(this.x,An(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,r=An(e*e),i=An(t*t),o=An(i*i),s=e+i,a=An(Yt*(An(s*s)-r-o)),u=An(Zt*r),c=An(u*u),l=An(c-Yt*a),d=An(u*(a-l)-$t*o),f=An(Yt*t*n);return new rn(l,d,f)}add(e){if(!(e instanceof rn))throw new TypeError("JacobianPoint expected");const{x:t,y:n,z:r}=this,{x:i,y:o,z:s}=e;if(i===Gt||o===Gt)return this;if(t===Gt||n===Gt)return e;const a=An(r*r),u=An(s*s),c=An(t*u),l=An(i*a),d=An(An(n*s)*u),f=An(An(o*r)*a),p=An(l-c),h=An(f-d);if(p===Gt)return h===Gt?this.double():rn.ZERO;const m=An(p*p),g=An(p*m),y=An(c*m),b=An(h*h-g-Yt*y),w=An(h*(y-b)-d*g),v=An(r*s*p);return new rn(b,w,v)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=rn.ZERO;if("bigint"==typeof e&&e===Gt)return t;let n=Sn(e);if(n===Xt)return this;if(!tn){let e=t,r=this;for(;n>Gt;)n&Xt&&(e=e.add(r)),r=r.double(),n>>=Xt;return e}let{k1neg:r,k1:i,k2neg:o,k2:s}=En(n),a=t,u=t,c=this;for(;i>Gt||s>Gt;)i&Xt&&(a=a.add(c)),s&Xt&&(u=u.add(c)),c=c.double(),i>>=Xt,s>>=Xt;return r&&(a=a.negate()),o&&(u=u.negate()),u=new rn(An(u.x*Jt.beta),u.y,u.z),a.add(u)}precomputeWindow(e){const t=tn?128/e+1:256/e+1,n=[];let r=this,i=r;for(let o=0;o<t;o++){i=r,n.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(e,t){!t&&this.equals(rn.BASE)&&(t=sn.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&on.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=rn.normalizeZ(r),on.set(t,r)));let i=rn.ZERO,o=rn.ZERO;const s=1+(tn?128/n:256/n),a=2**(n-1),u=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let t=0;t<s;t++){const n=t*a;let s=Number(e&u);if(e>>=l,s>a&&(s-=c,e+=Xt),0===s){let e=r[n];t%2&&(e=e.negate()),o=o.add(e)}else{let e=r[n+Math.abs(s)-1];s<0&&(e=e.negate()),i=i.add(e)}}return{p:i,f:o}}multiply(e,t){let n,r,i=Sn(e);if(tn){const{k1neg:e,k1:o,k2neg:s,k2:a}=En(i);let{p:u,f:c}=this.wNAF(o,t),{p:l,f:d}=this.wNAF(a,t);e&&(u=u.negate()),s&&(l=l.negate()),l=new rn(An(l.x*Jt.beta),l.y,l.z),n=u.add(l),r=c.add(d)}else{const{p:e,f:o}=this.wNAF(i,t);n=e,r=o}return rn.normalizeZ([n,r])[0]}toAffine(e=_n(this.z)){const{x:t,y:n,z:r}=this,i=e,o=An(i*i),s=An(o*i),a=An(t*o),u=An(n*s);if(An(r*i)!==Xt)throw new Error("invZ was invalid");return new sn(a,u)}}rn.BASE=new rn(Jt.Gx,Jt.Gy,Xt),rn.ZERO=new rn(Gt,Xt,Gt);const on=new WeakMap;class sn{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,on.delete(this)}hasEvenY(){return this.y%Yt===Gt}static fromCompressedHex(e){const t=32===e.length,n=wn(t?e:e.subarray(1));if(!Bn(n))throw new Error("Point is not on curve");let r=function(e){const{P:t}=Jt,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=e*e*e%t,c=u*u*e%t,l=kn(c,Zt)*c%t,d=kn(l,Zt)*c%t,f=kn(d,Yt)*u%t,p=kn(f,r)*f%t,h=kn(p,i)*p%t,m=kn(h,s)*h%t,g=kn(m,a)*m%t,y=kn(g,s)*h%t,b=kn(y,Zt)*c%t,w=kn(b,o)*p%t,v=kn(w,n)*u%t;return kn(v,Yt)}(en(n));const i=(r&Xt)===Xt;t?i&&(r=An(-r)):1==(1&e[0])!==i&&(r=An(-r));const o=new sn(n,r);return o.assertValidity(),o}static fromUncompressedHex(e){const t=wn(e.subarray(1,33)),n=wn(e.subarray(33,65)),r=new sn(t,n);return r.assertValidity(),r}static fromHex(e){const t=vn(e),n=t.length,r=t[0];if(32===n||33===n&&(2===r||3===r))return this.fromCompressedHex(t);if(65===n&&4===r)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return sn.BASE.multiply(Cn(e))}static fromSignature(e,t,n){const r=function(e){const{n:t}=Jt,n=8*e.length-256;let r=wn(e);return n>0&&(r>>=BigInt(n)),r>=t&&(r-=t),r}(e=vn(e)),{r:i,s:o}=function(e){if(e instanceof cn)return e.assertValidity(),e;try{return cn.fromDER(e)}catch(t){return cn.fromCompact(e)}}(t);if(0!==n&&1!==n)throw new Error("Cannot recover signature: invalid recovery bit");const s=1&n?"03":"02",a=sn.fromHex(s+hn(i)),{n:u}=Jt,c=_n(i,u),l=An(-r*c,u),d=An(o*c,u),f=sn.BASE.multiplyAndAddUnsafe(a,l,d);if(!f)throw new Error("Cannot recover signature: point at infinify");return f.assertValidity(),f}toRawBytes(e=!1){return bn(this.toHex(e))}toHex(e=!1){const t=hn(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${hn(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Bn(t)||!Bn(n))throw new Error(e);const r=An(n*n);if(An(r-en(t))!==Gt)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new sn(this.x,An(-this.y))}double(){return rn.fromAffine(this).double().toAffine()}add(e){return rn.fromAffine(this).add(rn.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return rn.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const r=rn.fromAffine(this),i=t===Gt||t===Xt||this!==sn.BASE?r.multiplyUnsafe(t):r.multiply(t),o=rn.fromAffine(e).multiplyUnsafe(n),s=i.add(o);return s.equals(rn.ZERO)?void 0:s.toAffine()}}function an(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function un(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${fn(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:wn(n),left:e.subarray(t+2)}}sn.BASE=new sn(Jt.Gx,Jt.Gy),sn.ZERO=new sn(Gt,Gt);class cn{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=t?fn(e):e;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new cn(yn(r.slice(0,64)),yn(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${fn(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=un(e.subarray(2)),{data:r,left:i}=un(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${fn(i)}`);return{r:t,s:r}}(t?e:bn(e));return new cn(n,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!xn(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!xn(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Jt.n>>Xt;return this.s>e}normalizeS(){return this.hasHighS()?new cn(this.r,Jt.n-this.s):this}toDERRawBytes(e=!1){return bn(this.toDERHex(e))}toDERHex(e=!1){const t=an(gn(this.s));if(e)return t;const n=an(gn(this.r)),r=gn(n.length/2),i=gn(t.length/2);return`30${gn(n.length/2+t.length/2+4)}02${r}${n}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return bn(this.toCompactHex())}toCompactHex(){return hn(this.r)+hn(this.s)}}function ln(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const dn=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function fn(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=dn[e[n]];return t}const pn=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function hn(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(Gt<=e&&e<pn))throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function mn(e){const t=bn(hn(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function gn(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function yn(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function bn(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function wn(e){return yn(fn(e))}function vn(e){return e instanceof Uint8Array?Uint8Array.from(e):bn(e)}function Sn(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&xn(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function An(e,t=Jt.P){const n=e%t;return n>=Gt?n:t+n}function kn(e,t){const{P:n}=Jt;let r=e;for(;t-- >Gt;)r*=r,r%=n;return r}function _n(e,t=Jt.P){if(e===Gt||t<=Gt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=An(e,t),r=t,i=Gt,o=Xt,s=Xt,a=Gt;for(;n!==Gt;){const e=r/n,t=r%n,u=i-s*e,c=o-a*e;r=n,n=t,i=s,o=a,s=u,a=c}if(r!==Xt)throw new Error("invert: does not exist");return An(i,t)}const Mn=(e,t)=>(e+t/Yt)/t,In={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-Xt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function En(e){const{n:t}=Jt,{a1:n,b1:r,a2:i,b2:o,POW_2_128:s}=In,a=Mn(o*e,t),u=Mn(-r*e,t);let c=An(e-a*n-u*i,t),l=An(-a*r-u*o,t);const d=c>s,f=l>s;if(d&&(c=t-c),f&&(l=t-l),c>s||l>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:f,k2:l}}let Pn,Tn;class On{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return Un.hmacSha256(this.k,...e)}hmacSync(...e){return Tn(this.k,...e)}checkSync(){if("function"!=typeof Tn)throw new nn("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function xn(e){return Gt<e&&e<Jt.n}function Bn(e){return Gt<e&&e<Jt.P}function Ln(e,t,n){const r=wn(e);if(!xn(r))return;const{n:i}=Jt,o=sn.BASE.multiply(r),s=An(o.x,i);if(s===Gt)return;const a=An(_n(r,i)*An(t+n*s,i),i);if(a===Gt)return;const u=new cn(s,a);return{sig:u,recovery:(o.x===u.r?0:2)|Number(o.y&Xt)}}function Cn(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=yn(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=wn(e)}if(!xn(t))throw new Error("Expected private key: 0 < key < n");return t}function Rn(e){return wn(e.length>32?e.slice(0,32):e)}function Nn(e){const t=Rn(e),n=An(t,Jt.n);return Dn(n<Gt?t:n)}function Dn(e){return mn(e)}sn.BASE._setWindowSize(8);const Fn={node:Qt,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Kn={},Un={bytesToHex:fn,hexToBytes:bn,concatBytes:ln,mod:An,invert:_n,isValidPrivateKey(e){try{return Cn(e),!0}catch(e){return!1}},_bigintTo32Bytes:mn,_normalizePrivateKey:Cn,hashToPrivateKey:e=>{if((e=vn(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return mn(An(wn(e),Jt.n-Xt)+Xt)},randomBytes:(e=32)=>{if(Fn.web)return Fn.web.getRandomValues(new Uint8Array(e));if(Fn.node){const{randomBytes:t}=Fn.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Un.hashToPrivateKey(Un.randomBytes(40)),sha256:async(...e)=>{if(Fn.web){const t=await Fn.web.subtle.digest("SHA-256",ln(...e));return new Uint8Array(t)}if(Fn.node){const{createHash:t}=Fn.node,n=t("sha256");return e.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(Fn.web){const n=await Fn.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=ln(...t),i=await Fn.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}if(Fn.node){const{createHmac:n}=Fn.node,r=n("sha256",e);return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=Kn[e];if(void 0===n){const t=await Un.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=ln(t,t),Kn[e]=n}return Un.sha256(n,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof Pn)throw new nn("sha256Sync is undefined, you need to set it");let n=Kn[e];if(void 0===n){const t=Pn(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=ln(t,t),Kn[e]=n}return Pn(n,...t)},precompute(e=8,t=sn.BASE){const n=t===sn.BASE?t:new sn(t.x,t.y);return n._setWindowSize(e),n.multiply(Zt),n}};Object.defineProperties(Un,{sha256Sync:{configurable:!1,get:()=>Pn,set(e){Pn||(Pn=e)}},hmacSha256Sync:{configurable:!1,get:()=>Tn,set(e){Tn||(Tn=e)}}}),Fe.sha512Sync=(...e)=>z(Fe.concatBytes(...e));const Wn=Fe.randomPrivateKey,zn=()=>{const e=Fe.randomPrivateKey(),t=jn(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},jn=Ce;function qn(e){try{return ue.fromHex(e,!0),!0}catch{return!1}}const Vn=(e,t)=>Re(e,t.slice(0,32)),Hn=Ne,Qn=e=>r.lW.isBuffer(e)?e:e instanceof Uint8Array?r.lW.from(e.buffer,e.byteOffset,e.byteLength):r.lW.from(e);class Gn{constructor(e){Object.assign(this,e)}encode(){return r.lW.from((0,Xe.serialize)(Yn,this))}static decode(e){return(0,Xe.deserialize)(Yn,this,e)}static decodeUnchecked(e){return(0,Xe.deserializeUnchecked)(Yn,this,e)}}class Xn extends Gn{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Yn=new Map,Zn=32,$n=32;let Jn=1;class er extends Gn{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=ze().decode(e);if(t.length!=$n)throw new Error("Invalid public key input");this._bn=new(Ue())(t)}else this._bn=new(Ue())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const e=new er(Jn);return Jn+=1,new er(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ze().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(r.lW);if(e.length===$n)return e;const t=r.lW.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const i=r.lW.concat([e.toBuffer(),r.lW.from(t),n.toBuffer()]),o=Ge(i);return new er(o)}static createProgramAddressSync(e,t){let n=r.lW.alloc(0);e.forEach((function(e){if(e.length>Zn)throw new TypeError("Max seed length exceeded");n=r.lW.concat([n,Qn(e)])})),n=r.lW.concat([n,t.toBuffer(),r.lW.from("ProgramDerivedAddress")]);const i=Ge(n);if(qn(i))throw new Error("Invalid seeds, address must fall off the curve");return new er(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,i=255;for(;0!=i;){try{const o=e.concat(r.lW.from([i]));n=this.createProgramAddressSync(o,t)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return qn(new er(e).toBytes())}}er.default=new er("11111111111111111111111111111111"),Yn.set(er,{kind:"struct",fields:[["_bn","u256"]]});class tr{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Qn(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Qn(Wn()),this._publicKey=Qn(jn(this._secretKey))}get publicKey(){return new er(this._publicKey)}get secretKey(){return r.lW.concat([this._secretKey,this._publicKey],64)}}const nr=new er("BPFLoader1111111111111111111111111111111111"),rr=1232,ir=127,or=64;class sr extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(sr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ar extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ar.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ur{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,n)=>{t.set(e.toBase58(),n)}));const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((e=>n(e.pubkey))),data:e.data})))}}const cr=(e="publicKey")=>Ye.Ik(32,e),lr=(e="signature")=>Ye.Ik(64,e),dr=(e="string")=>{const t=Ye.n_([Ye.Jq("length"),Ye.Jq("lengthPadding"),Ye.Ik(Ye.cv(Ye.Jq(),-8),"chars")],e),n=t.decode.bind(t),i=t.encode.bind(t),o=t;return o.decode=(e,t)=>n(e,t).chars.toString(),o.encode=(e,t,n)=>{const o={chars:r.lW.from(e,"utf8")};return i(o,t,n)},o.alloc=e=>Ye.Jq().span+Ye.Jq().span+r.lW.from(e,"utf8").length,o};function fr(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return fr({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach((e=>{r+=n(e)})),r}function pr(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0==(128&r))break}return t}function hr(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function mr(e,t){if(!e)throw new Error(t||"Assertion failed")}class gr{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){r(t.programId).isInvoked=!0;for(const e of t.keys){const t=r(e.pubkey);t.isSigner||(t.isSigner=e.isSigner),t.isWritable||(t.isWritable=e.isWritable)}}return new gr(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];mr(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),n=e.filter((([,e])=>e.isSigner&&!e.isWritable)),r=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{mr(t.length>0,"Expected at least one writable signer key");const[e]=t[0];mr(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((([e])=>new er(e))),...n.map((([e])=>new er(e))),...r.map((([e])=>new er(e))),...i.map((([e])=>new er(e)))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new er(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(mr(o<256,"Max lookup table index exceeded"),n.push(o),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}class yr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new er(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ze().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new ur(this.staticAccountKeys)}static compile(e){const t=gr.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new ur(r).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:ze().encode(e.data)})));return new yr({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];hr(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,i=Array.from(ze().decode(e.data));let o=[];hr(o,t.length);let s=[];return hr(s,i.length),{programIdIndex:n,keyIndicesCount:r.lW.from(o),keyIndices:t,dataLength:r.lW.from(s),data:i}}));let i=[];hr(i,n.length);let o=r.lW.alloc(rr);r.lW.from(i).copy(o);let s=i.length;n.forEach((e=>{const t=Ye.n_([Ye.u8("programIdIndex"),Ye.Ik(e.keyIndicesCount.length,"keyIndicesCount"),Ye.A9(Ye.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Ye.Ik(e.dataLength.length,"dataLength"),Ye.A9(Ye.u8("userdatum"),e.data.length,"data")]).encode(e,o,s);s+=t})),o=o.slice(0,s);const a=Ye.n_([Ye.Ik(1,"numRequiredSignatures"),Ye.Ik(1,"numReadonlySignedAccounts"),Ye.Ik(1,"numReadonlyUnsignedAccounts"),Ye.Ik(t.length,"keyCount"),Ye.A9(cr("key"),e,"keys"),cr("recentBlockhash")]),u={numRequiredSignatures:r.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:r.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:r.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:r.lW.from(t),keys:this.accountKeys.map((e=>Qn(e.toBytes()))),recentBlockhash:ze().decode(this.recentBlockhash)};let c=r.lW.alloc(2048);const l=a.encode(u,c);return o.copy(c,l),c.slice(0,l+o.length)}static from(e){let t=[...e];const n=t.shift();if(n!==(n&ir))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=t.shift(),o=t.shift(),s=pr(t);let a=[];for(let e=0;e<s;e++){const e=t.slice(0,$n);t=t.slice($n),a.push(new er(r.lW.from(e)))}const u=t.slice(0,$n);t=t.slice($n);const c=pr(t);let l=[];for(let e=0;e<c;e++){const e=t.shift(),n=pr(t),i=t.slice(0,n);t=t.slice(n);const o=pr(t),s=t.slice(0,o),a=ze().encode(r.lW.from(s));t=t.slice(o),l.push({programIdIndex:e,accounts:i,data:a})}const d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ze().encode(r.lW.from(u)),accountKeys:a,instructions:l};return new yr(d)}}class br{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ur(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;return e>=n?e-n<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0):e>=this.header.numRequiredSignatures?e-t<n-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find((e=>e.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=gr.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const e of i){const i=t.extractTableLookup(e);if(void 0!==i){const[e,{writable:t,readonly:o}]=i;n.push(e),r.writable.push(...t),r.readonly.push(...o)}}const[o,s]=t.getMessageComponents(),a=new ur(s,r).compileInstructions(e.instructions);return new br({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();hr(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();hr(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();hr(i,this.addressTableLookups.length);const o=Ye.n_([Ye.u8("prefix"),Ye.n_([Ye.u8("numRequiredSignatures"),Ye.u8("numReadonlySignedAccounts"),Ye.u8("numReadonlyUnsignedAccounts")],"header"),Ye.Ik(e.length,"staticAccountKeysLength"),Ye.A9(cr(),this.staticAccountKeys.length,"staticAccountKeys"),cr("recentBlockhash"),Ye.Ik(n.length,"instructionsLength"),Ye.Ik(t.length,"serializedInstructions"),Ye.Ik(i.length,"addressTableLookupsLength"),Ye.Ik(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(rr),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:ze().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(rr);for(const n of this.compiledInstructions){const r=Array();hr(r,n.accountKeyIndexes.length);const i=Array();hr(i,n.data.length),e+=Ye.n_([Ye.u8("programIdIndex"),Ye.Ik(r.length,"encodedAccountKeyIndexesLength"),Ye.A9(Ye.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Ye.Ik(i.length,"encodedDataLength"),Ye.Ik(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(rr);for(const n of this.addressTableLookups){const r=Array();hr(r,n.writableIndexes.length);const i=Array();hr(i,n.readonlyIndexes.length),e+=Ye.n_([cr("accountKey"),Ye.Ik(r.length,"encodedWritableIndexesLength"),Ye.A9(Ye.u8(),n.writableIndexes.length,"writableIndexes"),Ye.Ik(i.length,"encodedReadonlyIndexesLength"),Ye.A9(Ye.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=t.shift(),r=n&ir;mr(n!==r,"Expected versioned message but received legacy message"),mr(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},o=[],s=pr(t);for(let e=0;e<s;e++)o.push(new er(t.splice(0,$n)));const a=ze().encode(t.splice(0,$n)),u=pr(t),c=[];for(let e=0;e<u;e++){const e=t.shift(),n=pr(t),r=t.splice(0,n),i=pr(t),o=new Uint8Array(t.splice(0,i));c.push({programIdIndex:e,accountKeyIndexes:r,data:o})}const l=pr(t),d=[];for(let e=0;e<l;e++){const e=new er(t.splice(0,$n)),n=pr(t),r=t.splice(0,n),i=pr(t),o=t.splice(0,i);d.push({accountKey:e,writableIndexes:r,readonlyIndexes:o})}return new br({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:c,addressTableLookups:d})}}const wr={deserializeMessageVersion(e){const t=e[0],n=t&ir;return n===t?"legacy":n},deserialize:e=>{const t=wr.deserializeMessageVersion(e);if("legacy"===t)return yr.from(e);if(0===t)return br.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let vr;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(vr||(vr={}));const Sr=r.lW.alloc(or).fill(0);class Ar{constructor(e){this.keys=void 0,this.programId=void 0,this.data=r.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class kr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Ar(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const r=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{i.push({pubkey:new er(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),n=o.findIndex((e=>e.pubkey.toString()===t));n>-1?(o[n].isWritable=o[n].isWritable||e.isWritable,o[n].isSigner=o[n].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const s=o.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const l=[],d=[];o.forEach((({pubkey:e,isSigner:t,isWritable:n})=>{t?(l.push(e.toString()),a+=1,n||(u+=1)):(d.push(e.toString()),n||(c+=1))}));const f=l.concat(d),p=t.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:f.indexOf(n.toString()),accounts:e.keys.map((e=>f.indexOf(e.pubkey.toString()))),data:ze().encode(t)}}));return p.forEach((e=>{mr(e.programIdIndex>=0),e.accounts.forEach((e=>mr(e>=0)))})),new yr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:f,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every(((e,n)=>t[n].equals(e.publicKey)))||(this.signatures=t.map((e=>({signature:null,publicKey:e})))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const n=e.toString();return!t.has(n)&&(t.add(n),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}this.signatures=n.map((e=>({signature:null,publicKey:e.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach((e=>{const t=Vn(n,e.secretKey);this._addSignature(e.publicKey,Qn(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){mr(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=r.lW.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:n,publicKey:r}of this.signatures)if(null===n){if(t)return!1}else if(!Hn(n,e,r.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n&&!this._verifySignatures(r,t))throw new Error("Signature verification failed");return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];hr(n,t.length);const i=n.length+64*t.length+e.length,o=r.lW.alloc(i);return mr(t.length<256),r.lW.from(n).copy(o,0),t.forEach((({signature:e},t)=>{null!==e&&(mr(64===e.length,"signature has invalid length"),r.lW.from(e).copy(o,n.length+64*t))})),e.copy(o,n.length+64*t.length),mr(o.length<=rr,`Transaction too large: ${o.length} > ${rr}`),o}get keys(){return mr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return mr(1===this.instructions.length),this.instructions[0].programId}get data(){return mr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=pr(t);let i=[];for(let e=0;e<n;e++){const e=t.slice(0,or);t=t.slice(or),i.push(ze().encode(r.lW.from(e)))}return kr.populate(yr.from(t),i)}static populate(e,t=[]){const n=new kr;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==ze().encode(Sr)?null:ze().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new Ar({keys:r,programId:e.accountKeys[t.programIdIndex],data:ze().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}class _r{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:r,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=n,u=o-s;mr(u>0,"Message header is invalid");const c=e.staticAccountKeys.length-a;mr(c>=0,"Message header is invalid");const l=e.getAccountKeys(t),d=l.get(0);if(void 0===d)throw new Error("Failed to decompile message because no account keys were found");const f=[];for(const e of r){const t=[];for(const r of e.accountKeyIndexes){const e=l.get(r);if(void 0===e)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<o?r<u:r<l.staticAccountKeys.length?r-o<c:r-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:r<n.numRequiredSignatures,isWritable:i})}const r=l.get(e.programIdIndex);if(void 0===r)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);f.push(new Ar({programId:r,data:Qn(e.data),keys:t}))}return new _r({payerKey:d,instructions:f,recentBlockhash:i})}compileToLegacyMessage(){return yr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return br.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Mr{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)mr(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(or));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();hr(t,this.signatures.length);const n=Ye.n_([Ye.Ik(t.length,"encodedSignaturesLength"),Ye.A9(lr(),this.signatures.length,"signatures"),Ye.Ik(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=pr(t);for(let e=0;e<r;e++)n.push(new Uint8Array(t.splice(0,or)));const i=wr.deserialize(new Uint8Array(t));return new Mr(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex((e=>e.equals(r.publicKey)));mr(e>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[e]=Vn(t,r.secretKey)}}addSignature(e,t){mr(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));mr(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=t}}const Ir=new er("SysvarC1ock11111111111111111111111111111111"),Er=new er("SysvarEpochSchedu1e111111111111111111111111"),Pr=new er("Sysvar1nstructions1111111111111111111111111"),Tr=new er("SysvarRecentB1ockHashes11111111111111111111"),Or=new er("SysvarRent111111111111111111111111111111111"),xr=new er("SysvarRewards111111111111111111111111111111"),Br=new er("SysvarS1otHashes111111111111111111111111111"),Lr=new er("SysvarS1otHistory11111111111111111111111111"),Cr=new er("SysvarStakeHistory1111111111111111111111111");async function Rr(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await e.sendTransaction(t,n,i),s=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value:(await e.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Nr(e){return new Promise((t=>setTimeout(t,e)))}function Dr(e,t){const n=e.layout.span>=0?e.layout.span:fr(e,t),i=r.lW.alloc(n),o=Object.assign({instruction:e.index},t);return e.layout.encode(o,i),i}function Fr(e,t){let n;try{n=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const Kr=Ye._O("lamportsPerSignature"),Ur=Ye.n_([Ye.Jq("version"),Ye.Jq("state"),cr("authorizedPubkey"),cr("nonce"),Ye.n_([Kr],"feeCalculator")]),Wr=Ur.span;class zr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Ur.decode(Qn(e),0);return new zr({authorizedPubkey:new er(t.authorizedPubkey),nonce:new er(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const jr=(8,e=>{const t=(0,Ye.Ik)(8,e),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),o=t;return o.decode=(e,t)=>{const n=i(e,t);return(0,Ze.oU)(r.lW.from(n))},o.encode=(e,t,r)=>{const i=(0,Ze.k$)(e,8);return n(i,t,r)},o});class qr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ye.Jq("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(Vr))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=Fr(Vr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new er(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Fr(Vr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=Fr(Vr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new er(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Fr(Vr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=Fr(Vr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new er(t),seed:n,space:r,programId:new er(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Fr(Vr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new er(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=Fr(Vr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new er(t),seed:n,programId:new er(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:o}=Fr(Vr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new er(t),seed:n,lamports:r,space:i,programId:new er(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Fr(Vr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new er(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Fr(Vr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Fr(Vr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Fr(Vr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new er(t)}}static checkProgramId(e){if(!e.equals(Hr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Vr=Object.freeze({Create:{index:0,layout:Ye.n_([Ye.Jq("instruction"),Ye.gM("lamports"),Ye.gM("space"),cr("programId")])},Assign:{index:1,layout:Ye.n_([Ye.Jq("instruction"),cr("programId")])},Transfer:{index:2,layout:Ye.n_([Ye.Jq("instruction"),jr("lamports")])},CreateWithSeed:{index:3,layout:Ye.n_([Ye.Jq("instruction"),cr("base"),dr("seed"),Ye.gM("lamports"),Ye.gM("space"),cr("programId")])},AdvanceNonceAccount:{index:4,layout:Ye.n_([Ye.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Ye.n_([Ye.Jq("instruction"),Ye.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Ye.n_([Ye.Jq("instruction"),cr("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ye.n_([Ye.Jq("instruction"),cr("authorized")])},Allocate:{index:8,layout:Ye.n_([Ye.Jq("instruction"),Ye.gM("space")])},AllocateWithSeed:{index:9,layout:Ye.n_([Ye.Jq("instruction"),cr("base"),dr("seed"),Ye.gM("space"),cr("programId")])},AssignWithSeed:{index:10,layout:Ye.n_([Ye.Jq("instruction"),cr("base"),dr("seed"),cr("programId")])},TransferWithSeed:{index:11,layout:Ye.n_([Ye.Jq("instruction"),jr("lamports"),dr("seed"),cr("programId")])},UpgradeNonceAccount:{index:12,layout:Ye.n_([Ye.Jq("instruction")])}});class Hr{constructor(){}static createAccount(e){const t=Dr(Vr.Create,{lamports:e.lamports,space:e.space,programId:Qn(e.programId.toBuffer())});return new Ar({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;return"basePubkey"in e?(t=Dr(Vr.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:Qn(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=Dr(Vr.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new Ar({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;return"basePubkey"in e?(t=Dr(Vr.AssignWithSeed,{base:Qn(e.basePubkey.toBuffer()),seed:e.seed,programId:Qn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Dr(Vr.Assign,{programId:Qn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new Ar({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Dr(Vr.CreateWithSeed,{base:Qn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Qn(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ar({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new kr;"basePubkey"in e&&"seed"in e?t.add(Hr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Wr,programId:this.programId})):t.add(Hr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Wr,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=Dr(Vr.InitializeNonceAccount,{authorized:Qn(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Tr,isSigner:!1,isWritable:!1},{pubkey:Or,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Ar(n)}static nonceAdvance(e){const t=Dr(Vr.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Tr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Ar(n)}static nonceWithdraw(e){const t=Dr(Vr.WithdrawNonceAccount,{lamports:e.lamports});return new Ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Tr,isSigner:!1,isWritable:!1},{pubkey:Or,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Dr(Vr.AuthorizeNonceAccount,{authorized:Qn(e.newAuthorizedPubkey.toBuffer())});return new Ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;return"basePubkey"in e?(t=Dr(Vr.AllocateWithSeed,{base:Qn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Qn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Dr(Vr.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new Ar({keys:n,programId:this.programId,data:t})}}Hr.programId=new er("11111111111111111111111111111111");const Qr=rr-300;class Gr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Gr.chunkSize)+1+1)}static async load(e,t,n,i,o){{const r=await e.getMinimumBalanceForRentExemption(o.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new kr,a.add(Hr.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(i)||(a=a||new kr,a.add(Hr.assign({accountPubkey:n.publicKey,programId:i}))),s.lamports<r&&(a=a||new kr,a.add(Hr.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:r-s.lamports})))}else a=(new kr).add(Hr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:r>0?r:1,space:o.length,programId:i}));null!==a&&await Rr(e,a,[t,n],{commitment:"confirmed"})}const s=Ye.n_([Ye.Jq("instruction"),Ye.Jq("offset"),Ye.Jq("bytesLength"),Ye.Jq("bytesLengthPadding"),Ye.A9(Ye.u8("byte"),Ye.cv(Ye.Jq(),-8),"bytes")]),a=Gr.chunkSize;let u=0,c=o,l=[];for(;c.length>0;){const o=c.slice(0,a),d=r.lW.alloc(a+16);s.encode({instruction:0,offset:u,bytes:o,bytesLength:0,bytesLengthPadding:0},d);const f=(new kr).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:d});if(l.push(Rr(e,f,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Nr(1e3/e)}u+=a,c=c.slice(a)}await Promise.all(l);{const o=Ye.n_([Ye.Jq("instruction")]),s=r.lW.alloc(o.span);o.encode({instruction:1},s);const a=(new kr).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Or,isSigner:!1,isWritable:!1}],programId:i,data:s});await Rr(e,a,[t,n],{commitment:"confirmed"})}return!0}}Gr.chunkSize=Qr;const Xr=new er("BPFLoader2111111111111111111111111111111111");class Yr{static getMinNumSignatures(e){return Gr.getMinNumSignatures(e)}static load(e,t,n,r,i){return Gr.load(e,t,n,i,r)}}var Zr=Object.prototype.toString,$r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function Jr(e,t){var n,r,i,o,s,a,u;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return Jr(e.toJSON(),t);if("[object Array]"===(u=Zr.call(e))){for(i="[",r=e.length-1,n=0;n<r;n++)i+=Jr(e[n],!0)+",";return r>-1&&(i+=Jr(e[n],!0)),i+"]"}if("[object Object]"===u){for(r=(o=$r(e).sort()).length,i="",n=0;n<r;)void 0!==(a=Jr(e[s=o[n]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var ei=function(e){var t=Jr(e,!1);if(void 0!==t)return""+t};function ti(e){let t=0;for(;e>1;)e/=2,t++;return t}class ni{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=ti(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-ti(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}var t;{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+ti(32)):this.slotsPerEpoch}}class ri extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const ii={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class oi extends Error{constructor({code:e,message:t,data:n},r){super(null!=r?`${r}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var si=globalThis.fetch;class ai{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(ui,e),n=e.length-56;mr(n>=0,"lookup table is invalid"),mr(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=Ye.n_([Ye.A9(cr(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new er(t.authority[0]):void 0,addresses:i.map((e=>new er(e)))}}}const ui={index:1,layout:Ye.n_([Ye.Jq("typeIndex"),jr("deactivationSlot"),Ye._O("lastExtendedSlot"),Ye.u8("lastExtendedStartIndex"),Ye.u8(),Ye.A9(cr(),Ye.cv(Ye.u8(),-1),"authority")])},ci=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const li=kt(ft(er),bt(),(e=>new er(e))),di=wt([bt(),pt("base64")]),fi=kt(ft(r.lW),di,(e=>r.lW.from(e[0],"base64"))),pi=3e4;function hi(e){let t,n;if("string"==typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function mi(e){return St([vt({jsonrpc:pt("2.0"),id:bt(),result:e}),vt({jsonrpc:pt("2.0"),id:bt(),error:vt({code:At(),message:bt(),data:gt(ct("any",(()=>!0)))})})])}const gi=mi(At());function yi(e){return kt(mi(e),gi,(t=>"error"in t?t:{...t,result:st(t.result,e)}))}function bi(e){return yi(vt({context:vt({slot:mt()}),value:e}))}function wi(e){return vt({context:vt({slot:mt()}),value:e})}function vi(e,t){return 0===e?new br({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new er(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ze().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new yr(t)}const Si=vt({foundation:mt(),foundationTerm:mt(),initial:mt(),taper:mt(),terminal:mt()}),Ai=yi(lt(ht(vt({epoch:mt(),effectiveSlot:mt(),amount:mt(),postBalance:mt()})))),ki=vt({epoch:mt(),slotIndex:mt(),slotsInEpoch:mt(),absoluteSlot:mt(),blockHeight:gt(mt()),transactionCount:gt(mt())}),_i=vt({slotsPerEpoch:mt(),leaderScheduleSlotOffset:mt(),warmup:dt(),firstNormalEpoch:mt(),firstNormalSlot:mt()}),Mi=yt(bt(),lt(mt())),Ii=ht(St([vt({}),bt()])),Ei=vt({err:Ii}),Pi=pt("receivedSignature"),Ti=vt({"solana-core":bt(),"feature-set":gt(mt())}),Oi=bi(vt({err:ht(St([vt({}),bt()])),logs:ht(lt(bt())),accounts:gt(ht(lt(ht(vt({executable:dt(),owner:bt(),lamports:mt(),data:lt(bt()),rentEpoch:gt(mt())}))))),unitsConsumed:gt(mt()),returnData:gt(ht(vt({programId:bt(),data:wt([bt(),pt("base64")])})))})),xi=bi(vt({byIdentity:yt(bt(),lt(mt())),range:vt({firstSlot:mt(),lastSlot:mt()})})),Bi=yi(Si),Li=yi(ki),Ci=yi(_i),Ri=yi(Mi),Ni=yi(mt()),Di=bi(vt({total:mt(),circulating:mt(),nonCirculating:mt(),nonCirculatingAccounts:lt(li)})),Fi=vt({amount:bt(),uiAmount:ht(mt()),decimals:mt(),uiAmountString:gt(bt())}),Ki=bi(lt(vt({address:li,amount:bt(),uiAmount:ht(mt()),decimals:mt(),uiAmountString:gt(bt())}))),Ui=bi(lt(vt({pubkey:li,account:vt({executable:dt(),owner:li,lamports:mt(),data:fi,rentEpoch:mt()})}))),Wi=vt({program:bt(),parsed:At(),space:mt()}),zi=bi(lt(vt({pubkey:li,account:vt({executable:dt(),owner:li,lamports:mt(),data:Wi,rentEpoch:mt()})}))),ji=bi(lt(vt({lamports:mt(),address:li}))),qi=vt({executable:dt(),owner:li,lamports:mt(),data:fi,rentEpoch:mt()}),Vi=vt({pubkey:li,account:qi}),Hi=kt(St([ft(r.lW),Wi]),St([di,Wi]),(e=>Array.isArray(e)?st(e,fi):e)),Qi=vt({executable:dt(),owner:li,lamports:mt(),data:Hi,rentEpoch:mt()}),Gi=vt({pubkey:li,account:Qi}),Xi=vt({state:St([pt("active"),pt("inactive"),pt("activating"),pt("deactivating")]),active:mt(),inactive:mt()}),Yi=yi(lt(vt({signature:bt(),slot:mt(),err:Ii,memo:ht(bt()),blockTime:gt(ht(mt()))}))),Zi=yi(lt(vt({signature:bt(),slot:mt(),err:Ii,memo:ht(bt()),blockTime:gt(ht(mt()))}))),$i=vt({subscription:mt(),result:wi(qi)}),Ji=vt({pubkey:li,account:qi}),eo=vt({subscription:mt(),result:wi(Ji)}),to=vt({parent:mt(),slot:mt(),root:mt()}),no=vt({subscription:mt(),result:to}),ro=St([vt({type:St([pt("firstShredReceived"),pt("completed"),pt("optimisticConfirmation"),pt("root")]),slot:mt(),timestamp:mt()}),vt({type:pt("createdBank"),parent:mt(),slot:mt(),timestamp:mt()}),vt({type:pt("frozen"),slot:mt(),timestamp:mt(),stats:vt({numTransactionEntries:mt(),numSuccessfulTransactions:mt(),numFailedTransactions:mt(),maxTransactionsPerEntry:mt()})}),vt({type:pt("dead"),slot:mt(),timestamp:mt(),err:bt()})]),io=vt({subscription:mt(),result:ro}),oo=vt({subscription:mt(),result:wi(St([Ei,Pi]))}),so=vt({subscription:mt(),result:mt()}),ao=vt({pubkey:bt(),gossip:ht(bt()),tpu:ht(bt()),rpc:ht(bt()),version:ht(bt())}),uo=vt({votePubkey:bt(),nodePubkey:bt(),activatedStake:mt(),epochVoteAccount:dt(),epochCredits:lt(wt([mt(),mt(),mt()])),commission:mt(),lastVote:mt(),rootSlot:ht(mt())}),co=yi(vt({current:lt(uo),delinquent:lt(uo)})),lo=St([pt("processed"),pt("confirmed"),pt("finalized")]),fo=vt({slot:mt(),confirmations:ht(mt()),err:Ii,confirmationStatus:gt(lo)}),po=bi(lt(ht(fo))),ho=yi(mt()),mo=vt({accountKey:li,writableIndexes:lt(mt()),readonlyIndexes:lt(mt())}),go=vt({signatures:lt(bt()),message:vt({accountKeys:lt(bt()),header:vt({numRequiredSignatures:mt(),numReadonlySignedAccounts:mt(),numReadonlyUnsignedAccounts:mt()}),instructions:lt(vt({accounts:lt(mt()),data:bt(),programIdIndex:mt()})),recentBlockhash:bt(),addressTableLookups:gt(lt(mo))})}),yo=vt({parsed:At(),program:bt(),programId:li}),bo=vt({accounts:lt(li),data:bt(),programId:li}),wo=kt(St([bo,yo]),St([vt({parsed:At(),program:bt(),programId:bt()}),vt({accounts:lt(bt()),data:bt(),programId:bt()})]),(e=>st(e,"accounts"in e?bo:yo))),vo=vt({signatures:lt(bt()),message:vt({accountKeys:lt(vt({pubkey:li,signer:dt(),writable:dt(),source:gt(St([pt("transaction"),pt("lookupTable")]))})),instructions:lt(wo),recentBlockhash:bt(),addressTableLookups:gt(ht(lt(mo)))})}),So=vt({accountIndex:mt(),mint:bt(),owner:gt(bt()),uiTokenAmount:Fi}),Ao=vt({writable:lt(li),readonly:lt(li)}),ko=vt({err:Ii,fee:mt(),innerInstructions:gt(ht(lt(vt({index:mt(),instructions:lt(vt({accounts:lt(mt()),data:bt(),programIdIndex:mt()}))})))),preBalances:lt(mt()),postBalances:lt(mt()),logMessages:gt(ht(lt(bt()))),preTokenBalances:gt(ht(lt(So))),postTokenBalances:gt(ht(lt(So))),loadedAddresses:gt(Ao),computeUnitsConsumed:gt(mt())}),_o=vt({err:Ii,fee:mt(),innerInstructions:gt(ht(lt(vt({index:mt(),instructions:lt(wo)})))),preBalances:lt(mt()),postBalances:lt(mt()),logMessages:gt(ht(lt(bt()))),preTokenBalances:gt(ht(lt(So))),postTokenBalances:gt(ht(lt(So))),loadedAddresses:gt(Ao),computeUnitsConsumed:gt(mt())}),Mo=St([pt(0),pt("legacy")]),Io=yi(ht(vt({blockhash:bt(),previousBlockhash:bt(),parentSlot:mt(),transactions:lt(vt({transaction:go,meta:ht(ko),version:gt(Mo)})),rewards:gt(lt(vt({pubkey:bt(),lamports:mt(),postBalance:ht(mt()),rewardType:ht(bt())}))),blockTime:ht(mt()),blockHeight:ht(mt())}))),Eo=yi(ht(vt({blockhash:bt(),previousBlockhash:bt(),parentSlot:mt(),transactions:lt(vt({transaction:vo,meta:ht(_o),version:gt(Mo)})),rewards:gt(lt(vt({pubkey:bt(),lamports:mt(),postBalance:ht(mt()),rewardType:ht(bt())}))),blockTime:ht(mt()),blockHeight:ht(mt())}))),Po=yi(ht(vt({blockhash:bt(),previousBlockhash:bt(),parentSlot:mt(),transactions:lt(vt({transaction:go,meta:ht(ko)})),rewards:gt(lt(vt({pubkey:bt(),lamports:mt(),postBalance:ht(mt()),rewardType:ht(bt())}))),blockTime:ht(mt())}))),To=yi(ht(vt({blockhash:bt(),previousBlockhash:bt(),parentSlot:mt(),signatures:lt(bt()),blockTime:ht(mt())}))),Oo=yi(ht(vt({slot:mt(),meta:ko,blockTime:gt(ht(mt())),transaction:go,version:gt(Mo)}))),xo=yi(ht(vt({slot:mt(),transaction:vo,meta:ht(_o),blockTime:gt(ht(mt())),version:gt(Mo)}))),Bo=bi(vt({blockhash:bt(),feeCalculator:vt({lamportsPerSignature:mt()})})),Lo=bi(vt({blockhash:bt(),lastValidBlockHeight:mt()})),Co=yi(lt(vt({slot:mt(),numTransactions:mt(),numSlots:mt(),samplePeriodSecs:mt()}))),Ro=bi(ht(vt({feeCalculator:vt({lamportsPerSignature:mt()})}))),No=yi(bt()),Do=yi(bt()),Fo=vt({err:Ii,logs:lt(bt()),signature:bt()}),Ko=vt({result:wi(Fo),subscription:mt()}),Uo={"solana-client":"js/"+(null!=="0.0.0-development"?"0.0.0-development":"UNKNOWN")};class Wo{constructor(e,t){let n,r,i,o,s;var a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(ci);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${r}${null==a?"":`:${a+1}`}${o}`}(e),this._rpcClient=function(e,t,n,r,i){const o=n||si;let s;return r&&(s=async(e,t)=>{const n=await new Promise(((n,i)=>{try{r(e,t,((e,t)=>n([e,t])))}catch(e){i(e)}}));return await o(...n)}),new(It())((async(n,r)=>{const a={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},Uo)};try{let t,n=5,u=500;for(;t=s?await s(e,a):await o(e,a),429===t.status&&!0!==i&&(n-=1,0!==n);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${u}ms delay...`),await Nr(u),u*=2;const c=await t.text();t.ok?r(null,c):r(new Error(`${t.status} ${t.statusText}: ${c}`))}catch(e){e instanceof Error&&r(e)}}),{})}(e,r,i,o,s),this._rpcRequest=(a=this._rpcClient,(e,t)=>new Promise(((n,r)=>{a.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new _t.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=hi(t),i=this._buildArgs([e.toBase58()],n,void 0,r),o=st(await this._rpcRequest("getBalance",i),bi(mt()));if("error"in o)throw new oi(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=st(await this._rpcRequest("getBlockTime",[e]),yi(ht(mt())));if("error"in t)throw new oi(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=st(await this._rpcRequest("minimumLedgerSlot",[]),yi(mt()));if("error"in e)throw new oi(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=st(await this._rpcRequest("getFirstAvailableBlock",[]),Ni);if("error"in e)throw new oi(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=st(await this._rpcRequest("getSupply",[t]),Di);if("error"in n)throw new oi(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=st(await this._rpcRequest("getTokenSupply",n),bi(Fi));if("error"in r)throw new oi(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=st(await this._rpcRequest("getTokenAccountBalance",n),bi(Fi));if("error"in r)throw new oi(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=hi(n);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=st(await this._rpcRequest("getTokenAccountsByOwner",s),Ui);if("error"in a)throw new oi(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=st(await this._rpcRequest("getTokenAccountsByOwner",i),zi);if("error"in o)throw new oi(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=st(await this._rpcRequest("getLargestAccounts",n),ji);if("error"in r)throw new oi(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=st(await this._rpcRequest("getTokenLargestAccounts",n),Ki);if("error"in r)throw new oi(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=hi(t),i=this._buildArgs([e.toBase58()],n,"base64",r),o=st(await this._rpcRequest("getAccountInfo",i),bi(ht(qi)));if("error"in o)throw new oi(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=hi(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=st(await this._rpcRequest("getAccountInfo",i),bi(ht(Qi)));if("error"in o)throw new oi(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=hi(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=st(await this._rpcRequest("getMultipleAccounts",o),bi(lt(ht(Qi))));if("error"in s)throw new oi(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=hi(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"base64",r),s=st(await this._rpcRequest("getMultipleAccounts",o),bi(lt(ht(qi))));if("error"in s)throw new oi(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=hi(t),o=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:null==i?void 0:i.epoch}),s=st(await this._rpcRequest("getStakeActivation",o),yi(Xi));if("error"in s)throw new oi(s.error,`failed to get Stake Activation ${e.toBase58()}`);return s.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=hi(t),{encoding:i,...o}=r||{},s=this._buildArgs([e.toBase58()],n,i||"base64",o),a=st(await this._rpcRequest("getProgramAccounts",s),yi(lt(Vi)));if("error"in a)throw new oi(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=hi(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=st(await this._rpcRequest("getProgramAccounts",i),yi(lt(Gi)));if("error"in o)throw new oi(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let n,r;n="string"==typeof e?e:e.signature;try{r=ze().decode(n)}catch(e){throw new Error("signature must be base58 encoded: "+n)}mr(64===r.length,"signature has invalid length");const i=t||this.commitment;let o,s,a,u=!1;const c=new Promise(((e,t)=>{try{s=this.onSignature(n,((t,n)=>{s=void 0;const r={context:n,value:t};u=!0,e({__type:vr.PROCESSED,response:r})}),i);const r=new Promise((e=>{null==s?e():a=this._onSubscriptionStateChange(s,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await r,u)return;const o=await this.getSignatureStatus(n);if(u)return;if(null==o)return;const{context:s,value:a}=o;if(null!=a)if(null!=a&&a.err)t(a.err);else{switch(i){case"confirmed":case"single":case"singleGossip":if("processed"===a.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===a.confirmationStatus||"confirmed"===a.confirmationStatus)return}u=!0,e({__type:vr.PROCESSED,response:{context:s,value:a}})}})()}catch(e){t(e)}})),l=new Promise((n=>{if("string"==typeof e){let e=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=this._confirmTransactionInitialTimeout||3e4}o=setTimeout((()=>n({__type:vr.TIMED_OUT,timeoutMs:e})),e)}else{let r=e;const i=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let e=await i();if(!u){for(;e<=r.lastValidBlockHeight;){if(await Nr(1e3),u)return;if(e=await i(),u)return}n({__type:vr.BLOCKHEIGHT_EXCEEDED})}})()}}));let d;try{const e=await Promise.race([c,l]);switch(e.__type){case vr.BLOCKHEIGHT_EXCEEDED:throw new sr(n);case vr.PROCESSED:d=e.response;break;case vr.TIMED_OUT:throw new ar(n,e.timeoutMs/1e3)}}finally{clearTimeout(o),a&&a(),s&&this.removeSignatureListener(s)}return d}async getClusterNodes(){const e=st(await this._rpcRequest("getClusterNodes",[]),yi(lt(ao)));if("error"in e)throw new oi(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=st(await this._rpcRequest("getVoteAccounts",t),co);if("error"in n)throw new oi(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=hi(e),r=this._buildArgs([],t,void 0,n),i=st(await this._rpcRequest("getSlot",r),yi(mt()));if("error"in i)throw new oi(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:n}=hi(e),r=this._buildArgs([],t,void 0,n),i=st(await this._rpcRequest("getSlotLeader",r),yi(bt()));if("error"in i)throw new oi(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const n=[e,t],r=st(await this._rpcRequest("getSlotLeaders",n),yi(lt(li)));if("error"in r)throw new oi(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);return mr(1===r.length),{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=st(await this._rpcRequest("getSignatureStatuses",n),po);if("error"in r)throw new oi(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=hi(e),r=this._buildArgs([],t,void 0,n),i=st(await this._rpcRequest("getTransactionCount",r),yi(mt()));if("error"in i)throw new oi(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=st(await this._rpcRequest("getInflationGovernor",t),Bi);if("error"in n)throw new oi(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=hi(n),o=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{...i,epoch:null!=t?t:null==i?void 0:i.epoch}),s=st(await this._rpcRequest("getInflationReward",o),Ai);if("error"in s)throw new oi(s.error,"failed to get inflation reward");return s.result}async getEpochInfo(e){const{commitment:t,config:n}=hi(e),r=this._buildArgs([],t,void 0,n),i=st(await this._rpcRequest("getEpochInfo",r),Li);if("error"in i)throw new oi(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=st(await this._rpcRequest("getEpochSchedule",[]),Ci);if("error"in e)throw new oi(e.error,"failed to get epoch schedule");const t=e.result;return new ni(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=st(await this._rpcRequest("getLeaderSchedule",[]),Ri);if("error"in e)throw new oi(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=st(await this._rpcRequest("getMinimumBalanceForRentExemption",n),ho);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=st(await this._rpcRequest("getRecentBlockhash",t),Bo);if("error"in n)throw new oi(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(e){const t=st(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),Co);if("error"in t)throw new oi(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=st(await this._rpcRequest("getFeeCalculatorForBlockhash",n),Ro);if("error"in r)throw new oi(r.error,"failed to get fee calculator");const{context:i,value:o}=r.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const n=e.serialize().toString("base64"),r=this._buildArgs([n],t),i=st(await this._rpcRequest("getFeeForMessage",r),bi(ht(mt())));if("error"in i)throw new oi(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=hi(e),r=this._buildArgs([],t,void 0,n),i=st(await this._rpcRequest("getLatestBlockhash",r),Lo);if("error"in i)throw new oi(i.error,"failed to get latest blockhash");return i.result}async getVersion(){const e=st(await this._rpcRequest("getVersion",[]),yi(Ti));if("error"in e)throw new oi(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=st(await this._rpcRequest("getGenesisHash",[]),yi(bt()));if("error"in e)throw new oi(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=hi(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=st(await this._rpcRequest("getBlock",i),Io);if("error"in o)throw new oi(o.error,"failed to get confirmed block");const s=o.result;return s?{...s,transactions:s.transactions.map((({transaction:e,meta:t,version:n})=>({meta:t,transaction:{...e,message:vi(n,e.message)},version:n})))}:s}async getParsedBlock(e,t){const{commitment:n,config:r}=hi(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=st(await this._rpcRequest("getBlock",i),Eo);if("error"in o)throw new oi(o.error,"failed to get block");return o.result}async getBlockHeight(e){const{commitment:t,config:n}=hi(e),r=this._buildArgs([],t,void 0,n),i=st(await this._rpcRequest("getBlockHeight",r),yi(mt()));if("error"in i)throw new oi(i.error,"failed to get block height information");return i.result}async getBlockProduction(e){let t,n;if("string"==typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=st(await this._rpcRequest("getBlockProduction",r),xi);if("error"in i)throw new oi(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:n,config:r}=hi(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=st(await this._rpcRequest("getTransaction",i),Oo);if("error"in o)throw new oi(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:vi(s.version,s.transaction.message)}}:s}async getParsedTransaction(e,t){const{commitment:n,config:r}=hi(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=st(await this._rpcRequest("getTransaction",i),xo);if("error"in o)throw new oi(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=hi(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=st(e,xo);if("error"in t)throw new oi(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:n,config:r}=hi(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=st(e,Oo);if("error"in t)throw new oi(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:vi(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=st(await this._rpcRequest("getConfirmedBlock",n),Po);if("error"in r)throw new oi(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");const o={...i,transactions:i.transactions.map((({transaction:e,meta:t})=>{const n=new yr(e.message);return{meta:t,transaction:{...e,message:n}}}))};return{...o,transactions:o.transactions.map((({transaction:e,meta:t})=>({meta:t,transaction:kr.populate(e.message,e.signatures)})))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=st(await this._rpcRequest("getBlocks",r),yi(lt(mt())));if("error"in i)throw new oi(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=st(await this._rpcRequest("getBlock",n),To);if("error"in r)throw new oi(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=st(await this._rpcRequest("getConfirmedBlock",n),To);if("error"in r)throw new oi(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=st(await this._rpcRequest("getConfirmedTransaction",n),Oo);if("error"in r)throw new oi(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const o=new yr(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:kr.populate(o,s)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=st(await this._rpcRequest("getConfirmedTransaction",n),xo);if("error"in r)throw new oi(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=st(e,xo);if("error"in t)throw new oi(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getSlot("finalized");for(;!("before"in r||++n>o);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=st(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),Yi);if("error"in i)throw new oi(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=st(await this._rpcRequest("getSignaturesForAddress",r),Zi);if("error"in i)throw new oi(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new ai({key:e,state:ai.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=zr.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=st(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),No);if("error"in n)throw new oi(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Nr(100);const e=Date.now()-this._blockhashInfo.lastFetch>=pi;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await Nr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=hi(e),r=this._buildArgs([],t,"base64",n),i=st(await this._rpcRequest("getStakeMinimumDelegation",r),bi(mt()));if("error"in i)throw new oi(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,n){if("message"in e){const i=e.serialize(),o=r.lW.from(i).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment);const a=[o,s],u=st(await this._rpcRequest("simulateTransaction",a),Oi);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let i;if(e instanceof kr){let t=e;i=new kr,i.feePayer=t.feePayer,i.instructions=e.instructions,i.nonceInfo=t.nonceInfo,i.signatures=t.signatures}else i=kr.populate(e),i._message=i._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(i.nonceInfo&&o)i.sign(...o);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=t.lastValidBlockHeight,i.recentBlockhash=t.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const s=i._compile(),a=s.serialize(),u=i._serialize(a).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:s.nonProgramIds()).map((e=>e.toBase58()));c.accounts={encoding:"base64",addresses:e}}o&&(c.sigVerify=!0);const l=[u,c],d=st(await this._rpcRequest("simulateTransaction",l),Oi);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(d.error.message,n)}throw new ri("failed to simulate transaction: "+d.error.message,e)}return d.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const r=e.serialize();return await this.sendRawTransaction(r,n)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=Qn(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[e,n],s=st(await this._rpcRequest("sendTransaction",o),Do);if("error"in s){let e;throw"data"in s.error&&(e=s.error.data.logs),new ri("failed to send transaction: "+s.error.message,e)}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,t])=>{this._setSubscription(e,{...t,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){var n;const r=null===(n=this._subscriptionsByHash[e])||void 0===n?void 0:n.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){var n;const r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};const i=(n=this._subscriptionStateChangeCallbacksByHash)[r]||(n[r]=new Set);return i.add(t),()=>{i.delete(t),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,r,o.message),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(r){if(r instanceof Error&&console.error(`${i} error:`,r.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(e){console.error(e)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=st(e,$i);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=ei([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];mr(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const r=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},r)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=st(e,eo);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",r?{filters:r}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=st(e,Ko);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=st(e,no);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=st(e,io);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=st(e,oo);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],r,void 0,i),s=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(s)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=st(e,so);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class zo{constructor(e){this._keypair=void 0,this._keypair=null!=e?e:zn()}static generate(){return new zo(zn())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=jn(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new zo({publicKey:n,secretKey:e})}static fromSeed(e){const t=jn(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new zo({publicKey:t,secretKey:n})}get publicKey(){return new er(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const jo=Object.freeze({CreateLookupTable:{index:0,layout:Ye.n_([Ye.Jq("instruction"),jr("recentSlot"),Ye.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ye.n_([Ye.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Ye.n_([Ye.Jq("instruction"),jr(),Ye.A9(cr(),Ye.cv(Ye.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ye.n_([Ye.Jq("instruction")])},CloseLookupTable:{index:4,layout:Ye.n_([Ye.Jq("instruction")])}});class qo{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ye.Jq("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(jo))if(r.index==t){n=e;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Fr(jo.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Fr(jo.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new er(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Vo.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Vo{constructor(){}static createLookupTable(e){const[t,n]=er.findProgramAddressSync([e.authority.toBuffer(),(0,Ze.k$)(BigInt(e.recentSlot),8)],this.programId),r=Dr(jo.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Hr.programId,isSigner:!1,isWritable:!1}];return[new Ar({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=Dr(jo.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ar({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=Dr(jo.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Hr.programId,isSigner:!1,isWritable:!1}),new Ar({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=Dr(jo.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ar({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=Dr(jo.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ar({programId:this.programId,keys:n,data:t})}}Vo.programId=new er("AddressLookupTab1e1111111111111111111111111");class Ho{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ye.u8("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(Qo))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=Fr(Qo.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Fr(Qo.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Fr(Qo.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Fr(Qo.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Go.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Qo=Object.freeze({RequestUnits:{index:0,layout:Ye.n_([Ye.u8("instruction"),Ye.Jq("units"),Ye.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Ye.n_([Ye.u8("instruction"),Ye.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Ye.n_([Ye.u8("instruction"),Ye.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Ye.n_([Ye.u8("instruction"),jr("microLamports")])}});class Go{constructor(){}static requestUnits(e){const t=Dr(Qo.RequestUnits,e);return new Ar({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Dr(Qo.RequestHeapFrame,e);return new Ar({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Dr(Qo.SetComputeUnitLimit,e);return new Ar({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Dr(Qo.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Ar({keys:[],programId:this.programId,data:t})}}Go.programId=new er("ComputeBudget111111111111111111111111111111");const Xo=Ye.n_([Ye.u8("numSignatures"),Ye.u8("padding"),Ye.KB("signatureOffset"),Ye.KB("signatureInstructionIndex"),Ye.KB("publicKeyOffset"),Ye.KB("publicKeyInstructionIndex"),Ye.KB("messageDataOffset"),Ye.KB("messageDataSize"),Ye.KB("messageInstructionIndex")]);class Yo{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,instructionIndex:o}=e;mr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),mr(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const s=Xo.span,a=s+t.length,u=a+i.length,c=r.lW.alloc(u+n.length),l=null==o?65535:o;return Xo.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:l},c),c.fill(t,s),c.fill(i,a),c.fill(n,u),new Ar({keys:[],programId:Yo.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;mr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=zo.fromSecretKey(t),i=e.publicKey.toBytes(),o=Vn(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Yo.programId=new er("Ed25519SigVerify111111111111111111111111111"),Un.hmacSha256Sync=(e,...t)=>{const n=Vt.create(Ge,e);return t.forEach((e=>n.update(e))),n.digest()};const Zo=(e,t)=>function(e,t,n={}){const{seed:r,m:i,d:o}=function(e,t,n){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=vn(e),i=Cn(t),o=[Dn(i),Nn(r)];if(null!=n){!0===n&&(n=Un.randomBytes(32));const e=vn(n);if(32!==e.length)throw new Error("sign: Expected 32 bytes of extra data");o.push(e)}return{seed:ln(...o),m:Rn(r),d:i}}(e,t,n.extraEntropy);let s;const a=new On;for(a.reseedSync(r);!(s=Ln(a.generateSync(),i,o));)a.reseedSync();return function(e,t){let{sig:n,recovery:r}=e;const{canonical:i,der:o,recovered:s}=Object.assign({canonical:!0,der:!0},t);i&&n.hasHighS()&&(n=n.normalizeS(),r^=1);const a=o?n.toDERRawBytes():n.toCompactRawBytes();return s?[a,r]:a}(s,n)}(e,t,{der:!1,recovered:!0});Un.isValidPrivateKey;const $o=Ye.n_([Ye.u8("numSignatures"),Ye.KB("signatureOffset"),Ye.u8("signatureInstructionIndex"),Ye.KB("ethAddressOffset"),Ye.u8("ethAddressInstructionIndex"),Ye.KB("messageDataOffset"),Ye.KB("messageDataSize"),Ye.u8("messageInstructionIndex"),Ye.Ik(20,"ethAddress"),Ye.Ik(64,"signature"),Ye.u8("recoveryId")]);class Jo{constructor(){}static publicKeyToEthAddress(e){mr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return r.lW.from(zt(Qn(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:o}=e;return Jo.createInstructionWithEthAddress({ethAddress:Jo.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;a="string"==typeof t?t.startsWith("0x")?r.lW.from(t.substr(2),"hex"):r.lW.from(t,"hex"):t,mr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,c=u+i.length+1,l=r.lW.alloc($o.span+n.length);return $o.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:s,signature:Qn(i),ethAddress:Qn(a),recoveryId:o},l),l.fill(Qn(n),$o.span),new Ar({keys:[],programId:Jo.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;mr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=Qn(t),o=function(e,t=!1){return sn.fromPrivateKey(e).toRawBytes(t)}(e,!1).slice(1),s=r.lW.from(zt(Qn(n))),[a,u]=Zo(s,e);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:u,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Jo.programId=new er("KeccakSecp256k11111111111111111111111111111");const es=new er("StakeConfig11111111111111111111111111111111");class ts{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class ns{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}ns.default=new ns(0,0,er.default);class rs{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ye.Jq("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(is))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=Fr(is.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ts(new er(t.staker),new er(t.withdrawer)),lockup:new ns(n.unixTimestamp,n.epoch,new er(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Fr(is.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=Fr(is.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new er(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=Fr(is.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new er(i),newAuthorizedPubkey:new er(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Fr(is.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Fr(is.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Fr(is.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Fr(is.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(ss.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const is=Object.freeze({Initialize:{index:0,layout:Ye.n_([Ye.Jq("instruction"),((e="authorized")=>Ye.n_([cr("staker"),cr("withdrawer")],e))(),((e="lockup")=>Ye.n_([Ye.gM("unixTimestamp"),Ye.gM("epoch"),cr("custodian")],e))()])},Authorize:{index:1,layout:Ye.n_([Ye.Jq("instruction"),cr("newAuthorized"),Ye.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Ye.n_([Ye.Jq("instruction")])},Split:{index:3,layout:Ye.n_([Ye.Jq("instruction"),Ye.gM("lamports")])},Withdraw:{index:4,layout:Ye.n_([Ye.Jq("instruction"),Ye.gM("lamports")])},Deactivate:{index:5,layout:Ye.n_([Ye.Jq("instruction")])},Merge:{index:7,layout:Ye.n_([Ye.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Ye.n_([Ye.Jq("instruction"),cr("newAuthorized"),Ye.Jq("stakeAuthorizationType"),dr("authoritySeed"),cr("authorityOwner")])}}),os=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class ss{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||ns.default,o=Dr(is.Initialize,{authorized:{staker:Qn(n.staker.toBuffer()),withdrawer:Qn(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Qn(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Or,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new Ar(s)}static createAccountWithSeed(e){const t=new kr;t.add(Hr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new kr;t.add(Hr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=Dr(is.Delegate);return(new kr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Ir,isSigner:!1,isWritable:!1},{pubkey:Cr,isSigner:!1,isWritable:!1},{pubkey:es,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=e,s=Dr(is.Authorize,{newAuthorized:Qn(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ir,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new kr).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,u=Dr(is.AuthorizeWithSeed,{newAuthorized:Qn(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:Qn(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Ir,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new kr).add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,o=Dr(is.Split,{lamports:i});return new Ar({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e){const t=new kr;return t.add(Hr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,basePubkey:i,seed:o,lamports:s}=e,a=new kr;return a.add(Hr.allocate({accountPubkey:r,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:s}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=Dr(is.Merge);return(new kr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Ir,isSigner:!1,isWritable:!1},{pubkey:Cr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=e,s=Dr(is.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ir,isSigner:!1,isWritable:!1},{pubkey:Cr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new kr).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=Dr(is.Deactivate);return(new kr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ir,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}ss.programId=new er("Stake11111111111111111111111111111111111111"),ss.space=200;class as{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r}}class us{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ye.Jq("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(cs))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Fr(cs.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new as(new er(t.nodePubkey),new er(t.authorizedVoter),new er(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=Fr(cs.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new er(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=Fr(cs.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new er(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new er(r),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Fr(cs.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ds.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const cs=Object.freeze({InitializeAccount:{index:0,layout:Ye.n_([Ye.Jq("instruction"),((e="voteInit")=>Ye.n_([cr("nodePubkey"),cr("authorizedVoter"),cr("authorizedWithdrawer"),Ye.u8("commission")],e))()])},Authorize:{index:1,layout:Ye.n_([Ye.Jq("instruction"),cr("newAuthorized"),Ye.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Ye.n_([Ye.Jq("instruction"),Ye.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:Ye.n_([Ye.Jq("instruction"),((e="voteAuthorizeWithSeedArgs")=>Ye.n_([Ye.Jq("voteAuthorizationType"),cr("currentAuthorityDerivedKeyOwnerPubkey"),dr("currentAuthorityDerivedKeySeed"),cr("newAuthorized")],e))()])}}),ls=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ds{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=Dr(cs.InitializeAccount,{voteInit:{nodePubkey:Qn(r.nodePubkey.toBuffer()),authorizedVoter:Qn(r.authorizedVoter.toBuffer()),authorizedWithdrawer:Qn(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Or,isSigner:!1,isWritable:!1},{pubkey:Ir,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ar(o)}static createAccount(e){const t=new kr;return t.add(Hr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,o=Dr(cs.Authorize,{newAuthorized:Qn(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ir,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new kr).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=Dr(cs.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Qn(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:Qn(i.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Ir,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new kr).add({keys:u,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,o=Dr(cs.Withdraw,{lamports:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new kr).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return ds.withdraw(e)}}ds.programId=new er("Vote111111111111111111111111111111111111111"),ds.space=3731;const fs=new er("Va1idator1nfo111111111111111111111111111111"),ps=vt({name:bt(),website:gt(bt()),details:gt(bt()),keybaseUsername:gt(bt())});class hs{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==pr(t))return null;const n=[];for(let e=0;e<2;e++){const e=new er(t.slice(0,$n));t=t.slice($n);const r=1===t.slice(0,1)[0];t=t.slice(1),n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(fs)&&n[1].isSigner){const e=dr().decode(r.lW.from(t)),i=JSON.parse(e);return ot(i,ps),new hs(n[1].publicKey,i)}return null}}const ms=new er("Vote111111111111111111111111111111111111111"),gs=Ye.n_([cr("nodePubkey"),cr("authorizedWithdrawer"),Ye.u8("commission"),Ye._O(),Ye.A9(Ye.n_([Ye._O("slot"),Ye.Jq("confirmationCount")]),Ye.cv(Ye.Jq(),-8),"votes"),Ye.u8("rootSlotValid"),Ye._O("rootSlot"),Ye._O(),Ye.A9(Ye.n_([Ye._O("epoch"),cr("authorizedVoter")]),Ye.cv(Ye.Jq(),-8),"authorizedVoters"),Ye.n_([Ye.A9(Ye.n_([cr("authorizedPubkey"),Ye._O("epochOfLastAuthorizedSwitch"),Ye._O("targetEpoch")]),32,"buf"),Ye._O("idx"),Ye.u8("isEmpty")],"priorVoters"),Ye._O(),Ye.A9(Ye.n_([Ye._O("epoch"),Ye._O("credits"),Ye._O("prevCredits")]),Ye.cv(Ye.Jq(),-8),"epochCredits"),Ye.n_([Ye._O("slot"),Ye._O("timestamp")],"lastTimestamp")]);class ys{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=gs.decode(Qn(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new ys({nodePubkey:new er(t.nodePubkey),authorizedWithdrawer:new er(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(bs),priorVoters:vs(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function bs({authorizedVoter:e,epoch:t}){return{epoch:t,authorizedVoter:new er(e)}}function ws({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new er(e),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function vs({buf:e,idx:t,isEmpty:n}){return n?[]:[...e.slice(t+1).map(ws),...e.slice(0,t).map(ws)]}const Ss={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function As(e,t){const n=!1===t?"http":"https";if(!e)return Ss[n].devnet;const r=Ss[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}async function ks(e,t,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),u=o&&o.commitment,c=i?e.confirmTransaction(i,u):e.confirmTransaction(a,u),l=(await c).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const _s=1e9},2495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var r,i=n(1312),o=n.n(i),s=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(o());var u=n(9990),c=n(1511),l=n.n(c);class d extends(o()){constructor(e,t){var n,r;if(super(),n=this,this._handleMessage=e=>{if(this._injectedProvider&&e.source===window||e.origin===this._providerUrl.origin&&e.source===this._popup)if("connected"===e.data.method){const t=new u.PublicKey(e.data.params.publicKey);this._publicKey&&this._publicKey.equals(t)||(this._publicKey&&!this._publicKey.equals(t)&&this._handleDisconnect(),this._publicKey=t,this._autoApprove=!!e.data.params.autoApprove,this.emit("connect",this._publicKey))}else if("disconnected"===e.data.method)this._handleDisconnect();else if((e.data.result||e.data.error)&&this._responsePromises.has(e.data.id)){const[t,n]=this._responsePromises.get(e.data.id);e.data.result?t(e.data.result):n(new Error(e.data.error))}},this._handleConnect=()=>(this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this._handleMessage),window.addEventListener("beforeunload",this.disconnect)),this._injectedProvider?new Promise((e=>{this._sendRequest("connect",{}),e()})):(window.name="parent",this._popup=window.open(this._providerUrl.toString(),"_blank","location,resizable,width=460,height=675"),new Promise((e=>{this.once("connect",e)})))),this._handleDisconnect=()=>{this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this._handleMessage),window.removeEventListener("beforeunload",this.disconnect)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach((([e,t],n)=>{this._responsePromises.delete(n),t("Wallet disconnected")}))},this._sendRequest=async function(e,t){if("connect"!==e&&!n.connected)throw new Error("Wallet not connected");const r=n._nextRequestId;return++n._nextRequestId,new Promise(((i,o)=>{n._responsePromises.set(r,[i,o]),n._injectedProvider?n._injectedProvider.postMessage({jsonrpc:"2.0",id:r,method:e,params:{network:n._network,...t}}):(n._popup.postMessage({jsonrpc:"2.0",id:r,method:e,params:t},n._providerUrl.origin),n.autoApprove||n._popup.focus())}))},this.connect=()=>(this._popup&&this._popup.close(),this._handleConnect()),this.disconnect=async function(){n._injectedProvider&&await n._sendRequest("disconnect",{}),n._popup&&n._popup.close(),n._handleDisconnect()},this.sign=async function(e,t){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const r=await n._sendRequest("sign",{data:e,display:t});return{signature:l().decode(r.signature),publicKey:new u.PublicKey(r.publicKey)}},this.signTransaction=async function(e){const t=await n._sendRequest("signTransaction",{message:l().encode(e.serializeMessage())}),r=l().decode(t.signature),i=new u.PublicKey(t.publicKey);return e.addSignature(i,r),e},this.signAllTransactions=async function(e){const t=await n._sendRequest("signAllTransactions",{messages:e.map((e=>l().encode(e.serializeMessage())))}),r=t.signatures.map((e=>l().decode(e))),i=new u.PublicKey(t.publicKey);return e.map(((e,t)=>(e.addSignature(i,r[t]),e)))},function(e){return"object"==typeof e&&null!==e}(r=e)&&function(e){return"function"==typeof e}(r.postMessage))this._injectedProvider=e;else{if(!function(e){return"string"==typeof e}(e))throw new Error("provider parameter must be an injected provider or a URL string.");this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:t}).toString()}this._network=t,this._publicKey=null,this._autoApprove=!1,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._responsePromises=new Map}get publicKey(){return this._publicKey}get connected(){return null!==this._publicKey}get autoApprove(){return this._autoApprove}}const f=d;var p=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};const g=function(e){function t(t,n,r){var i=e.call(this)||this;return i._instance=null,i.handleMessage=function(e){},i._sendRequest=function(e,t){return h(i,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return this._instance.sendRequest?[4,this._instance.sendRequest(e,t)]:[3,2];case 1:case 3:return[2,n.sent()];case 2:return this._instance._sendRequest?[4,this._instance._sendRequest(e,t)]:[3,4];case 4:throw new Error("Unsupported version of `@project-serum/sol-wallet-adapter`")}}))}))},i._handleConnect=function(){i.emit("connect")},i._handleDisconnect=function(){window.clearInterval(i._pollTimer),i.emit("disconnect")},i._network=n,i._provider=r,i}return p(t,e),Object.defineProperty(t.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),t.prototype.connect=function(){return h(this,void 0,void 0,(function(){var e=this;return m(this,(function(t){switch(t.label){case 0:return this._instance=new f(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval((function(){var t,n;!1!==(null===(n=null===(t=e._instance)||void 0===t?void 0:t._popup)||void 0===n?void 0:n.closed)&&e._handleDisconnect()}),200),[4,this._instance.connect()];case 1:return t.sent(),[2]}}))}))},t.prototype.disconnect=function(){return h(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return e.sent(),[2]}}))}))},t.prototype.signTransaction=function(e){return h(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signTransaction",{message:l().encode(e)})];case 1:return t=n.sent(),[2,l().decode(t.signature)]}}))}))},t.prototype.signAllTransactions=function(e){return h(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._sendRequest("signAllTransactions",{messages:e.map((function(e){return l().encode(e)}))})];case 1:return[2,t.sent().signatures.map((function(e){return l().decode(e)}))]}}))}))},t.prototype.signMessage=function(e,t){return void 0===t&&(t="hex"),h(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(e,t)];case 1:return n=r.sent().signature,[2,Uint8Array.from(n)]}}))}))},t}(a);var y=n(2675),b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},w.apply(this,arguments)},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},S=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},A=function(e){function t(t,n){var r,i=this;return(i=e.call(this)||this)._publicKey=null,i._messageHandlers={},i.handleMessage=function(e){if(i._messageHandlers[e.id]){var t=i._messageHandlers[e.id],n=t.resolve,r=t.reject;delete i._messageHandlers[e.id],e.error?r(e.error):n(e.result)}},i._sendMessage=function(e){if(!i.connected)throw new Error("Wallet not connected");return new Promise((function(t,n){var r,o,s=(0,y.Z)();i._messageHandlers[s]={resolve:t,reject:n},null===(o=null===(r=i._iframe)||void 0===r?void 0:r.contentWindow)||void 0===o||o.postMessage({channel:"solflareWalletAdapterToIframe",data:w({id:s},e)},"*")}))},i._iframe=t,i._publicKey=new u.PublicKey(null===(r=null==n?void 0:n.toString)||void 0===r?void 0:r.call(n)),i}return b(t,e),Object.defineProperty(t.prototype,"publicKey",{get:function(){return this._publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.connect=function(){return v(this,void 0,void 0,(function(){return S(this,(function(e){return[2]}))}))},t.prototype.disconnect=function(){return v(this,void 0,void 0,(function(){return S(this,(function(e){switch(e.label){case 0:return[4,this._sendMessage({method:"disconnect"})];case 1:return e.sent(),[2]}}))}))},t.prototype.signTransaction=function(e){return v(this,void 0,void 0,(function(){var t,n;return S(this,(function(r){switch(r.label){case 0:if(!this.connected)throw new Error("Wallet not connected");r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._sendMessage({method:"signTransaction",params:{message:l().encode(e)}})];case 2:return t=r.sent().signature,[2,l().decode(t)];case 3:throw n=r.sent(),console.log(n),new Error("Failed to sign transaction");case 4:return[2]}}))}))},t.prototype.signAllTransactions=function(e){return v(this,void 0,void 0,(function(){var t;return S(this,(function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._sendMessage({method:"signAllTransactions",params:{messages:e.map((function(e){return l().encode(e)}))}})];case 2:return[2,n.sent().signatures.map((function(e){return l().decode(e)}))];case 3:throw t=n.sent(),console.log(t),new Error("Failed to sign transactions");case 4:return[2]}}))}))},t.prototype.signMessage=function(e,t){return void 0===t&&(t="hex"),v(this,void 0,void 0,(function(){var n,r;return S(this,(function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._sendMessage({method:"signMessage",params:{data:e,display:t}})];case 2:return n=i.sent(),[2,Uint8Array.from(l().decode(n))];case 3:throw r=i.sent(),console.log(r),new Error("Failed to sign message");case 4:return[2]}}))}))},t}(a);const k=A;function _(e){return void 0===e.version}var M=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};const P=function(e){function t(n){var r=e.call(this)||this;return r._network="mainnet-beta",r._provider=null,r._adapterInstance=null,r._element=null,r._iframe=null,r._connectHandler=null,r._flutterHandlerInterval=null,r._handleEvent=function(e){var t,n,i;switch(e.type){case"connect_native_web":return r._collapseIframe(),r._adapterInstance=new g(r._iframe,r._network,(null===(t=e.data)||void 0===t?void 0:t.provider)||r._provider||"https://solflare.com/provider"),r._adapterInstance.on("connect",r._webConnected),r._adapterInstance.on("disconnect",r._webDisconnected),r._adapterInstance.connect(),void r._setPreferredAdapter("native_web");case"connect":return r._collapseIframe(),r._adapterInstance=new k(r._iframe,(null===(n=e.data)||void 0===n?void 0:n.publicKey)||""),r._adapterInstance.connect(),r._setPreferredAdapter(null===(i=e.data)||void 0===i?void 0:i.adapter),r._connectHandler&&(r._connectHandler.resolve(),r._connectHandler=null),void r.emit("connect",r.publicKey);case"disconnect":return r._connectHandler&&(r._connectHandler.reject(),r._connectHandler=null),r._disconnected(),void r.emit("disconnect");case"collapse":return void r._collapseIframe();default:return}},r._handleResize=function(e){"full"===e.resizeMode?"fullscreen"===e.params.mode?r._expandIframe():"hide"===e.params.mode&&r._collapseIframe():"coordinates"===e.resizeMode&&r._iframe&&(r._iframe.style.top=isFinite(e.params.top)?"".concat(e.params.top,"px"):"",r._iframe.style.bottom=isFinite(e.params.bottom)?"".concat(e.params.bottom,"px"):"",r._iframe.style.left=isFinite(e.params.left)?"".concat(e.params.left,"px"):"",r._iframe.style.right=isFinite(e.params.right)?"".concat(e.params.right,"px"):"",r._iframe.style.width=isFinite(e.params.width)?"".concat(e.params.width,"px"):e.params.width,r._iframe.style.height=isFinite(e.params.height)?"".concat(e.params.height,"px"):e.params.height)},r._handleMessage=function(e){var t;if("solflareIframeToWalletAdapter"===(null===(t=e.data)||void 0===t?void 0:t.channel)){var n=e.data.data||{};"event"===n.type?r._handleEvent(n.event):"resize"===n.type?r._handleResize(n):"response"===n.type&&r._adapterInstance&&r._adapterInstance.handleMessage(n)}},r._removeElement=function(){null!==r._flutterHandlerInterval&&(clearInterval(r._flutterHandlerInterval),r._flutterHandlerInterval=null),r._element&&(r._element.remove(),r._element=null)},r._removeDanglingElements=function(){var e,t,n=document.getElementsByClassName("solflare-wallet-adapter-iframe");try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),i=r.next();!i.done;i=r.next()){var o=i.value;o.parentElement&&o.remove()}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},r._injectElement=function(){r._removeElement(),r._removeDanglingElements();var e="".concat(t.IFRAME_URL,"?cluster=").concat(encodeURIComponent(r._network),"&origin=").concat(encodeURIComponent(window.location.origin),"&version=1"),n=r._getPreferredAdapter();n&&(e+="&adapter=".concat(encodeURIComponent(n))),r._element=document.createElement("div"),r._element.className="solflare-wallet-adapter-iframe",r._element.innerHTML="\n      <iframe src='".concat(e,"' style='position: fixed; top: 0; bottom: 0; left: 0; right: 0; width: 100%; height: 100%; border: none; border-radius: 0; z-index: 99999; color-scheme: auto;' allowtransparency='true'></iframe>\n    "),document.body.appendChild(r._element),r._iframe=r._element.querySelector("iframe"),window.fromFlutter=r._handleMobileMessage,r._flutterHandlerInterval=setInterval((function(){window.fromFlutter=r._handleMobileMessage}),100),window.addEventListener("message",r._handleMessage,!1)},r._collapseIframe=function(){r._iframe&&(r._iframe.style.top="",r._iframe.style.right="",r._iframe.style.height="2px",r._iframe.style.width="2px")},r._expandIframe=function(){r._iframe&&(r._iframe.style.top="0px",r._iframe.style.bottom="0px",r._iframe.style.left="0px",r._iframe.style.right="0px",r._iframe.style.width="100%",r._iframe.style.height="100%")},r._getPreferredAdapter=function(){return localStorage&&localStorage.getItem("solflarePreferredWalletAdapter")||null},r._setPreferredAdapter=function(e){localStorage&&e&&localStorage.setItem("solflarePreferredWalletAdapter",e)},r._clearPreferredAdapter=function(){localStorage&&localStorage.removeItem("solflarePreferredWalletAdapter")},r._webConnected=function(){r._connectHandler&&(r._connectHandler.resolve(),r._connectHandler=null),r.emit("connect",r.publicKey)},r._webDisconnected=function(){r._connectHandler&&(r._connectHandler.reject(),r._connectHandler=null),r._disconnected(),r.emit("disconnect")},r._disconnected=function(){window.removeEventListener("message",r._handleMessage,!1),r._removeElement(),r._clearPreferredAdapter(),r._adapterInstance=null},r._handleMobileMessage=function(e){var t,n;null===(n=null===(t=r._iframe)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage({channel:"solflareMobileToIframe",data:e},"*")},(null==n?void 0:n.network)&&(r._network=null==n?void 0:n.network),(null==n?void 0:n.provider)&&(r._provider=null==n?void 0:n.provider),r}return M(t,e),Object.defineProperty(t.prototype,"publicKey",{get:function(){var e;return(null===(e=this._adapterInstance)||void 0===e?void 0:e.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isConnected",{get:function(){var e;return!!(null===(e=this._adapterInstance)||void 0===e?void 0:e.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.connect=function(){return I(this,void 0,void 0,(function(){var e=this;return E(this,(function(t){switch(t.label){case 0:return this.connected?[2]:(this._injectElement(),[4,new Promise((function(t,n){e._connectHandler={resolve:t,reject:n}}))]);case 1:return t.sent(),[2]}}))}))},t.prototype.disconnect=function(){return I(this,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return e.sent(),this._disconnected(),this.emit("disconnect"),[2]}}))}))},t.prototype.signTransaction=function(e){return I(this,void 0,void 0,(function(){var t,n,r,i,o=this;return E(this,(function(s){switch(s.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return t=_(e)?e.serializeMessage():e.message.serialize(),[4,this._adapterInstance.signTransaction(t)];case 1:return n=s.sent(),_(e)?e.addSignature(this.publicKey,Buffer.from(n)):(r=e.message.staticAccountKeys.slice(0,e.message.header.numRequiredSignatures),(i=r.findIndex((function(e){return e.equals(o.publicKey)})))>=0&&(e.signatures[i]=n)),[2,e]}}))}))},t.prototype.signAllTransactions=function(e){return I(this,void 0,void 0,(function(){var t,n,r,i,o,s,a=this;return E(this,(function(u){switch(u.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return t=e.map((function(e){return _(e)?e.serializeMessage():e.message.serialize()})),[4,this._adapterInstance.signAllTransactions(t)];case 1:for(n=u.sent(),r=0;r<e.length;r++)_(i=e[r])?i.addSignature(this.publicKey,Buffer.from(n[r])):(o=i.message.staticAccountKeys.slice(0,i.message.header.numRequiredSignatures),(s=o.findIndex((function(e){return e.equals(a.publicKey)})))>=0&&(i.signatures[s]=n[r]));return[2,e]}}))}))},t.prototype.signMessage=function(e,t){return void 0===t&&(t="utf8"),I(this,void 0,void 0,(function(){return E(this,(function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.sign=function(e,t){return void 0===t&&(t="utf8"),I(this,void 0,void 0,(function(){return E(this,(function(n){switch(n.label){case 0:return[4,this.signMessage(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.detectWallet=function(e){var t;return void 0===e&&(e=10),I(this,void 0,void 0,(function(){return E(this,(function(n){return window.SolflareApp||(null===(t=window.solflare)||void 0===t?void 0:t.isSolflare)?[2,!0]:[2,new Promise((function(t){var n,r;n=setInterval((function(){var e;(window.SolflareApp||(null===(e=window.solflare)||void 0===e?void 0:e.isSolflare))&&(clearInterval(n),clearTimeout(r),t(!0))}),500),r=setTimeout((function(){clearInterval(n),t(!1)}),1e3*e)}))]}))}))},t.IFRAME_URL="https://connect.solflare.com/",t}(o())},7156:(e,t)=>{"use strict";function n(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}t.Z=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,u,"next",e)}function u(e){n(s,i,o,a,u,"throw",e)}a(void 0)}))}}},5955:(e,t)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}t.Z=function(){return n.apply(this,arguments)}},7022:(e,t)=>{"use strict";t.Z=function(e){return e&&e.__esModule?e:{default:e}}},8889:(e,t)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}t.Z=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}},5997:(e,t)=>{"use strict";t.Z=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},2943:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i,o,s=n(9022).codes,a=s.ERR_AMBIGUOUS_ARGUMENT,u=s.ERR_INVALID_ARG_TYPE,c=s.ERR_INVALID_ARG_VALUE,l=s.ERR_INVALID_RETURN_VALUE,d=s.ERR_MISSING_ARGS,f=n(6986),p=n(3585).inspect,h=n(3585).types,m=h.isPromise,g=h.isRegExp,y=Object.assign?Object.assign:n(858).assign,b=Object.is?Object.is:n(2373);function w(){var e=n(23);i=e.isDeepEqual,o=e.isDeepStrictEqual}new Map;var v=!1,S=e.exports=M,A={};function k(e){if(e.message instanceof Error)throw e.message;throw new f(e)}function _(e,t,n,r){if(!n){var i=!1;if(0===t)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new f({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.apply(void 0,[M,t.length].concat(t))}S.fail=function e(t,n,r,i,o){var s,a=arguments.length;if(0===a)s="Failed";else if(1===a)r=t,t=void 0;else{if(!1===v){v=!0;var u=process.emitWarning?process.emitWarning:console.warn.bind(console);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===a&&(i="!=")}if(r instanceof Error)throw r;var c={actual:t,expected:n,operator:void 0===i?"fail":i,stackStartFn:o||e};void 0!==r&&(c.message=r);var l=new f(c);throw s&&(l.message=s,l.generatedMessage=!0),l},S.AssertionError=f,S.ok=M,S.equal=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");t!=n&&k({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})},S.notEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");t==n&&k({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})},S.deepEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===i&&w(),i(t,n)||k({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})},S.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===i&&w(),i(t,n)&&k({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})},S.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===i&&w(),o(t,n)||k({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})},S.notDeepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");void 0===i&&w(),o(t,n)&&k({actual:t,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:e})},S.strictEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");b(t,n)||k({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})},S.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new d("actual","expected");b(t,n)&&k({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var I=function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.forEach((function(e){e in t&&(void 0!==r&&"string"==typeof r[e]&&g(t[e])&&t[e].test(r[e])?i[e]=r[e]:i[e]=t[e])}))};function E(e,t,n,r,i,s){if(!(n in e)||!o(e[n],t[n])){if(!r){var a=new I(e,i),u=new I(t,i,e),c=new f({actual:a,expected:u,operator:"deepStrictEqual",stackStartFn:s});throw c.actual=e,c.expected=t,c.operator=s.name,c}k({actual:e,expected:t,message:r,operator:s.name,stackStartFn:s})}}function P(e,t,n,o){if("function"!=typeof t){if(g(t))return t.test(e);if(2===arguments.length)throw new u("expected",["Function","RegExp"],t);if("object"!==r(e)||null===e){var s=new f({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:o});throw s.operator=o.name,s}var a=Object.keys(t);if(t instanceof Error)a.push("name","message");else if(0===a.length)throw new c("error",t,"may not be an empty object");return void 0===i&&w(),a.forEach((function(r){"string"==typeof e[r]&&g(t[r])&&t[r].test(e[r])||E(e,t,r,n,a,o)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function T(e){if("function"!=typeof e)throw new u("fn","Function",e);try{e()}catch(e){return e}return A}function O(e){return m(e)||null!==e&&"object"===r(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function x(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!O(t=e()))throw new l("instance of Promise","promiseFn",t)}else{if(!O(e))throw new u("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return A})).catch((function(e){return e}))}))}function B(e,t,n,i){if("string"==typeof n){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],n);if("object"===r(t)&&null!==t){if(t.message===n)throw new a("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new a("error/message",'The error "'.concat(t,'" is identical to the message.'));i=n,n=void 0}else if(null!=n&&"object"!==r(n)&&"function"!=typeof n)throw new u("error",["Object","Error","Function","RegExp"],n);if(t===A){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=i?": ".concat(i):".";var s="rejects"===e.name?"rejection":"exception";k({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:e})}if(n&&!P(t,n,i,e))throw t}function L(e,t,n,r){if(t!==A){if("string"==typeof n&&(r=n,n=void 0),!n||P(t,n)){var i=r?": ".concat(r):".",o="doesNotReject"===e.name?"rejection":"exception";k({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.apply(void 0,[C,t.length].concat(t))}S.throws=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];B.apply(void 0,[e,T(t)].concat(r))},S.rejects=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return x(t).then((function(t){return B.apply(void 0,[e,t].concat(r))}))},S.doesNotThrow=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];L.apply(void 0,[e,T(t)].concat(r))},S.doesNotReject=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return x(t).then((function(t){return L.apply(void 0,[e,t].concat(r))}))},S.ifError=function e(t){if(null!=t){var n="ifError got unwanted exception: ";"object"===r(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=p(t);var i=new f({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),o=t.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var a=i.stack.split("\n"),u=0;u<s.length;u++){var c=a.indexOf(s[u]);if(-1!==c){a=a.slice(0,c);break}}i.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw i}},S.strict=y(C,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict},6986:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},a(e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},c.apply(null,arguments)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var p=n(3585).inspect,h=n(9022).codes.ERR_INVALID_ARG_TYPE;function m(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}var g="",y="",b="",w="",v={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function S(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){n[t]=e[t]})),Object.defineProperty(n,"message",{value:e.message}),n}function A(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var k=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==f(e)||null===e)throw new h("options","Object",e);var r=e.message,i=e.operator,a=e.stackStartFn,u=e.actual,c=e.expected,l=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)n=o(this,d(t).call(this,String(r)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&1!==process.stderr.getColorDepth()?(g="[34m",y="[32m",w="[39m",b="[31m"):(g="",y="",w="",b="")),"object"===f(u)&&null!==u&&"object"===f(c)&&null!==c&&"stack"in u&&u instanceof Error&&"stack"in c&&c instanceof Error&&(u=S(u),c=S(c)),"deepStrictEqual"===i||"strictEqual"===i)n=o(this,d(t).call(this,function(e,t,n){var r="",i="",o=0,s="",a=!1,u=A(e),c=u.split("\n"),l=A(t).split("\n"),d=0,p="";if("strictEqual"===n&&"object"===f(e)&&"object"===f(t)&&null!==e&&null!==t&&(n="strictEqualObject"),1===c.length&&1===l.length&&c[0]!==l[0]){var h=c[0].length+l[0].length;if(h<=10){if(!("object"===f(e)&&null!==e||"object"===f(t)&&null!==t||0===e&&0===t))return"".concat(v[n],"\n\n")+"".concat(c[0]," !== ").concat(l[0],"\n")}else if("strictEqualObject"!==n&&h<(process.stderr&&process.stderr.isTTY?process.stderr.columns:80)){for(;c[0][d]===l[0][d];)d++;d>2&&(p="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}(" ",d),"^"),d=0)}}for(var S=c[c.length-1],k=l[l.length-1];S===k&&(d++<2?s="\n  ".concat(S).concat(s):r=S,c.pop(),l.pop(),0!==c.length&&0!==l.length);)S=c[c.length-1],k=l[l.length-1];var _=Math.max(c.length,l.length);if(0===_){var M=u.split("\n");if(M.length>30)for(M[26]="".concat(g,"...").concat(w);M.length>27;)M.pop();return"".concat(v.notIdentical,"\n\n").concat(M.join("\n"),"\n")}d>3&&(s="\n".concat(g,"...").concat(w).concat(s),a=!0),""!==r&&(s="\n  ".concat(r).concat(s),r="");var I=0,E=v[n]+"\n".concat(y,"+ actual").concat(w," ").concat(b,"- expected").concat(w),P=" ".concat(g,"...").concat(w," Lines skipped");for(d=0;d<_;d++){var T=d-o;if(c.length<d+1)T>1&&d>2&&(T>4?(i+="\n".concat(g,"...").concat(w),a=!0):T>3&&(i+="\n  ".concat(l[d-2]),I++),i+="\n  ".concat(l[d-1]),I++),o=d,r+="\n".concat(b,"-").concat(w," ").concat(l[d]),I++;else if(l.length<d+1)T>1&&d>2&&(T>4?(i+="\n".concat(g,"...").concat(w),a=!0):T>3&&(i+="\n  ".concat(c[d-2]),I++),i+="\n  ".concat(c[d-1]),I++),o=d,i+="\n".concat(y,"+").concat(w," ").concat(c[d]),I++;else{var O=l[d],x=c[d],B=x!==O&&(!m(x,",")||x.slice(0,-1)!==O);B&&m(O,",")&&O.slice(0,-1)===x&&(B=!1,x+=","),B?(T>1&&d>2&&(T>4?(i+="\n".concat(g,"...").concat(w),a=!0):T>3&&(i+="\n  ".concat(c[d-2]),I++),i+="\n  ".concat(c[d-1]),I++),o=d,i+="\n".concat(y,"+").concat(w," ").concat(x),r+="\n".concat(b,"-").concat(w," ").concat(O),I+=2):(i+=r,r="",1!==T&&0!==d||(i+="\n  ".concat(x),I++))}if(I>20&&d<_-2)return"".concat(E).concat(P,"\n").concat(i,"\n").concat(g,"...").concat(w).concat(r,"\n")+"".concat(g,"...").concat(w)}return"".concat(E).concat(a?P:"","\n").concat(i).concat(r).concat(s).concat(p)}(u,c,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var p=v[i],k=A(u).split("\n");if("notStrictEqual"===i&&"object"===f(u)&&null!==u&&(p=v.notStrictEqualObject),k.length>30)for(k[26]="".concat(g,"...").concat(w);k.length>27;)k.pop();n=1===k.length?o(this,d(t).call(this,"".concat(p," ").concat(k[0]))):o(this,d(t).call(this,"".concat(p,"\n\n").concat(k.join("\n"),"\n")))}else{var _=A(u),M="",I=v[i];"notDeepEqual"===i||"notEqual"===i?(_="".concat(v[i],"\n\n").concat(_)).length>1024&&(_="".concat(_.slice(0,1021),"...")):(M="".concat(A(c)),_.length>512&&(_="".concat(_.slice(0,509),"...")),M.length>512&&(M="".concat(M.slice(0,509),"...")),"deepEqual"===i||"equal"===i?_="".concat(I,"\n\n").concat(_,"\n\nshould equal\n\n"):M=" ".concat(i," ").concat(M)),n=o(this,d(t).call(this,"".concat(_).concat(M)))}return Error.stackTraceLimit=l,n.generatedMessage=!r,Object.defineProperty(s(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=c,n.operator=i,Error.captureStackTrace&&Error.captureStackTrace(s(n),a),n.stack,n.name="AssertionError",o(n)}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,t){return p(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],a&&i(n.prototype,a),t}(a(Error));e.exports=k},9022:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var s,a,u={};function c(e,t,n){n||(n=Error);var s=function(n){function s(n,o,a){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),u=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,i(s).call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,o,a))),u.code=e,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,n),s}(n);u[e]=s}function l(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",(function(e,t,i){var o,a,u,c,d;if(void 0===s&&(s=n(2943)),s("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))u="The ".concat(e," ").concat(o," ").concat(l(t,"type"));else{var f=("number"!=typeof d&&(d=0),d+".".length>(c=e).length||-1===c.indexOf(".",d)?"argument":"property");u='The "'.concat(e,'" ').concat(f," ").concat(o," ").concat(l(t,"type"))}return u+". Received type ".concat(r(i))}),TypeError),c("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=n(3585));var i=a.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),c("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===s&&(s=n(2943)),s(t.length>0,"At least one arg needs to be specified");var i="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,o-1).join(", "),i+=", and ".concat(t[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),e.exports.codes=u},23:(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=void 0!==/a/g.flags,s=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},a=function(e){var t=[];return e.forEach((function(e,n){return t.push([n,e])})),t},u=Object.is?Object.is:n(2373),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:n(5757);function d(e){return e.call.bind(e)}var f=d(Object.prototype.hasOwnProperty),p=d(Object.prototype.propertyIsEnumerable),h=d(Object.prototype.toString),m=n(3585).types,g=m.isAnyArrayBuffer,y=m.isArrayBufferView,b=m.isDate,w=m.isMap,v=m.isRegExp,S=m.isSet,A=m.isNativeError,k=m.isBoxedPrimitive,_=m.isNumberObject,M=m.isStringObject,I=m.isBooleanObject,E=m.isBigIntObject,P=m.isSymbolObject,T=m.isFloat32Array,O=m.isFloat64Array;function x(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function B(e){return Object.keys(e).filter(x).concat(c(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function L(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function C(e,t,n,r){if(e===t)return 0!==e||!n||u(e,t);if(n){if("object"!==i(e))return"number"==typeof e&&l(e)&&l(t);if("object"!==i(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==i(e))return(null===t||"object"!==i(t))&&e==t;if(null===t||"object"!==i(t))return!1}var s,a,c,d,f=h(e);if(f!==h(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var p=B(e),m=B(t);return p.length===m.length&&N(e,t,n,r,1,p)}if("[object Object]"===f&&(!w(e)&&w(t)||!S(e)&&S(t)))return!1;if(b(e)){if(!b(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(v(e)){if(!v(t)||(c=e,d=t,!(o?c.source===d.source&&c.flags===d.flags:RegExp.prototype.toString.call(c)===RegExp.prototype.toString.call(d))))return!1}else if(A(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(y(e)){if(n||!T(e)&&!O(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===L(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e,t))return!1;var x=B(e),C=B(t);return x.length===C.length&&N(e,t,n,r,0,x)}if(S(e))return!(!S(t)||e.size!==t.size)&&N(e,t,n,r,2);if(w(e))return!(!w(t)||e.size!==t.size)&&N(e,t,n,r,3);if(g(e)){if(a=t,(s=e).byteLength!==a.byteLength||0!==L(new Uint8Array(s),new Uint8Array(a)))return!1}else if(k(e)&&!function(e,t){return _(e)?_(t)&&u(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):M(e)?M(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):I(e)?I(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):E(e)?E(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):P(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return N(e,t,n,r,0)}function R(e,t){return t.filter((function(t){return p(e,t)}))}function N(e,t,n,r,i,o){if(5===arguments.length){o=Object.keys(e);var s=Object.keys(t);if(o.length!==s.length)return!1}for(var a=0;a<o.length;a++)if(!f(t,o[a]))return!1;if(n&&5===arguments.length){var u=c(e);if(0!==u.length){var l=0;for(a=0;a<u.length;a++){var d=u[a];if(p(e,d)){if(!p(t,d))return!1;o.push(d),l++}else if(p(t,d))return!1}var h=c(t);if(u.length!==h.length&&R(t,h).length!==l)return!1}else{var m=c(t);if(0!==m.length&&0!==R(t,m).length)return!1}}if(0===o.length&&(0===i||1===i&&0===e.length||0===e.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var g=r.val1.get(e);if(void 0!==g){var y=r.val2.get(t);if(void 0!==y)return g===y}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var b=z(e,t,n,o,r,i);return r.val1.delete(e),r.val2.delete(t),b}function D(e,t,n,r){for(var i=s(e),o=0;o<i.length;o++){var a=i[o];if(C(t,a,n,r))return e.delete(a),!0}return!1}function F(e){switch(i(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(l(e))return!1}return!0}function K(e,t,n){var r=F(n);return null!=r?r:t.has(r)&&!e.has(r)}function U(e,t,n,r,i){var o=F(n);if(null!=o)return o;var s=t.get(o);return!(void 0===s&&!t.has(o)||!C(r,s,!1,i))&&!e.has(o)&&C(r,s,!1,i)}function W(e,t,n,r,i,o){for(var a=s(e),u=0;u<a.length;u++){var c=a[u];if(C(n,c,i,o)&&C(r,t.get(c),i,o))return e.delete(c),!0}return!1}function z(e,t,n,o,u,c){var l=0;if(2===c){if(!function(e,t,n,r){for(var o=null,a=s(e),u=0;u<a.length;u++){var c=a[u];if("object"===i(c)&&null!==c)null===o&&(o=new Set),o.add(c);else if(!t.has(c)){if(n)return!1;if(!K(e,t,c))return!1;null===o&&(o=new Set),o.add(c)}}if(null!==o){for(var l=s(t),d=0;d<l.length;d++){var f=l[d];if("object"===i(f)&&null!==f){if(!D(o,f,n,r))return!1}else if(!n&&!e.has(f)&&!D(o,f,n,r))return!1}return 0===o.size}return!0}(e,t,n,u))return!1}else if(3===c){if(!function(e,t,n,o){for(var s=null,u=a(e),c=0;c<u.length;c++){var l=r(u[c],2),d=l[0],f=l[1];if("object"===i(d)&&null!==d)null===s&&(s=new Set),s.add(d);else{var p=t.get(d);if(void 0===p&&!t.has(d)||!C(f,p,n,o)){if(n)return!1;if(!U(e,t,d,f,o))return!1;null===s&&(s=new Set),s.add(d)}}}if(null!==s){for(var h=a(t),m=0;m<h.length;m++){var g=r(h[m],2),y=(d=g[0],g[1]);if("object"===i(d)&&null!==d){if(!W(s,e,d,y,n,o))return!1}else if(!(n||e.has(d)&&C(e.get(d),y,!1,o)||W(s,e,d,y,!1,o)))return!1}return 0===s.size}return!0}(e,t,n,u))return!1}else if(1===c)for(;l<e.length;l++){if(!f(e,l)){if(f(t,l))return!1;for(var d=Object.keys(e);l<d.length;l++){var p=d[l];if(!f(t,p)||!C(e[p],t[p],n,u))return!1}return d.length===Object.keys(t).length}if(!f(t,l)||!C(e[l],t[l],n,u))return!1}for(l=0;l<o.length;l++){var h=o[l];if(!C(e[h],t[h],n,u))return!1}return!0}e.exports={isDeepEqual:function(e,t){return C(e,t,!1)},isDeepStrictEqual:function(e,t){return C(e,t,!0)}}},2698:(e,t,n)=>{n(4732)},6581:(e,t,n)=>{"use strict";var r=n(1599),i=n(8074),o=n(9247),s=n(370),a=n(5916),u=n(3935),c=n(2270),l=n(6736),d=n(5400),f=n(273);e.exports=function(e){return new Promise((function(t,n){var p,h=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(h)&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+v)}var S=a(e.baseURL,e.url);function A(){if(b){var r="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),y()}),(function(e){n(e),y()}),o),b=null}}if(b.open(e.method.toUpperCase(),s(S,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=A:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(A)},b.onabort=function(){b&&(n(l("Request aborted",e,"ECONNABORTED",b)),b=null)},b.onerror=function(){n(l("Network Error",e,null,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||c(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in b&&r.forEach(m,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),g&&"json"!==g&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){b&&(n(!e||e&&e.type?new f("canceled"):e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),b.send(h)}))}},4732:(e,t,n)=>{"use strict";var r=n(1599),i=n(3417),o=n(9036),s=n(7338),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(5400));a.Axios=o,a.Cancel=n(273),a.CancelToken=n(8862),a.isCancel=n(5782),a.VERSION=n(4049).version,a.all=function(e){return Promise.all(e)},a.spread=n(7921),a.isAxiosError=n(6219),e.exports=a,e.exports.default=a},273:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},8862:(e,t,n)=>{"use strict";var r=n(273);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5782:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},9036:(e,t,n)=>{"use strict";var r=n(1599),i=n(370),o=n(5318),s=n(6459),a=n(7338),u=n(7817),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var f=t;r.length;){var p=r.shift(),h=r.shift();try{f=p(f)}catch(e){h(e);break}}try{o=s(f)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},5318:(e,t,n)=>{"use strict";var r=n(1599);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},5916:(e,t,n)=>{"use strict";var r=n(8134),i=n(9210);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6736:(e,t,n)=>{"use strict";var r=n(3290);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},6459:(e,t,n)=>{"use strict";var r=n(1599),i=n(7816),o=n(5782),s=n(5400),a=n(273);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},3290:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7338:(e,t,n)=>{"use strict";var r=n(1599);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},8074:(e,t,n)=>{"use strict";var r=n(6736);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},7816:(e,t,n)=>{"use strict";var r=n(1599),i=n(5400);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5400:(e,t,n)=>{"use strict";var r=n(1599),i=n(937),o=n(3290),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(6581)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c},4049:e=>{e.exports={version:"0.25.0"}},3417:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},370:(e,t,n)=>{"use strict";var r=n(1599);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9210:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9247:(e,t,n)=>{"use strict";var r=n(1599);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8134:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6219:(e,t,n)=>{"use strict";var r=n(1599);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},2270:(e,t,n)=>{"use strict";var r=n(1599);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},937:(e,t,n)=>{"use strict";var r=n(1599);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3935:(e,t,n)=>{"use strict";var r=n(1599),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},7921:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7817:(e,t,n)=>{"use strict";var r=n(4049).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},1599:(e,t,n)=>{"use strict";var r=n(3417),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},5529:(e,t,n)=>{"use strict";var r=n(1874).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===u;)i++,n++;for(var s=(e.length-n)*c+1>>>0,l=new Uint8Array(s);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var f=0,p=s-1;(0!==d||f<o)&&-1!==p;p--,f++)d+=a*l[p]>>>0,l[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=f,n++}for(var h=s-o;h!==s&&0===l[h];)h++;var m=r.allocUnsafe(i+(s-h));m.fill(0,0,i);for(var g=i;h!==s;)m[g++]=l[h++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var c=(s-o)*l+1>>>0,d=new Uint8Array(c);o!==s;){for(var f=t[o],p=0,h=c-1;(0!==f||p<i)&&-1!==h;h--,p++)f+=256*d[h]>>>0,d[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");i=p,o++}for(var m=c-i;m!==c&&0===d[m];)m++;for(var g=u.repeat(n);m<c;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},5415:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},6061:function(e,t,n){var r;!function(i){"use strict";var o,s=1e6,a="[big.js] ",u=a+"Invalid ",c=u+"decimal places",l=u+"rounding mode",d=a+"Division by zero",f={},p=void 0,h=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,r){var i=e.c,o=e.e+t+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||i[o+1]!==p||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error(l);if(o<1)i.length=1,r?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++e.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error(l);return e}function g(e,t,n,r){var i,o,a=e.constructor,l=!e.c[0];if(n!==p){if(n!==~~n||n<(3==t)||n>s)throw Error(3==t?u+"precision":c);for(n=r-(e=new a(e)).e,e.c.length>++r&&m(e,n,a.RM),2==t&&(r=e.e+n+1);e.c.length<r;)e.c.push(0)}if(i=e.e,n=(o=e.c.join("")).length,2!=t&&(1==t||3==t&&r<=i||i<=a.NE||i>=a.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&(!l||4==t)?"-"+o:o}f.abs=function(){var e=new this.constructor(this);return e.s=1,e},f.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,o=n.s,s=e.s,a=n.e,u=e.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=u)return a>u^t?1:-1;for(s=(a=r.length)<(u=i.length)?a:u,o=-1;++o<s;)if(r[o]!=i[o])return r[o]>i[o]^t?1:-1;return a==u?0:a>u^t?1:-1},f.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,o=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>s)throw Error(c);if(!i[0])throw Error(d);if(!r[0])return new n(0*o);var u,l,f,h,g,y=i.slice(),b=u=i.length,w=r.length,v=r.slice(0,u),S=v.length,A=e,k=A.c=[],_=0,M=a+(A.e=t.e-e.e)+1;for(A.s=o,o=M<0?0:M,y.unshift(0);S++<u;)v.push(0);do{for(f=0;f<10;f++){if(u!=(S=v.length))h=u>S?1:-1;else for(g=-1,h=0;++g<u;)if(i[g]!=v[g]){h=i[g]>v[g]?1:-1;break}if(!(h<0))break;for(l=S==u?i:y;S;){if(v[--S]<l[S]){for(g=S;g&&!v[--g];)v[g]=9;--v[g],v[S]+=10}v[S]-=l[S]}for(;!v[0];)v.shift()}k[_++]=h?f:++f,v[0]&&h?v[S]=r[b]||0:v=[r[b]]}while((b++<w||v[0]!==p)&&o--);return k[0]||1==_||(k.shift(),A.e--),_>M&&m(A,a,n.RM,v[0]!==p),A},f.eq=function(e){return!this.cmp(e)},f.gt=function(e){return this.cmp(e)>0},f.gte=function(e){return this.cmp(e)>-1},f.lt=function(e){return this.cmp(e)<0},f.lte=function(e){return this.cmp(e)<1},f.minus=f.sub=function(e){var t,n,r,i,o=this,s=o.constructor,a=o.s,u=(e=new s(e)).s;if(a!=u)return e.s=-u,o.plus(e);var c=o.c.slice(),l=o.e,d=e.c,f=e.e;if(!c[0]||!d[0])return d[0]?(e.s=-u,e):new s(c[0]?o:0);if(a=l-f){for((i=a<0)?(a=-a,r=c):(f=l,r=d),r.reverse(),u=a;u--;)r.push(0);r.reverse()}else for(n=((i=c.length<d.length)?c:d).length,a=u=0;u<n;u++)if(c[u]!=d[u]){i=c[u]<d[u];break}if(i&&(r=c,c=d,d=r,e.s=-e.s),(u=(n=d.length)-(t=c.length))>0)for(;u--;)c[t++]=0;for(u=t;n>a;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=d[n]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--f;return c[0]||(e.s=1,c=[f=0]),e.c=c,e.e=f,e},f.mod=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(d);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=o,t?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=o,this.minus(n.times(e)))},f.plus=f.add=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(i!=o)return e.s=-o,n.minus(e);var s=n.e,a=n.c,u=e.e,c=e.c;if(!a[0]||!c[0])return c[0]?e:new r(a[0]?n:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,t=c):(i=-i,t=a),t.reverse();i--;)t.push(0);t.reverse()}for(a.length-c.length<0&&(t=c,c=a,a=t),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return e.c=a,e.e=u,e},f.pow=function(e){var t=this,n=new t.constructor(1),r=n,i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(u+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?n.div(r):r},f.round=function(e,t){var n=this.constructor;if(e===p)e=0;else if(e!==~~e||e<-s||e>s)throw Error(c);return m(new n(this),e,t===p?n.RM:t)},f.sqrt=function(){var e,t,n,r=this,i=r.constructor,o=r.s,s=r.e,u=new i(.5);if(!r.c[0])return new i(r);if(o<0)throw Error(a+"No square root");0===(o=Math.sqrt(r+""))||o===1/0?((t=r.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new i(((o=Math.sqrt(t))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):e=new i(o),s=e.e+(i.DP+=4);do{n=e,e=u.times(n.plus(r.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,i.DP-=4,i.RM)},f.times=f.mul=function(e){var t,n=this,r=n.constructor,i=n.c,o=(e=new r(e)).c,s=i.length,a=o.length,u=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return new r(0*e.s);for(e.e=u+c,s<a&&(t=i,i=o,o=t,c=s,s=a,a=c),t=new Array(c=s+a);c--;)t[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=t[c]+o[u]*i[c-u-1]+a,t[c--]=a%10,a=a/10|0;t[c]=(t[c]+a)%10}for(a?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},f.toExponential=function(e){return g(this,1,e,e)},f.toFixed=function(e){return g(this,2,e,this.e+e)},f.toPrecision=function(e){return g(this,3,e,e-1)},f.toString=function(){return g(this)},f.valueOf=f.toJSON=function(){return g(this,4)},(o=function e(){function t(n){var r=this;if(!(r instanceof t))return n===p?e():new t(n);n instanceof t?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(e,t){var n,r,i;if(0===t&&1/t<0)t="-0";else if(!h.test(t+=""))throw Error(u+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n),r.constructor=t}return t.prototype=f,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}()).default=o.Big=o,void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},5827:function(e,t,n){var r;!function(i){"use strict";var o,s=1e6,a="[big.js] ",u=a+"Invalid ",c=u+"decimal places",l=a+"Division by zero",d={},f=void 0,p=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,n,r){var i=e.c;if(n===f&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error("[big.js] Invalid rounding mode");if(t<1)r=3===n&&(r||!!i[0])||0===t&&(1===n&&i[0]>=5||2===n&&(i[0]>5||5===i[0]&&(r||i[1]!==f))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=1===n&&i[t]>=5||2===n&&(i[t]>5||5===i[t]&&(r||i[t+1]!==f||1&i[t-1]))||3===n&&(r||!!i[0]),i.length=t,r)for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}for(t=i.length;!i[--t];)i.pop()}return e}function m(e,t,n){var r=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>o)for(r-=o;r--;)i+="0";else r<o&&(i=i.slice(0,r)+"."+i.slice(r));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,o=n.s,s=e.s,a=n.e,u=e.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=u)return a>u^t?1:-1;for(s=(a=r.length)<(u=i.length)?a:u,o=-1;++o<s;)if(r[o]!=i[o])return r[o]>i[o]^t?1:-1;return a==u?0:a>u^t?1:-1},d.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,o=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>s)throw Error(c);if(!i[0])throw Error(l);if(!r[0])return e.s=o,e.c=[e.e=0],e;var u,d,p,m,g,y=i.slice(),b=u=i.length,w=r.length,v=r.slice(0,u),S=v.length,A=e,k=A.c=[],_=0,M=a+(A.e=t.e-e.e)+1;for(A.s=o,o=M<0?0:M,y.unshift(0);S++<u;)v.push(0);do{for(p=0;p<10;p++){if(u!=(S=v.length))m=u>S?1:-1;else for(g=-1,m=0;++g<u;)if(i[g]!=v[g]){m=i[g]>v[g]?1:-1;break}if(!(m<0))break;for(d=S==u?i:y;S;){if(v[--S]<d[S]){for(g=S;g&&!v[--g];)v[g]=9;--v[g],v[S]+=10}v[S]-=d[S]}for(;!v[0];)v.shift()}k[_++]=m?p:++p,v[0]&&m?v[S]=r[b]||0:v=[r[b]]}while((b++<w||v[0]!==f)&&o--);return k[0]||1==_||(k.shift(),A.e--,M--),_>M&&h(A,M,n.RM,v[0]!==f),A},d.eq=function(e){return 0===this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return this.cmp(e)<0},d.lte=function(e){return this.cmp(e)<1},d.minus=d.sub=function(e){var t,n,r,i,o=this,s=o.constructor,a=o.s,u=(e=new s(e)).s;if(a!=u)return e.s=-u,o.plus(e);var c=o.c.slice(),l=o.e,d=e.c,f=e.e;if(!c[0]||!d[0])return d[0]?e.s=-u:c[0]?e=new s(o):e.s=1,e;if(a=l-f){for((i=a<0)?(a=-a,r=c):(f=l,r=d),r.reverse(),u=a;u--;)r.push(0);r.reverse()}else for(n=((i=c.length<d.length)?c:d).length,a=u=0;u<n;u++)if(c[u]!=d[u]){i=c[u]<d[u];break}if(i&&(r=c,c=d,d=r,e.s=-e.s),(u=(n=d.length)-(t=c.length))>0)for(;u--;)c[t++]=0;for(u=t;n>a;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=d[n]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--f;return c[0]||(e.s=1,c=[f=0]),e.c=c,e.e=f,e},d.mod=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(l);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=o,t?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=o,this.minus(n.times(e)))},d.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},d.plus=d.add=function(e){var t,n,r,i=this,o=i.constructor;if(e=new o(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var s=i.e,a=i.c,u=e.e,c=e.c;if(!a[0]||!c[0])return c[0]||(a[0]?e=new o(i):e.s=i.s),e;if(a=a.slice(),t=s-u){for(t>0?(u=s,r=c):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-c.length<0&&(r=c,c=a,a=r),t=c.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+c[t]+n)/10|0;for(n&&(a.unshift(n),++u),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=u,e},d.pow=function(e){var t=this,n=new t.constructor("1"),r=n,i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(u+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?n.div(r):r},d.prec=function(e,t){if(e!==~~e||e<1||e>s)throw Error(u+"precision");return h(new this.constructor(this),e,t)},d.round=function(e,t){if(e===f)e=0;else if(e!==~~e||e<-s||e>s)throw Error(c);return h(new this.constructor(this),e+this.e+1,t)},d.sqrt=function(){var e,t,n,r=this,i=r.constructor,o=r.s,s=r.e,u=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error(a+"No square root");0===(o=Math.sqrt(r+""))||o===1/0?((t=r.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new i(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):e=new i(o+""),s=e.e+(i.DP+=4);do{n=e,e=u.times(n.plus(r.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return h(e,(i.DP-=4)+e.e+1,i.RM)},d.times=d.mul=function(e){var t,n=this,r=n.constructor,i=n.c,o=(e=new r(e)).c,s=i.length,a=o.length,u=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return e.c=[e.e=0],e;for(e.e=u+c,s<a&&(t=i,i=o,o=t,c=s,s=a,a=c),t=new Array(c=s+a);c--;)t[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=t[c]+o[u]*i[c-u-1]+a,t[c--]=a%10,a=a/10|0;t[c]=a}for(a?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},d.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==f){if(e!==~~e||e<0||e>s)throw Error(c);for(n=h(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return m(n,!0,!!r)},d.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==f){if(e!==~~e||e<0||e>s)throw Error(c);for(e=e+(n=h(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return m(n,!1,!!r)},d.toJSON=d.toString=function(){var e=this,t=e.constructor;return m(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},d.toNumber=function(){var e=Number(m(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(a+"Imprecise conversion");return e},d.toPrecision=function(e,t){var n=this,r=n.constructor,i=n.c[0];if(e!==f){if(e!==~~e||e<1||e>s)throw Error(u+"precision");for(n=h(new r(n),e,t);n.c.length<e;)n.c.push(0)}return m(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},d.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(a+"valueOf disallowed");return m(e,e.e<=t.NE||e.e>=t.PE,!0)},(o=function e(){function t(n){var r=this;if(!(r instanceof t))return n===f?e():new t(n);if(n instanceof t)r.s=n.s,r.e=n.e,r.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(u+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,r,i;if(!p.test(t))throw Error(u+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n)}r.constructor=t}return t.prototype=d,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()).default=o.Big=o,void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},3477:(e,t)=>{"use strict";t.oU=function(e){{const t=Buffer.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},t.Q5=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},t.k$=function(e,t){{const n=e.toString(16),r=Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}},t.zP=function(e,t){{const n=e.toString(16);return Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex")}}},9066:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0,t.sqrt=void 0;var i=r(n(9098));t.sqrt=function(e){if(e.lt(new i.default(0)))throw new Error("Sqrt only works on non-negtiave inputs");if(e.lt(new i.default(2)))return e;var n=(0,t.sqrt)(e.shrn(2)).shln(1),r=n.add(new i.default(1));return r.mul(r).gt(e)?n:r},t.default=t.sqrt},9098:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(9391).Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function u(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function c(e,t,n,i){for(var o=0,s=0,a=Math.min(e.length,n),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,s=o%r,a=Math.min(o,o-s)+n,u=0,l=n;l<a;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var d=1;for(u=c(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var l=u>>>26,d=67108863&u,f=Math.min(c,t.length-1),p=Math.max(0,c-e.length+1);p<=f;p++){var h=c-p|0;l+=(s=(i=0|e.words[h])*(o=0|t.words[p])+d)/67108864|0,d=67108863&s}n.words[c]=0|d,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=p[e],l=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);n=(d=d.idivn(l)).isZero()?m+n:f[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===o?(n<e.length&&(e[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===o?(n>=0&&(e[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(t=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<n.length;s++)o=(t=(0|n.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,n){var r,i,o,s=e.words,a=t.words,u=n.words,c=0,l=0|s[0],d=8191&l,f=l>>>13,p=0|s[1],h=8191&p,m=p>>>13,g=0|s[2],y=8191&g,b=g>>>13,w=0|s[3],v=8191&w,S=w>>>13,A=0|s[4],k=8191&A,_=A>>>13,M=0|s[5],I=8191&M,E=M>>>13,P=0|s[6],T=8191&P,O=P>>>13,x=0|s[7],B=8191&x,L=x>>>13,C=0|s[8],R=8191&C,N=C>>>13,D=0|s[9],F=8191&D,K=D>>>13,U=0|a[0],W=8191&U,z=U>>>13,j=0|a[1],q=8191&j,V=j>>>13,H=0|a[2],Q=8191&H,G=H>>>13,X=0|a[3],Y=8191&X,Z=X>>>13,$=0|a[4],J=8191&$,ee=$>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],de=8191&le,fe=le>>>13,pe=0|a[9],he=8191&pe,me=pe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(c+(r=Math.imul(d,W))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,W)|0))<<13)|0;c=((o=Math.imul(f,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(h,W),i=(i=Math.imul(h,z))+Math.imul(m,W)|0,o=Math.imul(m,z);var ye=(c+(r=r+Math.imul(d,q)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(f,q)|0))<<13)|0;c=((o=o+Math.imul(f,V)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,W),i=(i=Math.imul(y,z))+Math.imul(b,W)|0,o=Math.imul(b,z),r=r+Math.imul(h,q)|0,i=(i=i+Math.imul(h,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var be=(c+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(v,W),i=(i=Math.imul(v,z))+Math.imul(S,W)|0,o=Math.imul(S,z),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,V)|0,r=r+Math.imul(h,Q)|0,i=(i=i+Math.imul(h,G)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,G)|0;var we=(c+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(f,Y)|0))<<13)|0;c=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(k,W),i=(i=Math.imul(k,z))+Math.imul(_,W)|0,o=Math.imul(_,z),r=r+Math.imul(v,q)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,G)|0,r=r+Math.imul(h,Y)|0,i=(i=i+Math.imul(h,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var ve=(c+(r=r+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,J)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(I,W),i=(i=Math.imul(I,z))+Math.imul(E,W)|0,o=Math.imul(E,z),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,G)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,Z)|0,r=r+Math.imul(h,J)|0,i=(i=i+Math.imul(h,ee)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,ee)|0;var Se=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(T,W),i=(i=Math.imul(T,z))+Math.imul(O,W)|0,o=Math.imul(O,z),r=r+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,V)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,G)|0,r=r+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(y,J)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,ee)|0,r=r+Math.imul(h,ne)|0,i=(i=i+Math.imul(h,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var Ae=(c+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,se)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,z))+Math.imul(L,W)|0,o=Math.imul(L,z),r=r+Math.imul(T,q)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,V)|0,r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,G)|0,r=r+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(v,J)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,re)|0,r=r+Math.imul(h,oe)|0,i=(i=i+Math.imul(h,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var ke=(c+(r=r+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(R,W),i=(i=Math.imul(R,z))+Math.imul(N,W)|0,o=Math.imul(N,z),r=r+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(L,q)|0,o=o+Math.imul(L,V)|0,r=r+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,G)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,Z)|0,r=r+Math.imul(k,J)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(S,ne)|0,o=o+Math.imul(S,re)|0,r=r+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,r=r+Math.imul(h,ue)|0,i=(i=i+Math.imul(h,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var _e=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(F,W),i=(i=Math.imul(F,z))+Math.imul(K,W)|0,o=Math.imul(K,z),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,G)|0,r=r+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Z)|0,r=r+Math.imul(I,J)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,r=r+Math.imul(h,de)|0,i=(i=i+Math.imul(h,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var Me=(c+(r=r+Math.imul(d,he)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(F,q),i=(i=Math.imul(F,V))+Math.imul(K,q)|0,o=Math.imul(K,V),r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,G)|0,r=r+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Z)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,r=r+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,fe)|0;var Ie=(c+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(m,he)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(F,Q),i=(i=Math.imul(F,G))+Math.imul(K,Q)|0,o=Math.imul(K,G),r=r+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(B,J)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(O,ne)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(v,de)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(S,de)|0,o=o+Math.imul(S,fe)|0;var Ee=(c+(r=r+Math.imul(y,he)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,he)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(F,Y),i=(i=Math.imul(F,Z))+Math.imul(K,Y)|0,o=Math.imul(K,Z),r=r+Math.imul(R,J)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(B,ne)|0,i=(i=i+Math.imul(B,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,r=r+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(k,de)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,fe)|0;var Pe=(c+(r=r+Math.imul(v,he)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(S,he)|0))<<13)|0;c=((o=o+Math.imul(S,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(F,J),i=(i=Math.imul(F,ee))+Math.imul(K,J)|0,o=Math.imul(K,ee),r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,se)|0,r=r+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,ce)|0,r=r+Math.imul(I,de)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(E,de)|0,o=o+Math.imul(E,fe)|0;var Te=(c+(r=r+Math.imul(k,he)|0)|0)+((8191&(i=(i=i+Math.imul(k,me)|0)+Math.imul(_,he)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(F,ne),i=(i=Math.imul(F,re))+Math.imul(K,ne)|0,o=Math.imul(K,re),r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,r=r+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(L,ue)|0,o=o+Math.imul(L,ce)|0,r=r+Math.imul(T,de)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,fe)|0;var Oe=(c+(r=r+Math.imul(I,he)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(E,he)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(F,oe),i=(i=Math.imul(F,se))+Math.imul(K,oe)|0,o=Math.imul(K,se),r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,r=r+Math.imul(B,de)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,fe)|0;var xe=(c+(r=r+Math.imul(T,he)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(O,he)|0))<<13)|0;c=((o=o+Math.imul(O,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(F,ue),i=(i=Math.imul(F,ce))+Math.imul(K,ue)|0,o=Math.imul(K,ce),r=r+Math.imul(R,de)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(N,de)|0,o=o+Math.imul(N,fe)|0;var Be=(c+(r=r+Math.imul(B,he)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(L,he)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(F,de),i=(i=Math.imul(F,fe))+Math.imul(K,de)|0,o=Math.imul(K,fe);var Le=(c+(r=r+Math.imul(R,he)|0)|0)+((8191&(i=(i=i+Math.imul(R,me)|0)+Math.imul(N,he)|0))<<13)|0;c=((o=o+Math.imul(N,me)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ce=(c+(r=Math.imul(F,he))|0)+((8191&(i=(i=Math.imul(F,me))+Math.imul(K,he)|0))<<13)|0;return c=((o=Math.imul(K,me))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=we,u[4]=ve,u[5]=Se,u[6]=Ae,u[7]=ke,u[8]=_e,u[9]=Me,u[10]=Ie,u[11]=Ee,u[12]=Pe,u[13]=Te,u[14]=Oe,u[15]=xe,u[16]=Be,u[17]=Le,u[18]=Ce,0!==c&&(u[19]=c,n.length++),n};function y(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,d=(0|e.words[l])*(0|t.words[c]),f=67108863&d;a=67108863&(f=f+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function b(e,t,n){return y(e,t,n)}function w(e,t){this.x=e,this.y=t}Math.imul||(g=m),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?m(this,e,t):n<1024?y(this,e,t):b(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},w.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},w.prototype.permute=function(e,t,n,r,i,o){for(var s=0;s<o;s++)r[s]=t[e[s]],i[s]=n[e[s]]},w.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=u,f=c,p=0;p<s;p++){var h=n[l+p],m=r[l+p],g=n[l+p+s],y=r[l+p+s],b=d*g-f*y;y=d*y+f*g,g=b,n[l+p]=h+g,r[l+p]=m+y,n[l+p+s]=h-g,r[l+p+s]=m-y,p!==a&&(b=u*d-c*f,f=u*f+c*d,d=b)}},w.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},w.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},w.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},w.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,c,r),this.transform(s,o,a,u,r,i),this.transform(c,o,l,d,r,i);for(var p=0;p<r;p++){var h=a[p]*l[p]-u[p]*d[p];u[p]=a[p]*d[p]+u[p]*l[p],a[p]=h}return this.conjugate(a,u,r),this.transform(a,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<n;this.words[t]=u|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var d=0|this.words[c];this.words[c]=l<<26-o|d>>>o,l=d&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,s=e.length+n;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,a&&(a.words[u]=1));for(var d=u-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/s|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=f)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var f=0,p=1;0==(t.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var h=0,m=1;0==(n.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(n.iushrn(h);h-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(d)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),s.isub(u)):(n.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a)):(n.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new I(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function S(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){I.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},S.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},S.prototype.split=function(e,t){e.iushrn(this.n,0,t)},S.prototype.imulK=function(e){return e.imul(this.k)},i(A,S),A.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},A.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(k,S),i(_,S),i(M,S),M.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new A;else if("p224"===e)t=new k;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return v[e]=t,t},I.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},I.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},I.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},I.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},I.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},I.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},I.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},I.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},I.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},I.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},I.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},I.prototype.isqr=function(e){return this.imul(e,e.clone())},I.prototype.sqr=function(e){return this.mul(e,e)},I.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),p=this.pow(e,i),h=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<h);var y=this.pow(d,new o(1).iushln(h-g-1));f=f.redMul(y),d=y.redSqr(),p=p.redMul(d),h=g}return f},I.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},I.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var d=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}u=26}return i},I.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},I.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},i(E,I),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},8797:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const u=a(n(9098)),c=a(n(1511)),l=s(n(8752)),d=new("function"!=typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"==typeof e&&(e=Buffer.from(e,"utf8")),c.default.encode(Buffer.from(e))},t.baseDecode=function(e){return Buffer.from(c.default.decode(e))};const f=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class h{constructor(){this.buf=Buffer.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(f)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,n){const r=n.value;n.value=function(...e){try{return r.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new p("Reached the end of buffer when deserializing")}throw e}}}t.BinaryWriter=h;class g{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new u.default(e,"le")}readU128(){const e=this.readBuffer(16);return new u.default(e,"le")}readU256(){const e=this.readBuffer(32);return new u.default(e,"le")}readU512(){const e=this.readBuffer(64);return new u.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return d.decode(t)}catch(e){throw new p(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,n,r,i){try{if("string"==typeof r)i[`write${y(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new p(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)b(e,null,n[t],r[0],i)}else i.writeArray(n,(n=>{b(e,t,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),b(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{b(e,t,o,r.key,i),b(e,t,n,r.value,i)}));break;default:throw new p(`FieldType ${r} unrecognized`)}else w(e,n,i)}catch(e){throw e instanceof p&&e.addToFieldPath(t),e}}function w(e,t,n){if("function"==typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{b(e,r,t[r],i,n)}));else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),b(e,s,t[s],a,n);break}}}}}function v(e,t,n,r){try{if("string"==typeof n)return r[`read${y(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(v(e,null,n[0],r));return t}return r.readArray((()=>v(e,t,n[0],r)))}if("option"===n.kind)return r.readU8()?v(e,t,n.type,r):void 0;if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=v(e,t,n.key,r),s=v(e,t,n.value,r);i.set(o,s)}return i}return S(e,n,r)}catch(e){throw e instanceof p&&e.addToFieldPath(t),e}}function S(e,t,n){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new p(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of e.get(t).fields)r[i]=v(e,i,o,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[o,s]=r.values[i];return new t({[o]:v(e,o,s,n)})}throw new p(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}o([m],g.prototype,"readU8",null),o([m],g.prototype,"readU16",null),o([m],g.prototype,"readU32",null),o([m],g.prototype,"readU64",null),o([m],g.prototype,"readU128",null),o([m],g.prototype,"readU256",null),o([m],g.prototype,"readU512",null),o([m],g.prototype,"readString",null),o([m],g.prototype,"readFixedArray",null),o([m],g.prototype,"readArray",null),t.BinaryReader=g,t.serialize=function(e,t,n=h){const r=new n;return w(e,t,r),r.toArray()},t.deserialize=function(e,t,n,r=g){const i=new r(n),o=S(e,t,i);if(i.offset<n.length)throw new p(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o},t.deserializeUnchecked=function(e,t,n,r=g){return S(e,t,new r(n))}},1511:(e,t,n)=>{var r=n(5529);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},4104:(e,t)=>{"use strict";class n{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function r(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=n,t.nameWithProperty=r,t.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof n))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};class i extends n{isCount(){throw new Error("ExternalLayout is abstract")}}class o extends i{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class s extends i{constructor(e,t,r){if(!(e instanceof n))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof a||this.layout instanceof u}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class a extends n{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class u extends n{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}class c extends n{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class l extends n{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const d=Math.pow(2,32);function f(e){const t=Math.floor(e/d);return{hi32:t,lo32:e-t*d}}function p(e,t){return e*d+t}class h extends n{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return p(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=f(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class m extends n{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),p(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=f(e);return t.writeUInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class g extends n{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return p(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=f(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class y extends n{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),p(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=f(e);return t.writeInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class b extends n{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatLE(e,n),4}}class w extends n{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatBE(e,n),4}}class v extends n{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleLE(e,n),8}}class S extends n{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleBE(e,n),8}}class A extends n{constructor(e,t,r){if(!(e instanceof n))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof i&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof i)&&0<e.span&&(o=t*e.span),super(o,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0,r=this.count;if(r instanceof i&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t){void 0===t&&(t=0);const n=[];let r=0,o=this.count;for(o instanceof i&&(o=o.decode(e,t));r<o;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n){void 0===n&&(n=0);const r=this.elementLayout,o=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof i&&this.count.encode(e.length,t,n),o}}class k extends n{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof n),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class _{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class M extends _{constructor(e,t){if(!(e instanceof i&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class I extends n{constructor(e,t,r){const o=e instanceof a||e instanceof u;if(o)e=new M(new s(e));else if(e instanceof i&&e.isCount())e=new M(e);else if(!(e instanceof _))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof n))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let c=-1;t&&(c=t.span,0<=c&&o&&(c+=e.layout.span)),super(c,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=t,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return l(e)},this.configGetSourceVariant=function(e){l=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new E(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class E extends n{constructor(e,t,r,i){if(!(e instanceof I))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof n))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function P(e){return 0>e&&(e+=4294967296),e}class T extends n{constructor(e,t,n){if(!(e instanceof a||e instanceof u))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=P(e),this},this._packedGetValue=function(){return r}}decode(e,t){const n=this.makeDestinationObject();void 0===t&&(t=0);const r=this.word.decode(e,t);this._packedSetValue(r);for(const e of this.fields)void 0!==e.property&&(n[e.property]=e.decode(r));return n}encode(e,t,n){void 0===n&&(n=0);const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new O(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new x(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class O{constructor(e,t,n){if(!(e instanceof T))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=P(this.valueMask<<this.start),this.property=n}decode(){return P(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==P(e&this.valueMask))throw new TypeError(r("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=P(e<<this.start);this.container._packedSetValue(P(t&~this.wordMask)|n)}}class x extends O{constructor(e,t){super(e,1,t)}decode(e,t){return!!O.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),O.prototype.encode.call(this,e)}}class B extends n{constructor(e,t){if(!(e instanceof i&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof i||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let o=this.length;if(this.length instanceof i&&(o=e.length),!Buffer.isBuffer(e)||o!==e.length)throw new TypeError(r("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,o,"hex"),this.length instanceof i&&this.length.encode(o,t,n),o}}class L extends n{constructor(e){super(-1,e)}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);return e.slice(t,t+r-1).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new Buffer(e,"utf8"),i=r.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),t[n+i]=0,i+1}}class C extends n{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+r).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new Buffer(e,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),i}}class R extends n{constructor(e,t){super(0,t),this.value=e}decode(e,t,n){return this.value}encode(e,t,n){return 0}}t.ExternalLayout=i,t.GreedyCount=o,t.OffsetLayout=s,t.UInt=a,t.UIntBE=u,t.Int=c,t.IntBE=l,t.Float=b,t.FloatBE=w,t.Double=v,t.DoubleBE=S,t.Sequence=A,t.Structure=k,t.UnionDiscriminator=_,t.UnionLayoutDiscriminator=M,t.Union=I,t.VariantLayout=E,t.BitStructure=T,t.BitField=O,t.Boolean=x,t.Blob=B,t.CString=L,t.UTF8=C,t.Constant=R,t.greedy=(e,t)=>new o(e,t),t.offset=(e,t,n)=>new s(e,t,n),t.u8=e=>new a(1,e),t.u16=e=>new a(2,e),t.u24=e=>new a(3,e),t.u32=e=>new a(4,e),t.u40=e=>new a(5,e),t.u48=e=>new a(6,e),t.nu64=e=>new h(e),t.u16be=e=>new u(2,e),t.u24be=e=>new u(3,e),t.u32be=e=>new u(4,e),t.u40be=e=>new u(5,e),t.u48be=e=>new u(6,e),t.nu64be=e=>new m(e),t.s8=e=>new c(1,e),t.s16=e=>new c(2,e),t.s24=e=>new c(3,e),t.s32=e=>new c(4,e),t.s40=e=>new c(5,e),t.s48=e=>new c(6,e),t.ns64=e=>new g(e),t.s16be=e=>new l(2,e),t.s24be=e=>new l(3,e),t.s32be=e=>new l(4,e),t.s40be=e=>new l(5,e),t.s48be=e=>new l(6,e),t.ns64be=e=>new y(e),t.f32=e=>new b(e),t.f32be=e=>new w(e),t.f64=e=>new v(e),t.f64be=e=>new S(e),t.struct=(e,t,n)=>new k(e,t,n),t.bits=(e,t,n)=>new T(e,t,n),t.seq=(e,t,n)=>new A(e,t,n),t.union=(e,t,n)=>new I(e,t,n),t.unionLayoutDiscriminator=(e,t)=>new M(e,t),t.blob=(e,t)=>new B(e,t),t.cstr=e=>new L(e),t.utf8=(e,t)=>new C(e,t),t.const=(e,t)=>new R(e,t)},5858:(e,t,n)=>{"use strict";const r=n(5415),i=n(551),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|h(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function h(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Y(r))return s;e[n+s]=r}return s}function S(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function A(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return G(Q(t),e,n,r)}function _(e,t,n,r){return G(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<a;++e)if(c[e]!==l[e]){o=c[e],s=l[e];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Z[e[r]];return i}function x(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function B(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function C(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function R(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return t=+t,n>>>=0,o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return t=+t,n>>>=0,o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const K={};function U(e,t,n){K[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new K.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,o)}function j(e,t){if("number"!=typeof e)throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw j(e,n),new K.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=W(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function $(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},5872:(e,t,n)=>{"use strict";const r=n(5415),i=n(551),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|h(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function h(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Y(r))return s;e[n+s]=r}return s}function S(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function A(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return G(Q(t),e,n,r)}function _(e,t,n,r){return G(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<a;++e)if(c[e]!==l[e]){o=c[e],s=l[e];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Z[e[r]];return i}function x(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function B(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function C(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function R(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return t=+t,n>>>=0,o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return t=+t,n>>>=0,o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){j(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const K={};function U(e,t,n){K[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new K.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,o)}function j(e,t){if("number"!=typeof e)throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw j(e,n),new K.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=W(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function $(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},3099:(e,t,n)=>{"use strict";var r=n(2616),i=n(2755),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},2755:(e,t,n)=>{"use strict";var r=n(3569),i=n(2616),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=a(r,s,arguments);if(u&&c){var n=u(t,"length");n.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var d=function(){return a(r,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},1036:e=>{"use strict";const t=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");return t=Object.assign({pascalCase:!1},t),e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let i=0;i<e.length;i++){const o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e})(e)),n=e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n);var n};e.exports=t,e.exports.default=t},4875:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},3609:function(e,t){var n=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=h(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];S.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new w(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new S(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=f,e.Request=w,e.Response=S),t.Headers=f,t.Request=w,t.Response=S,t.fetch=k}({})}(n),delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},5005:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=h(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];S.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var s=new w(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new S(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=f,e.Request=w,e.Response=S),t.Headers=f,t.Request=w,t.Response=S,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},7290:function(e,t,n){var r;!function(i){"use strict";var o,s=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u=!0,c="[DecimalError] ",l=c+"Invalid argument: ",d=c+"Exponent out of range: ",f=Math.floor,p=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,g=f(1286742750677284.5),y={};function b(e,t){var n,r,i,o,s,a,c,l,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),u?P(t,f):t;if(c=e.d,l=t.d,s=e.e,i=t.e,c=c.slice(),o=s-i){for(o<0?(r=c,o=-o,a=l.length):(r=l,i=s,a=c.length),o>(a=(s=Math.ceil(f/7))>a?s+1:a+1)&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((a=c.length)-(o=l.length)<0&&(o=a,r=l,l=c,c=r),n=0;o;)n=(c[--o]=c[o]+l[o]+n)/m|0,c[o]%=m;for(n&&(c.unshift(n),++i),a=c.length;0==c[--a];)c.pop();return t.d=c,t.e=i,u?P(t,f):t}function w(e,t,n){if(e!==~~e||e<t||e>n)throw Error(l+e)}function v(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=M(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=M(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return S(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return P(S(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return k(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(u=!1,t=S(I(n,s),I(e,s),s),u=!0,P(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T(t,e):b(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(c+"NaN");return n.s?(u=!1,t=S(n,e,0,1).times(e),u=!0,n.minus(t)):P(new r(n),i)},y.naturalExponential=y.exp=function(){return A(this)},y.naturalLogarithm=y.ln=function(){return I(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):T(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=k(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(c+"NaN")}for(e=k(a),u=!1,0==(i=Math.sqrt(+a))||i==1/0?(((t=v(a.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=f((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=s=(n=l.precision)+3;;)if(r=(o=r).plus(S(a,o,s+2)).times(.5),v(o.d).slice(0,s)===(t=v(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(P(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if("9999"!=t)break;s+=4}return u=!0,P(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,s,a,c,l,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,(c=p.length)<(l=h.length)&&(o=p,p=h,h=o,s=c,c=l,l=s),o=[],r=s=c+l;r--;)o.push(0);for(r=l;--r>=0;){for(t=0,i=c+r;i>r;)a=o[i]+h[r]*p[i-r-1]+t,o[i--]=a%m|0,t=a/m|0;o[i]=(o[i]+t)%m|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,u?P(e,f.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(w(e,0,s),void 0===t?t=r.rounding:w(t,0,8),P(n,e+k(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=O(r,!0):(w(e,0,s),void 0===t?t=i.rounding:w(t,0,8),n=O(r=P(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?O(i):(w(e,0,s),void 0===t?t=o.rounding:w(t,0,8),n=O((r=P(new o(i),e+k(i)+1,t)).abs(),!1,e+k(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return P(new t(e),k(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,s,a,l=this,d=l.constructor,p=+(e=new d(e));if(!e.s)return new d(o);if(!(l=new d(l)).s){if(e.s<1)throw Error(c+"Infinity");return l}if(l.eq(o))return l;if(r=d.precision,e.eq(o))return P(l,r);if(a=(t=e.e)>=(n=e.d.length-1),s=l.s,a){if((n=p<0?-p:p)<=9007199254740991){for(i=new d(o),t=Math.ceil(r/7+4),u=!1;n%2&&x((i=i.times(l)).d,t),0!==(n=f(n/2));)x((l=l.times(l)).d,t);return u=!0,e.s<0?new d(o).div(i):P(i,r)}}else if(s<0)throw Error(c+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,l.s=1,u=!1,i=e.times(I(l,r+12)),u=!0,(i=A(i)).s=s,i},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=O(i,(n=k(i))<=o.toExpNeg||n>=o.toExpPos):(w(e,1,s),void 0===t?t=o.rounding:w(t,0,8),r=O(i=P(new o(i),e,t),e<=(n=k(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(w(e,1,s),void 0===t?t=n.rounding:w(t,0,8)),P(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=k(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var S=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,s){var a,u,l,d,f,p,h,g,y,b,w,v,S,A,_,M,I,E,T=r.constructor,O=r.s==i.s?1:-1,x=r.d,B=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(c+"Division by zero");for(u=r.e-i.e,I=B.length,_=x.length,g=(h=new T(O)).d=[],l=0;B[l]==(x[l]||0);)++l;if(B[l]>(x[l]||0)&&--u,(v=null==o?o=T.precision:s?o+(k(r)-k(i))+1:o)<0)return new T(0);if(v=v/7+2|0,l=0,1==I)for(d=0,B=B[0],v++;(l<_||d)&&v--;l++)S=d*m+(x[l]||0),g[l]=S/B|0,d=S%B|0;else{for((d=m/(B[0]+1)|0)>1&&(B=e(B,d),x=e(x,d),I=B.length,_=x.length),A=I,b=(y=x.slice(0,I)).length;b<I;)y[b++]=0;(E=B.slice()).unshift(0),M=B[0],B[1]>=m/2&&++M;do{d=0,(a=t(B,y,I,b))<0?(w=y[0],I!=b&&(w=w*m+(y[1]||0)),(d=w/M|0)>1?(d>=m&&(d=m-1),1==(a=t(f=e(B,d),y,p=f.length,b=y.length))&&(d--,n(f,I<p?E:B,p))):(0==d&&(a=d=1),f=B.slice()),(p=f.length)<b&&f.unshift(0),n(y,f,b),-1==a&&(a=t(B,y,I,b=y.length))<1&&(d++,n(y,I<b?E:B,b)),b=y.length):0===a&&(d++,y=[0]),g[l++]=d,a&&y[0]?y[b++]=x[A]||0:(y=[x[A]],b=1)}while((A++<_||void 0!==y[0])&&v--)}return g[0]||g.shift(),h.e=u,P(h,s?o+k(h)+1:o)}}();function A(e,t){var n,r,i,s,a,c=0,l=0,f=e.constructor,h=f.precision;if(k(e)>16)throw Error(d+k(e));if(!e.s)return new f(o);for(null==t?(u=!1,a=h):a=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),l+=5;for(a+=Math.log(p(2,l))/Math.LN10*2+5|0,n=r=i=new f(o),f.precision=a;;){if(r=P(r.times(e),a),n=n.times(++c),v((s=i.plus(S(r,n,a))).d).slice(0,a)===v(i.d).slice(0,a)){for(;l--;)i=P(i.times(i),a);return f.precision=h,null==t?(u=!0,P(i,h)):i}i=s}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function _(e,t,n){if(t>e.LN10.sd())throw u=!0,n&&(e.precision=n),Error(c+"LN10 precision limit exceeded");return P(new e(e.LN10),t)}function M(e){for(var t="";e--;)t+="0";return t}function I(e,t){var n,r,i,s,a,l,d,f,p,h=1,m=e,g=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new y(0);if(null==t?(u=!1,f=b):f=t,m.eq(10))return null==t&&(u=!0),_(y,f);if(f+=10,y.precision=f,r=(n=v(g)).charAt(0),s=k(m),!(Math.abs(s)<15e14))return d=_(y,f+2,b).times(s+""),m=I(new y(r+"."+n.slice(1)),f-10).plus(d),y.precision=b,null==t?(u=!0,P(m,b)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=v((m=m.times(e)).d)).charAt(0),h++;for(s=k(m),r>1?(m=new y("0."+n),s++):m=new y(r+"."+n.slice(1)),l=a=m=S(m.minus(o),m.plus(o),f),p=P(m.times(m),f),i=3;;){if(a=P(a.times(p),f),v((d=l.plus(S(a,new y(i),f))).d).slice(0,f)===v(l.d).slice(0,f))return l=l.times(2),0!==s&&(l=l.plus(_(y,f+2,b).times(s+""))),l=S(l,new y(h),f),y.precision=b,null==t?(u=!0,P(l,b)):l;l=d,i+=2}}function E(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=f(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),u&&(e.e>g||e.e<-g))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function P(e,t,n){var r,i,o,s,a,c,l,h,y=e.d;for(s=1,o=y[0];o>=10;o/=10)s++;if((r=t-s)<0)r+=7,i=t,l=y[h=0];else{if((h=Math.ceil((r+1)/7))>=(o=y.length))return e;for(l=o=y[h],s=1;o>=10;o/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(a=l/(o=p(10,s-i-1))%10|0,c=t<0||void 0!==y[h+1]||l%o,c=n<4?(a||c)&&(0==n||n==(e.s<0?3:2)):a>5||5==a&&(4==n||c||6==n&&(r>0?i>0?l/p(10,s-i):0:y[h-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(o=k(e),y.length=1,t=t-o-1,y[0]=p(10,(7-t%7)%7),e.e=f(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=h,o=1,h--):(y.length=h+1,o=p(10,7-r),y[h]=i>0?(l/p(10,s-i)%p(10,i)|0)*o:0),c)for(;;){if(0==h){(y[0]+=o)==m&&(y[0]=1,++e.e);break}if(y[h]+=o,y[h]!=m)break;y[h--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(u&&(e.e>g||e.e<-g))throw Error(d+k(e));return e}function T(e,t){var n,r,i,o,s,a,c,l,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),u?P(t,h):t;if(c=e.d,f=t.d,r=t.e,l=e.e,c=c.slice(),s=l-r){for((d=s<0)?(n=c,s=-s,a=f.length):(n=f,r=l,a=c.length),s>(i=Math.max(Math.ceil(h/7),a)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(a=f.length))&&(a=i),i=0;i<a;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),a=c.length,i=f.length-a;i>0;--i)c[a++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(o=i;o&&0===c[--o];)c[o]=m-1;--c[o],c[i]+=m}c[i]-=f[i]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,u?P(t,h):t):new p(0)}function O(e,t,n){var r,i=k(e),o=v(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+M(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+M(-i-1)+o,n&&(r=n-s)>0&&(o+=M(r))):i>=s?(o+=M(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+M(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=M(r))),e.s<0?"-"+o:o}function x(e,t){if(e.length>t)return e.length=t,!0}function B(e){if(!e||"object"!=typeof e)throw Error(c+"Object expected");var t,n,r,i=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(f(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}(a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):E(t,e.toString())}if("string"!=typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(l+e);E(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=B,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a)).default=a.Decimal=a,o=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},3539:function(e,t,n){var r;!function(i){"use strict";var o,s,a,u=9e15,c=1e9,l="0123456789abcdef",d="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",f="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},h=!0,m="[DecimalError] ",g=m+"Invalid argument: ",y=m+"Precision limit exceeded",b=m+"crypto unavailable",w="[object Decimal]",v=Math.floor,S=Math.pow,A=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,k=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,M=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,I=1e7,E=d.length-1,P=f.length-1,T={toStringTag:w};function O(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=W(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=W(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(g+e)}function B(e,t,n,r){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=S(10,7-t),a=e[i]%o|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[i+1]/o/100|0)==S(10,t-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(r||n<4)&&9999==a||!r&&n>3&&4999==a):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==S(10,t-3)-1,s}function L(e,t,n){for(var r,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=l.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}T.absoluteValue=T.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),R(e)},T.ceil=function(){return R(new this.constructor(this),this.e+1,2)},T.clampedTo=T.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(g+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},T.comparedTo=T.cmp=function(e){var t,n,r,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,u=o.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(t=0,n=(r=s.length)<(i=a.length)?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},T.cosine=T.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;(r=t.d.length)<32?i=(1/Z(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=Y(e,1,t.times(i),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}(r,$(r,n)),r.precision=e,r.rounding=t,R(2==a||3==a?n.neg():n,e,t,!0)):new r(1):new r(NaN)},T.cubeRoot=T.cbrt=function(){var e,t,n,r,i,o,s,a,u,c,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(h=!1,(o=l.s*S(l.s*l,1/3))&&Math.abs(o)!=1/0?r=new d(o.toString()):(n=O(l.d),(o=((e=l.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=S(n,1/3),e=v((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),s=(e=d.precision)+3;;)if(c=(u=(a=r).times(a).times(a)).plus(l),r=C(c.plus(l).times(a),c.plus(u),s+2,1),O(a.d).slice(0,s)===(n=O(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(R(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(R(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}s+=4,i=1}return h=!0,R(r,e,d.rounding,t)},T.decimalPlaces=T.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-v(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},T.dividedBy=T.div=function(e){return C(this,new this.constructor(e))},T.dividedToIntegerBy=T.divToInt=function(e){var t=this.constructor;return R(C(this,new t(e),0,1,1),t.precision,t.rounding)},T.equals=T.eq=function(e){return 0===this.cmp(e)},T.floor=function(){return R(new this.constructor(this),this.e+1,3)},T.greaterThan=T.gt=function(e){return this.cmp(e)>0},T.greaterThanOrEqualTo=T.gte=function(e){var t=this.cmp(e);return 1==t||0===t},T.hyperbolicCosine=T.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?t=(1/Z(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=Y(s,1,o.times(t),new s(1),!0);for(var u,c=e,l=new s(8);c--;)u=o.times(o),o=a.minus(u.times(l.minus(u.times(l))));return R(o,s.precision=n,s.rounding=r,!0)},T.hyperbolicSine=T.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Y(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=Y(o,2,i=i.times(1/Z(5,e)),i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=t,o.rounding=n,R(i,t,n,!0)},T.hyperbolicTangent=T.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,C(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},T.inverseCosine=T.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?K(n,i,o):new n(0):new n(NaN):t.isZero()?K(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=K(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},T.inverseHyperbolicCosine=T.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,h=!1,n=n.times(n).minus(1).sqrt().plus(n),h=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},T.inverseHyperbolicSine=T.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,h=!1,n=n.times(n).plus(1).sqrt().plus(n),h=!0,r.precision=e,r.rounding=t,n.ln())},T.inverseHyperbolicTangent=T.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?R(new o(i),e,t,!0):(o.precision=n=r-i.e,i=C(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},T.inverseSine=T.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=K(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},T.inverseTangent=T.atan=function(){var e,t,n,r,i,o,s,a,u,c=this,l=c.constructor,d=l.precision,f=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&d+4<=P)return(s=K(l,d+4,f).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(d+4<=P)return(s=K(l,d+4,f).times(.5)).s=c.s,s}for(l.precision=a=d+10,l.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(h=!1,t=Math.ceil(a/7),r=1,u=c.times(c),s=new l(c),i=c;-1!==e;)if(i=i.times(u),o=s.minus(i.div(r+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(r+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),h=!0,R(s,l.precision=d,l.rounding=f,!0)},T.isFinite=function(){return!!this.d},T.isInteger=T.isInt=function(){return!!this.d&&v(this.e/7)>this.d.length-2},T.isNaN=function(){return!this.s},T.isNegative=T.isNeg=function(){return this.s<0},T.isPositive=T.isPos=function(){return this.s>0},T.isZero=function(){return!!this.d&&0===this.d[0]},T.lessThan=T.lt=function(e){return this.cmp(e)<0},T.lessThanOrEqualTo=T.lte=function(e){return this.cmp(e)<1},T.logarithm=T.log=function(e){var t,n,r,i,o,s,a,u,c=this,l=c.constructor,d=l.precision,f=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(h=!1,s=H(c,a=d+5),r=t?F(l,a+10):H(e,a),B((u=C(s,r,a,1)).d,i=d,f))do{if(s=H(c,a+=10),r=t?F(l,a+10):H(e,a),u=C(s,r,a,1),!o){+O(u.d).slice(i+1,i+15)+1==1e14&&(u=R(u,d+1,0));break}}while(B(u.d,i+=10,f));return h=!0,R(u,d,f)},T.minus=T.sub=function(e){var t,n,r,i,o,s,a,u,c,l,d,f,p=this,m=p.constructor;if(e=new m(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new m(e.d||p.s!==e.s?p:NaN):e=new m(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,f=e.d,a=m.precision,u=m.rounding,!c[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!c[0])return new m(3===u?-0:0);e=new m(p)}return h?R(e,a,u):e}if(n=v(e.e/7),l=v(p.e/7),c=c.slice(),o=l-n){for((d=o<0)?(t=c,o=-o,s=f.length):(t=f,n=l,s=c.length),o>(r=Math.max(Math.ceil(a/7),s)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((d=(r=c.length)<(s=f.length))&&(s=r),r=0;r<s;r++)if(c[r]!=f[r]){d=c[r]<f[r];break}o=0}for(d&&(t=c,c=f,f=t,e.s=-e.s),s=c.length,r=f.length-s;r>0;--r)c[s++]=0;for(r=f.length;r>o;){if(c[--r]<f[r]){for(i=r;i&&0===c[--i];)c[i]=I-1;--c[i],c[r]+=I}c[r]-=f[r]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=D(c,n),h?R(e,a,u):e):new m(3===u?-0:0)},T.modulo=T.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?R(new r(n),r.precision,r.rounding):(h=!1,9==r.modulo?(t=C(n,e.abs(),0,3,1)).s*=e.s:t=C(n,e,0,r.modulo,1),t=t.times(e),h=!0,n.minus(t))},T.naturalExponential=T.exp=function(){return V(this)},T.naturalLogarithm=T.ln=function(){return H(this)},T.negated=T.neg=function(){var e=new this.constructor(this);return e.s=-e.s,R(e)},T.plus=T.add=function(e){var t,n,r,i,o,s,a,u,c,l,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new f(e.d||d.s===e.s?d:NaN)):e=new f(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,l=e.d,a=f.precision,u=f.rounding,!c[0]||!l[0])return l[0]||(e=new f(d)),h?R(e,a,u):e;if(o=v(d.e/7),r=v(e.e/7),c=c.slice(),i=o-r){for(i<0?(n=c,i=-i,s=l.length):(n=l,r=o,s=c.length),i>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=c.length)-(i=l.length)<0&&(i=s,n=l,l=c,c=n),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/I|0,c[i]%=I;for(t&&(c.unshift(t),++r),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=D(c,r),h?R(e,a,u):e},T.precision=T.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(g+e);return n.d?(t=U(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},T.round=function(){var e=this,t=e.constructor;return R(new t(e),e.e+1,t.rounding)},T.sine=T.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Y(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=Y(e,2,t=t.times(1/Z(5,n)),t);for(var i,o=new e(5),s=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(r,$(r,n)),r.precision=e,r.rounding=t,R(a>2?n.neg():n,e,t,!0)):new r(NaN)},T.squareRoot=T.sqrt=function(){var e,t,n,r,i,o,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(h=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=O(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=v((u+1)/2)-(u<0||u%2),r=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new l(c.toString()),n=(u=l.precision)+3;;)if(r=(o=r).plus(C(s,o,n+2,1)).times(.5),O(o.d).slice(0,n)===(t=O(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(R(r,u+1,1),e=!r.times(r).eq(s));break}if(!i&&(R(o,u+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}return h=!0,R(r,u,l.rounding,e)},T.tangent=T.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=C(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,R(2==a||4==a?n.neg():n,e,t,!0)):new r(NaN)},T.times=T.mul=function(e){var t,n,r,i,o,s,a,u,c,l=this,d=l.constructor,f=l.d,p=(e=new d(e)).d;if(e.s*=l.s,!(f&&f[0]&&p&&p[0]))return new d(!e.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:f&&p?0*e.s:e.s/0);for(n=v(l.e/7)+v(e.e/7),(u=f.length)<(c=p.length)&&(o=f,f=p,p=o,s=u,u=c,c=s),o=[],r=s=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)a=o[i]+p[r]*f[i-r-1]+t,o[i--]=a%I|0,t=a/I|0;o[i]=(o[i]+t)%I|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=D(o,n),h?R(e,d.precision,d.rounding):e},T.toBinary=function(e,t){return J(this,2,e,t)},T.toDecimalPlaces=T.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,c),void 0===t?t=r.rounding:x(t,0,8),R(n,e+n.e+1,t))},T.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=N(r,!0):(x(e,0,c),void 0===t?t=i.rounding:x(t,0,8),n=N(r=R(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},T.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=N(i):(x(e,0,c),void 0===t?t=o.rounding:x(t,0,8),n=N(r=R(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},T.toFraction=function(e){var t,n,r,i,o,s,a,u,c,l,d,f,p=this,m=p.d,y=p.constructor;if(!m)return new y(p);if(c=n=new y(1),r=u=new y(0),s=(o=(t=new y(r)).e=U(m)-p.e-1)%7,t.d[0]=S(10,s<0?7+s:s),null==e)e=o>0?t:c;else{if(!(a=new y(e)).isInt()||a.lt(c))throw Error(g+a);e=a.gt(t)?o>0?t:c:a}for(h=!1,a=new y(O(m)),l=y.precision,y.precision=o=7*m.length*2;d=C(a,t,0,1,1),1!=(i=n.plus(d.times(r))).cmp(e);)n=r,r=i,i=c,c=u.plus(d.times(i)),u=i,i=t,t=a.minus(d.times(i)),a=i;return i=C(e.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=p.s,f=C(c,r,o,1).minus(p).abs().cmp(C(u,n,o,1).minus(p).abs())<1?[c,r]:[u,n],y.precision=l,h=!0,f},T.toHexadecimal=T.toHex=function(e,t){return J(this,16,e,t)},T.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:x(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(h=!1,n=C(n,e,0,t,1).times(e),h=!0,R(n)):(e.s=n.s,n=e),n},T.toNumber=function(){return+this},T.toOctal=function(e,t){return J(this,8,e,t)},T.toPower=T.pow=function(e){var t,n,r,i,o,s,a=this,u=a.constructor,c=+(e=new u(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new u(S(+a,c));if((a=new u(a)).eq(1))return a;if(r=u.precision,o=u.rounding,e.eq(1))return R(a,r,o);if((t=v(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=z(u,a,n,r),e.s<0?new u(1).div(i):R(i,r,o);if((s=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(n=S(+a,c))&&isFinite(n)?new u(n+"").e:v(c*(Math.log("0."+O(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(h=!1,u.rounding=a.s=1,n=Math.min(12,(t+"").length),(i=V(e.times(H(a,r+n)),r)).d&&B((i=R(i,r+5,1)).d,r,o)&&(t=r+10,+O((i=R(V(e.times(H(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=R(i,r+1,0))),i.s=s,h=!0,u.rounding=o,R(i,r,o))},T.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=N(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(x(e,1,c),void 0===t?t=i.rounding:x(t,0,8),n=N(r=R(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},T.toSignificantDigits=T.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,c),void 0===t?t=n.rounding:x(t,0,8)),R(new n(this),e,t)},T.toString=function(){var e=this,t=e.constructor,n=N(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},T.truncated=T.trunc=function(){return R(new this.constructor(this),this.e+1,1)},T.valueOf=T.toJSON=function(){var e=this,t=e.constructor,n=N(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var C=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a,u,c){var l,d,f,p,h,m,g,y,b,w,S,A,k,_,M,E,P,T,O,x,B=r.constructor,L=r.s==i.s?1:-1,C=r.d,N=i.d;if(!(C&&C[0]&&N&&N[0]))return new B(r.s&&i.s&&(C?!N||C[0]!=N[0]:N)?C&&0==C[0]||!N?0*L:L/0:NaN);for(c?(h=1,d=r.e-i.e):(c=I,h=7,d=v(r.e/h)-v(i.e/h)),O=N.length,P=C.length,w=(b=new B(L)).d=[],f=0;N[f]==(C[f]||0);f++);if(N[f]>(C[f]||0)&&d--,null==o?(_=o=B.precision,a=B.rounding):_=u?o+(r.e-i.e)+1:o,_<0)w.push(1),m=!0;else{if(_=_/h+2|0,f=0,1==O){for(p=0,N=N[0],_++;(f<P||p)&&_--;f++)M=p*c+(C[f]||0),w[f]=M/N|0,p=M%N|0;m=p||f<P}else{for((p=c/(N[0]+1)|0)>1&&(N=e(N,p,c),C=e(C,p,c),O=N.length,P=C.length),E=O,A=(S=C.slice(0,O)).length;A<O;)S[A++]=0;(x=N.slice()).unshift(0),T=N[0],N[1]>=c/2&&++T;do{p=0,(l=t(N,S,O,A))<0?(k=S[0],O!=A&&(k=k*c+(S[1]||0)),(p=k/T|0)>1?(p>=c&&(p=c-1),1==(l=t(g=e(N,p,c),S,y=g.length,A=S.length))&&(p--,n(g,O<y?x:N,y,c))):(0==p&&(l=p=1),g=N.slice()),(y=g.length)<A&&g.unshift(0),n(S,g,A,c),-1==l&&(l=t(N,S,O,A=S.length))<1&&(p++,n(S,O<A?x:N,A,c)),A=S.length):0===l&&(p++,S=[0]),w[f++]=p,l&&S[0]?S[A++]=C[E]||0:(S=[C[E]],A=1)}while((E++<P||void 0!==S[0])&&_--);m=void 0!==S[0]}w[0]||w.shift()}if(1==h)b.e=d,s=m;else{for(f=1,p=w[0];p>=10;p/=10)f++;b.e=f+d*h-1,R(b,u?o+b.e+1:o,a,m)}return b}}();function R(e,t,n,r){var i,o,s,a,u,c,l,d,f,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,a=d[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=7,s=t,u=(l=d[f=0])/S(10,i-s-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(a=d.length)){if(!r)break e;for(;a++<=f;)d.push(0);l=u=0,i=1,s=(o%=7)-7+1}else{for(l=a=d[f],i=1;a>=10;a/=10)i++;u=(s=(o%=7)-7+i)<0?0:l/S(10,i-s-1)%10|0}if(r=r||t<0||void 0!==d[f+1]||(s<0?l:l%S(10,i-s-1)),c=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?s>0?l/S(10,i-s):0:d[f-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=S(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=f,a=1,f--):(d.length=f+1,a=S(10,7-o),d[f]=s>0?(l/S(10,i-s)%S(10,s)|0)*a:0),c)for(;;){if(0==f){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,d[0]==I&&(d[0]=1));break}if(d[f]+=a,d[f]!=I)break;d[f--]=0,a=1}for(o=d.length;0===d[--o];)d.pop()}return h&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function N(e,t,n){if(!e.isFinite())return Q(e);var r,i=e.e,o=O(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+W(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+W(-i-1)+o,n&&(r=n-s)>0&&(o+=W(r))):i>=s?(o+=W(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+W(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=W(r))),o}function D(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function F(e,t,n){if(t>E)throw h=!0,n&&(e.precision=n),Error(y);return R(new e(d),t,1,!0)}function K(e,t,n){if(t>P)throw Error(y);return R(new e(f),t,n,!0)}function U(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function W(e){for(var t="";e--;)t+="0";return t}function z(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/7+4);for(h=!1;;){if(n%2&&ee((o=o.times(t)).d,s)&&(i=!0),0===(n=v(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}ee((t=t.times(t)).d,s)}return h=!0,o}function j(e){return 1&e.d[e.d.length-1]}function q(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function V(e,t){var n,r,i,o,s,a,u,c=0,l=0,d=0,f=e.constructor,p=f.rounding,m=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(h=!1,u=m):u=t,a=new f(.03125);e.e>-2;)e=e.times(a),d+=5;for(u+=r=Math.log(S(2,d))/Math.LN10*2+5|0,n=o=s=new f(1),f.precision=u;;){if(o=R(o.times(e),u,1),n=n.times(++l),O((a=s.plus(C(o,n,u,1))).d).slice(0,u)===O(s.d).slice(0,u)){for(i=d;i--;)s=R(s.times(s),u,1);if(null!=t)return f.precision=m,s;if(!(c<3&&B(s.d,u-r,p,c)))return R(s,f.precision=m,p,h=!0);f.precision=u+=10,n=o=a=new f(1),l=0,c++}s=a}}function H(e,t){var n,r,i,o,s,a,u,c,l,d,f,p=1,m=e,g=m.d,y=m.constructor,b=y.rounding,w=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(h=!1,l=w):l=t,y.precision=l+=10,r=(n=O(g)).charAt(0),!(Math.abs(o=m.e)<15e14))return c=F(y,l+2,w).times(o+""),m=H(new y(r+"."+n.slice(1)),l-10).plus(c),y.precision=w,null==t?R(m,w,b,h=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=O((m=m.times(e)).d)).charAt(0),p++;for(o=m.e,r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),d=m,u=s=m=C(m.minus(1),m.plus(1),l,1),f=R(m.times(m),l,1),i=3;;){if(s=R(s.times(f),l,1),O((c=u.plus(C(s,new y(i),l,1))).d).slice(0,l)===O(u.d).slice(0,l)){if(u=u.times(2),0!==o&&(u=u.plus(F(y,l+2,w).times(o+""))),u=C(u,new y(p),l,1),null!=t)return y.precision=w,u;if(!B(u.d,l-10,b,a))return R(u,y.precision=w,b,h=!0);y.precision=l+=10,c=s=m=C(d.minus(1),d.plus(1),l,1),f=R(m.times(m),l,1),i=a=1}u=c,i+=2}}function Q(e){return String(e.s*e.s/0)}function G(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),h&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function X(e,t){var n,r,i,s,a,u,c,l,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),M.test(t))return G(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(k.test(t))n=16,t=t.toLowerCase();else if(A.test(t))n=2;else{if(!_.test(t))throw Error(g+t);n=8}for((s=t.search(/p/i))>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(u=(t=t.replace(".","")).length)-s,i=z(r,new r(n),s,2*s)),s=d=(l=L(t,n,I)).length-1;0===l[s];--s)l.pop();return s<0?new r(0*e.s):(e.e=D(l,d),e.d=l,h=!1,a&&(e=C(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?S(2,c):o.pow(2,c))),h=!0,e)}function Y(e,t,n,r,i){var o,s,a,u,c=e.precision,l=Math.ceil(c/7);for(h=!1,u=n.times(n),a=new e(r);;){if(s=C(a.times(u),new e(t++*t++),c,1),a=i?r.plus(s):r.minus(s),r=C(s.times(u),new e(t++*t++),c,1),void 0!==(s=a.plus(r)).d[l]){for(o=l;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=s,s=o}return h=!0,s.d.length=l+1,s}function Z(e,t){for(var n=e;--t;)n*=e;return n}function $(e,t){var n,r=t.s<0,i=K(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return a=r?4:1,t;if((n=t.divToInt(i)).isZero())a=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return a=j(n)?r?2:3:r?4:1,t;a=j(n)?r?1:4:r?3:2}return t.minus(i).abs()}function J(e,t,n,r){var i,o,a,u,d,f,p,h,m,g=e.constructor,y=void 0!==n;if(y?(x(n,1,c),void 0===r?r=g.rounding:x(r,0,8)):(n=g.precision,r=g.rounding),e.isFinite()){for(y?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(p=N(e)).indexOf("."))>=0&&(p=p.replace(".",""),(m=new g(1)).e=p.length-a,m.d=L(N(m),10,i),m.e=m.d.length),o=d=(h=L(p,10,i)).length;0==h[--d];)h.pop();if(h[0]){if(a<0?o--:((e=new g(e)).d=h,e.e=o,h=(e=C(e,m,n,r,0,i)).d,o=e.e,f=s),a=h[n],u=i/2,f=f||void 0!==h[n+1],f=r<4?(void 0!==a||f)&&(0===r||r===(e.s<0?3:2)):a>u||a===u&&(4===r||f||6===r&&1&h[n-1]||r===(e.s<0?8:7)),h.length=n,f)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(d=h.length;!h[d-1];--d);for(a=0,p="";a<d;a++)p+=l.charAt(h[a]);if(y){if(d>1)if(16==t||8==t){for(a=16==t?4:3,--d;d%a;d++)p+="0";for(d=(h=L(p,i,t)).length;!h[d-1];--d);for(a=1,p="1.";a<d;a++)p+=l.charAt(h[a])}else p=p.charAt(0)+"."+p.slice(1);p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>d)for(o-=d;o--;)p+="0";else o<d&&(p=p.slice(0,o)+"."+p.slice(o))}else p=y?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=Q(e);return e.s<0?"-"+p:p}function ee(e,t){if(e.length>t)return e.length=t,!0}function te(e){return new this(e).abs()}function ne(e){return new this(e).acos()}function re(e){return new this(e).acosh()}function ie(e,t){return new this(e).plus(t)}function oe(e){return new this(e).asin()}function se(e){return new this(e).asinh()}function ae(e){return new this(e).atan()}function ue(e){return new this(e).atanh()}function ce(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?K(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=K(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(C(e,t,o,1)),t=K(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(C(e,t,o,1)):(n=K(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function le(e){return new this(e).cbrt()}function de(e){return R(e=new this(e),e.e+1,2)}function fe(e,t,n){return new this(e).clamp(t,n)}function pe(e){if(!e||"object"!=typeof e)throw Error(m+"Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,c,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=p[n]),void 0!==(r=e[n])){if(!(v(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(g+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=p[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(g+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(b);this[n]=!0}else this[n]=!1}return this}function he(e){return new this(e).cos()}function me(e){return new this(e).cosh()}function ge(e,t){return new this(e).div(t)}function ye(e){return new this(e).exp()}function be(e){return R(e=new this(e),e.e+1,3)}function we(){var e,t,n=new this(0);for(h=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return h=!0,new this(1/0);n=t}return h=!0,n.sqrt()}function ve(e){return e instanceof o||e&&e.toStringTag===w||!1}function Se(e){return new this(e).ln()}function Ae(e,t){return new this(e).log(t)}function ke(e){return new this(e).log(2)}function _e(e){return new this(e).log(10)}function Me(){return q(this,arguments,"lt")}function Ie(){return q(this,arguments,"gt")}function Ee(e,t){return new this(e).mod(t)}function Pe(e,t){return new this(e).mul(t)}function Te(e,t){return new this(e).pow(t)}function Oe(e){var t,n,r,i,o=0,s=new this(1),a=[];if(void 0===e?e=this.precision:x(e,1,c),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(b);for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=r/4}else for(;o<r;)a[o++]=1e7*Math.random()|0;for(e%=7,(r=a[--o])&&e&&(i=S(10,7-e),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return s.e=n,s.d=a,s}function xe(e){return R(e=new this(e),e.e+1,this.rounding)}function Be(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Le(e){return new this(e).sin()}function Ce(e){return new this(e).sinh()}function Re(e){return new this(e).sqrt()}function Ne(e,t){return new this(e).sub(t)}function De(){var e=0,t=arguments,n=new this(t[e]);for(h=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return h=!0,R(n,this.precision,this.rounding)}function Fe(e){return new this(e).tan()}function Ke(e){return new this(e).tanh()}function Ue(e){return R(e=new this(e),e.e+1,1)}(o=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,ve(e))return i.s=e.s,void(h?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(h?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):G(i,e.toString())}if("string"!==r)throw Error(g+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),M.test(e)?G(i,e):X(i,e)}if(o.prototype=T,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=pe,o.clone=e,o.isDecimal=ve,o.abs=te,o.acos=ne,o.acosh=re,o.add=ie,o.asin=oe,o.asinh=se,o.atan=ae,o.atanh=ue,o.atan2=ce,o.cbrt=le,o.ceil=de,o.clamp=fe,o.cos=he,o.cosh=me,o.div=ge,o.exp=ye,o.floor=be,o.hypot=we,o.ln=Se,o.log=Ae,o.log10=_e,o.log2=ke,o.max=Me,o.min=Ie,o.mod=Ee,o.mul=Pe,o.pow=Te,o.random=Oe,o.round=xe,o.sign=Be,o.sin=Le,o.sinh=Ce,o.sqrt=Re,o.sub=Ne,o.sum=De,o.tan=Fe,o.tanh=Ke,o.trunc=Ue,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(p)).prototype.constructor=o,o.default=o.Decimal=o,d=new o(d),f=new o(f),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},4984:function(e,t,n){var r;!function(i){"use strict";var o,s,a,u=9e15,c=1e9,l="0123456789abcdef",d="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",f="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},h=!0,m="[DecimalError] ",g=m+"Invalid argument: ",y=m+"Precision limit exceeded",b=m+"crypto unavailable",w="[object Decimal]",v=Math.floor,S=Math.pow,A=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,k=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,M=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,I=1e7,E=d.length-1,P=f.length-1,T={toStringTag:w};function O(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=W(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=W(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(g+e)}function B(e,t,n,r){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=S(10,7-t),a=e[i]%o|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[i+1]/o/100|0)==S(10,t-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(r||n<4)&&9999==a||!r&&n>3&&4999==a):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==S(10,t-3)-1,s}function L(e,t,n){for(var r,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=l.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}T.absoluteValue=T.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),R(e)},T.ceil=function(){return R(new this.constructor(this),this.e+1,2)},T.clampedTo=T.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(g+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},T.comparedTo=T.cmp=function(e){var t,n,r,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,u=o.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(t=0,n=(r=s.length)<(i=a.length)?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},T.cosine=T.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;(r=t.d.length)<32?i=(1/Z(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=Y(e,1,t.times(i),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}(r,$(r,n)),r.precision=e,r.rounding=t,R(2==a||3==a?n.neg():n,e,t,!0)):new r(1):new r(NaN)},T.cubeRoot=T.cbrt=function(){var e,t,n,r,i,o,s,a,u,c,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(h=!1,(o=l.s*S(l.s*l,1/3))&&Math.abs(o)!=1/0?r=new d(o.toString()):(n=O(l.d),(o=((e=l.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=S(n,1/3),e=v((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),s=(e=d.precision)+3;;)if(c=(u=(a=r).times(a).times(a)).plus(l),r=C(c.plus(l).times(a),c.plus(u),s+2,1),O(a.d).slice(0,s)===(n=O(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(R(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(R(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}s+=4,i=1}return h=!0,R(r,e,d.rounding,t)},T.decimalPlaces=T.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-v(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},T.dividedBy=T.div=function(e){return C(this,new this.constructor(e))},T.dividedToIntegerBy=T.divToInt=function(e){var t=this.constructor;return R(C(this,new t(e),0,1,1),t.precision,t.rounding)},T.equals=T.eq=function(e){return 0===this.cmp(e)},T.floor=function(){return R(new this.constructor(this),this.e+1,3)},T.greaterThan=T.gt=function(e){return this.cmp(e)>0},T.greaterThanOrEqualTo=T.gte=function(e){var t=this.cmp(e);return 1==t||0===t},T.hyperbolicCosine=T.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?t=(1/Z(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=Y(s,1,o.times(t),new s(1),!0);for(var u,c=e,l=new s(8);c--;)u=o.times(o),o=a.minus(u.times(l.minus(u.times(l))));return R(o,s.precision=n,s.rounding=r,!0)},T.hyperbolicSine=T.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Y(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=Y(o,2,i=i.times(1/Z(5,e)),i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=t,o.rounding=n,R(i,t,n,!0)},T.hyperbolicTangent=T.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,C(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},T.inverseCosine=T.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?K(n,i,o):new n(0):new n(NaN):t.isZero()?K(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=K(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},T.inverseHyperbolicCosine=T.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,h=!1,n=n.times(n).minus(1).sqrt().plus(n),h=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},T.inverseHyperbolicSine=T.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,h=!1,n=n.times(n).plus(1).sqrt().plus(n),h=!0,r.precision=e,r.rounding=t,n.ln())},T.inverseHyperbolicTangent=T.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?R(new o(i),e,t,!0):(o.precision=n=r-i.e,i=C(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},T.inverseSine=T.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=K(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},T.inverseTangent=T.atan=function(){var e,t,n,r,i,o,s,a,u,c=this,l=c.constructor,d=l.precision,f=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&d+4<=P)return(s=K(l,d+4,f).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(d+4<=P)return(s=K(l,d+4,f).times(.5)).s=c.s,s}for(l.precision=a=d+10,l.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(h=!1,t=Math.ceil(a/7),r=1,u=c.times(c),s=new l(c),i=c;-1!==e;)if(i=i.times(u),o=s.minus(i.div(r+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(r+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),h=!0,R(s,l.precision=d,l.rounding=f,!0)},T.isFinite=function(){return!!this.d},T.isInteger=T.isInt=function(){return!!this.d&&v(this.e/7)>this.d.length-2},T.isNaN=function(){return!this.s},T.isNegative=T.isNeg=function(){return this.s<0},T.isPositive=T.isPos=function(){return this.s>0},T.isZero=function(){return!!this.d&&0===this.d[0]},T.lessThan=T.lt=function(e){return this.cmp(e)<0},T.lessThanOrEqualTo=T.lte=function(e){return this.cmp(e)<1},T.logarithm=T.log=function(e){var t,n,r,i,o,s,a,u,c=this,l=c.constructor,d=l.precision,f=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(h=!1,s=H(c,a=d+5),r=t?F(l,a+10):H(e,a),B((u=C(s,r,a,1)).d,i=d,f))do{if(s=H(c,a+=10),r=t?F(l,a+10):H(e,a),u=C(s,r,a,1),!o){+O(u.d).slice(i+1,i+15)+1==1e14&&(u=R(u,d+1,0));break}}while(B(u.d,i+=10,f));return h=!0,R(u,d,f)},T.minus=T.sub=function(e){var t,n,r,i,o,s,a,u,c,l,d,f,p=this,m=p.constructor;if(e=new m(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new m(e.d||p.s!==e.s?p:NaN):e=new m(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,f=e.d,a=m.precision,u=m.rounding,!c[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!c[0])return new m(3===u?-0:0);e=new m(p)}return h?R(e,a,u):e}if(n=v(e.e/7),l=v(p.e/7),c=c.slice(),o=l-n){for((d=o<0)?(t=c,o=-o,s=f.length):(t=f,n=l,s=c.length),o>(r=Math.max(Math.ceil(a/7),s)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((d=(r=c.length)<(s=f.length))&&(s=r),r=0;r<s;r++)if(c[r]!=f[r]){d=c[r]<f[r];break}o=0}for(d&&(t=c,c=f,f=t,e.s=-e.s),s=c.length,r=f.length-s;r>0;--r)c[s++]=0;for(r=f.length;r>o;){if(c[--r]<f[r]){for(i=r;i&&0===c[--i];)c[i]=I-1;--c[i],c[r]+=I}c[r]-=f[r]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=D(c,n),h?R(e,a,u):e):new m(3===u?-0:0)},T.modulo=T.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?R(new r(n),r.precision,r.rounding):(h=!1,9==r.modulo?(t=C(n,e.abs(),0,3,1)).s*=e.s:t=C(n,e,0,r.modulo,1),t=t.times(e),h=!0,n.minus(t))},T.naturalExponential=T.exp=function(){return V(this)},T.naturalLogarithm=T.ln=function(){return H(this)},T.negated=T.neg=function(){var e=new this.constructor(this);return e.s=-e.s,R(e)},T.plus=T.add=function(e){var t,n,r,i,o,s,a,u,c,l,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new f(e.d||d.s===e.s?d:NaN)):e=new f(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,l=e.d,a=f.precision,u=f.rounding,!c[0]||!l[0])return l[0]||(e=new f(d)),h?R(e,a,u):e;if(o=v(d.e/7),r=v(e.e/7),c=c.slice(),i=o-r){for(i<0?(n=c,i=-i,s=l.length):(n=l,r=o,s=c.length),i>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=c.length)-(i=l.length)<0&&(i=s,n=l,l=c,c=n),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/I|0,c[i]%=I;for(t&&(c.unshift(t),++r),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=D(c,r),h?R(e,a,u):e},T.precision=T.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(g+e);return n.d?(t=U(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},T.round=function(){var e=this,t=e.constructor;return R(new t(e),e.e+1,t.rounding)},T.sine=T.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Y(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=Y(e,2,t=t.times(1/Z(5,n)),t);for(var i,o=new e(5),s=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(r,$(r,n)),r.precision=e,r.rounding=t,R(a>2?n.neg():n,e,t,!0)):new r(NaN)},T.squareRoot=T.sqrt=function(){var e,t,n,r,i,o,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(h=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=O(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=v((u+1)/2)-(u<0||u%2),r=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new l(c.toString()),n=(u=l.precision)+3;;)if(r=(o=r).plus(C(s,o,n+2,1)).times(.5),O(o.d).slice(0,n)===(t=O(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(R(r,u+1,1),e=!r.times(r).eq(s));break}if(!i&&(R(o,u+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}return h=!0,R(r,u,l.rounding,e)},T.tangent=T.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=C(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,R(2==a||4==a?n.neg():n,e,t,!0)):new r(NaN)},T.times=T.mul=function(e){var t,n,r,i,o,s,a,u,c,l=this,d=l.constructor,f=l.d,p=(e=new d(e)).d;if(e.s*=l.s,!(f&&f[0]&&p&&p[0]))return new d(!e.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:f&&p?0*e.s:e.s/0);for(n=v(l.e/7)+v(e.e/7),(u=f.length)<(c=p.length)&&(o=f,f=p,p=o,s=u,u=c,c=s),o=[],r=s=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)a=o[i]+p[r]*f[i-r-1]+t,o[i--]=a%I|0,t=a/I|0;o[i]=(o[i]+t)%I|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=D(o,n),h?R(e,d.precision,d.rounding):e},T.toBinary=function(e,t){return J(this,2,e,t)},T.toDecimalPlaces=T.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,c),void 0===t?t=r.rounding:x(t,0,8),R(n,e+n.e+1,t))},T.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=N(r,!0):(x(e,0,c),void 0===t?t=i.rounding:x(t,0,8),n=N(r=R(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},T.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=N(i):(x(e,0,c),void 0===t?t=o.rounding:x(t,0,8),n=N(r=R(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},T.toFraction=function(e){var t,n,r,i,o,s,a,u,c,l,d,f,p=this,m=p.d,y=p.constructor;if(!m)return new y(p);if(c=n=new y(1),r=u=new y(0),s=(o=(t=new y(r)).e=U(m)-p.e-1)%7,t.d[0]=S(10,s<0?7+s:s),null==e)e=o>0?t:c;else{if(!(a=new y(e)).isInt()||a.lt(c))throw Error(g+a);e=a.gt(t)?o>0?t:c:a}for(h=!1,a=new y(O(m)),l=y.precision,y.precision=o=7*m.length*2;d=C(a,t,0,1,1),1!=(i=n.plus(d.times(r))).cmp(e);)n=r,r=i,i=c,c=u.plus(d.times(i)),u=i,i=t,t=a.minus(d.times(i)),a=i;return i=C(e.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=p.s,f=C(c,r,o,1).minus(p).abs().cmp(C(u,n,o,1).minus(p).abs())<1?[c,r]:[u,n],y.precision=l,h=!0,f},T.toHexadecimal=T.toHex=function(e,t){return J(this,16,e,t)},T.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:x(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(h=!1,n=C(n,e,0,t,1).times(e),h=!0,R(n)):(e.s=n.s,n=e),n},T.toNumber=function(){return+this},T.toOctal=function(e,t){return J(this,8,e,t)},T.toPower=T.pow=function(e){var t,n,r,i,o,s,a=this,u=a.constructor,c=+(e=new u(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new u(S(+a,c));if((a=new u(a)).eq(1))return a;if(r=u.precision,o=u.rounding,e.eq(1))return R(a,r,o);if((t=v(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=z(u,a,n,r),e.s<0?new u(1).div(i):R(i,r,o);if((s=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(n=S(+a,c))&&isFinite(n)?new u(n+"").e:v(c*(Math.log("0."+O(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(h=!1,u.rounding=a.s=1,n=Math.min(12,(t+"").length),(i=V(e.times(H(a,r+n)),r)).d&&B((i=R(i,r+5,1)).d,r,o)&&(t=r+10,+O((i=R(V(e.times(H(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=R(i,r+1,0))),i.s=s,h=!0,u.rounding=o,R(i,r,o))},T.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=N(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(x(e,1,c),void 0===t?t=i.rounding:x(t,0,8),n=N(r=R(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},T.toSignificantDigits=T.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,c),void 0===t?t=n.rounding:x(t,0,8)),R(new n(this),e,t)},T.toString=function(){var e=this,t=e.constructor,n=N(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},T.truncated=T.trunc=function(){return R(new this.constructor(this),this.e+1,1)},T.valueOf=T.toJSON=function(){var e=this,t=e.constructor,n=N(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var C=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a,u,c){var l,d,f,p,h,m,g,y,b,w,S,A,k,_,M,E,P,T,O,x,B=r.constructor,L=r.s==i.s?1:-1,C=r.d,N=i.d;if(!(C&&C[0]&&N&&N[0]))return new B(r.s&&i.s&&(C?!N||C[0]!=N[0]:N)?C&&0==C[0]||!N?0*L:L/0:NaN);for(c?(h=1,d=r.e-i.e):(c=I,h=7,d=v(r.e/h)-v(i.e/h)),O=N.length,P=C.length,w=(b=new B(L)).d=[],f=0;N[f]==(C[f]||0);f++);if(N[f]>(C[f]||0)&&d--,null==o?(_=o=B.precision,a=B.rounding):_=u?o+(r.e-i.e)+1:o,_<0)w.push(1),m=!0;else{if(_=_/h+2|0,f=0,1==O){for(p=0,N=N[0],_++;(f<P||p)&&_--;f++)M=p*c+(C[f]||0),w[f]=M/N|0,p=M%N|0;m=p||f<P}else{for((p=c/(N[0]+1)|0)>1&&(N=e(N,p,c),C=e(C,p,c),O=N.length,P=C.length),E=O,A=(S=C.slice(0,O)).length;A<O;)S[A++]=0;(x=N.slice()).unshift(0),T=N[0],N[1]>=c/2&&++T;do{p=0,(l=t(N,S,O,A))<0?(k=S[0],O!=A&&(k=k*c+(S[1]||0)),(p=k/T|0)>1?(p>=c&&(p=c-1),1==(l=t(g=e(N,p,c),S,y=g.length,A=S.length))&&(p--,n(g,O<y?x:N,y,c))):(0==p&&(l=p=1),g=N.slice()),(y=g.length)<A&&g.unshift(0),n(S,g,A,c),-1==l&&(l=t(N,S,O,A=S.length))<1&&(p++,n(S,O<A?x:N,A,c)),A=S.length):0===l&&(p++,S=[0]),w[f++]=p,l&&S[0]?S[A++]=C[E]||0:(S=[C[E]],A=1)}while((E++<P||void 0!==S[0])&&_--);m=void 0!==S[0]}w[0]||w.shift()}if(1==h)b.e=d,s=m;else{for(f=1,p=w[0];p>=10;p/=10)f++;b.e=f+d*h-1,R(b,u?o+b.e+1:o,a,m)}return b}}();function R(e,t,n,r){var i,o,s,a,u,c,l,d,f,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,a=d[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=7,s=t,u=(l=d[f=0])/S(10,i-s-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(a=d.length)){if(!r)break e;for(;a++<=f;)d.push(0);l=u=0,i=1,s=(o%=7)-7+1}else{for(l=a=d[f],i=1;a>=10;a/=10)i++;u=(s=(o%=7)-7+i)<0?0:l/S(10,i-s-1)%10|0}if(r=r||t<0||void 0!==d[f+1]||(s<0?l:l%S(10,i-s-1)),c=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?s>0?l/S(10,i-s):0:d[f-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=S(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=f,a=1,f--):(d.length=f+1,a=S(10,7-o),d[f]=s>0?(l/S(10,i-s)%S(10,s)|0)*a:0),c)for(;;){if(0==f){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,d[0]==I&&(d[0]=1));break}if(d[f]+=a,d[f]!=I)break;d[f--]=0,a=1}for(o=d.length;0===d[--o];)d.pop()}return h&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function N(e,t,n){if(!e.isFinite())return Q(e);var r,i=e.e,o=O(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+W(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+W(-i-1)+o,n&&(r=n-s)>0&&(o+=W(r))):i>=s?(o+=W(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+W(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=W(r))),o}function D(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function F(e,t,n){if(t>E)throw h=!0,n&&(e.precision=n),Error(y);return R(new e(d),t,1,!0)}function K(e,t,n){if(t>P)throw Error(y);return R(new e(f),t,n,!0)}function U(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function W(e){for(var t="";e--;)t+="0";return t}function z(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/7+4);for(h=!1;;){if(n%2&&ee((o=o.times(t)).d,s)&&(i=!0),0===(n=v(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}ee((t=t.times(t)).d,s)}return h=!0,o}function j(e){return 1&e.d[e.d.length-1]}function q(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function V(e,t){var n,r,i,o,s,a,u,c=0,l=0,d=0,f=e.constructor,p=f.rounding,m=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(h=!1,u=m):u=t,a=new f(.03125);e.e>-2;)e=e.times(a),d+=5;for(u+=r=Math.log(S(2,d))/Math.LN10*2+5|0,n=o=s=new f(1),f.precision=u;;){if(o=R(o.times(e),u,1),n=n.times(++l),O((a=s.plus(C(o,n,u,1))).d).slice(0,u)===O(s.d).slice(0,u)){for(i=d;i--;)s=R(s.times(s),u,1);if(null!=t)return f.precision=m,s;if(!(c<3&&B(s.d,u-r,p,c)))return R(s,f.precision=m,p,h=!0);f.precision=u+=10,n=o=a=new f(1),l=0,c++}s=a}}function H(e,t){var n,r,i,o,s,a,u,c,l,d,f,p=1,m=e,g=m.d,y=m.constructor,b=y.rounding,w=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(h=!1,l=w):l=t,y.precision=l+=10,r=(n=O(g)).charAt(0),!(Math.abs(o=m.e)<15e14))return c=F(y,l+2,w).times(o+""),m=H(new y(r+"."+n.slice(1)),l-10).plus(c),y.precision=w,null==t?R(m,w,b,h=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=O((m=m.times(e)).d)).charAt(0),p++;for(o=m.e,r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),d=m,u=s=m=C(m.minus(1),m.plus(1),l,1),f=R(m.times(m),l,1),i=3;;){if(s=R(s.times(f),l,1),O((c=u.plus(C(s,new y(i),l,1))).d).slice(0,l)===O(u.d).slice(0,l)){if(u=u.times(2),0!==o&&(u=u.plus(F(y,l+2,w).times(o+""))),u=C(u,new y(p),l,1),null!=t)return y.precision=w,u;if(!B(u.d,l-10,b,a))return R(u,y.precision=w,b,h=!0);y.precision=l+=10,c=s=m=C(d.minus(1),d.plus(1),l,1),f=R(m.times(m),l,1),i=a=1}u=c,i+=2}}function Q(e){return String(e.s*e.s/0)}function G(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),h&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function X(e,t){var n,r,i,s,a,u,c,l,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),M.test(t))return G(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(k.test(t))n=16,t=t.toLowerCase();else if(A.test(t))n=2;else{if(!_.test(t))throw Error(g+t);n=8}for((s=t.search(/p/i))>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(u=(t=t.replace(".","")).length)-s,i=z(r,new r(n),s,2*s)),s=d=(l=L(t,n,I)).length-1;0===l[s];--s)l.pop();return s<0?new r(0*e.s):(e.e=D(l,d),e.d=l,h=!1,a&&(e=C(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?S(2,c):o.pow(2,c))),h=!0,e)}function Y(e,t,n,r,i){var o,s,a,u,c=e.precision,l=Math.ceil(c/7);for(h=!1,u=n.times(n),a=new e(r);;){if(s=C(a.times(u),new e(t++*t++),c,1),a=i?r.plus(s):r.minus(s),r=C(s.times(u),new e(t++*t++),c,1),void 0!==(s=a.plus(r)).d[l]){for(o=l;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=s,s=o}return h=!0,s.d.length=l+1,s}function Z(e,t){for(var n=e;--t;)n*=e;return n}function $(e,t){var n,r=t.s<0,i=K(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return a=r?4:1,t;if((n=t.divToInt(i)).isZero())a=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return a=j(n)?r?2:3:r?4:1,t;a=j(n)?r?1:4:r?3:2}return t.minus(i).abs()}function J(e,t,n,r){var i,o,a,u,d,f,p,h,m,g=e.constructor,y=void 0!==n;if(y?(x(n,1,c),void 0===r?r=g.rounding:x(r,0,8)):(n=g.precision,r=g.rounding),e.isFinite()){for(y?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(p=N(e)).indexOf("."))>=0&&(p=p.replace(".",""),(m=new g(1)).e=p.length-a,m.d=L(N(m),10,i),m.e=m.d.length),o=d=(h=L(p,10,i)).length;0==h[--d];)h.pop();if(h[0]){if(a<0?o--:((e=new g(e)).d=h,e.e=o,h=(e=C(e,m,n,r,0,i)).d,o=e.e,f=s),a=h[n],u=i/2,f=f||void 0!==h[n+1],f=r<4?(void 0!==a||f)&&(0===r||r===(e.s<0?3:2)):a>u||a===u&&(4===r||f||6===r&&1&h[n-1]||r===(e.s<0?8:7)),h.length=n,f)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(d=h.length;!h[d-1];--d);for(a=0,p="";a<d;a++)p+=l.charAt(h[a]);if(y){if(d>1)if(16==t||8==t){for(a=16==t?4:3,--d;d%a;d++)p+="0";for(d=(h=L(p,i,t)).length;!h[d-1];--d);for(a=1,p="1.";a<d;a++)p+=l.charAt(h[a])}else p=p.charAt(0)+"."+p.slice(1);p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>d)for(o-=d;o--;)p+="0";else o<d&&(p=p.slice(0,o)+"."+p.slice(o))}else p=y?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=Q(e);return e.s<0?"-"+p:p}function ee(e,t){if(e.length>t)return e.length=t,!0}function te(e){return new this(e).abs()}function ne(e){return new this(e).acos()}function re(e){return new this(e).acosh()}function ie(e,t){return new this(e).plus(t)}function oe(e){return new this(e).asin()}function se(e){return new this(e).asinh()}function ae(e){return new this(e).atan()}function ue(e){return new this(e).atanh()}function ce(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?K(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=K(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(C(e,t,o,1)),t=K(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(C(e,t,o,1)):(n=K(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function le(e){return new this(e).cbrt()}function de(e){return R(e=new this(e),e.e+1,2)}function fe(e,t,n){return new this(e).clamp(t,n)}function pe(e){if(!e||"object"!=typeof e)throw Error(m+"Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,c,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=p[n]),void 0!==(r=e[n])){if(!(v(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(g+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=p[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(g+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(b);this[n]=!0}else this[n]=!1}return this}function he(e){return new this(e).cos()}function me(e){return new this(e).cosh()}function ge(e,t){return new this(e).div(t)}function ye(e){return new this(e).exp()}function be(e){return R(e=new this(e),e.e+1,3)}function we(){var e,t,n=new this(0);for(h=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return h=!0,new this(1/0);n=t}return h=!0,n.sqrt()}function ve(e){return e instanceof o||e&&e.toStringTag===w||!1}function Se(e){return new this(e).ln()}function Ae(e,t){return new this(e).log(t)}function ke(e){return new this(e).log(2)}function _e(e){return new this(e).log(10)}function Me(){return q(this,arguments,"lt")}function Ie(){return q(this,arguments,"gt")}function Ee(e,t){return new this(e).mod(t)}function Pe(e,t){return new this(e).mul(t)}function Te(e,t){return new this(e).pow(t)}function Oe(e){var t,n,r,i,o=0,s=new this(1),a=[];if(void 0===e?e=this.precision:x(e,1,c),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(b);for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=r/4}else for(;o<r;)a[o++]=1e7*Math.random()|0;for(e%=7,(r=a[--o])&&e&&(i=S(10,7-e),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return s.e=n,s.d=a,s}function xe(e){return R(e=new this(e),e.e+1,this.rounding)}function Be(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Le(e){return new this(e).sin()}function Ce(e){return new this(e).sinh()}function Re(e){return new this(e).sqrt()}function Ne(e,t){return new this(e).sub(t)}function De(){var e=0,t=arguments,n=new this(t[e]);for(h=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return h=!0,R(n,this.precision,this.rounding)}function Fe(e){return new this(e).tan()}function Ke(e){return new this(e).tanh()}function Ue(e){return R(e=new this(e),e.e+1,1)}(o=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,ve(e))return i.s=e.s,void(h?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(h?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):G(i,e.toString())}if("string"!==r)throw Error(g+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),M.test(e)?G(i,e):X(i,e)}if(o.prototype=T,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=pe,o.clone=e,o.isDecimal=ve,o.abs=te,o.acos=ne,o.acosh=re,o.add=ie,o.asin=oe,o.asinh=se,o.atan=ae,o.atanh=ue,o.atan2=ce,o.cbrt=le,o.ceil=de,o.clamp=fe,o.cos=he,o.cosh=me,o.div=ge,o.exp=ye,o.floor=be,o.hypot=we,o.ln=Se,o.log=Ae,o.log10=_e,o.log2=ke,o.max=Me,o.min=Ie,o.mod=Ee,o.mul=Pe,o.pow=Te,o.random=Oe,o.round=xe,o.sign=Be,o.sin=Le,o.sinh=Ce,o.sqrt=Re,o.sub=Ne,o.sum=De,o.tan=Fe,o.tanh=Ke,o.trunc=Ue,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(p)).prototype.constructor=o,o.default=o.Decimal=o,d=new o(d),f=new o(f),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},6164:(e,t,n)=>{"use strict";var r=n(2051),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=n(229)(),c=a&&u,l=function(e,t,n,r){var i;(!(t in e)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(c?a(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)l(e,o[a],t[o[a]],n[o[a]])};d.supportsDescriptors=!!c,e.exports=d},6693:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof n&&(r=n,n=void 0),null!=n&&(r.code=n);try{return t(e,r)}catch(n){r.message=e.message,r.stack=e.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),t(new i,r)}}},858:e=>{"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var u=o[s],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(n[u]=i[u])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},1312:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,s),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==t||i&&!a[u].once||r&&a[u].context!==r)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},2904:(e,t,n)=>{"use strict";var r=n(3655),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},a=function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},u=function(e,t,n){for(var r in e)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))};e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(e)?s(e,t,o):"string"==typeof e?a(e,t,o):u(e,t,o)}},8640:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var s,a=n.call(arguments,1),u=function(){if(this instanceof s){var t=o.apply(this,a.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,a.concat(n.call(arguments)))},c=Math.max(0,o.length-a.length),l=[],d=0;d<c;d++)l.push("$"+d);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var f=function(){};f.prototype=o.prototype,s.prototype=new f,f.prototype=null}return s}},3569:(e,t,n)=>{"use strict";var r=n(8640);e.exports=Function.prototype.bind||r},2616:(e,t,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new s},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,d=n(1143)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"==typeof Uint8Array?r:f(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=f(i.prototype))}return m[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(3569),w=n(8416),v=b.call(Function.call,Array.prototype.concat),S=b.call(Function.apply,Array.prototype.splice),A=b.call(Function.call,String.prototype.replace),k=b.call(Function.call,String.prototype.slice),_=b.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,E=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return A(e,M,(function(e,t,n,i){r[r.length]=n?A(i,I,"$1"):t||e})),r},P=function(e,t){var n,r=e;if(w(y,r)&&(r="%"+(n=y[r])[0]+"%"),w(m,r)){var o=m[r];if(o===p&&(o=g(r)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===_(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=E(e),r=n.length>0?n[0]:"",o=P("%"+r+"%",t),a=o.name,c=o.value,l=!1,d=o.alias;d&&(r=d[0],S(n,v([0,1],d)));for(var f=1,p=!0;f<n.length;f+=1){var h=n[f],g=k(h,0,1),y=k(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),w(m,a="%"+(r+="."+h)+"%"))c=m[a];else if(null!=c){if(!(h in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var b=u(c,h);c=(p=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[h]}else p=w(c,h),c=c[h];p&&!l&&(m[a]=c)}}return c}},658:(e,t,n)=>{"use strict";var r=n(2616)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},229:(e,t,n)=>{"use strict";var r=n(2616)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},1143:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(9985);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},9985:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},3060:(e,t,n)=>{"use strict";var r=n(9985);e.exports=function(){return r()&&!!Symbol.toStringTag}},8416:(e,t,n)=>{"use strict";var r=n(3569);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},551:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=h,s/=256,c-=8);e[n+p-h]|=128*m}},2937:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},346:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},2571:(e,t,n)=>{"use strict";var r=n(3060)(),i=n(3099)("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,e.exports=a?o:s},3655:e=>{"use strict";var t,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,t)}catch(e){e!==n&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(e){try{var t=r.call(e);return o.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(r.call(e),!0)}catch(e){return!1}},u=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var f=document.all;u.call(f)===u.call(document.all)&&(d=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=u.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==n)return!1}return!s(e)&&a(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(c)return a(e);if(s(e))return!1;var t=u.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},9141:(e,t,n)=>{"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=n(3060)(),u=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(o.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===r){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();r=!!t&&u(t)}return u(e)===r}},2612:e=>{"use strict";e.exports=function(e){return e!=e}},5757:(e,t,n)=>{"use strict";var r=n(2755),i=n(6164),o=n(2612),s=n(9774),a=n(6928),u=r(s(),Number);i(u,{getPolyfill:s,implementation:o,shim:a}),e.exports=u},9774:(e,t,n)=>{"use strict";var r=n(2612);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},6928:(e,t,n)=>{"use strict";var r=n(6164),i=n(9774);e.exports=function(){var e=i();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},5698:(e,t,n)=>{"use strict";var r=n(2904),i=n(6668),o=n(3099),s=o("Object.prototype.toString"),a=n(3060)(),u=n(658),c="undefined"==typeof globalThis?n.g:globalThis,l=i(),d=o("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},f=o("String.prototype.slice"),p={},h=Object.getPrototypeOf;a&&u&&h&&r(l,(function(e){var t=new c[e];if(Symbol.toStringTag in t){var n=h(t),r=u(n,Symbol.toStringTag);if(!r){var i=h(n);r=u(i,Symbol.toStringTag)}p[e]=r.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=f(s(e),8,-1);return d(l,t)>-1}return!!u&&function(e){var t=!1;return r(p,(function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}})),t}(e)}},7167:(e,t,n)=>{"use strict";const r=n(4068).v4,i=n(391),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return r()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=o,o.prototype.request=function(e,t,n,r){const o=this;let s=null;const a=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"==typeof e&&"function"==typeof t)r=t,s=e;else{"function"==typeof n&&(r=n,n=void 0);const o="function"==typeof r;try{s=i(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(o)return r(e);throw e}if(!o)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(e){return r(e)}return this.callServer(u,(function(e,t){o._parseResponse(e,t,r)})),s},o.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(e){return n(e)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return void 0!==e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)}},391:(e,t,n)=>{"use strict";const r=n(4068).v4;e.exports=function(e,t,n,i){if("string"!=typeof e)throw new TypeError(e+" must be a string");const o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:e};if(2===o&&(s.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(void 0===n){const e="function"==typeof i.generator?i.generator:function(){return r()};s.id=e(s,i)}else 2===o&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s}},9489:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,i=typeof e;if("string"===i){var o,s=[],a=e.length,u=0;for(r=0;r<a;++r)(o=e.charCodeAt(r))<128?s[u++]=o:o<2048?(s[u++]=192|o>>6,s[u++]=128|63&o):o<55296||o>=57344?(s[u++]=224|o>>12,s[u++]=128|o>>6&63,s[u++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++r)),s[u++]=240|o>>18,s[u++]=128|o>>12&63,s[u++]=128|o>>6&63,s[u++]=128|63&o);e=s}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],l=[];for(r=0;r<64;++r){var d=e[r]||0;c[r]=92^d,l[r]=54^d}Sha256.call(this,t,n),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,i,o=0,s=e.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(r=e.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,i,o,s,a,u,c=this.h0,l=this.h1,d=this.h2,f=this.h3,p=this.h4,h=this.h5,m=this.h6,g=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((i=y[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=y[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[e]=y[e-16]+t+y[e-7]+n<<0;for(u=l&d,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,g=(i=y[0]-1413257819)-150054599<<0,f=i+24177077<<0):(o=704751109,g=(i=y[0]-210244248)-1521486534<<0,f=i+143694565<<0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(o=c&l)^c&d^u,g=f+(i=g+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&h^~p&m)+K[e]+y[e])<<0,f=i+(t+r)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(s=f&c)^f&l^o,m=d+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&p^~g&h)+K[e+1]+y[e+1])<<0,t=((d=i+(t+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&f)^d&c^s,h=l+(i=h+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&p)+K[e+2]+y[e+2])<<0,t=((l=i+(t+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(u=l&d)^l&f^a,p=c+(i=p+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&m^~h&g)+K[e+3]+y[e+3])<<0,c=i+(t+r)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+d<<0,this.h3=this.h3+f<<0,this.h4=this.h4+p<<0,this.h5=this.h5+h<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},8318:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(){return c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i},c.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){function n(){return c(e,arguments,s(this).constructor)}if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},l(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function p(e){var t=u();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=Math.abs,r=Math.max,s=Math.floor;function a(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=u.call(this,e)).sign=t,Object.setPrototypeOf(d(n),a.prototype),e>a.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return n}o(a,e);var u=p(a);return i(a,[{key:"toDebugString",value:function(){var e,t=["BigInt["],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push((r?(r>>>0).toString(16):r)+", ")}}catch(e){n.e(e)}finally{n.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?a.__toStringBasePowerOfTwo(this,e):a.__toStringGeneric(this,e,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new a(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return a.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=32767&e,i=e>>>15,o=0,s=t,u=0;u<n;u++){var c=this.__digit(u),l=32767&c,d=c>>>15,f=a.__imul(l,r),p=a.__imul(l,i),h=a.__imul(d,r),m=s+f+o;o=m>>>30,m&=1073741823,o+=(m+=((32767&p)<<15)+((32767&h)<<15))>>>30,s=a.__imul(d,i)+(p>>>15)+(h>>>15),this.__setDigit(u,1073741823&m)}if(0!==o||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r,i=0,o=0;o<n;o++)i=(r=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>15,this.__setHalfDigit(t+o,32767&r);return i}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,s=0;s<n-1>>>1;s++){var a=e.__digit(s),u=(i>>>15)-(32767&a)-r;r=1&u>>>15,this.__setDigit(t+s,(32767&u)<<15|32767&o),r=1&(o=(32767&(i=this.__digit(t+s+1)))-(a>>>15)-r)>>>15}var c=e.__digit(s),l=(i>>>15)-(32767&c)-r;if(r=1&l>>>15,this.__setDigit(t+s,(32767&l)<<15|32767&o),t+s+1>=this.length)throw new RangeError("out of bounds");0==(1&n)&&(r=1&(o=(32767&(i=this.__digit(t+s+1)))-(c>>>15)-r)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var d=0;d<e.length-1;d++){var f=this.__digit(t+d),p=e.__digit(d),h=(32767&f)-(32767&p)-r,m=(f>>>15)-(p>>>15)-(r=1&h>>>15);r=1&m>>>15,this.__setDigit(t+d,(32767&m)<<15|32767&h)}var g=this.__digit(t+d),y=e.__digit(d),b=(32767&g)-(32767&y)-r;r=1&b>>>15;var w=0;0==(1&n)&&(r=1&(w=(g>>>15)-(y>>>15)-r)>>>15),this.__setDigit(t+d,(32767&w)<<15|32767&b)}return r}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,n=this.__digit(0)>>>e,r=this.length-1,i=0;i<r;i++)t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|n),n=t>>>e;this.__setDigit(r,n)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),i=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(n,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return a.__zero();if(a.__isOneDigitInt(e))return 0>e?a.__oneDigit(-e,!0):a.__oneDigit(e,!1);if(!t(e)||s(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(e)}if("string"==typeof e){var r=a.__fromString(e);if(null===r)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return r}if("boolean"==typeof e)return!0===e?a.__oneDigit(1,!1):a.__zero();if("object"===n(e)){if(e.constructor===a)return e;var i=a.__toPrimitive(e);return a.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),i=a.__clz30(r),o=30*t-i;if(1024<o)return e.sign?-1/0:1/0;var s=o-1,u=r,c=t-1,l=i+3,d=32===l?0:u<<l;d>>>=12;var f=l-12,p=12<=l?0:u<<20+l,h=20+l;for(0<f&&0<c&&(c--,d|=(u=e.__digit(c))>>>30-f,p=u<<f+2,h=f+2);0<h&&0<c;)c--,u=e.__digit(c),p|=30<=h?u<<h-30:u>>>30-h,h-=30;var m=a.__decideRounding(e,h,c,u);if((1===m||0===m&&1==(1&p))&&0==(p=p+1>>>0)&&0!=++d>>>20&&(d=0,1023<++s))return e.sign?-1/0:1/0;var g=e.sign?-2147483648:0;return s=s+1023<<20,a.__kBitConversionInts[1]=g|s|d,a.__kBitConversionInts[0]=p,a.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?a.__absoluteSubOne(e).__trim():a.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return a.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?a.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(1===n)return e;if(n>=a.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var r=1+(0|n/30),i=new a(r,e.sign&&0!=(1&n));i.__initializeDigits();var o=1<<n%30;return i.__setDigit(r-1,o),i}var s=null,u=e;for(0!=(1&n)&&(s=e),n>>=1;0!==n;n>>=1)u=a.multiply(u,u),0!=(1&n)&&(s=null===s?u:a.multiply(s,u));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var n=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new a(n,e.sign!==t.sign);r.__initializeDigits();for(var i=0;i<e.length;i++)a.__multiplyAccumulate(t,e.__digit(i),r,i);return r.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return a.__zero();var n,r=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return r===e.sign?e:a.unaryMinus(e);n=a.__absoluteDivSmall(e,i,null)}else n=a.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return e;var n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return a.__zero();var r=a.__absoluteModSmall(e,n);return 0===r?a.__zero():a.__oneDigit(r,e.sign)}var i=a.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?a.__absoluteAdd(e,t,n):0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,n):a.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,n):a.__absoluteSub(t,e,!n):a.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?a.__rightShiftByAbsolute(e,t):a.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?a.__leftShiftByAbsolute(e,t):a.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>a.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=a.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<a.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=a.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!a.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return a.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var n=r(e.length,t.length)+1,i=a.__absoluteSubOne(e,n),o=a.__absoluteSubOne(t);return i=a.__absoluteOr(i,o,i),a.__absoluteAddOne(i,!0,i).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}return a.__absoluteAndNot(e,a.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return a.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var n=r(e.length,t.length),i=a.__absoluteSubOne(e,n),o=a.__absoluteSubOne(t);return a.__absoluteXor(i,o,i).__trim()}var s=r(e.length,t.length)+1;if(e.sign){var u=[t,e];e=u[0],t=u[1]}var c=a.__absoluteSubOne(t,s);return c=a.__absoluteXor(c,e,c),a.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(e,t){var n=r(e.length,t.length);if(!e.sign&&!t.sign)return a.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var i=a.__absoluteSubOne(e,n),o=a.__absoluteSubOne(t);return i=a.__absoluteAnd(i,o,i),a.__absoluteAddOne(i,!0,i).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}var u=a.__absoluteSubOne(t,n);return u=a.__absoluteAndNot(u,e,u),a.__absoluteAddOne(u,!0,u).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(e>=a.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),i=1<<(e-1)%30;if(t.length===n&&r<i)return t;if((r&i)!==i)return a.__truncateToNBits(e,t);if(!t.sign)return a.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(r&i-1)){for(var o=n-2;0<=o;o--)if(0!==t.__digit(o))return a.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===i?t:a.__truncateToNBits(e,t)}return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(t.sign){if(e>a.__kMaxLengthBits)throw new RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=a.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=e%30;if(t.length==n){if(0===r)return t;if(0==t.__digit(n-1)>>>r)return t}return a.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)&&a.__isBigInt(t))return a.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return a.__compare(e,t,0)}},{key:"LE",value:function(e,t){return a.__compare(e,t,1)}},{key:"GT",value:function(e,t){return a.__compare(e,t,2)}},{key:"GE",value:function(e,t){return a.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(a.__isBigInt(e))return a.__isBigInt(t)?a.equal(e,t):a.EQ(t,e);if("number"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,e);if("object"!==n(t))return e==t;t=a.__toPrimitive(t)}else if("string"==typeof e){if(a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.equal(e,t);if("object"!==n(t))return e==t;t=a.__toPrimitive(t)}else if("boolean"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,+e);if("object"!==n(t))return e==t;t=a.__toPrimitive(t)}else if("symbol"===n(e)){if(a.__isBigInt(t))return!1;if("object"!==n(t))return e==t;t=a.__toPrimitive(t)}else{if("object"!==n(e))return e==t;if("object"===n(t)&&t.constructor!==a)return e==t;e=a.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!a.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return a.asIntN(64,a.DataViewGetBigUint64(e,t,n))}},{key:"DataViewGetBigUint64",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=h(n?[4,0]:[0,4],2),i=r[0],o=r[1],s=e.getUint32(t+i,n),u=e.getUint32(t+o,n),c=new a(3,!1);return c.__setDigit(0,1073741823&u),c.__setDigit(1,(268435455&s)<<2|u>>>30),c.__setDigit(2,s>>>28),c.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];a.DataViewSetBigUint64(e,t,n,r)}},{key:"DataViewSetBigUint64",value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(n=a.asUintN(64,n)).length&&(o=n.__digit(0),1<n.length)){var s=n.__digit(1);o|=s<<30,i=s>>>2,2<n.length&&(i|=n.__digit(2)<<28)}var u=h(r?[4,0]:[0,4],2),c=u[0],l=u[1];e.setUint32(t+c,i,r),e.setUint32(t+l,o,r)}},{key:"__zero",value:function(){return new a(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new a(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===n)return-1;n--,r=e.__digit(n),i=29}var o=1<<i;if(0==(r&o))return-1;if(0!=(r&(o-=1)))return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}},{key:"__fromDouble",value:function(e){a.__kBitConversionDouble[0]=e;var t,n=(2047&a.__kBitConversionInts[1]>>>20)-1023,r=1+(0|n/30),i=new a(r,0>e),o=1048575&a.__kBitConversionInts[1]|1048576,s=a.__kBitConversionInts[0],u=n%30,c=0;if(u<20){var l=20-u;c=l+32,t=o>>>l,o=o<<32-l|s>>>l,s<<=32-l}else if(20===u)c=32,t=o,o=s,s=0;else{var d=u-20;c=32-d,t=o<<d|s>>>32-d,o=s<<d,s=0}i.__setDigit(r-1,t);for(var f=r-2;0<=f;f--)0<c?(c-=30,t=o>>>2,o=o<<30|s>>>2,s<<=30):t=0,i.__setDigit(f,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0,r=e.length,i=0;if(i===r)return a.__zero();for(var o=e.charCodeAt(i);a.__isWhitespace(o);){if(++i===r)return a.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===r)return null;o=e.charCodeAt(i),n=1}else if(45===o){if(++i===r)return null;o=e.charCodeAt(i),n=-1}if(0===t){if(t=10,48===o){if(++i===r)return a.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===r)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===r)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===r)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===r)return a.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===r)return null;o=e.charCodeAt(i)}}if(0!==n&&10!==t)return null;for(;48===o;){if(++i===r)return a.__zero();o=e.charCodeAt(i)}var s=r-i,u=a.__kMaxBitsPerChar[t],c=a.__kBitsPerCharTableMultiplier-1;if(s>1073741824/u)return null;var l=new a(0|(29+(u*s+c>>>a.__kBitsPerCharTableShift))/30,!1),d=10>t?t:10,f=10<t?t-10:0;if(0==(t&t-1)){u>>=a.__kBitsPerCharTableShift;var p=[],h=[],m=!1;do{for(var g,y=0,b=0;;){if(g=void 0,o-48>>>0<d)g=o-48;else{if(!((32|o)-97>>>0<f)){m=!0;break}g=(32|o)-87}if(b+=u,y=y<<u|g,++i===r){m=!0;break}if(o=e.charCodeAt(i),30<b+u)break}p.push(y),h.push(b)}while(!m);a.__fillFromParts(l,p,h)}else{l.__initializeDigits();var w=!1,v=0;do{for(var S,A=0,k=1;;){if(S=void 0,o-48>>>0<d)S=o-48;else{if(!((32|o)-97>>>0<f)){w=!0;break}S=(32|o)-87}var _=k*t;if(1073741823<_)break;if(k=_,A=A*t+S,v++,++i===r){w=!0;break}o=e.charCodeAt(i)}var M=0|(u*v+(c=30*a.__kBitsPerCharTableMultiplier-1)>>>a.__kBitsPerCharTableShift)/30;l.__inplaceMultiplyAdd(k,A,M)}while(!w)}if(i!==r){if(!a.__isWhitespace(o))return null;for(i++;i<r;i++)if(o=e.charCodeAt(i),!a.__isWhitespace(o))return null}return l.sign=-1===n,l.__trim()}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,i=0,o=0,s=t.length-1;0<=s;s--){var a=t[s],u=n[s];i|=a<<o,30===(o+=u)?(e.__setDigit(r++,i),o=0,i=0):30<o&&(e.__setDigit(r++,1073741823&i),i=a>>>u-(o-=30))}if(0!==i){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,i)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1,i=r=(15&(r=(51&(r=(85&r>>>1)+(85&r))>>>2)+(51&r))>>>4)+(15&r),o=t-1,s=e.__digit(n-1),u=0|(30*n-a.__clz30(s)+i-1)/i;if(e.sign&&u++,268435456<u)throw new Error("string too long");for(var c=Array(u),l=u-1,d=0,f=0,p=0;p<n-1;p++){var h=e.__digit(p),m=(d|h<<f)&o;c[l--]=a.__kConversionChars[m];var g=i-f;for(d=h>>>g,f=30-g;f>=i;)c[l--]=a.__kConversionChars[d&o],d>>>=i,f-=i}var y=(d|s<<f)&o;for(c[l--]=a.__kConversionChars[y],d=s>>>i-f;0!==d;)c[l--]=a.__kConversionChars[d&o],d>>>=i;if(e.sign&&(c[l--]="-"),-1!==l)throw new Error("implementation bug");return c.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(0===r)return"";if(1===r){var i=e.__unsignedDigit(0).toString(t);return!1===n&&e.sign&&(i="-"+i),i}var o,s,u=30*r-a.__clz30(e.__digit(r-1)),c=a.__kMaxBitsPerChar[t]-1,l=u*a.__kBitsPerCharTableMultiplier,d=1+(l=0|(l+=c-1)/c)>>1,f=a.exponentiate(a.__oneDigit(t,!1),a.__oneDigit(d,!1)),p=f.__unsignedDigit(0);if(1===f.length&&32767>=p){(o=new a(e.length,!1)).__initializeDigits();for(var h,m=0,g=2*e.length-1;0<=g;g--)h=m<<15|e.__halfDigit(g),o.__setHalfDigit(g,0|h/p),m=0|h%p;s=m.toString(t)}else{var y=a.__absoluteDivLarge(e,f,!0,!0);o=y.quotient;var b=y.remainder.__trim();s=a.__toStringGeneric(b,t,!0)}o.__trim();for(var w=a.__toStringGeneric(o,t,!0);s.length<d;)s="0"+s;return!1===n&&e.sign&&(w="-"+w),w+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return a.__unequalSign(n);var r=a.__absoluteCompare(e,t);return 0<r?a.__absoluteGreater(n):0>r?a.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,n){if(a.__isOneDigitInt(n)){var r=e.sign,i=0>n;if(r!==i)return a.__unequalSign(r);if(0===e.length){if(i)throw new Error("implementation bug");return 0===n?0:-1}if(1<e.length)return a.__absoluteGreater(r);var o=t(n),s=e.__unsignedDigit(0);return s>o?a.__absoluteGreater(r):s<o?a.__absoluteLess(r):0}return a.__compareToDouble(e,n)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var n=e.sign;if(n!==0>t)return a.__unequalSign(n);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;a.__kBitConversionDouble[0]=t;var r=2047&a.__kBitConversionInts[1]>>>20;if(2047==r)throw new Error("implementation bug: handled elsewhere");var i=r-1023;if(0>i)return a.__absoluteGreater(n);var o=e.length,s=e.__digit(o-1),u=a.__clz30(s),c=30*o-u,l=i+1;if(c<l)return a.__absoluteLess(n);if(c>l)return a.__absoluteGreater(n);var d=1048576|1048575&a.__kBitConversionInts[1],f=a.__kBitConversionInts[0],p=29-u;if(p!==(0|(c-1)%30))throw new Error("implementation bug");var h,m=0;if(p<20){var g=20-p;m=g+32,h=d>>>g,d=d<<32-g|f>>>g,f<<=32-g}else if(20===p)m=32,h=d,d=f,f=0;else{var y=p-20;m=32-y,h=d<<y|f>>>32-y,d=f<<y,f=0}if((s>>>=0)>(h>>>=0))return a.__absoluteGreater(n);if(s<h)return a.__absoluteLess(n);for(var b=o-2;0<=b;b--){0<m?(m-=30,h=d>>>2,d=d<<30|f>>>2,f<<=30):h=0;var w=e.__unsignedDigit(b);if(w>h)return a.__absoluteGreater(n);if(w<h)return a.__absoluteLess(n)}if(0!==d||0!==f){if(0===m)throw new Error("implementation bug");return a.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,n){return a.__isOneDigitInt(n)?0===n?0===e.length:1===e.length&&e.sign===0>n&&e.__unsignedDigit(0)===t(n):0===a.__compareToDouble(e,n)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,n){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(a.__isBigInt(e)&&"string"==typeof t)return null!==(t=a.__fromString(t))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),n);if("string"==typeof e&&a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),n);if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)){if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToBigInt(e,t),n);if("number"!=typeof t)throw new Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(e,t),n)}if("number"!=typeof e)throw new Error("implementation bug");if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToNumber(t,e),2^n);if("number"!=typeof t)throw new Error("implementation bug");return 0===n?e<t:1===n?e<=t:2===n?e>t:3===n?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return a.__absoluteAdd(t,e,n);if(0===e.length)return e;if(0===t.length)return e.sign===n?e:a.unaryMinus(e);var r=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&r++;for(var i,o=new a(r,n),s=0,u=0;u<t.length;u++)s=(i=e.__digit(u)+t.__digit(u)+s)>>>30,o.__setDigit(u,1073741823&i);for(;u<e.length;u++){var c=e.__digit(u)+s;s=c>>>30,o.__setDigit(u,1073741823&c)}return u<o.length&&o.__setDigit(u,s),o.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(0===e.length)return e;if(0===t.length)return e.sign===n?e:a.unaryMinus(e);for(var r,i=new a(e.length,n),o=0,s=0;s<t.length;s++)o=1&(r=e.__digit(s)-t.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&r);for(;s<e.length;s++){var u=e.__digit(s)-o;o=1&u>>>30,i.__setDigit(s,1073741823&u)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length;null===n?n=new a(r,t):n.sign=t;for(var i,o=1,s=0;s<r;s++)o=(i=e.__digit(s)+o)>>>30,n.__setDigit(s,1073741823&i);return 0!==o&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){for(var n,r=e.length,i=new a(t=t||r,!1),o=1,s=0;s<r;s++)o=1&(n=e.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&n);if(0!==o)throw new Error("implementation bug");for(var u=r;u<t;u++)i.__setDigit(u,0);return i}},{key:"__absoluteAnd",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){o=r;var s=e,u=r;e=t,r=i,t=s,i=u}var c=o;null===n?n=new a(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)&t.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;r<i&&(o=r);var s=r;null===n?n=new a(s,!1):s=n.length;for(var u=0;u<o;u++)n.__setDigit(u,e.__digit(u)&~t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){o=r;var s=e,u=r;e=t,r=i,t=s,i=u}var c=r;null===n?n=new a(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)|t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,o=i;if(r<i){o=r;var s=e,u=r;e=t,r=i,t=s,i=u}var c=r;null===n?n=new a(c,!1):c=n.length;for(var l=0;l<o;l++)n.__setDigit(l,e.__digit(l)^t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<c;l++)n.__setDigit(l,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(0!=n)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(0!==t){for(var i=32767&t,o=t>>>15,s=0,u=0,c=0;c<e.length;c++,r++){var l=n.__digit(r),d=e.__digit(c),f=32767&d,p=d>>>15,h=a.__imul(f,i),m=a.__imul(f,o),g=a.__imul(p,i);s=(l+=u+h+s)>>>30,l&=1073741823,s+=(l+=((32767&m)<<15)+((32767&g)<<15))>>>30,u=a.__imul(p,o)+(m>>>15)+(g>>>15),n.__setDigit(r,1073741823&l)}for(;0!==s||0!==u;r++){var y=n.__digit(r);y+=s+u,u=0,s=y>>>30,n.__setDigit(r,1073741823&y)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,i){for(var o=n,s=0,u=0;u<r;u++){var c=e.__digit(u),l=a.__imul(32767&c,t),d=a.__imul(c>>>15,t),f=l+((32767&d)<<15)+s+o;o=f>>>30,s=d>>>15,i.__setDigit(u,1073741823&f)}if(i.length>r)for(i.__setDigit(r++,o+s);r<i.length;)i.__setDigit(r++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=new a(e.length,!1));for(var r=0,i=2*e.length-1;0<=i;i-=2){var o=(r<<15|e.__halfDigit(i))>>>0,s=0|o/t,u=0|(o=((r=0|o%t)<<15|e.__halfDigit(i-1))>>>0)/t;r=0|o%t,n.__setDigit(i>>>1,s<<15|u)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n=0,r=2*e.length-1;0<=r;r--)n=0|((n<<15|e.__halfDigit(r))>>>0)%t;return n}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var i=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-i,u=null;n&&(u=new a(s+2>>>1,!1)).__initializeDigits();var c=new a(i+2>>>1,!1);c.__initializeDigits();var l=a.__clz15(t.__halfDigit(i-1));0<l&&(t=a.__specialLeftShift(t,l,0));for(var d=a.__specialLeftShift(e,l,1),f=t.__halfDigit(i-1),p=0,h=s;0<=h;h--){var m=32767,g=d.__halfDigit(h+i);if(g!==f){var y=(g<<15|d.__halfDigit(h+i-1))>>>0;m=0|y/f;for(var b=0|y%f,w=t.__halfDigit(i-2),v=d.__halfDigit(h+i-2);a.__imul(m,w)>>>0>(b<<16|v)>>>0&&(m--,!(32767<(b+=f))););}a.__internalMultiplyAdd(t,m,0,o,c);var S=d.__inplaceSub(c,h,i+1);0!==S&&(S=d.__inplaceAdd(t,h,i),d.__setHalfDigit(h+i,32767&d.__halfDigit(h+i)+S),m--),n&&(1&h?p=m<<15:u.__setDigit(h>>>1,p|m))}if(r)return d.__inplaceRightShift(l),n?{quotient:u,remainder:d}:d;if(n)return u;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return a.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,i=new a(r+n,!1);if(0===t){for(var o=0;o<r;o++)i.__setDigit(o,e.__digit(o));return 0<n&&i.__setDigit(r,0),i}for(var s,u=0,c=0;c<r;c++)s=e.__digit(c),i.__setDigit(c,1073741823&s<<t|u),u=s>>>30-t;return 0<n&&i.__setDigit(r,u),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=a.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");var r=0|n/30,i=n%30,o=e.length,s=0!==i&&0!=e.__digit(o-1)>>>30-i,u=o+r+(s?1:0),c=new a(u,e.sign);if(0===i){for(var l=0;l<r;l++)c.__setDigit(l,0);for(;l<u;l++)c.__setDigit(l,e.__digit(l-r))}else{for(var d=0,f=0;f<r;f++)c.__setDigit(f,0);for(var p,h=0;h<o;h++)p=e.__digit(h),c.__setDigit(h+r,1073741823&p<<i|d),d=p>>>30-i;if(s)c.__setDigit(o+r,d);else if(0!==d)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,i=a.__toShiftAmount(t);if(0>i)return a.__rightShiftByMaximum(r);var o=0|i/30,s=i%30,u=n-o;if(0>=u)return a.__rightShiftByMaximum(r);var c=!1;if(r)if(0!=(e.__digit(o)&(1<<s)-1))c=!0;else for(var l=0;l<o;l++)if(0!==e.__digit(l)){c=!0;break}c&&0===s&&0==~e.__digit(n-1)&&u++;var d=new a(u,r);if(0===s){d.__setDigit(u-1,0);for(var f=o;f<n;f++)d.__setDigit(f-o,e.__digit(f))}else{for(var p,h=e.__digit(o)>>>s,m=n-o-1,g=0;g<m;g++)p=e.__digit(g+o+1),d.__setDigit(g,1073741823&p<<30-s|h),h=p>>>s;d.__setDigit(m,h)}return c&&(d=a.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?a.__oneDigit(1,!0):a.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>a.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==n(e))return e;if(e.constructor===a)return e;if("undefined"!=typeof Symbol&&"symbol"===n(Symbol.toPrimitive)){var r=e[Symbol.toPrimitive];if(r){var i=r(t);if("object"!==n(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var s=o.call(e);if("object"!==n(s))return s}var u=e.toString;if(u){var c=u.call(e);if("object"!==n(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return a.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===n(e)&&null!==e&&e.constructor===a}},{key:"__truncateToNBits",value:function(e,t){for(var n=0|(e+29)/30,r=new a(n,t.sign),i=n-1,o=0;o<i;o++)r.__setDigit(o,t.__digit(o));var s=t.__digit(i);if(0!=e%30){var u=32-e%30;s=s<<u>>>u}return r.__setDigit(i,s),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r,i=Math.min,o=0|(e+29)/30,s=new a(o,n),u=0,c=o-1,l=0,d=i(c,t.length);u<d;u++)l=1&(r=0-t.__digit(u)-l)>>>30,s.__setDigit(u,1073741823&r);for(;u<c;u++)s.__setDigit(u,0|1073741823&-l);var f,p=c<t.length?t.__digit(c):0,h=e%30;if(0===h)f=0-p-l,f&=1073741823;else{var m=32-h,g=1<<32-m;f=g-(p=p<<m>>>m)-l,f&=g-1}return s.__setDigit(c,f),s.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),a}(l(Array));return y.__kMaxLength=33554432,y.__kMaxLengthBits=y.__kMaxLength<<5,y.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],y.__kBitsPerCharTableShift=5,y.__kBitsPerCharTableMultiplier=1<<y.__kBitsPerCharTableShift,y.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],y.__kBitConversionBuffer=new ArrayBuffer(8),y.__kBitConversionDouble=new Float64Array(y.__kBitConversionBuffer),y.__kBitConversionInts=new Int32Array(y.__kBitConversionBuffer),y.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,n=Math.log;return 0===e?30:0|29-(0|n(e>>>0)/t)},y.__imul=e||function(e,t){return 0|e*t},y}()},1301:(e,t,n)=>{var r,i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",c="["+u+"]",l="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",d="\\d+",f="["+s+"]",p="[^\\ud800-\\udfff"+u+d+"\\u2700-\\u27bf"+s+a+"]",h="\\ud83c[\\udffb-\\udfff]",m="[^\\ud800-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+a+"]",w="(?:"+f+"|"+p+")",v="(?:"+b+"|"+p+")",S="(?:['](?:d|ll|m|re|s|t|ve))?",A="(?:['](?:D|LL|M|RE|S|T|VE))?",k="(?:"+l+"|"+h+")?",_="[\\ufe0e\\ufe0f]?",M=_+k+"(?:\\u200d(?:"+[m,g,y].join("|")+")"+_+k+")*",I="(?:"+["[\\u2700-\\u27bf]",g,y].join("|")+")"+M,E="(?:"+[m+l+"?",l,g,y,"[\\ud800-\\udfff]"].join("|")+")",P=RegExp("[']","g"),T=RegExp(l,"g"),O=RegExp(h+"(?="+h+")|"+E+M,"g"),x=RegExp([b+"?"+f+"+"+S+"(?="+[c,b,"$"].join("|")+")",v+"+"+A+"(?="+[c,b+w,"$"].join("|")+")",b+"?"+w+"+"+S,b+"+"+A,d,I].join("|"),"g"),B=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),L=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,C="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,R="object"==typeof self&&self&&self.Object===Object&&self,N=C||R||Function("return this")(),D=(r={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},function(e){return null==r?void 0:r[e]});function F(e){return B.test(e)}var K=Object.prototype.toString,U=N.Symbol,W=U?U.prototype:void 0,z=W?W.toString:void 0;function j(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==K.call(e)}(e))return z?z.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}var q,V=(q=function(e,t,n){return t=t.toLowerCase(),e+(n?H(j(t).toLowerCase()):t)},function(e){return function(e,t,n,r){for(var i=-1,o=e?e.length:0;++i<o;)n=t(n,e[i],i,e);return n}(function(e,t,n){return e=j(e),void 0===t?function(e){return L.test(e)}(e)?function(e){return e.match(x)||[]}(e):function(e){return e.match(i)||[]}(e):e.match(t)||[]}(function(e){return(e=j(e))&&e.replace(o,D).replace(T,"")}(e).replace(P,"")),q,"")}),H=("toUpperCase",function(e){var t,n,r,i,o=F(e=j(e))?function(e){return F(e)?function(e){return e.match(O)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,s=o?o[0]:e.charAt(0),a=o?(t=o,n=1,i=t.length,r=void 0===r?i:r,!n&&r>=i?t:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(t,n,r)).join(""):e.slice(1);return s.toUpperCase()+a});e.exports=V},525:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object Promise]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",w="[object WeakMap]",v="[object ArrayBuffer]",S="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,_=/^\./,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,E=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[o]=T[s]=T[v]=T[a]=T[S]=T[u]=T[c]=T[l]=T[d]=T[f]=T[p]=T[m]=T[g]=T[y]=T[w]=!1;var O="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,x="object"==typeof self&&self&&self.Object===Object&&self,B=O||x||Function("return this")(),L=t&&!t.nodeType&&t,C=L&&e&&!e.nodeType&&e,R=C&&C.exports===L&&O.process,N=function(){try{return R&&R.binding("util")}catch(e){}}(),D=N&&N.isTypedArray;function F(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,j,q,V=Array.prototype,H=Function.prototype,Q=Object.prototype,G=B["__core-js_shared__"],X=(z=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",Y=H.toString,Z=Q.hasOwnProperty,$=Q.toString,J=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=B.Symbol,te=B.Uint8Array,ne=Q.propertyIsEnumerable,re=V.splice,ie=(j=Object.keys,q=Object,function(e){return j(q(e))}),oe=xe(B,"DataView"),se=xe(B,"Map"),ae=xe(B,"Promise"),ue=xe(B,"Set"),ce=xe(B,"WeakMap"),le=xe(Object,"create"),de=Ke(oe),fe=Ke(se),pe=Ke(ae),he=Ke(ue),me=Ke(ce),ge=ee?ee.prototype:void 0,ye=ge?ge.valueOf:void 0,be=ge?ge.toString:void 0;function we(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.__data__=new Se;++t<n;)this.add(e[t])}function ke(e){this.__data__=new ve(e)}function _e(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}we.prototype.clear=function(){this.__data__=le?le(null):{}},we.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},we.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return Z.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:Z.call(t,e)},we.prototype.set=function(e,t){return this.__data__[e]=le&&void 0===t?r:t,this},ve.prototype.clear=function(){this.__data__=[]},ve.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0||(n==t.length-1?t.pop():re.call(t,n,1),0))},ve.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return _e(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Se.prototype.clear=function(){this.__data__={hash:new we,map:new(se||ve),string:new we}},Se.prototype.delete=function(e){return Oe(this,e).delete(e)},Se.prototype.get=function(e){return Oe(this,e).get(e)},Se.prototype.has=function(e){return Oe(this,e).has(e)},Se.prototype.set=function(e,t){return Oe(this,e).set(e,t),this},Ae.prototype.add=Ae.prototype.push=function(e){return this.__data__.set(e,r),this},Ae.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.clear=function(){this.__data__=new ve},ke.prototype.delete=function(e){return this.__data__.delete(e)},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!se||r.length<199)return r.push([e,t]),this;n=this.__data__=new Se(r)}return n.set(e,t),this};function Me(e,t){for(var n=0,r=(t=Ce(t,e)?[t]:Pe(t)).length;null!=e&&n<r;)e=e[Fe(t[n++])];return n&&n==r?e:void 0}function Ie(e,t){return null!=e&&t in Object(e)}function Ee(e,t,n,r,i){return e===t||(null==e||null==t||!Qe(e)&&!Ge(t)?e!=e&&t!=t:function(e,t,n,r,i,l){var h=je(e),w=je(t),A=s,k=s;h||(A=(A=Be(e))==o?p:A),w||(k=(k=Be(t))==o?p:k);var _=A==p&&!K(e),M=k==p&&!K(t),I=A==k;if(I&&!_)return l||(l=new ke),h||Ye(e)?Te(e,t,n,r,i,l):function(e,t,n,r,i,o,s){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v:return!(e.byteLength!=t.byteLength||!r(new te(e),new te(t)));case a:case u:case f:return We(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case d:var l=U;case g:var p=2&o;if(l||(l=W),e.size!=t.size&&!p)return!1;var h=s.get(e);if(h)return h==t;o|=1,s.set(e,t);var w=Te(l(e),l(t),r,i,o,s);return s.delete(e),w;case b:if(ye)return ye.call(e)==ye.call(t)}return!1}(e,t,A,n,r,i,l);if(!(2&i)){var E=_&&Z.call(e,"__wrapped__"),P=M&&Z.call(t,"__wrapped__");if(E||P){var T=E?e.value():e,O=P?t.value():t;return l||(l=new ke),n(T,O,r,i,l)}}return!!I&&(l||(l=new ke),function(e,t,n,r,i,o){var s=2&i,a=Ze(e),u=a.length;if(u!=Ze(t).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in t:Z.call(t,l)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++c<u;){var h=e[l=a[c]],m=t[l];if(r)var g=s?r(m,h,l,t,e,o):r(h,m,l,e,t,o);if(!(void 0===g?h===m||n(h,m,r,i,o):g)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,l))}(e,t,Ee,n,r,i))}function Pe(e){return je(e)?e:De(e)}function Te(e,t,n,r,i,o){var s=2&i,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,d=!0,f=1&i?new Ae:void 0;for(o.set(e,t),o.set(t,e);++l<a;){var p=e[l],h=t[l];if(r)var m=s?r(h,p,l,t,e,o):r(p,h,l,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!F(t,(function(e,t){if(!f.has(t)&&(p===e||n(p,e,r,i,o)))return f.add(t)}))){d=!1;break}}else if(p!==h&&!n(p,h,r,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Oe(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function xe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Qe(e)||function(e){return!!X&&X in e}(e))&&(Ve(e)||K(e)?J:E).test(Ke(e))}(n)?n:void 0}var Be=function(e){return $.call(e)};function Le(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Ce(e,t){if(je(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Xe(e))||k.test(e)||!A.test(e)||null!=t&&e in Object(t)}function Re(e){return e==e&&!Qe(e)}function Ne(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}(oe&&Be(new oe(new ArrayBuffer(1)))!=S||se&&Be(new se)!=d||ae&&Be(ae.resolve())!=h||ue&&Be(new ue)!=g||ce&&Be(new ce)!=w)&&(Be=function(e){var t=$.call(e),n=t==p?e.constructor:void 0,r=n?Ke(n):void 0;if(r)switch(r){case de:return S;case fe:return d;case pe:return h;case he:return g;case me:return w}return t});var De=Ue((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Xe(e))return be?be.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return _.test(e)&&n.push(""),e.replace(M,(function(e,t,r,i){n.push(r?i.replace(I,"$1"):t||e)})),n}));function Fe(e){if("string"==typeof e||Xe(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ke(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ue(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Ue.Cache||Se),n}function We(e,t){return e===t||e!=e&&t!=t}function ze(e){return function(e){return Ge(e)&&qe(e)}(e)&&Z.call(e,"callee")&&(!ne.call(e,"callee")||$.call(e)==o)}Ue.Cache=Se;var je=Array.isArray;function qe(e){return null!=e&&He(e.length)&&!Ve(e)}function Ve(e){var t=Qe(e)?$.call(e):"";return t==l||"[object GeneratorFunction]"==t}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Qe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ge(e){return!!e&&"object"==typeof e}function Xe(e){return"symbol"==typeof e||Ge(e)&&$.call(e)==b}var Ye=D?function(e){return function(t){return e(t)}}(D):function(e){return Ge(e)&&He(e.length)&&!!T[$.call(e)]};function Ze(e){return qe(e)?function(e,t){var n=je(e)||ze(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Z.call(e,o)||i&&("length"==o||Le(o,r))||n.push(o);return n}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||Q))return ie(e);var t,n,r=[];for(var i in Object(e))Z.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e)}function $e(e){return e}e.exports=function(e,t){var n,r,i,o,s,a={};return t="function"==typeof(n=t)?n:null==n?$e:"object"==typeof n?je(n)?function(e,t){return Ce(e)&&Re(t)?Ne(Fe(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:Me(e,t);return void 0===r?void 0:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){for(var r,i=-1,o=(t=Ce(t,e)?[t]:Pe(t)).length;++i<o;){var s=Fe(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}return r||!!(o=e?e.length:0)&&He(o)&&Le(s,o)&&(je(e)||ze(e))}(e,t,Ie)}(n,e):Ee(t,r,void 0,3)}}(n[0],n[1]):(i=function(e){for(var t=Ze(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Re(i)]}return t}(r=n),1==i.length&&i[0][2]?Ne(i[0][0],i[0][1]):function(e){return e===r||function(e,t,n,r){var i=n.length,o=i;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var a=(s=n[i])[0],u=e[a],c=s[1];if(s[2]){if(void 0===u&&!(a in e))return!1}else{var l,d=new ke;if(!(void 0===l?Ee(c,u,r,3,d):l))return!1}}return!0}(e,0,i)}):Ce(o=n)?(s=Fe(o),function(e){return null==e?void 0:e[s]}):function(e){return function(t){return Me(t,e)}}(o),function(e,t){e&&function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[++r];if(!1===t(i[a],a,i))break}}(e,t,Ze)}(e,(function(e,n,r){a[n]=t(e,n,r)})),a}},2699:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,c=128,l=1/0,d=9007199254740991,f=NaN,p=4294967295,h=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",y="[object Boolean]",b="[object Date]",w="[object Error]",v="[object Function]",S="[object GeneratorFunction]",A="[object Map]",k="[object Number]",_="[object Object]",M="[object Promise]",I="[object RegExp]",E="[object Set]",P="[object String]",T="[object Symbol]",O="[object WeakMap]",x="[object ArrayBuffer]",B="[object DataView]",L="[object Float32Array]",C="[object Float64Array]",R="[object Int8Array]",N="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",K="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",z=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,Q=RegExp(V.source),G=RegExp(H.source),X=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",_e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Me="["+_e+"]",Ie="["+Se+"]",Ee="\\d+",Pe="["+Ae+"]",Te="[^\\ud800-\\udfff"+_e+Ee+"\\u2700-\\u27bf"+Ae+ke+"]",Oe="\\ud83c[\\udffb-\\udfff]",xe="[^\\ud800-\\udfff]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="["+ke+"]",Re="(?:"+Pe+"|"+Te+")",Ne="(?:"+Ce+"|"+Te+")",De="(?:['](?:d|ll|m|re|s|t|ve))?",Fe="(?:['](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ie+"|"+Oe+")?",Ue="[\\ufe0e\\ufe0f]?",We=Ue+Ke+"(?:\\u200d(?:"+[xe,Be,Le].join("|")+")"+Ue+Ke+")*",ze="(?:"+["[\\u2700-\\u27bf]",Be,Le].join("|")+")"+We,je="(?:"+[xe+Ie+"?",Ie,Be,Le,"[\\ud800-\\udfff]"].join("|")+")",qe=RegExp("[']","g"),Ve=RegExp(Ie,"g"),He=RegExp(Oe+"(?="+Oe+")|"+je+We,"g"),Qe=RegExp([Ce+"?"+Pe+"+"+De+"(?="+[Me,Ce,"$"].join("|")+")",Ne+"+"+Fe+"(?="+[Me,Ce+Re,"$"].join("|")+")",Ce+"?"+Re+"+"+De,Ce+"+"+Fe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ee,ze].join("|"),"g"),Ge=RegExp("[\\u200d\\ud800-\\udfff"+Se+"\\ufe0e\\ufe0f]"),Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ze=-1,$e={};$e[L]=$e[C]=$e[R]=$e[N]=$e[D]=$e[F]=$e[K]=$e[U]=$e[W]=!0,$e[m]=$e[g]=$e[x]=$e[y]=$e[B]=$e[b]=$e[w]=$e[v]=$e[A]=$e[k]=$e[_]=$e[I]=$e[E]=$e[P]=$e[O]=!1;var Je={};Je[m]=Je[g]=Je[x]=Je[B]=Je[y]=Je[b]=Je[L]=Je[C]=Je[R]=Je[N]=Je[D]=Je[A]=Je[k]=Je[_]=Je[I]=Je[E]=Je[P]=Je[T]=Je[F]=Je[K]=Je[U]=Je[W]=!0,Je[w]=Je[v]=Je[O]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,rt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,it="object"==typeof self&&self&&self.Object===Object&&self,ot=rt||it||Function("return this")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,ut=at&&at.exports===st,ct=ut&&rt.process,lt=function(){try{return at&&at.require&&at.require("util").types||ct&&ct.binding&&ct.binding("util")}catch(e){}}(),dt=lt&&lt.isArrayBuffer,ft=lt&&lt.isDate,pt=lt&&lt.isMap,ht=lt&&lt.isRegExp,mt=lt&&lt.isSet,gt=lt&&lt.isTypedArray;function yt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function bt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function vt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function kt(e,t){return!(null==e||!e.length)&&Lt(e,t,0)>-1}function _t(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Et(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Pt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ot=Dt("length");function xt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Lt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Rt,n)}function Ct(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Rt(e){return e!=e}function Nt(e,t){var n=null==e?0:e.length;return n?Ut(e,t)/n:f}function Dt(e){return function(t){return null==t?i:t[e]}}function Ft(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Ut(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Wt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function zt(e){return e?e.slice(0,an(e)+1).replace(re,""):e}function jt(e){return function(t){return e(t)}}function qt(e,t){return Mt(t,(function(t){return e[t]}))}function Vt(e,t){return e.has(t)}function Ht(e,t){for(var n=-1,r=e.length;++n<r&&Lt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Lt(t,e[n],0)>-1;);return n}function Gt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Xt=Ft({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Yt=Ft({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Zt(e){return"\\"+et[e]}function $t(e){return Ge.test(e)}function Jt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function on(e){return $t(e)?function(e){for(var t=He.lastIndex=0;He.test(e);)++t;return t}(e):Ot(e)}function sn(e){return $t(e)?function(e){return e.match(He)||[]}(e):function(e){return e.split("")}(e)}function an(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var un=Ft({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function e(t){var n,r=(t=null==t?ot:cn.defaults(ot.Object(),t,cn.pick(ot,Ye))).Array,ie=t.Date,Se=t.Error,Ae=t.Function,ke=t.Math,_e=t.Object,Me=t.RegExp,Ie=t.String,Ee=t.TypeError,Pe=r.prototype,Te=Ae.prototype,Oe=_e.prototype,xe=t["__core-js_shared__"],Be=Te.toString,Le=Oe.hasOwnProperty,Ce=0,Re=(n=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ne=Oe.toString,De=Be.call(_e),Fe=ot._,Ke=Me("^"+Be.call(Le).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=ut?t.Buffer:i,We=t.Symbol,ze=t.Uint8Array,je=Ue?Ue.allocUnsafe:i,He=en(_e.getPrototypeOf,_e),Ge=_e.create,et=Oe.propertyIsEnumerable,rt=Pe.splice,it=We?We.isConcatSpreadable:i,st=We?We.iterator:i,at=We?We.toStringTag:i,ct=function(){try{var e=co(_e,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,Ot=ie&&ie.now!==ot.Date.now&&ie.now,Ft=t.setTimeout!==ot.setTimeout&&t.setTimeout,ln=ke.ceil,dn=ke.floor,fn=_e.getOwnPropertySymbols,pn=Ue?Ue.isBuffer:i,hn=t.isFinite,mn=Pe.join,gn=en(_e.keys,_e),yn=ke.max,bn=ke.min,wn=ie.now,vn=t.parseInt,Sn=ke.random,An=Pe.reverse,kn=co(t,"DataView"),_n=co(t,"Map"),Mn=co(t,"Promise"),In=co(t,"Set"),En=co(t,"WeakMap"),Pn=co(_e,"create"),Tn=En&&new En,On={},xn=Ko(kn),Bn=Ko(_n),Ln=Ko(Mn),Cn=Ko(In),Rn=Ko(En),Nn=We?We.prototype:i,Dn=Nn?Nn.valueOf:i,Fn=Nn?Nn.toString:i;function Kn(e){if(na(e)&&!Vs(e)&&!(e instanceof jn)){if(e instanceof zn)return e;if(Le.call(e,"__wrapped__"))return Uo(e)}return new zn(e)}var Un=function(){function e(){}return function(t){if(!ta(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Wn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function jn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Xn(e,t){var n=Vs(e),r=!n&&qs(e),i=!n&&!r&&Xs(e),o=!n&&!r&&!i&&la(e),s=n||r||i||o,a=s?Wt(e.length,Ie):[],u=a.length;for(var c in e)!t&&!Le.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yo(c,u))||a.push(c);return a}function Yn(e){var t=e.length;return t?e[Hr(0,t-1)]:i}function Zn(e,t){return Co(Ei(e),sr(t,0,e.length))}function $n(e){return Co(Ei(e))}function Jn(e,t,n){(n!==i&&!Ws(e[t],n)||n===i&&!(t in e))&&ir(e,t,n)}function er(e,t,n){var r=e[t];Le.call(e,t)&&Ws(r,n)&&(n!==i||t in e)||ir(e,t,n)}function tr(e,t){for(var n=e.length;n--;)if(Ws(e[n][0],t))return n;return-1}function nr(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function rr(e,t){return e&&Pi(t,Ba(t),e)}function ir(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Ea(e,t[n]);return s}function sr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ar(e,t,n,r,o,s){var a,u=1&t,c=2&t,l=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ta(e))return e;var d=Vs(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Ei(e,a)}else{var f=po(e),p=f==v||f==S;if(Xs(e))return Si(e,u);if(f==_||f==m||p&&!o){if(a=c||p?{}:mo(e),!u)return c?function(e,t){return Pi(e,fo(e),t)}(e,function(e,t){return e&&Pi(t,La(t),e)}(a,e)):function(e,t){return Pi(e,lo(e),t)}(e,rr(a,e))}else{if(!Je[f])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case x:return Ai(e);case y:case b:return new i(+e);case B:return function(e,t){var n=t?Ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case C:case R:case N:case D:case F:case K:case U:case W:return ki(e,n);case A:return new i;case k:case P:return new i(e);case I:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case E:return new i;case T:return r=e,Dn?_e(Dn.call(r)):{}}}(e,f,u)}}s||(s=new Gn);var h=s.get(e);if(h)return h;s.set(e,a),aa(e)?e.forEach((function(r){a.add(ar(r,t,n,r,e,s))})):ra(e)&&e.forEach((function(r,i){a.set(i,ar(r,t,n,i,e,s))}));var g=d?i:(l?c?no:to:c?La:Ba)(e);return wt(g||e,(function(r,i){g&&(r=e[i=r]),er(a,i,ar(r,t,n,i,e,s))})),a}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=_e(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ee(o);return Oo((function(){e.apply(i,n)}),t)}function lr(e,t,n,r){var i=-1,o=kt,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=Mt(t,jt(n))),r?(o=_t,s=!1):t.length>=200&&(o=Vt,s=!1,t=new Qn(t));e:for(;++i<a;){var l=e[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,s&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;u.push(l)}else o(t,d,r)||u.push(l)}return u}Kn.templateSettings={escape:X,evaluate:Y,interpolate:Z,variable:"",imports:{_:Kn}},Kn.prototype=Wn.prototype,Kn.prototype.constructor=Kn,zn.prototype=Un(Wn.prototype),zn.prototype.constructor=zn,jn.prototype=Un(Wn.prototype),jn.prototype.constructor=jn,qn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===s?i:n}return Le.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==i:Le.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===i?s:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,0))},Vn.prototype.get=function(e){var t=this.__data__,n=tr(t,e);return n<0?i:t[n][1]},Vn.prototype.has=function(e){return tr(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(_n||Vn),string:new qn}},Hn.prototype.delete=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return ao(this,e).get(e)},Hn.prototype.has=function(e){return ao(this,e).has(e)},Hn.prototype.set=function(e,t){var n=ao(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,s),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!_n||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var dr=xi(wr),fr=xi(vr,!0);function pr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function hr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(u===i?a==a&&!ca(a):n(a,u)))var u=a,c=s}return c}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=go),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?gr(a,t-1,n,r,i):It(i,a):r||(i[i.length]=a)}return i}var yr=Bi(),br=Bi(!0);function wr(e,t){return e&&yr(e,t,Ba)}function vr(e,t){return e&&br(e,t,Ba)}function Sr(e,t){return At(t,(function(t){return $s(e[t])}))}function Ar(e,t){for(var n=0,r=(t=yi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function kr(e,t,n){var r=t(e);return Vs(e)?r:It(r,n(e))}function _r(e){return null==e?e===i?"[object Undefined]":"[object Null]":at&&at in _e(e)?function(e){var t=Le.call(e,at),n=e[at];try{e[at]=i;var r=!0}catch(e){}var o=Ne.call(e);return r&&(t?e[at]=n:delete e[at]),o}(e):function(e){return Ne.call(e)}(e)}function Mr(e,t){return e>t}function Ir(e,t){return null!=e&&Le.call(e,t)}function Er(e,t){return null!=e&&t in _e(e)}function Pr(e,t,n){for(var o=n?_t:kt,s=e[0].length,a=e.length,u=a,c=r(a),l=1/0,d=[];u--;){var f=e[u];u&&t&&(f=Mt(f,jt(t))),l=bn(f.length,l),c[u]=!n&&(t||s>=120&&f.length>=120)?new Qn(u&&f):i}f=e[0];var p=-1,h=c[0];e:for(;++p<s&&d.length<l;){var m=f[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?Vt(h,g):o(d,g,n))){for(u=a;--u;){var y=c[u];if(!(y?Vt(y,g):o(e[u],g,n)))continue e}h&&h.push(g),d.push(m)}}return d}function Tr(e,t,n){var r=null==(e=Io(e,t=yi(t,e)))?e:e[Fo(Zo(t))];return null==r?i:yt(r,e,n)}function Or(e){return na(e)&&_r(e)==m}function xr(e,t,n,r,o){return e===t||(null==e||null==t||!na(e)&&!na(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Vs(e),u=Vs(t),c=a?g:po(e),l=u?g:po(t),d=(c=c==m?_:c)==_,f=(l=l==m?_:l)==_,p=c==l;if(p&&Xs(e)){if(!Xs(t))return!1;a=!0,d=!1}if(p&&!d)return s||(s=new Gn),a||la(e)?Ji(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case B:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case y:case b:case k:return Ws(+e,+t);case w:return e.name==t.name&&e.message==t.message;case I:case P:return e==t+"";case A:var a=Jt;case E:var u=1&r;if(a||(a=nn),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var l=Ji(a(e),a(t),r,i,o,s);return s.delete(e),l;case T:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var h=d&&Le.call(e,"__wrapped__"),v=f&&Le.call(t,"__wrapped__");if(h||v){var S=h?e.value():e,M=v?t.value():t;return s||(s=new Gn),o(S,M,n,r,s)}}return!!p&&(s||(s=new Gn),function(e,t,n,r,o,s){var a=1&n,u=to(e),c=u.length;if(c!=to(t).length&&!a)return!1;for(var l=c;l--;){var d=u[l];if(!(a?d in t:Le.call(t,d)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var h=!0;s.set(e,t),s.set(t,e);for(var m=a;++l<c;){var g=e[d=u[l]],y=t[d];if(r)var b=a?r(y,g,d,t,e,s):r(g,y,d,e,t,s);if(!(b===i?g===y||o(g,y,n,r,s):b)){h=!1;break}m||(m="constructor"==d)}if(h&&!m){var w=e.constructor,v=t.constructor;w==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof v&&v instanceof v||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,n,r,o,s))}(e,t,n,r,xr,o))}function Br(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=_e(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=n[o])[0],l=e[c],d=u[1];if(a&&u[2]){if(l===i&&!(c in e))return!1}else{var f=new Gn;if(r)var p=r(l,d,c,e,t,f);if(!(p===i?xr(d,l,3,r,f):p))return!1}}return!0}function Lr(e){return!(!ta(e)||(t=e,Re&&Re in t))&&($s(e)?Ke:me).test(Ko(e));var t}function Cr(e){return"function"==typeof e?e:null==e?iu:"object"==typeof e?Vs(e)?Kr(e[0],e[1]):Fr(e):pu(e)}function Rr(e){if(!Ao(e))return gn(e);var t=[];for(var n in _e(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e,t){return e<t}function Dr(e,t){var n=-1,i=Qs(e)?r(e.length):[];return dr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Fr(e){var t=uo(e);return 1==t.length&&t[0][2]?_o(t[0][0],t[0][1]):function(n){return n===e||Br(n,e,t)}}function Kr(e,t){return wo(e)&&ko(t)?_o(Fo(e),t):function(n){var r=Ea(n,e);return r===i&&r===t?Pa(n,e):xr(t,r,3)}}function Ur(e,t,n,r,o){e!==t&&yr(t,(function(s,a){if(o||(o=new Gn),ta(s))!function(e,t,n,r,o,s,a){var u=Po(e,n),c=Po(t,n),l=a.get(c);if(l)Jn(e,n,l);else{var d=s?s(u,c,n+"",e,t,a):i,f=d===i;if(f){var p=Vs(c),h=!p&&Xs(c),m=!p&&!h&&la(c);d=c,p||h||m?Vs(u)?d=u:Gs(u)?d=Ei(u):h?(f=!1,d=Si(c,!0)):m?(f=!1,d=ki(c,!0)):d=[]:oa(c)||qs(c)?(d=u,qs(u)?d=ba(u):ta(u)&&!$s(u)||(d=mo(c))):f=!1}f&&(a.set(c,d),o(d,c,r,s,a),a.delete(c)),Jn(e,n,d)}}(e,t,a,n,Ur,r,o);else{var u=r?r(Po(e,a),s,a+"",e,t,o):i;u===i&&(u=s),Jn(e,a,u)}}),La)}function Wr(e,t){var n=e.length;if(n)return yo(t+=t<0?n:0,n)?e[t]:i}function zr(e,t,n){t=t.length?Mt(t,(function(e){return Vs(e)?function(t){return Ar(t,1===e.length?e[0]:e)}:e})):[iu];var r=-1;t=Mt(t,jt(so()));var i=Dr(e,(function(e,n,i){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var u=_i(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function jr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Ar(e,s);n(a,s)&&Zr(o,yi(s,e),a)}return o}function qr(e,t,n,r){var i=r?Ct:Lt,o=-1,s=t.length,a=e;for(e===t&&(t=Ei(t)),n&&(a=Mt(e,jt(n)));++o<s;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==e&&rt.call(a,u,1),rt.call(e,u,1);return e}function Vr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;yo(i)?rt.call(e,i,1):ci(e,i)}}return e}function Hr(e,t){return e+dn(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=dn(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return xo(Mo(e,t,iu),e+"")}function Xr(e){return Yn(Wa(e))}function Yr(e,t){var n=Wa(e);return Co(n,sr(t,0,n.length))}function Zr(e,t,n,r){if(!ta(e))return e;for(var o=-1,s=(t=yi(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var c=Fo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var d=u[c];(l=r?r(d,c,u):i)===i&&(l=ta(d)?d:yo(t[o+1])?[]:{})}er(u,c,l),u=u[c]}return e}var $r=Tn?function(e,t){return Tn.set(e,t),e}:iu,Jr=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:tu(t),writable:!0})}:iu;function ei(e){return Co(Wa(e))}function ti(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ni(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ri(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ca(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ii(e,t,iu,n)}function ii(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,u=null===t,c=ca(t),l=t===i;o<s;){var d=dn((o+s)/2),f=n(e[d]),p=f!==i,h=null===f,m=f==f,g=ca(f);if(a)var y=r||m;else y=l?m&&(r||p):u?m&&p&&(r||!h):c?m&&p&&!h&&(r||!g):!h&&!g&&(r?f<=t:f<t);y?o=d+1:s=d}return bn(s,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ws(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function si(e){return"number"==typeof e?e:ca(e)?f:+e}function ai(e){if("string"==typeof e)return e;if(Vs(e))return Mt(e,ai)+"";if(ca(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=kt,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=_t;else if(o>=200){var c=t?null:Qi(e);if(c)return nn(c);s=!1,i=Vt,u=new Qn}else u=t?[]:a;e:for(;++r<o;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,s&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),a.push(l)}else i(u,d,n)||(u!==a&&u.push(d),a.push(l))}return a}function ci(e,t){return null==(e=Io(e,t=yi(t,e)))||delete e[Fo(Zo(t))]}function li(e,t,n,r){return Zr(e,t,n(Ar(e,t)),r)}function di(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ti(e,r?0:o,r?o+1:i):ti(e,r?o+1:0,r?i:o)}function fi(e,t){var n=e;return n instanceof jn&&(n=n.value()),Et(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function pi(e,t,n){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=lr(s[o]||a,e[u],t,n));return ui(gr(s,1),t,n)}function hi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var u=r<s?t[r]:i;n(a,e[r],u)}return a}function mi(e){return Gs(e)?e:[]}function gi(e){return"function"==typeof e?e:iu}function yi(e,t){return Vs(e)?e:wo(e,t)?[e]:Do(wa(e))}var bi=Gr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ti(e,t,n)}var vi=lt||function(e){return ot.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=je?je(n):new e.constructor(n);return e.copy(r),r}function Ai(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function ki(e,t){var n=t?Ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _i(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=ca(e),a=t!==i,u=null===t,c=t==t,l=ca(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&e<t||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function Mi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,u=-1,c=t.length,l=yn(s-a,0),d=r(c+l),f=!i;++u<c;)d[u]=t[u];for(;++o<a;)(f||o<s)&&(d[n[o]]=e[o]);for(;l--;)d[u++]=e[o++];return d}function Ii(e,t,n,i){for(var o=-1,s=e.length,a=-1,u=n.length,c=-1,l=t.length,d=yn(s-u,0),f=r(d+l),p=!i;++o<d;)f[o]=e[o];for(var h=o;++c<l;)f[h+c]=t[c];for(;++a<u;)(p||o<s)&&(f[h+n[a]]=e[o++]);return f}function Ei(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Pi(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?ir(n,u,c):er(n,u,c)}return n}function Ti(e,t){return function(n,r){var i=Vs(n)?bt:nr,o=t?t():{};return i(n,e,so(r,2),o)}}function Oi(e){return Gr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&bo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=_e(t);++r<o;){var u=n[r];u&&e(t,u,r,s)}return t}))}function xi(e,t){return function(n,r){if(null==n)return n;if(!Qs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=_e(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Bi(e){return function(t,n,r){for(var i=-1,o=_e(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Li(e){return function(t){var n=$t(t=wa(t))?sn(t):i,r=n?n[0]:t.charAt(0),o=n?wi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ci(e){return function(t){return Et($a(qa(t).replace(qe,"")),e,"")}}function Ri(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return ta(r)?r:n}}function Ni(e){return function(t,n,r){var o=_e(t);if(!Qs(t)){var s=so(n,3);t=Ba(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Di(e){return eo((function(t){var n=t.length,r=n,s=zn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ee(o);if(s&&!u&&"wrapper"==io(a))var u=new zn([],!0)}for(r=u?r:n;++r<n;){var c=io(a=t[r]),l="wrapper"==c?ro(a):i;u=l&&vo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[io(l[0])].apply(u,l[3]):1==a.length&&vo(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Vs(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Fi(e,t,n,o,s,a,u,l,d,f){var p=t&c,h=1&t,m=2&t,g=24&t,y=512&t,b=m?i:Ri(e);return function i(){for(var c=arguments.length,w=r(c),v=c;v--;)w[v]=arguments[v];if(g)var S=oo(i),A=Gt(w,S);if(o&&(w=Mi(w,o,s,g)),a&&(w=Ii(w,a,u,g)),c-=A,g&&c<f){var k=tn(w,S);return Vi(e,t,Fi,i.placeholder,n,w,k,l,d,f-c)}var _=h?n:this,M=m?_[e]:e;return c=w.length,l?w=Eo(w,l):y&&c>1&&w.reverse(),p&&d<c&&(w.length=d),this&&this!==ot&&this instanceof i&&(M=b||Ri(M)),M.apply(_,w)}}function Ki(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=si(n),r=si(r)),o=e(n,r)}return o}}function Wi(e){return eo((function(t){return t=Mt(t,jt(so())),Gr((function(n){var r=this;return e(t,(function(e){return yt(e,r,n)}))}))}))}function zi(e,t){var n=(t=t===i?" ":ai(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,ln(e/on(t)));return $t(t)?wi(sn(r),0,e).join(""):r.slice(0,e)}function ji(e){return function(t,n,o){return o&&"number"!=typeof o&&bo(t,n,o)&&(n=o=i),t=ha(t),n===i?(n=t,t=0):n=ha(n),function(e,t,n,i){for(var o=-1,s=yn(ln((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:ha(o),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ya(t),n=ya(n)),e(t,n)}}function Vi(e,t,n,r,o,s,a,c,l,d){var f=8&t;t|=f?u:64,4&(t&=~(f?64:u))||(t&=-4);var p=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,c,l,d],h=n.apply(i,p);return vo(e)&&To(h,p),h.placeholder=r,Bo(h,e,t)}function Hi(e){var t=ke[e];return function(e,n){if(e=ya(e),(n=null==n?0:bn(ma(n),292))&&hn(e)){var r=(wa(e)+"e").split("e");return+((r=(wa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=In&&1/nn(new In([,-0]))[1]==l?function(e){return new In(e)}:cu;function Gi(e){return function(t){var n=po(t);return n==A?Jt(t):n==E?rn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,n,s,l,d,f,p){var h=2&t;if(!h&&"function"!=typeof e)throw new Ee(o);var m=s?s.length:0;if(m||(t&=-97,s=l=i),f=f===i?f:yn(ma(f),0),p=p===i?p:ma(p),m-=l?l.length:0,64&t){var g=s,y=l;s=l=i}var b=h?i:ro(e),w=[e,t,n,s,l,g,y,d,f,p];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Mi(l,u,t[4]):u,e[4]=l?tn(e[3],a):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ii(l,u,t[6]):u,e[6]=l?tn(e[5],a):t[6]),(u=t[7])&&(e[7]=u),r&c&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(w,b),e=w[0],t=w[1],n=w[2],s=w[3],l=w[4],!(p=w[9]=w[9]===i?h?0:e.length:yn(w[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var o=Ri(e);return function s(){for(var a=arguments.length,u=r(a),c=a,l=oo(s);c--;)u[c]=arguments[c];var d=a<3&&u[0]!==l&&u[a-1]!==l?[]:tn(u,l);return(a-=d.length)<n?Vi(e,t,Fi,s.placeholder,i,u,d,i,i,n-a):yt(this&&this!==ot&&this instanceof s?o:e,this,u)}}(e,t,p):t!=u&&33!=t||l.length?Fi.apply(i,w):function(e,t,n,i){var o=1&t,s=Ri(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=i.length,d=r(l+u),f=this&&this!==ot&&this instanceof t?s:e;++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++a];return yt(f,o?n:this,d)}}(e,t,n,s);else var v=function(e,t,n){var r=1&t,i=Ri(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Bo((b?$r:To)(v,w),e,t)}function Yi(e,t,n,r){return e===i||Ws(e,Oe[n])&&!Le.call(r,n)?t:e}function Zi(e,t,n,r,o,s){return ta(e)&&ta(t)&&(s.set(t,e),Ur(e,t,i,Zi,s),s.delete(t)),e}function $i(e){return oa(e)?i:e}function Ji(e,t,n,r,o,s){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e),d=s.get(t);if(l&&d)return l==t&&d==e;var f=-1,p=!0,h=2&n?new Qn:i;for(s.set(e,t),s.set(t,e);++f<u;){var m=e[f],g=t[f];if(r)var y=a?r(g,m,f,t,e,s):r(m,g,f,e,t,s);if(y!==i){if(y)continue;p=!1;break}if(h){if(!Tt(t,(function(e,t){if(!Vt(h,t)&&(m===e||o(m,e,n,r,s)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function eo(e){return xo(Mo(e,i,Ho),e+"")}function to(e){return kr(e,Ba,lo)}function no(e){return kr(e,La,fo)}var ro=Tn?function(e){return Tn.get(e)}:cu;function io(e){for(var t=e.name+"",n=On[t],r=Le.call(On,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function oo(e){return(Le.call(Kn,"placeholder")?Kn:e).placeholder}function so(){var e=Kn.iteratee||ou;return e=e===ou?Cr:e,arguments.length?e(arguments[0],arguments[1]):e}function ao(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function uo(e){for(var t=Ba(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ko(i)]}return t}function co(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var lo=fn?function(e){return null==e?[]:(e=_e(e),At(fn(e),(function(t){return et.call(e,t)})))}:gu,fo=fn?function(e){for(var t=[];e;)It(t,lo(e)),e=He(e);return t}:gu,po=_r;function ho(e,t,n){for(var r=-1,i=(t=yi(t,e)).length,o=!1;++r<i;){var s=Fo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&yo(s,i)&&(Vs(e)||qs(e))}function mo(e){return"function"!=typeof e.constructor||Ao(e)?{}:Un(He(e))}function go(e){return Vs(e)||qs(e)||!!(it&&e&&e[it])}function yo(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function bo(e,t,n){if(!ta(n))return!1;var r=typeof t;return!!("number"==r?Qs(n)&&yo(t,n.length):"string"==r&&t in n)&&Ws(n[t],e)}function wo(e,t){if(Vs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||J.test(e)||!$.test(e)||null!=t&&e in _e(t)}function vo(e){var t=io(e),n=Kn[t];if("function"!=typeof n||!(t in jn.prototype))return!1;if(e===n)return!0;var r=ro(n);return!!r&&e===r[0]}(kn&&po(new kn(new ArrayBuffer(1)))!=B||_n&&po(new _n)!=A||Mn&&po(Mn.resolve())!=M||In&&po(new In)!=E||En&&po(new En)!=O)&&(po=function(e){var t=_r(e),n=t==_?e.constructor:i,r=n?Ko(n):"";if(r)switch(r){case xn:return B;case Bn:return A;case Ln:return M;case Cn:return E;case Rn:return O}return t});var So=xe?$s:yu;function Ao(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function ko(e){return e==e&&!ta(e)}function _o(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in _e(n))}}function Mo(e,t,n){return t=yn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=yn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(a),yt(e,this,u)}}function Io(e,t){return t.length<2?e:Ar(e,ti(t,0,-1))}function Eo(e,t){for(var n=e.length,r=bn(t.length,n),o=Ei(e);r--;){var s=t[r];e[r]=yo(s,n)?o[s]:i}return e}function Po(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var To=Lo($r),Oo=Ft||function(e,t){return ot.setTimeout(e,t)},xo=Lo(Jr);function Bo(e,t,n){var r=t+"";return xo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return wt(h,(function(n){var r="_."+n[0];t&n[1]&&!kt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Lo(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Co(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Hr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ro,No,Do=(Ro=Rs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===No.size&&No.clear(),e})),No=Ro.cache,Ro);function Fo(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ko(e){if(null!=e){try{return Be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof jn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Ei(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Wo=Gr((function(e,t){return Gs(e)?lr(e,gr(t,1,Gs,!0)):[]})),zo=Gr((function(e,t){var n=Zo(t);return Gs(n)&&(n=i),Gs(e)?lr(e,gr(t,1,Gs,!0),so(n,2)):[]})),jo=Gr((function(e,t){var n=Zo(t);return Gs(n)&&(n=i),Gs(e)?lr(e,gr(t,1,Gs,!0),i,n):[]}));function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=yn(r+i,0)),Bt(e,so(t,3),i)}function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ma(n),o=n<0?yn(r+o,0):bn(o,r-1)),Bt(e,so(t,3),o,!0)}function Ho(e){return null!=e&&e.length?gr(e,1):[]}function Qo(e){return e&&e.length?e[0]:i}var Go=Gr((function(e){var t=Mt(e,mi);return t.length&&t[0]===e[0]?Pr(t):[]})),Xo=Gr((function(e){var t=Zo(e),n=Mt(e,mi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Pr(n,so(t,2)):[]})),Yo=Gr((function(e){var t=Zo(e),n=Mt(e,mi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,i,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=Gr(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var es=eo((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Vr(e,Mt(t,(function(e){return yo(e,n)?+e:e})).sort(_i)),r}));function ts(e){return null==e?e:An.call(e)}var ns=Gr((function(e){return ui(gr(e,1,Gs,!0))})),rs=Gr((function(e){var t=Zo(e);return Gs(t)&&(t=i),ui(gr(e,1,Gs,!0),so(t,2))})),is=Gr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,ui(gr(e,1,Gs,!0),i,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Gs(e))return t=yn(e.length,t),!0})),Wt(t,(function(t){return Mt(e,Dt(t))}))}function ss(e,t){if(!e||!e.length)return[];var n=os(e);return null==t?n:Mt(n,(function(e){return yt(t,i,e)}))}var as=Gr((function(e,t){return Gs(e)?lr(e,t):[]})),us=Gr((function(e){return pi(At(e,Gs))})),cs=Gr((function(e){var t=Zo(e);return Gs(t)&&(t=i),pi(At(e,Gs),so(t,2))})),ls=Gr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,pi(At(e,Gs),i,t)})),ds=Gr(os),fs=Gr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ss(e,n)}));function ps(e){var t=Kn(e);return t.__chain__=!0,t}function hs(e,t){return t(e)}var ms=eo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof jn&&yo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:hs,args:[o],thisArg:i}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),gs=Ti((function(e,t,n){Le.call(e,n)?++e[n]:ir(e,n,1)})),ys=Ni(qo),bs=Ni(Vo);function ws(e,t){return(Vs(e)?wt:dr)(e,so(t,3))}function vs(e,t){return(Vs(e)?vt:fr)(e,so(t,3))}var Ss=Ti((function(e,t,n){Le.call(e,n)?e[n].push(t):ir(e,n,[t])})),As=Gr((function(e,t,n){var i=-1,o="function"==typeof t,s=Qs(e)?r(e.length):[];return dr(e,(function(e){s[++i]=o?yt(t,e,n):Tr(e,t,n)})),s})),ks=Ti((function(e,t,n){ir(e,n,t)}));function _s(e,t){return(Vs(e)?Mt:Dr)(e,so(t,3))}var Ms=Ti((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Is=Gr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bo(e,t[0],t[1])?t=[]:n>2&&bo(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,gr(t,1),[])})),Es=Ot||function(){return ot.Date.now()};function Ps(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,c,i,i,i,i,t)}function Ts(e,t){var n;if("function"!=typeof t)throw new Ee(o);return e=ma(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Os=Gr((function(e,t,n){var r=1;if(n.length){var i=tn(n,oo(Os));r|=u}return Xi(e,r,t,n,i)})),xs=Gr((function(e,t,n){var r=3;if(n.length){var i=tn(n,oo(xs));r|=u}return Xi(t,r,e,n,i)}));function Bs(e,t,n){var r,s,a,u,c,l,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new Ee(o);function m(t){var n=r,o=s;return r=s=i,d=t,u=e.apply(o,n)}function g(e){return d=e,c=Oo(b,t),f?m(e):u}function y(e){var n=e-l;return l===i||n>=t||n<0||p&&e-d>=a}function b(){var e=Es();if(y(e))return w(e);c=Oo(b,function(e){var n=t-(e-l);return p?bn(n,a-(e-d)):n}(e))}function w(e){return c=i,h&&r?m(e):(r=s=i,u)}function v(){var e=Es(),n=y(e);if(r=arguments,s=this,l=e,n){if(c===i)return g(l);if(p)return vi(c),c=Oo(b,t),m(l)}return c===i&&(c=Oo(b,t)),u}return t=ya(t)||0,ta(n)&&(f=!!n.leading,a=(p="maxWait"in n)?yn(ya(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),v.cancel=function(){c!==i&&vi(c),d=0,r=l=s=c=i},v.flush=function(){return c===i?u:w(Es())},v}var Ls=Gr((function(e,t){return cr(e,1,t)})),Cs=Gr((function(e,t,n){return cr(e,ya(t)||0,n)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ee(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||Hn),n}function Ns(e){if("function"!=typeof e)throw new Ee(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=Hn;var Ds=bi((function(e,t){var n=(t=1==t.length&&Vs(t[0])?Mt(t[0],jt(so())):Mt(gr(t,1),jt(so()))).length;return Gr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return yt(e,this,r)}))})),Fs=Gr((function(e,t){var n=tn(t,oo(Fs));return Xi(e,u,i,t,n)})),Ks=Gr((function(e,t){var n=tn(t,oo(Ks));return Xi(e,64,i,t,n)})),Us=eo((function(e,t){return Xi(e,256,i,i,i,t)}));function Ws(e,t){return e===t||e!=e&&t!=t}var zs=qi(Mr),js=qi((function(e,t){return e>=t})),qs=Or(function(){return arguments}())?Or:function(e){return na(e)&&Le.call(e,"callee")&&!et.call(e,"callee")},Vs=r.isArray,Hs=dt?jt(dt):function(e){return na(e)&&_r(e)==x};function Qs(e){return null!=e&&ea(e.length)&&!$s(e)}function Gs(e){return na(e)&&Qs(e)}var Xs=pn||yu,Ys=ft?jt(ft):function(e){return na(e)&&_r(e)==b};function Zs(e){if(!na(e))return!1;var t=_r(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function $s(e){if(!ta(e))return!1;var t=_r(e);return t==v||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==ma(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function na(e){return null!=e&&"object"==typeof e}var ra=pt?jt(pt):function(e){return na(e)&&po(e)==A};function ia(e){return"number"==typeof e||na(e)&&_r(e)==k}function oa(e){if(!na(e)||_r(e)!=_)return!1;var t=He(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Be.call(n)==De}var sa=ht?jt(ht):function(e){return na(e)&&_r(e)==I},aa=mt?jt(mt):function(e){return na(e)&&po(e)==E};function ua(e){return"string"==typeof e||!Vs(e)&&na(e)&&_r(e)==P}function ca(e){return"symbol"==typeof e||na(e)&&_r(e)==T}var la=gt?jt(gt):function(e){return na(e)&&ea(e.length)&&!!$e[_r(e)]},da=qi(Nr),fa=qi((function(e,t){return e<=t}));function pa(e){if(!e)return[];if(Qs(e))return ua(e)?sn(e):Ei(e);if(st&&e[st])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[st]());var t=po(e);return(t==A?Jt:t==E?nn:Wa)(e)}function ha(e){return e?(e=ya(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ma(e){var t=ha(e),n=t%1;return t==t?n?t-n:t:0}function ga(e){return e?sr(ma(e),0,p):0}function ya(e){if("number"==typeof e)return e;if(ca(e))return f;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=zt(e);var n=he.test(e);return n||ge.test(e)?nt(e.slice(2),n?2:8):pe.test(e)?f:+e}function ba(e){return Pi(e,La(e))}function wa(e){return null==e?"":ai(e)}var va=Oi((function(e,t){if(Ao(t)||Qs(t))Pi(t,Ba(t),e);else for(var n in t)Le.call(t,n)&&er(e,n,t[n])})),Sa=Oi((function(e,t){Pi(t,La(t),e)})),Aa=Oi((function(e,t,n,r){Pi(t,La(t),e,r)})),ka=Oi((function(e,t,n,r){Pi(t,Ba(t),e,r)})),_a=eo(or),Ma=Gr((function(e,t){e=_e(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&bo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=La(s),u=-1,c=a.length;++u<c;){var l=a[u],d=e[l];(d===i||Ws(d,Oe[l])&&!Le.call(e,l))&&(e[l]=s[l])}return e})),Ia=Gr((function(e){return e.push(i,Zi),yt(Ra,i,e)}));function Ea(e,t,n){var r=null==e?i:Ar(e,t);return r===i?n:r}function Pa(e,t){return null!=e&&ho(e,t,Er)}var Ta=Ki((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=n}),tu(iu)),Oa=Ki((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),so),xa=Gr(Tr);function Ba(e){return Qs(e)?Xn(e):Rr(e)}function La(e){return Qs(e)?Xn(e,!0):function(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var n in _e(e))t.push(n);return t}(e);var t=Ao(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}(e)}var Ca=Oi((function(e,t,n){Ur(e,t,n)})),Ra=Oi((function(e,t,n,r){Ur(e,t,n,r)})),Na=eo((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=yi(t,e),r||(r=t.length>1),t})),Pi(e,no(e),n),r&&(n=ar(n,7,$i));for(var i=t.length;i--;)ci(n,t[i]);return n})),Da=eo((function(e,t){return null==e?{}:function(e,t){return jr(e,t,(function(t,n){return Pa(e,n)}))}(e,t)}));function Fa(e,t){if(null==e)return{};var n=Mt(no(e),(function(e){return[e]}));return t=so(t),jr(e,n,(function(e,n){return t(e,n[0])}))}var Ka=Gi(Ba),Ua=Gi(La);function Wa(e){return null==e?[]:qt(e,Ba(e))}var za=Ci((function(e,t,n){return t=t.toLowerCase(),e+(n?ja(t):t)}));function ja(e){return Za(wa(e).toLowerCase())}function qa(e){return(e=wa(e))&&e.replace(be,Xt).replace(Ve,"")}var Va=Ci((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ha=Ci((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Qa=Li("toLowerCase"),Ga=Ci((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Xa=Ci((function(e,t,n){return e+(n?" ":"")+Za(t)})),Ya=Ci((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Za=Li("toUpperCase");function $a(e,t,n){return e=wa(e),(t=n?i:t)===i?function(e){return Xe.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Ja=Gr((function(e,t){try{return yt(e,i,t)}catch(e){return Zs(e)?e:new Se(e)}})),eu=eo((function(e,t){return wt(t,(function(t){t=Fo(t),ir(e,t,Os(e[t],e))})),e}));function tu(e){return function(){return e}}var nu=Di(),ru=Di(!0);function iu(e){return e}function ou(e){return Cr("function"==typeof e?e:ar(e,1))}var su=Gr((function(e,t){return function(n){return Tr(n,e,t)}})),au=Gr((function(e,t){return function(n){return Tr(e,n,t)}}));function uu(e,t,n){var r=Ba(t),i=Sr(t,r);null!=n||ta(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Ba(t)));var o=!(ta(n)&&"chain"in n&&!n.chain),s=$s(e);return wt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ei(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function cu(){}var lu=Wi(Mt),du=Wi(St),fu=Wi(Tt);function pu(e){return wo(e)?Dt(Fo(e)):function(e){return function(t){return Ar(t,e)}}(e)}var hu=ji(),mu=ji(!0);function gu(){return[]}function yu(){return!1}var bu,wu=Ui((function(e,t){return e+t}),0),vu=Hi("ceil"),Su=Ui((function(e,t){return e/t}),1),Au=Hi("floor"),ku=Ui((function(e,t){return e*t}),1),_u=Hi("round"),Mu=Ui((function(e,t){return e-t}),0);return Kn.after=function(e,t){if("function"!=typeof t)throw new Ee(o);return e=ma(e),function(){if(--e<1)return t.apply(this,arguments)}},Kn.ary=Ps,Kn.assign=va,Kn.assignIn=Sa,Kn.assignInWith=Aa,Kn.assignWith=ka,Kn.at=_a,Kn.before=Ts,Kn.bind=Os,Kn.bindAll=eu,Kn.bindKey=xs,Kn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},Kn.chain=ps,Kn.chunk=function(e,t,n){t=(n?bo(e,t,n):t===i)?1:yn(ma(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=r(ln(o/t));s<o;)u[a++]=ti(e,s,s+=t);return u},Kn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Kn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Vs(n)?Ei(n):[n],gr(t,1))},Kn.cond=function(e){var t=null==e?0:e.length,n=so();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Ee(o);return[n(e[0]),e[1]]})):[],Gr((function(n){for(var r=-1;++r<t;){var i=e[r];if(yt(i[0],this,n))return yt(i[1],this,n)}}))},Kn.conforms=function(e){return function(e){var t=Ba(e);return function(n){return ur(n,e,t)}}(ar(e,1))},Kn.constant=tu,Kn.countBy=gs,Kn.create=function(e,t){var n=Un(e);return null==t?n:rr(n,t)},Kn.curry=function e(t,n,r){var o=Xi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Kn.curryRight=function e(t,n,r){var o=Xi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Kn.debounce=Bs,Kn.defaults=Ma,Kn.defaultsDeep=Ia,Kn.defer=Ls,Kn.delay=Cs,Kn.difference=Wo,Kn.differenceBy=zo,Kn.differenceWith=jo,Kn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=n||t===i?1:ma(t))<0?0:t,r):[]},Kn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,0,(t=r-(t=n||t===i?1:ma(t)))<0?0:t):[]},Kn.dropRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0,!0):[]},Kn.dropWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0):[]},Kn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&bo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ma(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ma(r))<0&&(r+=o),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Kn.filter=function(e,t){return(Vs(e)?At:mr)(e,so(t,3))},Kn.flatMap=function(e,t){return gr(_s(e,t),1)},Kn.flatMapDeep=function(e,t){return gr(_s(e,t),l)},Kn.flatMapDepth=function(e,t,n){return n=n===i?1:ma(n),gr(_s(e,t),n)},Kn.flatten=Ho,Kn.flattenDeep=function(e){return null!=e&&e.length?gr(e,l):[]},Kn.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===i?1:ma(t)):[]},Kn.flip=function(e){return Xi(e,512)},Kn.flow=nu,Kn.flowRight=ru,Kn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Kn.functions=function(e){return null==e?[]:Sr(e,Ba(e))},Kn.functionsIn=function(e){return null==e?[]:Sr(e,La(e))},Kn.groupBy=Ss,Kn.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},Kn.intersection=Go,Kn.intersectionBy=Xo,Kn.intersectionWith=Yo,Kn.invert=Ta,Kn.invertBy=Oa,Kn.invokeMap=As,Kn.iteratee=ou,Kn.keyBy=ks,Kn.keys=Ba,Kn.keysIn=La,Kn.map=_s,Kn.mapKeys=function(e,t){var n={};return t=so(t,3),wr(e,(function(e,r,i){ir(n,t(e,r,i),e)})),n},Kn.mapValues=function(e,t){var n={};return t=so(t,3),wr(e,(function(e,r,i){ir(n,r,t(e,r,i))})),n},Kn.matches=function(e){return Fr(ar(e,1))},Kn.matchesProperty=function(e,t){return Kr(e,ar(t,1))},Kn.memoize=Rs,Kn.merge=Ca,Kn.mergeWith=Ra,Kn.method=su,Kn.methodOf=au,Kn.mixin=uu,Kn.negate=Ns,Kn.nthArg=function(e){return e=ma(e),Gr((function(t){return Wr(t,e)}))},Kn.omit=Na,Kn.omitBy=function(e,t){return Fa(e,Ns(so(t)))},Kn.once=function(e){return Ts(2,e)},Kn.orderBy=function(e,t,n,r){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(n=r?i:n)||(n=null==n?[]:[n]),zr(e,t,n))},Kn.over=lu,Kn.overArgs=Ds,Kn.overEvery=du,Kn.overSome=fu,Kn.partial=Fs,Kn.partialRight=Ks,Kn.partition=Ms,Kn.pick=Da,Kn.pickBy=Fa,Kn.property=pu,Kn.propertyOf=function(e){return function(t){return null==e?i:Ar(e,t)}},Kn.pull=$o,Kn.pullAll=Jo,Kn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,so(n,2)):e},Kn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},Kn.pullAt=es,Kn.range=hu,Kn.rangeRight=mu,Kn.rearg=Us,Kn.reject=function(e,t){return(Vs(e)?At:mr)(e,Ns(so(t,3)))},Kn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=so(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Vr(e,i),n},Kn.rest=function(e,t){if("function"!=typeof e)throw new Ee(o);return Gr(e,t=t===i?t:ma(t))},Kn.reverse=ts,Kn.sampleSize=function(e,t,n){return t=(n?bo(e,t,n):t===i)?1:ma(t),(Vs(e)?Zn:Yr)(e,t)},Kn.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Kn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Zr(e,t,n,r)},Kn.shuffle=function(e){return(Vs(e)?$n:ei)(e)},Kn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bo(e,t,n)?(t=0,n=r):(t=null==t?0:ma(t),n=n===i?r:ma(n)),ti(e,t,n)):[]},Kn.sortBy=Is,Kn.sortedUniq=function(e){return e&&e.length?oi(e):[]},Kn.sortedUniqBy=function(e,t){return e&&e.length?oi(e,so(t,2)):[]},Kn.split=function(e,t,n){return n&&"number"!=typeof n&&bo(e,t,n)&&(t=n=i),(n=n===i?p:n>>>0)?(e=wa(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ai(t))&&$t(e)?wi(sn(e),0,n):e.split(t,n):[]},Kn.spread=function(e,t){if("function"!=typeof e)throw new Ee(o);return t=null==t?0:yn(ma(t),0),Gr((function(n){var r=n[t],i=wi(n,0,t);return r&&It(i,r),yt(e,this,i)}))},Kn.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},Kn.take=function(e,t,n){return e&&e.length?ti(e,0,(t=n||t===i?1:ma(t))<0?0:t):[]},Kn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=r-(t=n||t===i?1:ma(t)))<0?0:t,r):[]},Kn.takeRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!1,!0):[]},Kn.takeWhile=function(e,t){return e&&e.length?di(e,so(t,3)):[]},Kn.tap=function(e,t){return t(e),e},Kn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ee(o);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Bs(e,t,{leading:r,maxWait:t,trailing:i})},Kn.thru=hs,Kn.toArray=pa,Kn.toPairs=Ka,Kn.toPairsIn=Ua,Kn.toPath=function(e){return Vs(e)?Mt(e,Fo):ca(e)?[e]:Ei(Do(wa(e)))},Kn.toPlainObject=ba,Kn.transform=function(e,t,n){var r=Vs(e),i=r||Xs(e)||la(e);if(t=so(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ta(e)&&$s(o)?Un(He(e)):{}}return(i?wt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Kn.unary=function(e){return Ps(e,1)},Kn.union=ns,Kn.unionBy=rs,Kn.unionWith=is,Kn.uniq=function(e){return e&&e.length?ui(e):[]},Kn.uniqBy=function(e,t){return e&&e.length?ui(e,so(t,2)):[]},Kn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Kn.unset=function(e,t){return null==e||ci(e,t)},Kn.unzip=os,Kn.unzipWith=ss,Kn.update=function(e,t,n){return null==e?e:li(e,t,gi(n))},Kn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:li(e,t,gi(n),r)},Kn.values=Wa,Kn.valuesIn=function(e){return null==e?[]:qt(e,La(e))},Kn.without=as,Kn.words=$a,Kn.wrap=function(e,t){return Fs(gi(t),e)},Kn.xor=us,Kn.xorBy=cs,Kn.xorWith=ls,Kn.zip=ds,Kn.zipObject=function(e,t){return hi(e||[],t||[],er)},Kn.zipObjectDeep=function(e,t){return hi(e||[],t||[],Zr)},Kn.zipWith=fs,Kn.entries=Ka,Kn.entriesIn=Ua,Kn.extend=Sa,Kn.extendWith=Aa,uu(Kn,Kn),Kn.add=wu,Kn.attempt=Ja,Kn.camelCase=za,Kn.capitalize=ja,Kn.ceil=vu,Kn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ya(n))==n?n:0),t!==i&&(t=(t=ya(t))==t?t:0),sr(ya(e),t,n)},Kn.clone=function(e){return ar(e,4)},Kn.cloneDeep=function(e){return ar(e,5)},Kn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:i)},Kn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:i)},Kn.conformsTo=function(e,t){return null==t||ur(e,t,Ba(t))},Kn.deburr=qa,Kn.defaultTo=function(e,t){return null==e||e!=e?t:e},Kn.divide=Su,Kn.endsWith=function(e,t,n){e=wa(e),t=ai(t);var r=e.length,o=n=n===i?r:sr(ma(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Kn.eq=Ws,Kn.escape=function(e){return(e=wa(e))&&G.test(e)?e.replace(H,Yt):e},Kn.escapeRegExp=function(e){return(e=wa(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Kn.every=function(e,t,n){var r=Vs(e)?St:pr;return n&&bo(e,t,n)&&(t=i),r(e,so(t,3))},Kn.find=ys,Kn.findIndex=qo,Kn.findKey=function(e,t){return xt(e,so(t,3),wr)},Kn.findLast=bs,Kn.findLastIndex=Vo,Kn.findLastKey=function(e,t){return xt(e,so(t,3),vr)},Kn.floor=Au,Kn.forEach=ws,Kn.forEachRight=vs,Kn.forIn=function(e,t){return null==e?e:yr(e,so(t,3),La)},Kn.forInRight=function(e,t){return null==e?e:br(e,so(t,3),La)},Kn.forOwn=function(e,t){return e&&wr(e,so(t,3))},Kn.forOwnRight=function(e,t){return e&&vr(e,so(t,3))},Kn.get=Ea,Kn.gt=zs,Kn.gte=js,Kn.has=function(e,t){return null!=e&&ho(e,t,Ir)},Kn.hasIn=Pa,Kn.head=Qo,Kn.identity=iu,Kn.includes=function(e,t,n,r){e=Qs(e)?e:Wa(e),n=n&&!r?ma(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ua(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Lt(e,t,n)>-1},Kn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=yn(r+i,0)),Lt(e,t,i)},Kn.inRange=function(e,t,n){return t=ha(t),n===i?(n=t,t=0):n=ha(n),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=ya(e),t,n)},Kn.invoke=xa,Kn.isArguments=qs,Kn.isArray=Vs,Kn.isArrayBuffer=Hs,Kn.isArrayLike=Qs,Kn.isArrayLikeObject=Gs,Kn.isBoolean=function(e){return!0===e||!1===e||na(e)&&_r(e)==y},Kn.isBuffer=Xs,Kn.isDate=Ys,Kn.isElement=function(e){return na(e)&&1===e.nodeType&&!oa(e)},Kn.isEmpty=function(e){if(null==e)return!0;if(Qs(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Xs(e)||la(e)||qs(e)))return!e.length;var t=po(e);if(t==A||t==E)return!e.size;if(Ao(e))return!Rr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Kn.isEqual=function(e,t){return xr(e,t)},Kn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?xr(e,t,i,n):!!r},Kn.isError=Zs,Kn.isFinite=function(e){return"number"==typeof e&&hn(e)},Kn.isFunction=$s,Kn.isInteger=Js,Kn.isLength=ea,Kn.isMap=ra,Kn.isMatch=function(e,t){return e===t||Br(e,t,uo(t))},Kn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Br(e,t,uo(t),n)},Kn.isNaN=function(e){return ia(e)&&e!=+e},Kn.isNative=function(e){if(So(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Kn.isNil=function(e){return null==e},Kn.isNull=function(e){return null===e},Kn.isNumber=ia,Kn.isObject=ta,Kn.isObjectLike=na,Kn.isPlainObject=oa,Kn.isRegExp=sa,Kn.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=d},Kn.isSet=aa,Kn.isString=ua,Kn.isSymbol=ca,Kn.isTypedArray=la,Kn.isUndefined=function(e){return e===i},Kn.isWeakMap=function(e){return na(e)&&po(e)==O},Kn.isWeakSet=function(e){return na(e)&&"[object WeakSet]"==_r(e)},Kn.join=function(e,t){return null==e?"":mn.call(e,t)},Kn.kebabCase=Va,Kn.last=Zo,Kn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ma(n))<0?yn(r+o,0):bn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Bt(e,Rt,o,!0)},Kn.lowerCase=Ha,Kn.lowerFirst=Qa,Kn.lt=da,Kn.lte=fa,Kn.max=function(e){return e&&e.length?hr(e,iu,Mr):i},Kn.maxBy=function(e,t){return e&&e.length?hr(e,so(t,2),Mr):i},Kn.mean=function(e){return Nt(e,iu)},Kn.meanBy=function(e,t){return Nt(e,so(t,2))},Kn.min=function(e){return e&&e.length?hr(e,iu,Nr):i},Kn.minBy=function(e,t){return e&&e.length?hr(e,so(t,2),Nr):i},Kn.stubArray=gu,Kn.stubFalse=yu,Kn.stubObject=function(){return{}},Kn.stubString=function(){return""},Kn.stubTrue=function(){return!0},Kn.multiply=ku,Kn.nth=function(e,t){return e&&e.length?Wr(e,ma(t)):i},Kn.noConflict=function(){return ot._===this&&(ot._=Fe),this},Kn.noop=cu,Kn.now=Es,Kn.pad=function(e,t,n){e=wa(e);var r=(t=ma(t))?on(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return zi(dn(i),n)+e+zi(ln(i),n)},Kn.padEnd=function(e,t,n){e=wa(e);var r=(t=ma(t))?on(e):0;return t&&r<t?e+zi(t-r,n):e},Kn.padStart=function(e,t,n){e=wa(e);var r=(t=ma(t))?on(e):0;return t&&r<t?zi(t-r,n)+e:e},Kn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),vn(wa(e).replace(re,""),t||0)},Kn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ha(e),t===i?(t=e,e=0):t=ha(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return bn(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return Hr(e,t)},Kn.reduce=function(e,t,n){var r=Vs(e)?Et:Kt,i=arguments.length<3;return r(e,so(t,4),n,i,dr)},Kn.reduceRight=function(e,t,n){var r=Vs(e)?Pt:Kt,i=arguments.length<3;return r(e,so(t,4),n,i,fr)},Kn.repeat=function(e,t,n){return t=(n?bo(e,t,n):t===i)?1:ma(t),Qr(wa(e),t)},Kn.replace=function(){var e=arguments,t=wa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Kn.result=function(e,t,n){var r=-1,o=(t=yi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Fo(t[r])];s===i&&(r=o,s=n),e=$s(s)?s.call(e):s}return e},Kn.round=_u,Kn.runInContext=e,Kn.sample=function(e){return(Vs(e)?Yn:Xr)(e)},Kn.size=function(e){if(null==e)return 0;if(Qs(e))return ua(e)?on(e):e.length;var t=po(e);return t==A||t==E?e.size:Rr(e).length},Kn.snakeCase=Ga,Kn.some=function(e,t,n){var r=Vs(e)?Tt:ni;return n&&bo(e,t,n)&&(t=i),r(e,so(t,3))},Kn.sortedIndex=function(e,t){return ri(e,t)},Kn.sortedIndexBy=function(e,t,n){return ii(e,t,so(n,2))},Kn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ri(e,t);if(r<n&&Ws(e[r],t))return r}return-1},Kn.sortedLastIndex=function(e,t){return ri(e,t,!0)},Kn.sortedLastIndexBy=function(e,t,n){return ii(e,t,so(n,2),!0)},Kn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ri(e,t,!0)-1;if(Ws(e[n],t))return n}return-1},Kn.startCase=Xa,Kn.startsWith=function(e,t,n){return e=wa(e),n=null==n?0:sr(ma(n),0,e.length),t=ai(t),e.slice(n,n+t.length)==t},Kn.subtract=Mu,Kn.sum=function(e){return e&&e.length?Ut(e,iu):0},Kn.sumBy=function(e,t){return e&&e.length?Ut(e,so(t,2)):0},Kn.template=function(e,t,n){var r=Kn.templateSettings;n&&bo(e,t,n)&&(t=i),e=wa(e),t=Aa({},t,r,Yi);var o,s,a=Aa({},t.imports,r.imports,Yi),u=Ba(a),c=qt(a,u),l=0,d=t.interpolate||we,f="__p += '",p=Me((t.escape||we).source+"|"+d.source+"|"+(d===Z?de:we).source+"|"+(t.evaluate||we).source+"|$","g"),h="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ze+"]")+"\n";e.replace(p,(function(t,n,r,i,a,u){return r||(r=i),f+=e.slice(l,u).replace(ve,Zt),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),f+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(ce.test(m))throw new Se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(z,""):f).replace(j,"$1").replace(q,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Ja((function(){return Ae(u,h+"return "+f).apply(i,c)}));if(g.source=f,Zs(g))throw g;return g},Kn.times=function(e,t){if((e=ma(e))<1||e>d)return[];var n=p,r=bn(e,p);t=so(t),e-=p;for(var i=Wt(r,t);++n<e;)t(n);return i},Kn.toFinite=ha,Kn.toInteger=ma,Kn.toLength=ga,Kn.toLower=function(e){return wa(e).toLowerCase()},Kn.toNumber=ya,Kn.toSafeInteger=function(e){return e?sr(ma(e),-9007199254740991,d):0===e?e:0},Kn.toString=wa,Kn.toUpper=function(e){return wa(e).toUpperCase()},Kn.trim=function(e,t,n){if((e=wa(e))&&(n||t===i))return zt(e);if(!e||!(t=ai(t)))return e;var r=sn(e),o=sn(t);return wi(r,Ht(r,o),Qt(r,o)+1).join("")},Kn.trimEnd=function(e,t,n){if((e=wa(e))&&(n||t===i))return e.slice(0,an(e)+1);if(!e||!(t=ai(t)))return e;var r=sn(e);return wi(r,0,Qt(r,sn(t))+1).join("")},Kn.trimStart=function(e,t,n){if((e=wa(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=ai(t)))return e;var r=sn(e);return wi(r,Ht(r,sn(t))).join("")},Kn.truncate=function(e,t){var n=30,r="...";if(ta(t)){var o="separator"in t?t.separator:o;n="length"in t?ma(t.length):n,r="omission"in t?ai(t.omission):r}var s=(e=wa(e)).length;if($t(e)){var a=sn(e);s=a.length}if(n>=s)return e;var u=n-on(r);if(u<1)return r;var c=a?wi(a,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),sa(o)){if(e.slice(u).search(o)){var l,d=c;for(o.global||(o=Me(o.source,wa(fe.exec(o))+"g")),o.lastIndex=0;l=o.exec(d);)var f=l.index;c=c.slice(0,f===i?u:f)}}else if(e.indexOf(ai(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},Kn.unescape=function(e){return(e=wa(e))&&Q.test(e)?e.replace(V,un):e},Kn.uniqueId=function(e){var t=++Ce;return wa(e)+t},Kn.upperCase=Ya,Kn.upperFirst=Za,Kn.each=ws,Kn.eachRight=vs,Kn.first=Qo,uu(Kn,(bu={},wr(Kn,(function(e,t){Le.call(Kn.prototype,t)||(bu[t]=e)})),bu),{chain:!1}),Kn.VERSION="4.17.21",wt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Kn[e].placeholder=Kn})),wt(["drop","take"],(function(e,t){jn.prototype[e]=function(n){n=n===i?1:yn(ma(n),0);var r=this.__filtered__&&!t?new jn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,p),type:e+(r.__dir__<0?"Right":"")}),r},jn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;jn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:so(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),wt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");jn.prototype[e]=function(){return this[n](1).value()[0]}})),wt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");jn.prototype[e]=function(){return this.__filtered__?new jn(this):this[n](1)}})),jn.prototype.compact=function(){return this.filter(iu)},jn.prototype.find=function(e){return this.filter(e).head()},jn.prototype.findLast=function(e){return this.reverse().find(e)},jn.prototype.invokeMap=Gr((function(e,t){return"function"==typeof e?new jn(this):this.map((function(n){return Tr(n,e,t)}))})),jn.prototype.reject=function(e){return this.filter(Ns(so(e)))},jn.prototype.slice=function(e,t){e=ma(e);var n=this;return n.__filtered__&&(e>0||t<0)?new jn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ma(t))<0?n.dropRight(-t):n.take(t-e)),n)},jn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},jn.prototype.toArray=function(){return this.take(p)},wr(jn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Kn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Kn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof jn,c=a[0],l=u||Vs(t),d=function(e){var t=o.apply(Kn,It([e],a));return r&&f?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,p=!!this.__actions__.length,h=s&&!f,m=u&&!p;if(!s&&l){t=m?t:new jn(this);var g=e.apply(t,a);return g.__actions__.push({func:hs,args:[d],thisArg:i}),new zn(g,f)}return h&&m?e.apply(this,a):(g=this.thru(d),h?r?g.value()[0]:g.value():g)})})),wt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Kn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Vs(i)?i:[],e)}return this[n]((function(n){return t.apply(Vs(n)?n:[],e)}))}})),wr(jn.prototype,(function(e,t){var n=Kn[t];if(n){var r=n.name+"";Le.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Fi(i,2).name]=[{name:"wrapper",func:i}],jn.prototype.clone=function(){var e=new jn(this.__wrapped__);return e.__actions__=Ei(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ei(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ei(this.__views__),e},jn.prototype.reverse=function(){if(this.__filtered__){var e=new jn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},jn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=yn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,d=l.length,f=0,p=bn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return fi(e,this.__actions__);var h=[];e:for(;u--&&f<p;){for(var m=-1,g=e[c+=t];++m<d;){var y=l[m],b=y.iteratee,w=y.type,v=b(g);if(2==w)g=v;else if(!v){if(1==w)continue e;break e}}h[f++]=g}return h},Kn.prototype.at=ms,Kn.prototype.chain=function(){return ps(this)},Kn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Kn.prototype.next=function(){this.__values__===i&&(this.__values__=pa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Kn.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=Uo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Kn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof jn){var t=e;return this.__actions__.length&&(t=new jn(this)),(t=t.reverse()).__actions__.push({func:hs,args:[ts],thisArg:i}),new zn(t,this.__chain__)}return this.thru(ts)},Kn.prototype.toJSON=Kn.prototype.valueOf=Kn.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Kn.prototype.first=Kn.prototype.head,st&&(Kn.prototype[st]=function(){return this}),Kn}();ot._=cn,(r=function(){return cn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},769:e=>{const t="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,n="function"==typeof AbortController?AbortController:class{constructor(){this.signal=new o}abort(){this.signal.dispatchEvent("abort")}},r="function"==typeof AbortSignal,i="function"==typeof n.AbortSignal,o=r?AbortSignal:i?n.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if("abort"===e){this.aborted=!0;const t={type:e,target:this};this.onabort(t),this._listeners.forEach((e=>e(t)),this)}}onabort(){}addEventListener(e,t){"abort"===e&&this._listeners.push(t)}removeEventListener(e,t){"abort"===e&&(this._listeners=this._listeners.filter((e=>e!==t)))}},s=new Set,a=(e,t)=>{const n=`LRU_CACHE_OPTION_${e}`;l(n)&&d(n,`${e} option`,`options.${t}`,g)},u=(e,t)=>{const n=`LRU_CACHE_METHOD_${e}`;if(l(n)){const{prototype:r}=g,{get:i}=Object.getOwnPropertyDescriptor(r,e);d(n,`${e} method`,`cache.${t}()`,i)}},c=(...e)=>{"object"==typeof process&&process&&"function"==typeof process.emitWarning?process.emitWarning(...e):console.error(...e)},l=e=>!s.has(e),d=(e,t,n,r)=>{s.add(e),c(`The ${t} is deprecated. Please use ${n} instead.`,"DeprecationWarning",e,r)},f=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),p=e=>f(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?h:null:null;class h extends Array{constructor(e){super(e),this.fill(0)}}class m{constructor(e){if(0===e)return[];const t=p(e);this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class g{constructor(e={}){const{max:t=0,ttl:n,ttlResolution:r=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:u,allowStale:d,dispose:h,disposeAfter:y,noDisposeOnSet:b,noUpdateTTL:w,maxSize:v=0,maxEntrySize:S=0,sizeCalculation:A,fetchMethod:k,fetchContext:_,noDeleteOnFetchRejection:M,noDeleteOnStaleGet:I}=e,{length:E,maxAge:P,stale:T}=e instanceof g?{}:e;if(0!==t&&!f(t))throw new TypeError("max option must be a nonnegative integer");const O=t?p(t):Array;if(!O)throw new Error("invalid max value: "+t);if(this.max=t,this.maxSize=v,this.maxEntrySize=S||this.maxSize,this.sizeCalculation=A||E,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=k||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=_,!this.fetchMethod&&void 0!==_)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(t).fill(null),this.valList=new Array(t).fill(null),this.next=new O(t),this.prev=new O(t),this.head=0,this.tail=0,this.free=new m(t),this.initialFill=1,this.size=0,"function"==typeof h&&(this.dispose=h),"function"==typeof y?(this.disposeAfter=y,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!b,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!M,0!==this.maxEntrySize){if(0!==this.maxSize&&!f(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!f(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!d||!!T,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!u,this.ttlResolution=f(r)||0===r?r:1,this.ttlAutopurge=!!i,this.ttl=n||P||0,this.ttl){if(!f(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const e="LRU_CACHE_UNBOUNDED";l(e)&&(s.add(e),c("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,g))}T&&a("stale","allowStale"),P&&a("maxAge","ttl"),E&&a("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new h(this.max),this.starts=new h(this.max),this.setItemTTL=(e,n,r=t.now())=>{if(this.starts[e]=0!==n?r:0,this.ttls[e]=n,0!==n&&this.ttlAutopurge){const t=setTimeout((()=>{this.isStale(e)&&this.delete(this.keyList[e])}),n+1);t.unref&&t.unref()}},this.updateItemAge=e=>{this.starts[e]=0!==this.ttls[e]?t.now():0};let e=0;const n=()=>{const n=t.now();if(this.ttlResolution>0){e=n;const t=setTimeout((()=>e=0),this.ttlResolution);t.unref&&t.unref()}return n};this.getRemainingTTL=t=>{const r=this.keyMap.get(t);return void 0===r?0:0===this.ttls[r]||0===this.starts[r]?1/0:this.starts[r]+this.ttls[r]-(e||n())},this.isStale=t=>0!==this.ttls[t]&&0!==this.starts[t]&&(e||n())-this.starts[t]>this.ttls[t]}updateItemAge(e){}setItemTTL(e,t,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new h(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,t,n,r)=>{if(this.isBackgroundFetch(t))return 0;if(!f(n)){if(!r)throw new TypeError("invalid size value (must be positive integer)");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(n=r(t,e),!f(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.addItemSize=(e,t)=>{if(this.sizes[e]=t,this.maxSize){const t=this.maxSize-this.sizes[e];for(;this.calculatedSize>t;)this.evict(!0)}this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,t){}requireSize(e,t,n,r){if(n||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.tail;this.isValidIndex(t)&&(!e&&this.isStale(t)||(yield t),t!==this.head);)t=this.prev[t]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.head;this.isValidIndex(t)&&(!e&&this.isStale(t)||(yield t),t!==this.tail);)t=this.next[t]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(const e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(const e of this.indexes())yield this.keyList[e]}*rkeys(){for(const e of this.rindexes())yield this.keyList[e]}*values(){for(const e of this.indexes())yield this.valList[e]}*rvalues(){for(const e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const n of this.indexes())if(e(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],t)}forEach(e,t=this){for(const n of this.indexes())e.call(t,this.valList[n],this.keyList[n],this)}rforEach(e,t=this){for(const n of this.rindexes())e.call(t,this.valList[n],this.keyList[n],this)}get prune(){return u("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(const t of this.rindexes({allowStale:!0}))this.isStale(t)&&(this.delete(this.keyList[t]),e=!0);return e}dump(){const e=[];for(const n of this.indexes({allowStale:!0})){const r=this.keyList[n],i=this.valList[n],o={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){o.ttl=this.ttls[n];const e=t.now()-this.starts[n];o.start=Math.floor(Date.now()-e)}this.sizes&&(o.size=this.sizes[n]),e.unshift([r,o])}return e}load(e){this.clear();for(const[n,r]of e){if(r.start){const e=Date.now()-r.start;r.start=t.now()-e}this.set(n,r.value,r)}}dispose(e,t,n){}set(e,t,{ttl:n=this.ttl,start:r,noDisposeOnSet:i=this.noDisposeOnSet,size:o=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL}={}){if(o=this.requireSize(e,t,o,s),this.maxEntrySize&&o>this.maxEntrySize)return this.delete(e),this;let u=0===this.size?void 0:this.keyMap.get(e);if(void 0===u)u=this.newIndex(),this.keyList[u]=e,this.valList[u]=t,this.keyMap.set(e,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,o),a=!1;else{const n=this.valList[u];t!==n&&(this.isBackgroundFetch(n)?n.__abortController.abort():i||(this.dispose(n,e,"set"),this.disposeAfter&&this.disposed.push([n,e,"set"])),this.removeItemSize(u),this.valList[u]=t,this.addItemSize(u,o)),this.moveToTail(u)}if(0===n||0!==this.ttl||this.ttls||this.initializeTTLTracking(),a||this.setItemTTL(u,n,r),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];return this.evict(!0),e}}evict(e){const t=this.head,n=this.keyList[t],r=this.valList[t];return this.isBackgroundFetch(r)?r.__abortController.abort():(this.dispose(r,n,"evict"),this.disposeAfter&&this.disposed.push([r,n,"evict"])),this.removeItemSize(t),e&&(this.keyList[t]=null,this.valList[t]=null,this.free.push(t)),this.head=this.next[t],this.keyMap.delete(n),this.size--,t}has(e,{updateAgeOnHas:t=this.updateAgeOnHas}={}){const n=this.keyMap.get(e);return void 0!==n&&!this.isStale(n)&&(t&&this.updateItemAge(n),!0)}peek(e,{allowStale:t=this.allowStale}={}){const n=this.keyMap.get(e);if(void 0!==n&&(t||!this.isStale(n))){const e=this.valList[n];return this.isBackgroundFetch(e)?e.__staleWhileFetching:e}}backgroundFetch(e,t,r,i){const o=void 0===t?void 0:this.valList[t];if(this.isBackgroundFetch(o))return o;const s=new n,a={signal:s.signal,options:r,context:i},u=new Promise((t=>t(this.fetchMethod(e,o,a)))).then((t=>(s.signal.aborted||this.set(e,t,a.options),t)),(n=>{if(this.valList[t]===u&&(r.noDeleteOnFetchRejection&&void 0!==u.__staleWhileFetching?this.valList[t]=u.__staleWhileFetching:this.delete(e)),u.__returned===u)throw n}));return u.__abortController=s,u.__staleWhileFetching=o,u.__returned=null,void 0===t?(this.set(e,u,a.options),t=this.keyMap.get(e)):this.valList[t]=u,u}isBackgroundFetch(e){return e&&"object"==typeof e&&"function"==typeof e.then&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||null===e.__returned)}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,fetchContext:l=this.fetchContext,forceRefresh:d=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:t,updateAgeOnGet:n,noDeleteOnStaleGet:r});const f={allowStale:t,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:i,noDisposeOnSet:o,size:s,sizeCalculation:a,noUpdateTTL:u,noDeleteOnFetchRejection:c};let p=this.keyMap.get(e);if(void 0===p){const t=this.backgroundFetch(e,p,f,l);return t.__returned=t}{const r=this.valList[p];if(this.isBackgroundFetch(r))return t&&void 0!==r.__staleWhileFetching?r.__staleWhileFetching:r.__returned=r;if(!d&&!this.isStale(p))return this.moveToTail(p),n&&this.updateItemAge(p),r;const i=this.backgroundFetch(e,p,f,l);return t&&void 0!==i.__staleWhileFetching?i.__staleWhileFetching:i.__returned=i}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet}={}){const i=this.keyMap.get(e);if(void 0!==i){const o=this.valList[i],s=this.isBackgroundFetch(o);if(this.isStale(i))return s?t?o.__staleWhileFetching:void 0:(r||this.delete(e),t?o:void 0);if(s)return;return this.moveToTail(i),n&&this.updateItemAge(i),o}}connect(e,t){this.prev[t]=e,this.next[e]=t}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return u("del","delete"),this.delete}delete(e){let t=!1;if(0!==this.size){const n=this.keyMap.get(e);if(void 0!==n)if(t=!0,1===this.size)this.clear();else{this.removeItemSize(n);const t=this.valList[n];this.isBackgroundFetch(t)?t.__abortController.abort():(this.dispose(t,e,"delete"),this.disposeAfter&&this.disposed.push([t,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return t}clear(){for(const e of this.rindexes({allowStale:!0})){const t=this.valList[e];if(this.isBackgroundFetch(t))t.__abortController.abort();else{const n=this.keyList[e];this.dispose(t,n,"delete"),this.disposeAfter&&this.disposed.push([t,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return u("reset","clear"),this.clear}get length(){return((e,t)=>{const n="LRU_CACHE_PROPERTY_length";if(l(n)){const{prototype:t}=g,{get:r}=Object.getOwnPropertyDescriptor(t,e);d(n,"length property","cache.size",r)}})("length"),this.size}static get AbortController(){return n}static get AbortSignal(){return o}}e.exports=g},6630:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageLoaderProps",{enumerable:!0,get:function(){return l.ImageLoaderProps}}),t.default=function(e){var{src:t,sizes:n,unoptimized:i=!1,priority:o=!1,loading:g,className:b,quality:w,width:v,height:S,fill:A,style:k,onLoad:_,onLoadingComplete:M,placeholder:I="empty",blurDataURL:E}=e,P=s(e,["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","onLoad","onLoadingComplete","placeholder","blurDataURL"]);const T=a.useContext(d.ImageConfigContext),O=a.useMemo((()=>{const e=p||T||l.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort(((e,t)=>e-t)),n=e.deviceSizes.sort(((e,t)=>e-t));return r({},e,{allSizes:t,deviceSizes:n})}),[T]);let x=P,B=x.loader||f.default;if(delete x.loader,"__next_img_default"in B){if("custom"===O.loader)throw new Error(`Image with src "${t}" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader`)}else{const e=B;B=t=>{const{config:n}=t,r=s(t,["config"]);return e(r)}}let L,C,R="",N=m(v),D=m(S);if(function(e){return"object"==typeof e&&(h(e)||function(e){return void 0!==e.src}(e))}(t)){const e=h(t)?t.default:t;if(!e.src)throw new Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(e)}`);if(!e.height||!e.width)throw new Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(e)}`);if(L=e.blurWidth,C=e.blurHeight,E=E||e.blurDataURL,R=e.src,!A)if(N||D){if(N&&!D){const t=N/e.width;D=Math.round(e.height*t)}else if(!N&&D){const t=D/e.height;N=Math.round(e.width*t)}}else N=e.width,D=e.height}let F=!o&&("lazy"===g||void 0===g);((t="string"==typeof t?t:R).startsWith("data:")||t.startsWith("blob:"))&&(i=!0,F=!1),O.unoptimized&&(i=!0);const[K,U]=a.useState(!1),[W,z]=a.useState(!1),j=m(w),q=Object.assign(A?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0}:{},W?{}:{color:"transparent"},k),V="blur"===I&&E&&!K?{backgroundSize:q.objectFit||"cover",backgroundPosition:q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:`url("data:image/svg+xml;charset=utf-8,${c.getImageBlurSvg({widthInt:N,heightInt:D,blurWidth:L,blurHeight:C,blurDataURL:E})}")`}:{},H=function({config:e,src:t,unoptimized:n,width:r,quality:i,sizes:o,loader:s}){if(n)return{src:t,srcSet:void 0,sizes:void 0};const{widths:a,kind:u}=function({deviceSizes:e,allSizes:t},n,r){if(r){const n=/(^|\s)(1?\d?\d)vw/g,i=[];for(let e;e=n.exec(r);e)i.push(parseInt(e[2]));if(i.length){const n=.01*Math.min(...i);return{widths:t.filter((t=>t>=e[0]*n)),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof n?{widths:e,kind:"w"}:{widths:[...new Set([n,2*n].map((e=>t.find((t=>t>=e))||t[t.length-1])))],kind:"x"}}(e,r,o),c=a.length-1;return{sizes:o||"w"!==u?o:"100vw",srcSet:a.map(((n,r)=>`${s({config:e,src:t,quality:i,width:n})} ${"w"===u?n:r+1}${u}`)).join(", "),src:s({config:e,src:t,quality:i,width:a[c]})}}({config:O,src:t,unoptimized:i,width:N,quality:j,sizes:n,loader:B});let Q=t,G="imagesrcset",X="imagesizes";process.env.__NEXT_REACT_ROOT&&(G="imageSrcSet",X="imageSizes");const Y={[G]:H.srcSet,[X]:H.sizes,crossOrigin:x.crossOrigin},Z=a.useRef(_);a.useEffect((()=>{Z.current=_}),[_]);const $=a.useRef(M);a.useEffect((()=>{$.current=M}),[M]);const J=r({isLazy:F,imgAttributes:H,heightInt:D,widthInt:N,qualityInt:j,className:b,imgStyle:q,blurStyle:V,loading:g,config:O,fill:A,unoptimized:i,placeholder:I,loader:B,srcString:Q,onLoadRef:Z,onLoadingCompleteRef:$,setBlurComplete:U,setShowAltText:z},x);return a.default.createElement(a.default.Fragment,null,a.default.createElement(y,Object.assign({},J)),o?a.default.createElement(u.default,null,a.default.createElement("link",Object.assign({key:"__nimg-"+H.src+H.srcSet+H.sizes,rel:"preload",as:"image",href:H.srcSet?void 0:H.src},Y))):null)};var r=n(5955).Z,i=n(7022).Z,o=n(8889).Z,s=n(5997).Z,a=o(n(959)),u=i(n(8891)),c=n(1038),l=n(9850),d=n(8721),f=(n(3615),i(n(8047)));const p=process.env.__NEXT_IMAGE_OPTS;function h(e){return void 0!==e.default}function m(e){return"number"==typeof e||void 0===e?e:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function g(e,t,n,i,o,s){e&&e["data-loaded-src"]!==t&&(e["data-loaded-src"]=t,("decode"in e?e.decode():Promise.resolve()).catch((()=>{})).then((()=>{if(e.parentNode){if("blur"===n&&s(!0),null==i?void 0:i.current){const t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,o=!1;i.current(r({},t,{nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{o=!0,t.stopPropagation()}}))}(null==o?void 0:o.current)&&o.current(e)}})))}new Map,"undefined"==typeof window&&(n.g.__NEXT_IMAGE_IMPORTED=!0);const y=e=>{var{imgAttributes:t,heightInt:n,widthInt:i,qualityInt:o,className:u,imgStyle:c,blurStyle:l,isLazy:d,fill:f,placeholder:p,loading:h,srcString:m,config:y,unoptimized:b,loader:w,onLoadRef:v,onLoadingCompleteRef:S,setBlurComplete:A,setShowAltText:k,onLoad:_,onError:M}=e,I=s(e,["imgAttributes","heightInt","widthInt","qualityInt","className","imgStyle","blurStyle","isLazy","fill","placeholder","loading","srcString","config","unoptimized","loader","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","onLoad","onError"]);return h=d?"lazy":h,a.default.createElement(a.default.Fragment,null,a.default.createElement("img",Object.assign({},I,t,{width:i,height:n,decoding:"async","data-nimg":f?"fill":"1",className:u,loading:h,style:r({},c,l),ref:a.useCallback((e=>{e&&(M&&(e.src=e.src),e.complete&&g(e,m,p,v,S,A))}),[m,p,v,S,A,M]),onLoad:e=>{g(e.currentTarget,m,p,v,S,A)},onError:e=>{k(!0),"blur"===p&&A(!0),M&&M(e)}})))};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AmpStateContext=void 0;const r=(0,n(7022).Z)(n(959)).default.createContext({});t.AmpStateContext=r},8388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInAmpMode=function({ampFirst:e=!1,hybrid:t=!1,hasQuery:n=!1}={}){return e||t&&n}},4158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeadManagerContext=void 0;const r=(0,n(7022).Z)(n(959)).default.createContext({});t.HeadManagerContext=r},8891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHead=l,t.default=void 0;var r=n(5955).Z,i=n(7022).Z,o=(0,n(8889).Z)(n(959)),s=i(n(8106)),a=n(9888),u=n(4158),c=n(8388);function l(e=!1){const t=[o.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(o.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce(((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t)),[])):e.concat(t)}n(3615);const f=["name","httpEquiv","charSet","itemProp"];function p(e,t){const{inAmpMode:n}=t;return e.reduce(d,[]).reverse().concat(l(n).reverse()).filter(function(){const e=new Set,t=new Set,n=new Set,r={};return i=>{let o=!0,s=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){s=!0;const t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?o=!1:t.add(i.type);break;case"meta":for(let e=0,t=f.length;e<t;e++){const t=f[e];if(i.props.hasOwnProperty(t))if("charSet"===t)n.has(t)?o=!1:n.add(t);else{const e=i.props[t],n=r[t]||new Set;"name"===t&&s||!n.has(e)?(n.add(e),r[t]=n):o=!1}}}return o}}()).reverse().map(((e,t)=>{const i=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!n&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((t=>e.props.href.startsWith(t)))){const t=r({},e.props||{});return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,o.default.cloneElement(e,t)}return o.default.cloneElement(e,{key:i})}))}t.default=function({children:e}){const t=o.useContext(a.AmpStateContext),n=o.useContext(u.HeadManagerContext);return o.default.createElement(s.default,{reduceComponentsToState:p,headManager:n,inAmpMode:c.isInAmpMode(t)},e)},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1038:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageBlurSvg=function({widthInt:e,heightInt:t,blurWidth:n,blurHeight:r,blurDataURL:i}){const o=n&&r?"1":"20",s=n||e,a=r||t,u=i.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return s&&a?`%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 ${s} ${a}'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='${o}'/%3E${u}%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='${i}'/%3E%3C/svg%3E`:`%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' x='0' y='0' height='100%25' width='100%25' href='${i}'/%3E%3C/svg%3E`}},8721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageConfigContext=void 0;var r=(0,n(7022).Z)(n(959)),i=n(9850);const o=r.default.createContext(i.imageConfigDefault);t.ImageConfigContext=o},9850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageConfigDefault=t.VALID_LOADERS=void 0,t.VALID_LOADERS=["default","imgix","cloudinary","akamai","custom"];t.imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",remotePatterns:[],unoptimized:!1}},8047:(e,t)=>{"use strict";function n({config:e,src:t,width:n,quality:r}){return t.endsWith(".svg")&&!e.dangerouslyAllowSVG?t:`${e.path}?url=${encodeURIComponent(t)}&w=${n}&q=${r||75}`}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n.__next_img_default=!0;var r=n;t.default=r},8106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{headManager:t,reduceComponentsToState:n}=e;function a(){if(t&&t.mountedInstances){const i=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(i,e))}}var u;i&&(null==t||null==(u=t.mountedInstances)||u.add(e.children),a());return o((()=>{var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),()=>{var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}})),o((()=>(t&&(t._pendingUpdate=a),()=>{t&&(t._pendingUpdate=a)}))),s((()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)}))),null};var r=(0,n(8889).Z)(n(959));const i="undefined"==typeof window,o=i?()=>{}:r.useLayoutEffect,s=i?()=>{}:r.useEffect},3615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.execOnce=function(e){let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)},t.getLocationOrigin=o,t.getURL=function(){const{href:e}=window.location,t=o();return e.substring(t.length)},t.getDisplayName=s,t.isResSent=a,t.normalizeRepeatedSlashes=function(e){const t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")},t.loadGetInitialProps=u,t.ST=t.SP=t.warnOnce=t.isAbsoluteUrl=t.WEB_VITALS=void 0;var r=n(7156).Z;t.WEB_VITALS=["CLS","FCP","FID","INP","LCP","TTFB"];const i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/;function o(){const{protocol:e,hostname:t,port:n}=window.location;return`${e}//${t}${n?":"+n:""}`}function s(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function a(e){return e.finished||e.headersSent}function u(e,t){return c.apply(this,arguments)}function c(){return(c=r((function*(e,t){const n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:yield u(t.Component,t.ctx)}:{};const r=yield e.getInitialProps(t);if(n&&a(n))return r;if(!r){const t=`"${s(e)}.getInitialProps()" should resolve to an object. But found "${r}" instead.`;throw new Error(t)}return r}))).apply(this,arguments)}t.isAbsoluteUrl=e=>i.test(e);const l="undefined"!=typeof performance;t.SP=l;const d=l&&["mark","measure","getEntriesByName"].every((e=>"function"==typeof performance[e]));t.ST=d;class f extends Error{}t.DecodeError=f;class p extends Error{}t.NormalizeError=p;class h extends Error{constructor(e){super(),this.code="ENOENT",this.message=`Cannot find module for page: ${e}`}}t.PageNotFoundError=h;class m extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}t.MissingStaticPage=m;class g extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}t.MiddlewareNotFoundError=g,t.warnOnce=e=>{}},3943:(e,t,n)=>{e.exports=n(6630)},5628:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},2373:(e,t,n)=>{"use strict";var r=n(6164),i=n(2755),o=n(5628),s=n(8075),a=n(9322),u=i(s(),Object);r(u,{getPolyfill:s,implementation:o,shim:a}),e.exports=u},8075:(e,t,n)=>{"use strict";var r=n(5628);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},9322:(e,t,n)=>{"use strict";var r=n(8075),i=n(6164);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},9121:(e,t,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(999),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=s(e),a=t&&"[object String]"===o.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(a&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)f.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var y in e)h&&"prototype"===y||!i.call(e,y)||f.push(String(y));if(u)for(var b=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),w=0;w<l.length;++w)b&&"constructor"===l[w]||!i.call(e,l[w])||f.push(l[w]);return f}}e.exports=r},2051:(e,t,n)=>{"use strict";var r=Array.prototype.slice,i=n(999),o=Object.keys,s=o?function(e){return o(e)}:n(9121),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?a(r.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},999:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},6267:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},2005:(e,t,n)=>{"use strict";var r=n(4224);function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):i=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var s={resolve:function(){for(var e,t="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(void 0===e&&(e=r.cwd()),a=e),i(a),0!==a.length&&(t=a+"/"+t,n=47===a.charCodeAt(0))}return t=o(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=o(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];i(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":s.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t)return"";if((e=s.resolve(e))===(t=s.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,o=r-n,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var u=t.length-a,c=o<u?o:u,l=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(47===t.charCodeAt(a+d))return t.slice(a+d+1);if(0===d)return t.slice(a+d)}else o>c&&(47===e.charCodeAt(n+d)?l=d:0===d&&(l=0));break}var f=e.charCodeAt(n+d);if(f!==t.charCodeAt(a+d))break;47===f&&(l=d)}var p="";for(d=n+l+1;d<=r;++d)d!==r&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(a+l):(a+=l,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');i(e);var n,r=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,u=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!s){r=n+1;break}}else-1===u&&(s=!1,u=n+1),a>=0&&(c===t.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=u))}return r===o?o=u:-1===o&&(o=e.length),e.slice(r,o)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!s){r=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":e.slice(r,o)},extname:function(e){i(e);for(var t=-1,n=0,r=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===r&&(o=!1,r=a+1),46===u?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===s||1===s&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){i(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=e.charCodeAt(0),o=47===r;o?(t.root="/",n=1):n=0;for(var s=-1,a=0,u=-1,c=!0,l=e.length-1,d=0;l>=n;--l)if(47!==(r=e.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===r?-1===s?s=l:1!==d&&(d=1):-1!==s&&(d=-1);else if(!c){a=l+1;break}return-1===s||-1===u||0===d||1===d&&s===u-1&&s===a+1?-1!==u&&(t.base=t.name=0===a&&o?e.slice(1,u):e.slice(a,u)):(0===a&&o?(t.name=e.slice(1,s),t.base=e.slice(1,u)):(t.name=e.slice(a,s),t.base=e.slice(a,u)),t.ext=e.slice(s,u)),a>0?t.dir=e.slice(0,a-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,e.exports=s},4224:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,u=[],c=!1,l=-1;function d(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},4449:(e,t,n)=>{"use strict";var r=n(6693),i=n(6157),o=Object.prototype.hasOwnProperty;function s(e){return e&&"EPROMISERETRY"===e.code&&o.call(e,"retried")}e.exports=function(e,t){var n,o;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),o=i.operation(t),new Promise((function(t,n){o.attempt((function(i){Promise.resolve().then((function(){return e((function(e){throw s(e)&&(e=e.retried),r(new Error("Retrying"),"EPROMISERETRY",{retried:e})}),i)})).then(t,(function(e){s(e)&&(e=e.retried,o.retry(e||new Error))||n(e)}))}))}))}},3746:(e,t,n)=>{"use strict";var r=n(959),i=n(2962);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),A=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var C=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var N,D=Object.assign;function F(e){if(void 0===N)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var K=!1;function U(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var u="\n"+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=a);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function W(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case A:return"Portal";case M:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return z(e(t))}catch(e){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){Z(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,ke=null,_e=null;function Me(e){if(e=wi(e)){if("function"!=typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),Ae(e.stateNode,e.type,t))}}function Ie(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Ee(){if(ke){var e=ke,t=_e;if(_e=ke=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Pe(e,t){return e(t)}function Te(){}var Oe=!1;function xe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Pe(e,t,n)}finally{Oe=!1,(null!==ke||null!==_e)&&(Te(),Ee())}}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(l)try{var Ce={};Object.defineProperty(Ce,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ce,Ce),window.removeEventListener("test",Ce,Ce)}catch(le){Le=!1}function Re(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ne=!1,De=null,Fe=!1,Ke=null,Ue={onError:function(e){Ne=!0,De=e}};function We(e,t,n,r,i,o,s,a,u){Ne=!1,De=null,Re.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ze=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,st=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(at(e)/ut|0)|0},at=Math.log,ut=Math.LN2,ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!=(o&=s)&&(r=dt(o))}else 0!=(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0==(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function vt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var St,At,kt,_t,Mt,It=!1,Et=[],Pt=null,Tt=null,Ot=null,xt=new Map,Bt=new Map,Lt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=wi(t))&&At(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=bi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void Mt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Kt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){It=!1,null!==Pt&&Ft(Pt)&&(Pt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ot&&Ft(Ot)&&(Ot=null),xt.forEach(Kt),Bt.forEach(Kt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Wt(t,e)}if(0<Et.length){Wt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Wt(Pt,e),null!==Tt&&Wt(Tt,e),null!==Ot&&Wt(Ot,e),xt.forEach(t),Bt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Lt.shift()}var jt=v.ReactCurrentBatchConfig,qt=!0;function Vt(e,t,n,r){var i=wt,o=jt.transition;jt.transition=null;try{wt=1,Qt(e,t,n,r)}finally{wt=i,jt.transition=o}}function Ht(e,t,n,r){var i=wt,o=jt.transition;jt.transition=null;try{wt=4,Qt(e,t,n,r)}finally{wt=i,jt.transition=o}}function Qt(e,t,n,r){if(qt){var i=Xt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=Nt(Pt,e,t,n,r,i),!0;case"dragenter":return Tt=Nt(Tt,e,t,n,r,i),!0;case"mouseover":return Ot=Nt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xt.set(o,Nt(xt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bt.set(o,Nt(Bt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ct.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&St(o),null===(o=Xt(e,t,n,r))&&qr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Xt(e,t,n,r){if(Gt=null,null!==(e=bi(e=Se(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),dn=D({},cn,{view:0,detail:0}),fn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,an=e.screenY-un.screenY):an=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=on(pn),mn=on(D({},pn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),yn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(bn),vn=on(D({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Mn(){return _n}var In=D({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(In),Pn=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),On=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=on(xn),Ln=[9,13,27,32],Cn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Nn=l&&"TextEvent"in window&&!Rn,Dn=l&&(!Cn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Kn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function Gn(e){Fr(e,0)}function Xn(e){if(Q(vi(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(l){var $n;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}$n=Jn}else $n=!1;Zn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Qn=Hn=null)}function nr(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];Vn(t,Qn,e,Se(e)),xe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function or(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var s=lr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,wr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||(r="selectionStart"in(r=gr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ur(br,r)||(br=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},kr={},_r={};function Mr(e){if(kr[e])return kr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return kr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Ir=Mr("animationend"),Er=Mr("animationiteration"),Pr=Mr("animationstart"),Tr=Mr("transitionend"),Or=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Or.set(e,t),u(t,[e])}for(var Lr=0;Lr<xr.length;Lr++){var Cr=xr[Lr];Br(Cr.toLowerCase(),"on"+(Cr[0].toUpperCase()+Cr.slice(1)))}Br(Ir,"onAnimationEnd"),Br(Er,"onAnimationIteration"),Br(Pr,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,u,c){if(We.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var l=De;Ne=!1,De=null,Fe||(Fe=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Dr(i,a,c),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Dr(i,a,c),o=u}}}if(Fe)throw e=Ke,Fe=!1,Ke=null,e}function Kr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Wr]){e[Wr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Ur("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Yt(t)){case 1:var i=Vt;break;case 4:i=Ht;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=bi(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}xe((function(){var r=o,i=Se(n),s=[];e:{var a=Or.get(e);if(void 0!==a){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Ir:case Er:case Pr:u=yn;break;case Tr:u=On;break;case"scroll":u=fn;break;case"wheel":u=Bn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!=(4&t),d=!l&&"scroll"===e,f=l?null!==a?a+"Capture":null:a;l=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&null!=(m=Be(h,f))&&l.push(Vr(h,m,p))),d)break;h=h.return}0<l.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[hi])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?a:vi(u),p=null==c?a:vi(c),(a=new l(m,h+"leave",u,n,i)).target=d,a.relatedTarget=p,m=null,bi(i)===r&&((l=new l(f,h+"enter",c,n,i)).target=p,l.relatedTarget=d,m=l),d=m,u&&c)e:{for(f=c,h=0,p=l=u;p;p=Qr(p))h++;for(p=0,m=f;m;m=Qr(m))p++;for(;0<h-p;)l=Qr(l),h--;for(;0<p-h;)f=Qr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Qr(l),f=Qr(f)}l=null}else l=null;null!==u&&Gr(s,a,u,l,!1),null!==c&&null!==d&&Gr(s,d,c,l,!0)}if("select"===(u=(a=r?vi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Yn;else if(qn(a))if(Zn)g=sr;else{g=ir;var y=rr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?vi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,vr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":vr(s,n,i)}var b;if(Cn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Dn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(b=en()):($t="value"in(Zt=i)?Zt.value:Zt.textContent,zn=!0)),0<(y=Hr(r,w)).length&&(w=new vn(w,e,null,n,i),s.push({event:w,listeners:y}),(b||null!==(b=Wn(n)))&&(w.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Kn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Kn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Cn&&Un(e,t)?(e=en(),Jt=$t=Zt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=b)}Fr(s,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Be(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(u=Be(n,o))&&s.unshift(Vr(n,u,a)):i||null!=(u=Be(n,o))&&s.push(Vr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,si="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function bi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[pi]||null}var Ai=[],ki=-1;function _i(e){return{current:e}}function Mi(e){0>ki||(e.current=Ai[ki],Ai[ki]=null,ki--)}function Ii(e,t){ki++,Ai[ki]=e.current,e.current=t}var Ei={},Pi=_i(Ei),Ti=_i(!1),Oi=Ei;function xi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bi(e){return null!=e.childContextTypes}function Li(){Mi(Ti),Mi(Pi)}function Ci(e,t,n){if(Pi.current!==Ei)throw Error(o(168));Ii(Pi,t),Ii(Ti,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,j(e)||"Unknown",i));return D({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Oi=Pi.current,Ii(Pi,e),Ii(Ti,Ti.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Mi(Ti),Mi(Pi),Ii(Pi,e)):Mi(Ti),Ii(Ti,n)}var Fi=null,Ki=!1,Ui=!1;function Wi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ki=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe(Je,zi),t}finally{wt=t,Ui=!1}}return null}var ji=[],qi=0,Vi=null,Hi=0,Qi=[],Gi=0,Xi=null,Yi=1,Zi="";function $i(e,t){ji[qi++]=Hi,ji[qi++]=Vi,Vi=e,Hi=t}function Ji(e,t,n){Qi[Gi++]=Yi,Qi[Gi++]=Zi,Qi[Gi++]=Xi,Xi=e;var r=Yi;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Zi=o+e}else Yi=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function to(e){for(;e===Vi;)Vi=ji[--qi],ji[qi]=null,Hi=ji[--qi],ji[qi]=null;for(;e===Xi;)Xi=Qi[--Gi],Qi[Gi]=null,Zi=Qi[--Gi],Qi[Gi]=null,Yi=Qi[--Gi],Qi[Gi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=xc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=xc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function ho(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=v.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bo=_i(null),wo=null,vo=null,So=null;function Ao(){So=vo=wo=null}function ko(e){var t=bo.current;Mi(bo),e._currentValue=t}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mo(e,t){wo=e,So=vo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(va=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===vo){if(null===wo)throw Error(o(308));vo=e,wo.dependencies={lanes:0,firstContext:e}}else vo=vo.next=e;return t}var Eo=null;function Po(e){null===Eo?Eo=[e]:Eo.push(e)}function To(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var xo=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function No(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;xo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var l=e.alternate;null!==l&&(a=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===a?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=u)}if(null!==o){var d=i.baseState;for(s=0,l=c=u=null,a=o;;){var f=a.lane,p=a.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(f=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=m.payload)?h.call(p,d,f):h))break e;d=D({},d,f);break e;case 2:xo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(c=l=p,u=d):l=l.next=p,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Nu|=s,e.lanes=s,e.memoizedState=d}}function Ko(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Wo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Co(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(nc(t,e,i,r),No(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Co(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(nc(t,e,i,r),No(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Co(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ro(e,i,r))&&(nc(t,e,r,n),No(t,e,r))}};function jo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function qo(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"==typeof o&&null!==o?o=Io(o):(i=Bi(t)?Oi:Pi.current,o=(r=null!=(r=t.contextTypes))?xi(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Bo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Io(o):(o=Bi(t)?Oi:Pi.current,i.context=xi(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Wo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Qo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===B&&Xo(o)===t.type)?((r=i(t,n.props)).ref=Qo(e,t,n),r.return=e,r):((r=Cc(n.type,n.key,n.props,null,e.mode,r)).ref=Qo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Cc(t.type,t.key,t.props,null,e.mode,n)).ref=Qo(e,null,t),n.return=e,n;case A:return(t=Fc(t,e.mode,n)).return=e,t;case B:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?c(e,t,n,r):null;case A:return n.key===i?l(e,t,n,r):null;case B:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);Go(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case B:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function m(i,o,a,u){for(var c=null,l=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(i,d,a[m],u);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=s(y,o,m),null===l?c=y:l.sibling=y,l=y,d=g}if(m===a.length)return n(i,d),io&&$i(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=f(i,a[m],u))&&(o=s(d,o,m),null===l?c=d:l.sibling=d,l=d);return io&&$i(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=h(d,i,m,a[m],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===l?c=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(i,e)})),io&&$i(i,m),c}function g(i,a,u,c){var l=R(u);if("function"!=typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,m=a,g=a=0,y=null,b=u.next();null!==m&&!b.done;g++,b=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=p(i,m,b.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===d?l=w:d.sibling=w,d=w,m=y}if(b.done)return n(i,m),io&&$i(i,g),l;if(null===m){for(;!b.done;g++,b=u.next())null!==(b=f(i,b.value,c))&&(a=s(b,a,g),null===d?l=b:d.sibling=b,d=b);return io&&$i(i,g),l}for(m=r(i,m);!b.done;g++,b=u.next())null!==(b=h(m,i,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),a=s(b,a,g),null===d?l=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(i,e)})),io&&$i(i,g),l}return function e(r,o,s,u){if("object"==typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case S:e:{for(var c=s.key,l=o;null!==l;){if(l.key===c){if((c=s.type)===k){if(7===l.tag){n(r,l.sibling),(o=i(l,s.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===B&&Xo(c)===l.type){n(r,l.sibling),(o=i(l,s.props)).ref=Qo(r,l,s),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===k?((o=Rc(s.props.children,r.mode,u,s.key)).return=r,r=o):((u=Cc(s.type,s.key,s.props,null,r.mode,u)).ref=Qo(r,o,s),u.return=r,r=u)}return a(r);case A:e:{for(l=s.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,u)).return=r,r=o}return a(r);case B:return e(r,o,(l=s._init)(s._payload),u)}if(te(s))return m(r,o,s,u);if(R(s))return g(r,o,s,u);Go(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Dc(s,r.mode,u)).return=r,r=o),a(r)):n(r,o)}}var Zo=Yo(!0),$o=Yo(!1),Jo={},es=_i(Jo),ts=_i(Jo),ns=_i(Jo);function rs(e){if(e===Jo)throw Error(o(174));return e}function is(e,t){switch(Ii(ns,t),Ii(ts,e),Ii(es,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mi(es),Ii(es,t)}function os(){Mi(es),Mi(ts),Mi(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ue(t,e.type);t!==n&&(Ii(ts,e),Ii(es,n))}function as(e){ts.current===e&&(Mi(es),Mi(ts))}var us=_i(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function ds(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var fs=v.ReactCurrentDispatcher,ps=v.ReactCurrentBatchConfig,hs=0,ms=null,gs=null,ys=null,bs=!1,ws=!1,vs=0,Ss=0;function As(){throw Error(o(321))}function ks(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function _s(e,t,n,r,i,s){if(hs=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=null===e||null===e.memoizedState?aa:ua,e=n(r,i),ws){s=0;do{if(ws=!1,vs=0,25<=s)throw Error(o(301));s+=1,ys=gs=null,t.updateQueue=null,fs.current=ca,e=n(r,i)}while(ws)}if(fs.current=sa,t=null!==gs&&null!==gs.next,hs=0,ys=gs=ms=null,bs=!1,t)throw Error(o(300));return e}function Ms(){var e=0!==vs;return vs=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function Es(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function Ps(e,t){return"function"==typeof t?t(e):t}function Ts(e){var t=Es(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var u=a=null,c=null,l=s;do{var d=l.lane;if((hs&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,a=r):c=c.next=f,ms.lanes|=d,Nu|=d}l=l.next}while(null!==l&&l!==s);null===c?a=r:c.next=u,ar(r,t.memoizedState)||(va=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Nu|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Os(e){var t=Es(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(va=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function Bs(e,t){var n=ms,r=Es(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,va=!0),r=r.queue,qs(Rs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,Ks(9,Cs.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(o(349));0!=(30&hs)||Ls(n,t,i)}return i}function Ls(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Ns(t)&&Ds(e)}function Rs(e,t,n){return n((function(){Ns(t)&&Ds(e)}))}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function Ds(e){var t=Oo(e,1);null!==t&&nc(t,e,1,-1)}function Fs(e){var t=Is();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return Es().memoizedState}function Ws(e,t,n,r){var i=Is();ms.flags|=e,i.memoizedState=Ks(1|t,n,void 0,void 0===r?null:r)}function zs(e,t,n,r){var i=Es();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&ks(r,s.deps))return void(i.memoizedState=Ks(t,n,o,r))}ms.flags|=e,i.memoizedState=Ks(1|t,n,o,r)}function js(e,t){return Ws(8390656,8,e,t)}function qs(e,t){return zs(2048,8,e,t)}function Vs(e,t){return zs(4,2,e,t)}function Hs(e,t){return zs(4,4,e,t)}function Qs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!=n?n.concat([e]):null,zs(4,4,Qs.bind(null,t,e),n)}function Xs(){}function Ys(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $s(e,t,n){return 0==(21&hs)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Nu|=n,e.baseState=!0),t)}function Js(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{wt=n,ps.transition=r}}function ea(){return Es().memoizedState}function ta(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e)?ia(t,n):null!==(n=To(e,t,n,r))&&(nc(n,e,r,ec()),oa(n,t,r))}function na(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var u=t.interleaved;return null===u?(i.next=i,Po(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=To(e,t,i,r))&&(nc(n,e,r,i=ec()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){ws=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var sa={readContext:Io,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useInsertionEffect:As,useLayoutEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useMutableSource:As,useSyncExternalStore:As,useId:As,unstable_isNewReconciler:!1},aa={readContext:Io,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ws(4194308,4,Qs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var n=Is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:Fs,useDebugValue:Xs,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=Fs(!1),t=e[0];return e=Js.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Is();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tu)throw Error(o(349));0!=(30&hs)||Ls(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,js(Rs.bind(null,r,s,e),[e]),r.flags|=2048,Ks(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Is(),t=Tu.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=vs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ss++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:Io,useCallback:Ys,useContext:Io,useEffect:qs,useImperativeHandle:Gs,useInsertionEffect:Vs,useLayoutEffect:Hs,useMemo:Zs,useReducer:Ts,useRef:Us,useState:function(){return Ts(Ps)},useDebugValue:Xs,useDeferredValue:function(e){return $s(Es(),gs.memoizedState,e)},useTransition:function(){return[Ts(Ps)[0],Es().memoizedState]},useMutableSource:xs,useSyncExternalStore:Bs,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Io,useCallback:Ys,useContext:Io,useEffect:qs,useImperativeHandle:Gs,useInsertionEffect:Vs,useLayoutEffect:Hs,useMemo:Zs,useReducer:Os,useRef:Us,useState:function(){return Os(Ps)},useDebugValue:Xs,useDeferredValue:function(e){var t=Es();return null===gs?t.memoizedState=e:$s(t,gs.memoizedState,e)},useTransition:function(){return[Os(Ps)[0],Es().memoizedState]},useMutableSource:xs,useSyncExternalStore:Bs,useId:ea,unstable_isNewReconciler:!1};function la(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var pa="function"==typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Vu=r),fa(0,t)},n}function ma(e,t,n){(n=Co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fa(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){fa(0,t),"function"!=typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Mc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Co(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=v.ReactCurrentOwner,va=!1;function Sa(e,t,n,r){t.child=null===e?$o(t,null,n,r):Zo(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var o=t.ref;return Mo(t,i),r=_s(e,t,n,r,o,i),n=Ms(),null===e||va?(io&&n&&eo(t),t.flags|=1,Sa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Bc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Cc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_a(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function _a(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(va=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!=(131072&e.flags)&&(va=!0)}}return Ea(e,t,n,r,i)}function Ma(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Lu,Bu),Bu|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Lu,Bu),Bu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Lu,Bu),Bu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Lu,Bu),Bu|=r;return Sa(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var o=Bi(n)?Oi:Pi.current;return o=xi(t,o),Mo(t,i),n=_s(e,t,n,r,o,i),r=Ms(),null===e||va?(io&&r&&eo(t),t.flags|=1,Sa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Pa(e,t,n,r,i){if(Bi(n)){var o=!0;Ni(t)}else o=!1;if(Mo(t,i),null===t.stateNode)ja(e,t),qo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;c="object"==typeof c&&null!==c?Io(c):xi(t,c=Bi(n)?Oi:Pi.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&Vo(t,s,r,c),xo=!1;var f=t.memoizedState;s.state=f,Fo(t,r,s,i),u=t.memoizedState,a!==r||f!==u||Ti.current||xo?("function"==typeof l&&(Wo(t,n,l,r),u=t.memoizedState),(a=xo||jo(t,n,a,r,f,u,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Lo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yo(t.type,a),s.props=c,d=t.pendingProps,f=s.context,u="object"==typeof(u=n.contextType)&&null!==u?Io(u):xi(t,u=Bi(n)?Oi:Pi.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||f!==u)&&Vo(t,s,r,u),xo=!1,f=t.memoizedState,s.state=f,Fo(t,r,s,i);var h=t.memoizedState;a!==d||f!==h||Ti.current||xo?("function"==typeof p&&(Wo(t,n,p,r),h=t.memoizedState),(c=xo||jo(t,n,c,r,f,h,u)||!1)?(l||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=u,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,o,i)}function Ta(e,t,n,r,i,o){Ia(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&Di(t,n,!1),qa(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,a,o)):Sa(e,t,a,o),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Ci(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ci(0,t.context,!1),is(e,t.containerInfo)}function xa(e,t,n,r,i){return ho(),mo(i),t.flags|=256,Sa(e,t,n,r),t.child}var Ba,La,Ca,Ra={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,i=t.pendingProps,s=us.current,a=!1,u=0!=(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(us,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=u):a=Nc(u,i,0,null),e=Rc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Na(n),t.memoizedState=Ra,e):Fa(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ka(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Nc({mode:"visible",children:r.children},i,0,null),(s=Rc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&Zo(t,e.child,null,a),t.child.memoizedState=Na(a),t.memoizedState=Ra,s);if(0==(1&t.mode))return Ka(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ka(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(u=0!=(a&e.childLanes),va||u){if(null!==(r=Tu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),nc(r,e,i,-1))}return mc(),Ka(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Qi[Gi++]=Yi,Qi[Gi++]=Zi,Qi[Gi++]=Xi,Yi=e.id,Zi=e.overflow,Xi=t),(t=Fa(t,r.children)).flags|=4096,t)}(e,t,u,i,r,s,n);if(a){a=i.fallback,u=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0==(1&u)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lc(r,a):(a=Rc(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=null===(u=e.child.memoizedState)?Na(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Nc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ka(e,t,n,r){return null!==r&&mo(r),Zo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function Wa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Sa(e,t,r.children,n),0!=(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(us,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,o);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nu|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Va(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Bi(t.type)&&Li(),Ha(t),null;case 3:return r=t.stateNode,os(),Mi(Ti),Mi(Pi),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ha(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ha(t),null}if(e=rs(es.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fi]=t,r[pi]=s,e=0!=(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Kr(Rr[i],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":Y(r,s),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kr("invalid",r);break;case"textarea":ie(r,s),Kr("invalid",r)}for(var u in be(n,s),i=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"==typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Kr("scroll",r)}switch(n){case"input":H(r),J(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[pi]=r,Ba(e,t),t.stateNode=e;e:{switch(u=we(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),i=r;break;case"iframe":case"object":case"embed":Kr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Kr(Rr[i],e);i=r;break;case"source":Kr("error",e),i=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),i=r;break;case"details":Kr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Kr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Kr("invalid",e)}for(s in be(n,i),c=i)if(c.hasOwnProperty(s)){var l=c[s];"style"===s?ge(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"==typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Kr("scroll",e):null!=l&&w(e,s,l,u))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Ca(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!=(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ha(t),null;case 13:if(Mi(us),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))po(),ho(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=t}else ho(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&us.current)?0===Cu&&(Cu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return os(),null===e&&zr(t.stateNode.containerInfo),Ha(t),null;case 10:return ko(t.type._context),Ha(t),null;case 19:if(Mi(us),null===(s=t.memoizedState))return Ha(t),null;if(r=0!=(128&t.flags),null===(u=s.rendering))if(r)Va(s,!1);else{if(0!==Cu||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=cs(e))){for(t.flags|=128,Va(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(us,1&us.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>zu&&(t.flags|=128,r=!0,Va(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Va(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!io)return Ha(t),null}else 2*Ze()-s.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Va(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=us.current,Ii(us,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Bu)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ga(e,t){switch(to(t),t.tag){case 1:return Bi(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Mi(Ti),Mi(Pi),ds(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Mi(us),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mi(us),null;case 4:return os(),null;case 10:return ko(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ba=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=X(e,i),r=X(e,r),s=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(l in be(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(l,c)):"children"===l?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Kr("scroll",e),s||u===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Ca=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,Za="function"==typeof WeakSet?WeakSet:Set,$a=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){_c(e,t,n)}else n.current=null}function eu(e,t,n){try{n()}catch(n){_c(e,t,n)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[mi],delete t[gi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function au(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ya||Ja(n,t);case 6:var r=lu,i=du;lu=null,fu(e,t,n),du=i,null!==(lu=r)&&(du?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(du?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=du,lu=n.stateNode.containerInfo,du=!0,fu(e,t,n),lu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Ya&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)||0!=(4&o))&&eu(n,t,s),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Ya&&(Ja(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){_c(n,t,e)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,fu(e,t,n),Ya=r):fu(e,t,n);break;default:fu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,u=a;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,du=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===lu)throw Error(o(160));pu(s,a,i),lu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){_c(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(t){_c(e,e.return,t)}try{nu(5,e,e.return)}catch(t){_c(e,e.return,t)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&Ja(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&Ja(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(t){_c(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===s.type&&null!=s.name&&Z(i,s),we(u,a);var l=we(u,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):w(i,d,f,l)}switch(u){case"input":$(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(i,!!s.multiple,h,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(t){_c(e,e.return,t)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){_c(e,e.return,t)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(t){_c(e,e.return,t)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=Ze())),4&r&&hu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(l=Ya)||d,mu(t,e),Ya=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!=(1&e.mode))for($a=e,d=e.child;null!==d;){for(f=$a=d;null!==$a;){switch(h=(p=$a).child,p.tag){case 0:case 11:case 14:case 15:nu(4,p,p.return);break;case 1:Ja(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){_c(r,n,e)}}break;case 5:Ja(p,p.return);break;case 22:if(null!==p.memoizedState){Su(f);continue}}null!==h?(h.return=p,$a=h):Su(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=f.stateNode,a=null!=(c=f.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",a))}catch(t){_c(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(t){_c(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(t,e),yu(e),4&r&&hu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,au(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;uu(e,au(e),s);break;default:throw Error(o(161))}}catch(t){_c(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){$a=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!=(1&e.mode);null!==$a;){var i=$a,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,u=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=s,(Ya=u)&&!c)for($a=i;null!==$a;)u=(s=$a).child,22===s.tag&&null!==s.memoizedState?Au(i):null!==u?(u.return=s,$a=u):Au(i);for(;null!==o;)$a=o,wu(o,t,n),o=o.sibling;$a=i,Xa=a,Ya=c}vu(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,$a=o):vu(e)}}function vu(e){for(;null!==$a;){var t=$a;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ko(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ko(t,a,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&iu(t)}catch(e){_c(t,t.return,e)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function Su(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function Au(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(e){_c(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){_c(t,i,e)}}var o=t.return;try{iu(t)}catch(e){_c(t,o,e)}break;case 5:var s=t.return;try{iu(t)}catch(e){_c(t,s,e)}}}catch(e){_c(t,t.return,e)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var ku,_u=Math.ceil,Mu=v.ReactCurrentDispatcher,Iu=v.ReactCurrentOwner,Eu=v.ReactCurrentBatchConfig,Pu=0,Tu=null,Ou=null,xu=0,Bu=0,Lu=_i(0),Cu=0,Ru=null,Nu=0,Du=0,Fu=0,Ku=null,Uu=null,Wu=0,zu=1/0,ju=null,qu=!1,Vu=null,Hu=null,Qu=!1,Gu=null,Xu=0,Yu=0,Zu=null,$u=-1,Ju=0;function ec(){return 0!=(6&Pu)?Ze():-1!==$u?$u:$u=Ze()}function tc(e){return 0==(1&e.mode)?1:0!=(2&Pu)&&0!==xu?xu&-xu:null!==go.transition?(0===Ju&&(Ju=mt()),Ju):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Zu=null,Error(o(185));yt(e,n,r),0!=(2&Pu)&&e===Tu||(e===Tu&&(0==(2&Pu)&&(Du|=n),4===Cu&&ac(e,xu)),rc(e,r),1===n&&0===Pu&&0==(1&t.mode)&&(zu=Ze()+500,Ki&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,u=i[s];-1===u?0!=(a&n)&&0==(a&r)||(i[s]=pt(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ft(e,e===Tu?xu:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ki=!0,Wi(e)}(uc.bind(null,e)):Wi(uc.bind(null,e)),si((function(){0==(6&Pu)&&zi()})),n=null;else{switch(vt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($u=-1,Ju=0,0!=(6&Pu))throw Error(o(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=ft(e,e===Tu?xu:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Pu;Pu|=2;var s=hc();for(Tu===e&&xu===t||(ju=null,zu=Ze()+500,fc(e,t));;)try{bc();break}catch(t){pc(e,t)}Ao(),Mu.current=s,Pu=i,null!==Ou?t=0:(Tu=null,xu=0,t=Cu)}if(0!==t){if(2===t&&0!==(i=ht(e))&&(r=i,t=oc(e,i)),1===t)throw n=Ru,fc(e,0),ac(e,r),rc(e,Ze()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&0!==(s=ht(e))&&(r=s,t=oc(e,s)),1===t))throw n=Ru,fc(e,0),ac(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Uu,ju);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Wu+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Uu,ju),t);break}Sc(e,Uu,ju);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Uu,ju),r);break}Sc(e,Uu,ju);break;default:throw Error(o(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ku;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function ac(e,t){for(t&=~Fu,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!=(6&Pu))throw Error(o(327));Ac();var t=ft(e,0);if(0==(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ru,fc(e,0),ac(e,t),rc(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Uu,ju),rc(e,Ze()),null}function cc(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(zu=Ze()+500,Ki&&zi())}}function lc(e){null!==Gu&&0===Gu.tag&&0==(6&Pu)&&Ac();var t=Pu;Pu|=1;var n=Eu.transition,r=wt;try{if(Eu.transition=null,wt=1,e)return e()}finally{wt=r,Eu.transition=n,0==(6&(Pu=t))&&zi()}}function dc(){Bu=Lu.current,Mi(Lu)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Li();break;case 3:os(),Mi(Ti),Mi(Pi),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Mi(us);break;case 10:ko(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tu=e,Ou=e=Lc(e.current,null),xu=Bu=t,Cu=0,Ru=null,Fu=Du=Nu=0,Uu=Ku=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(r=(n=Eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Eo=null}return e}function pc(e,t){for(;;){var n=Ou;try{if(Ao(),fs.current=sa,bs){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bs=!1}if(hs=0,ys=gs=ms=null,ws=!1,vs=0,Iu.current=null,null===n||null===n.return){Cu=1,Ru=t,Ou=null;break}e:{var s=e,a=n.return,u=n,c=t;if(t=xu,u.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c,d=u,f=d.tag;if(0==(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ya(a);if(null!==h){h.flags&=-257,ba(h,a,u,0,t),1&h.mode&&ga(s,l,t),c=l;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0==(1&t)){ga(s,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var y=ya(a);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),ba(y,a,u,0,t),mo(la(c,u));break e}}s=c=la(c,u),4!==Cu&&(Cu=2),null===Ku?Ku=[s]:Ku.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Do(s,ha(0,c,t));break e;case 1:u=c;var b=s.type,w=s.stateNode;if(0==(128&s.flags)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Hu||!Hu.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Do(s,ma(s,u,t));break e}}s=s.return}while(null!==s)}vc(n)}catch(e){t=e,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function hc(){var e=Mu.current;return Mu.current=sa,null===e?sa:e}function mc(){0!==Cu&&3!==Cu&&2!==Cu||(Cu=4),null===Tu||0==(268435455&Nu)&&0==(268435455&Du)||ac(Tu,xu)}function gc(e,t){var n=Pu;Pu|=2;var r=hc();for(Tu===e&&xu===t||(ju=null,fc(e,t));;)try{yc();break}catch(t){pc(e,t)}if(Ao(),Pu=n,Mu.current=r,null!==Ou)throw Error(o(261));return Tu=null,xu=0,Cu}function yc(){for(;null!==Ou;)wc(Ou)}function bc(){for(;null!==Ou&&!Xe();)wc(Ou)}function wc(e){var t=ku(e.alternate,e,Bu);e.memoizedProps=e.pendingProps,null===t?vc(e):Ou=t,Iu.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Qa(n,t,Bu)))return void(Ou=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Cu=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Cu&&(Cu=5)}function Sc(e,t,n){var r=wt,i=Eu.transition;try{Eu.transition=null,wt=1,function(e,t,n,r){do{Ac()}while(null!==Gu);if(0!=(6&Pu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Tu&&(Ou=Tu=null,xu=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Qu||(Qu=!0,Tc(tt,(function(){return Ac(),null}))),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=Eu.transition,Eu.transition=null;var a=wt;wt=1;var u=Pu;Pu|=4,Iu.current=null,function(e,t){if(ei=qt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,u=-1,c=-1,l=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(u=a+i),f!==s||0!==r&&3!==f.nodeType||(c=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++l===i&&(u=a),p===s&&++d===r&&(c=a),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(o(163))}}catch(e){_c(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=tu,tu=!1}(e,n),gu(n,e),hr(ti),qt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Ye(),Pu=u,wt=a,Eu.transition=s}else e.current=n;if(Qu&&(Qu=!1,Gu=e,Xu=i),0===(s=e.pendingLanes)&&(Hu=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=Vu,Vu=null,e;0!=(1&Xu)&&0!==e.tag&&Ac(),0!=(1&(s=e.pendingLanes))?e===Zu?Yu++:(Yu=0,Zu=e):Yu=0,zi()}(e,t,n,r)}finally{Eu.transition=i,wt=r}return null}function Ac(){if(null!==Gu){var e=vt(Xu),t=Eu.transition,n=wt;try{if(Eu.transition=null,wt=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,Xu=0,0!=(6&Pu))throw Error(o(331));var i=Pu;for(Pu|=4,$a=e.current;null!==$a;){var s=$a,a=s.child;if(0!=(16&$a.flags)){var u=s.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($a=l;null!==$a;){var d=$a;switch(d.tag){case 0:case 11:case 15:nu(8,d,s)}var f=d.child;if(null!==f)f.return=d,$a=f;else for(;null!==$a;){var p=(d=$a).sibling,h=d.return;if(ou(d),d===l){$a=null;break}if(null!==p){p.return=h,$a=p;break}$a=h}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$a=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,$a=a;else e:for(;null!==$a;){if(0!=(2048&(s=$a).flags))switch(s.tag){case 0:case 11:case 15:nu(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,$a=b;break e}$a=s.return}}var w=e.current;for($a=w;null!==$a;){var v=(a=$a).child;if(0!=(2064&a.subtreeFlags)&&null!==v)v.return=a,$a=v;else e:for(a=w;null!==$a;){if(0!=(2048&(u=$a).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(e){_c(u,u.return,e)}if(u===a){$a=null;break e}var S=u.sibling;if(null!==S){S.return=u.return,$a=S;break e}$a=u.return}}if(Pu=i,zi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{wt=n,Eu.transition=t}}return!1}function kc(e,t,n){e=Ro(e,t=ha(0,t=la(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Ro(t,e=ma(t,e=la(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Mc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(xu&n)===n&&(4===Cu||3===Cu&&(130023424&xu)===xu&&500>Ze()-Wu?fc(e,0):Fu|=n),rc(e,t)}function Ic(e,t){0===t&&(0==(1&e.mode)?t=1:(t=lt,0==(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Oo(e,t))&&(yt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Tc(e,t){return Qe(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xc(e,t,n,r){return new Oc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=xc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cc(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Bc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case k:return Rc(n.children,i,s,t);case _:a=8,i|=8;break;case M:return(e=xc(12,n,t,2|i)).elementType=M,e.lanes=s,e;case T:return(e=xc(13,n,t,i)).elementType=T,e.lanes=s,e;case O:return(e=xc(19,n,t,i)).elementType=O,e.lanes=s,e;case L:return Nc(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case E:a=9;break e;case P:a=11;break e;case x:a=14;break e;case B:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=xc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=xc(7,e,r,t)).lanes=n,e}function Nc(e,t,n,r){return(e=xc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=xc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=xc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,s,a,u){return e=new Kc(e,t,n,a,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=xc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(o),e}function Wc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ei;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Bi(n))return Ri(e,n,t)}return t}function jc(e,t,n,r,i,o,s,a,u){return(e=Uc(n,r,!0,e,0,o,0,a,u)).context=zc(null),n=e.current,(o=Co(r=ec(),i=tc(n))).callback=null!=t?t:null,Ro(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(i,t,s))&&(nc(e,i,s,o),No(e,i,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}ku=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)va=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return va=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),ho();break;case 5:ss(t);break;case 1:Bi(t.type)&&Ni(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(bo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(us,1&us.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Da(e,t,n):(Ii(us,1&us.current),null!==(e=qa(e,t,n))?e.sibling:null);Ii(us,1&us.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ma(e,t,n)}return qa(e,t,n)}(e,t,n);va=0!=(131072&e.flags)}else va=!1,io&&0!=(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ja(e,t),e=t.pendingProps;var i=xi(t,Pi.current);Mo(t,n),i=_s(null,t,r,e,i,n);var s=Ms();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(r)?(s=!0,Ni(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bo(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Sa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Bc(e)?1:0;if(null!=e){if((e=e.$$typeof)===P)return 11;if(e===x)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Pa(null,t,r,e,n);break e;case 11:t=Aa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Oa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Lo(e,t),Fo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=xa(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=xa(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=$o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=qa(e,t,n);break e}Sa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),Sa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Da(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zo(t,null,r,n):Sa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return Sa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Sa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(bo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ti.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Co(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),_o(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),_o(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Sa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Mo(t,n),r=r(i=Io(i)),t.flags|=1,Sa(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),ka(e,t,r,i=yo(r.type,i),n);case 15:return _a(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),ja(e,t),t.tag=1,Bi(r)?(e=!0,Ni(t)):e=!1,Mo(t,n),qo(t,r,i),Ho(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ma(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"==typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Vc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Vc(s);o.call(e)}}var s=jc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[hi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Vc(u);a.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[hi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Vc(s)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){qc(null,e,null,null)})),t[hi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Dt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ze()),0==(6&Pu)&&(zu=Ze()+500,zi()))}break;case 13:lc((function(){var t=Oo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Qc(e,1)}},At=function(e){if(13===e.tag){var t=Oo(e,134217728);null!==t&&nc(t,e,134217728,ec()),Qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Oo(e,t);null!==n&&nc(n,e,t,ec()),Qc(e,t)}},_t=function(){return wt},Mt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ae=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));Q(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=cc,Te=lc;var tl={usingClientEntryPoint:!1,Events:[wi,vi,Si,Ie,Ee,cc]},nl={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return Wc(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,i,0,s,a),e[hi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4478:(e,t,n)=>{"use strict";var r=n(422);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},422:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(3746)},1412:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(959)),i=e=>"checkbox"===e.type,o=e=>null==e;const s=e=>"object"==typeof e;var a=e=>!o(e)&&!Array.isArray(e)&&s(e)&&!(e instanceof Date),u=e=>e.substring(0,e.search(/.\d/))||e,c=(e,t)=>[...e].some((e=>u(t)===e)),l=e=>e.filter(Boolean),d=e=>void 0===e,f=(e,t,n)=>{if(a(e)&&t){const r=l(t.split(/[,[\].]+?/)).reduce(((e,t)=>o(e)?e:e[t]),e);return d(r)||r===e?d(e[t])?n:e[t]:r}};const p="blur",h="onChange",m="onSubmit",g="all",y="pattern",b="required";var w=(e,t)=>{const n=Object.assign({},e);return delete n[t],n};const v=r.createContext(null);v.displayName="RHFContext";const S=()=>r.useContext(v);var A=(e,t,n,r,i=!0)=>e?new Proxy(t,{get:(e,t)=>{if(t in e)return n.current[t]!==g&&(n.current[t]=!i||g),r&&(r.current[t]=!0),e[t]}}):t,k=e=>a(e)&&!Object.keys(e).length,_=(e,t,n)=>{const r=w(e,"name");return k(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((e=>t[e]===(!n||g)))},M=e=>Array.isArray(e)?e:[e],I="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;const E=I?"Proxy"in window:"undefined"!=typeof Proxy;function P(e){const{control:t,name:n}=e||{},i=S(),{formStateRef:o,subjectsRef:s,readFormStateRef:a}=t||i.control,u=r.useRef(n);u.current=n;const[c,l]=r.useState(o.current),d=r.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1});return r.useEffect((()=>{const e=s.current.state.subscribe({next:e=>(!u.current||!e.name||M(u.current).includes(e.name))&&_(e,d.current)&&l(Object.assign(Object.assign({},o.current),e))});return()=>e.unsubscribe()}),[]),A(E,c,a,d,!1)}function T({name:e,rules:t,defaultValue:n,control:o,shouldUnregister:s}){const u=S(),{defaultValuesRef:l,register:h,fieldsRef:m,unregister:g,namesRef:y,subjectsRef:b,shouldUnmount:w,inFieldArrayActionRef:v}=o||u.control,A=c(y.current.array,e),k=f(m.current,e),[_,M]=r.useState(!A&&k&&k._f?k._f.value:A||d(f(l.current,e))?n:f(l.current,e)),{onChange:I,onBlur:E,ref:T}=h(e,Object.assign(Object.assign({},t),{value:_})),O=P({control:o||u.control,name:e});return r.useEffect((()=>{const t=b.current.control.subscribe({next:t=>(!t.name||e===t.name)&&M(f(t.values,e))});return()=>{t.unsubscribe();const n=w||s;if(A?n&&!v.current:n)g(e);else{const t=f(m.current,e);t&&t._f&&(t._f.mount=!1)}}}),[e]),{field:{onChange:t=>{const n=(e=>a(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e)(t);M(n),I({target:{value:n,name:e},type:"change"})},onBlur:()=>{E({target:{name:e},type:p})},name:e,value:_,ref:e=>e&&T({focus:()=>e.focus&&e.focus()})},formState:O,fieldState:{invalid:!!f(O.errors,e),isDirty:!!f(O.dirtyFields,e),isTouched:!!f(O.touchedFields,e),error:f(O.errors,e)}}}var O=(e,t,n,r,i)=>t?Object.assign(Object.assign({},n[e]),{types:Object.assign(Object.assign({},n[e]&&n[e].types?n[e].types:{}),{[r]:i||!0})}):{},x=e=>/^\w*$/.test(e),B=e=>l(e.replace(/["|']|\]/g,"").split(/\.|\[/));function L(e,t,n){let r=-1;const i=x(t)?[t]:B(t),o=i.length,s=o-1;for(;++r<o;){const t=i[r];let o=n;if(r!==s){const n=e[t];o=a(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=o,e=e[t]}return e}const C=(e,t,n)=>{for(const r of n||Object.keys(e)){const n=f(e,r);if(n){const e=n._f,r=w(n,"_f");if(e&&t(e.name)){if(e.ref.focus&&d(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else a(r)&&C(r,t)}}},R=(e,t={})=>{for(const n in e.current){const r=e.current[n];if(r&&!o(t)){const e=r._f,i=w(r,"_f");L(t,n,e&&e.ref?e.ref.disabled||e.refs&&e.refs.every((e=>e.disabled))?void 0:e.value:Array.isArray(r)?[]:{}),i&&R({current:i},t[n])}}return t};var N=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},D=(e=[],t)=>e.map((e=>Object.assign({[t]:e&&e[t]||N()},e))),F=e=>o(e)||!s(e);function K(e,t,n){if(F(e)||F(t)||e instanceof Date||t instanceof Date)return e===t;if(!r.isValidElement(e)){const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const i of r){const r=e[i];if(!n||"ref"!==i){const e=t[i];if((a(r)||Array.isArray(r))&&(a(e)||Array.isArray(e))?!K(r,e,n):r!==e)return!1}}}return!0}function U(e,t,n,r,i){let o=-1;for(;++o<e.length;){for(const r in e[o])Array.isArray(e[o][r])?(!n[o]&&(n[o]={}),n[o][r]=[],U(e[o][r],f(t[o]||{},r,[]),n[o][r],n[o],r)):K(f(t[o]||{},r),e[o][r])?L(n[o]||{},r):n[o]=Object.assign(Object.assign({},n[o]),{[r]:!0});r&&!n.length&&delete r[i]}return n}var W=(e,t,n)=>function e(t,n){if(F(t)||F(n))return n;for(const r in n){const i=t[r],o=n[r];try{t[r]=a(i)&&a(o)||Array.isArray(i)&&Array.isArray(o)?e(i,o):o}catch(e){}}return t}(U(e,t,n.slice(0,e.length)),U(t,e,n.slice(0,e.length)));function z(e,t){return[...e,...M(t)]}var j=e=>Array.isArray(e)?Array(e.length).fill(void 0):void 0;function q(e,t,n){return[...e.slice(0,t),...M(n),...e.slice(t)]}var V=(e,t,n)=>Array.isArray(e)?(d(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[];function H(e,t){return[...M(t),...e]}var Q=(e,t)=>d(t)?[]:function(e,t){let n=0;const r=[...e];for(const e of t)r.splice(e-n,1),n++;return l(r).length?r:[]}(e,M(t).sort(((e,t)=>e-t))),G=(e,t,n)=>{e[t]=[e[n],e[n]=e[t]][0]},X=e=>"boolean"==typeof e;function Y(e,t){const n=x(t)?[t]:B(t),r=1==n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=d(e)?r++:e[t[r++]];return e}(e,n),i=n[n.length-1];let o;r&&delete r[i];for(let t=0;t<n.slice(0,-1).length;t++){let r,i=-1;const s=n.slice(0,-(t+1)),u=s.length-1;for(t>0&&(o=e);++i<s.length;){const t=s[i];r=r?r[t]:e[t],u===i&&(a(r)&&k(r)||Array.isArray(r)&&!r.filter((e=>a(e)&&!k(e)||X(e))).length)&&(o?delete o[t]:delete e[t]),o=r}}return e}var Z=e=>"file"===e.type,$=e=>"select-multiple"===e.type,J=e=>"radio"===e.type;const ee={value:!1,isValid:!1},te={value:!0,isValid:!0};var ne=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!d(e[0].attributes.value)?d(e[0].value)||""===e[0].value?te:{value:e[0].value,isValid:!0}:te:ee}return ee},re=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>d(e)?e:t?""===e?NaN:+e:n?new Date(e):r?r(e):e;const ie={isValid:!1,value:null};var oe=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),ie):ie;function se(e){if(e&&e._f){const n=e._f.ref;if(n.disabled)return;return Z(n)?n.files:J(n)?oe(e._f.refs).value:$(n)?(t=n.options,[...t].filter((({selected:e})=>e)).map((({value:e})=>e))):i(n)?ne(e._f.refs).value:re(d(n.value)?e._f.ref.value:n.value,e._f)}var t}var ae=(e,t,n)=>{const r={};for(const n of e){const e=f(t,n);e&&L(r,n,e._f)}return{criteriaMode:n,names:[...e],fields:r}},ue=e=>"function"==typeof e,ce=e=>"string"==typeof e,le=e=>ce(e)||r.isValidElement(e),de=e=>e instanceof RegExp;function fe(e,t,n="validate"){if(le(e)||Array.isArray(e)&&e.every(le)||X(e)&&!e)return{type:n,message:le(e)?e:"",ref:t}}var pe=e=>a(e)&&!de(e)?e:{value:e,message:""},he=async({_f:{ref:e,refs:t,required:n,maxLength:r,minLength:s,min:u,max:c,pattern:l,validate:d,name:f,value:p,valueAsNumber:h,mount:m}},g)=>{if(!m)return{};const w={},v=J(e),S=i(e),A=v||S,_=(h||Z(e))&&!e.value||""===p||Array.isArray(p)&&!p.length,M=O.bind(null,f,g,w),I=(t,n,r,i="maxLength",o="minLength")=>{const s=t?n:r;w[f]=Object.assign({type:t?i:o,message:s,ref:e},M(t?i:o,s))};if(n&&(!v&&!S&&(_||o(p))||X(p)&&!p||S&&!ne(t).isValid||v&&!oe(t).isValid)){const{value:r,message:i}=le(n)?{value:!!n,message:n}:pe(n);if(r&&(w[f]=Object.assign({type:b,message:i,ref:A?(t||[])[0]||{}:e},M(b,i)),!g))return w}if(!(o(u)&&o(c)||""===p)){let t,n;const r=pe(c),i=pe(u);if(isNaN(p)){const o=e.valueAsDate||new Date(p);ce(r.value)&&(t=o>new Date(r.value)),ce(i.value)&&(n=o<new Date(i.value))}else{const s=e.valueAsNumber||parseFloat(p);o(r.value)||(t=s>r.value),o(i.value)||(n=s<i.value)}if((t||n)&&(I(!!t,r.message,i.message,"max","min"),!g))return w}if(ce(p)&&!_&&(r||s)){const e=pe(r),t=pe(s),n=!o(e.value)&&p.length>e.value,i=!o(t.value)&&p.length<t.value;if((n||i)&&(I(n,e.message,t.message),!g))return w}if(ce(p)&&l&&!_){const{value:t,message:n}=pe(l);if(de(t)&&!p.match(t)&&(w[f]=Object.assign({type:y,message:n,ref:e},M(y,n)),!g))return w}if(d){const n=A&&t?t[0]:e;if(ue(d)){const e=fe(await d(p),n);if(e&&(w[f]=Object.assign(Object.assign({},e),M("validate",e.message)),!g))return w}else if(a(d)){let e={};for(const[t,r]of Object.entries(d)){if(!k(e)&&!g)break;const i=fe(await r(p),n,t);i&&(e=Object.assign(Object.assign({},i),M(t,i.message)),g&&(w[f]=e))}if(!k(e)&&(w[f]=Object.assign({ref:n},e),!g))return w}}return w},me=e=>({isOnSubmit:!e||e===m,isOnBlur:"onBlur"===e,isOnChange:e===h,isOnAll:e===g,isOnTouch:"onTouched"===e}),ge=e=>e instanceof HTMLElement;class ye{constructor(){this.tearDowns=[]}add(e){this.tearDowns.push(e)}unsubscribe(){for(const e of this.tearDowns)e();this.tearDowns=[]}}class be{constructor(e,t){this.observer=e,this.closed=!1,t.add((()=>this.closed=!0))}next(e){this.closed||this.observer.next(e)}}class we{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}subscribe(e){const t=new ye,n=new be(e,t);return this.observers.push(n),t}unsubscribe(){this.observers=[]}}const ve="undefined"==typeof window;t.Controller=e=>e.render(T(e)),t.FormProvider=e=>r.createElement(v.Provider,{value:w(e,"children")},e.children),t.appendErrors=O,t.get=f,t.set=L,t.useController=T,t.useFieldArray=({control:e,name:t,keyName:n="id",shouldUnregister:i})=>{const o=S(),s=r.useRef(""),a=r.useRef(!1),{getIsDirty:c,namesRef:d,fieldsRef:p,defaultValuesRef:h,formStateRef:m,subjectsRef:g,readFormStateRef:y,updateIsValid:b,fieldArrayDefaultValuesRef:v,unregister:A,shouldUnmount:k,inFieldArrayActionRef:_,register:I}=e||o.control,[E,P]=r.useState(D((f(p.current,t)&&a.current?f(R(p),t):f(v.current,u(t))?f(v.current,t):f(h.current,t))||[],n));L(v.current,t,[...E]),d.current.array.add(t);const T=e=>e.map(((e={})=>w(e,n))),O=()=>{const e=f(R(p),t,[]);return D(f(v.current,t,[]).map(((t,n)=>Object.assign(Object.assign({},t),e[n]))),n)},x=(e,n)=>n&&!n.shouldFocus?n.focusName||`${t}.${n.focusIndex}.`:`${t}.${e}.`,B=(e=[])=>P(D(e,n)),N=e=>!l(f(e,t,[])).length&&Y(e,t),K=(e,n,r=[],i=!0)=>{if(_.current=!0,f(p.current,t)){const r=e(f(p.current,t),n.argA,n.argB);i&&L(p.current,t,r)}if(Array.isArray(f(m.current.errors,t))){const r=e(f(m.current.errors,t),n.argA,n.argB);i&&L(m.current.errors,t,r),N(m.current.errors)}if(y.current.touchedFields&&f(m.current.touchedFields,t)){const r=e(f(m.current.touchedFields,t),n.argA,n.argB);i&&L(m.current.touchedFields,t,r),N(m.current.touchedFields)}(y.current.dirtyFields||y.current.isDirty)&&(L(m.current.dirtyFields,t,W(T(r),f(h.current,t,[]),f(m.current.dirtyFields,t,[]))),r&&L(m.current.dirtyFields,t,W(T(r),f(h.current,t,[]),f(m.current.dirtyFields,t,[]))),N(m.current.dirtyFields)),g.current.state.next({isDirty:c(t,T(r)),errors:m.current.errors,isValid:m.current.isValid})},U=(e,n=0,r="")=>e.forEach(((e,i)=>{const o=`${r||t}.${r?i:n+i}`;F(e)?I(o,{value:e}):Object.entries(e).forEach((([e,t])=>{const n=o+"."+e;Array.isArray(t)?U(t,i,n):I(n,{value:F(t)?t:Object.assign({},t)})}))}));return r.useEffect((()=>{if(_.current=!1,d.current.watchAll)g.current.state.next({});else for(const e of d.current.watch)if(t.startsWith(e)){g.current.state.next({});break}g.current.watch.next({name:t,values:R(p)}),s.current&&C(p.current,(e=>e.startsWith(s.current))),s.current="",g.current.array.next({name:t,values:T([...E])}),y.current.isValid&&b()}),[E,t]),r.useEffect((()=>{const e=g.current.array.subscribe({next({name:e,values:n,isReset:r}){r&&(Y(p.current,e||t),e?L(v.current,e,n):v.current=n,B(f(v.current,t)))}});return!f(p.current,t)&&L(p.current,t,[]),a.current=!0,()=>{if(e.unsubscribe(),k||i)A(t),Y(v.current,t);else{const e=f(R(p),t);e&&L(v.current,t,e)}}}),[]),{swap:r.useCallback(((e,t)=>{const n=O();G(n,e,t),K(G,{argA:e,argB:t},n,!1),B(n)}),[t]),move:r.useCallback(((e,t)=>{const n=O();V(n,e,t),B(n),K(V,{argA:e,argB:t},n,!1)}),[t]),prepend:r.useCallback(((e,t)=>{const n=M(e),r=H(O(),n);B(r),K(H,{argA:j(e)},r),U(n),s.current=x(0,t)}),[t]),append:r.useCallback(((e,t)=>{const n=M(e),r=z(O(),n),i=r.length-n.length;B(r),K(z,{argA:j(e)},r,!1),U(n,i),s.current=x(i,t)}),[t]),remove:r.useCallback((e=>{const t=Q(O(),e);B(t),K(Q,{argA:e},t)}),[t]),insert:r.useCallback(((e,t,n)=>{const r=M(t),i=q(O(),e,r);B(i),K(q,{argA:e,argB:j(t)},i),U(r,e),s.current=x(e,n)}),[t]),fields:E}},t.useForm=function({mode:e=m,reValidateMode:t=h,resolver:n,context:s,defaultValues:y={},shouldFocusError:b=!0,shouldUnregister:v,criteriaMode:S}={}){const[P,T]=r.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),O=r.useRef({isDirty:!E,dirtyFields:!E,touchedFields:!E,isValidating:!E,isValid:!E,errors:!E}),x=r.useRef(n),B=r.useRef(P),N=r.useRef({}),D=r.useRef(y),U=r.useRef({}),z=r.useRef(s),j=r.useRef(!1),q=r.useRef(!1),V=r.useRef({watch:new we,control:new we,array:new we,state:new we}),H=r.useRef({mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1}),Q=me(e),G=S===g;x.current=n,z.current=s;const X=e=>H.current.watchAll||H.current.watch.has(e)||H.current.watch.has((e.match(/\w+/)||[])[0]),ee=r.useCallback((async(e,t,r,i,o,s)=>{const a=f(B.current.errors,t),u=!!O.current.isValid&&(n?o:await de(N.current,!0));if(r?L(B.current.errors,t,r):Y(B.current.errors,t),(s||(r?!K(a,r,!0):a)||!k(i)||B.current.isValid!==u)&&!e){const e=Object.assign(Object.assign({},i),{isValid:!!u,errors:B.current.errors,name:t});B.current=Object.assign(Object.assign({},B.current),e),V.current.state.next(s?{name:t}:e)}V.current.state.next({isValidating:!1})}),[]),te=r.useCallback(((e,t,n={},r,s)=>{s&&Ie(e);const a=f(N.current,e);if(a){const s=a._f;if(s){const a=I&&ge(s.ref)&&o(t)?"":t;if(s.value=re(t,s),J(s.ref)?(s.refs||[]).forEach((e=>e.checked=e.value===a)):Z(s.ref)&&!ce(a)?s.ref.files=a:$(s.ref)?[...s.ref.options].forEach((e=>e.selected=a.includes(e.value))):i(s.ref)&&s.refs?s.refs.length>1?s.refs.forEach((e=>e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value)):s.refs[0].checked=!!a:s.ref.value=a,r){const n=R(N);L(n,e,t),V.current.control.next({values:Object.assign(Object.assign({},D.current),n),name:e})}(n.shouldDirty||n.shouldTouch)&&ie(e,a,n.shouldTouch),n.shouldValidate&&fe(e)}else a._f={ref:{name:e,value:t},value:t}}}),[]),ne=r.useCallback(((e,t)=>{const n=R(N);return e&&t&&L(n,e,t),!K(n,D.current)}),[]),ie=r.useCallback(((e,t,n,r=!0)=>{const i={name:e};let o=!1;if(O.current.isDirty){const e=B.current.isDirty;B.current.isDirty=ne(),i.isDirty=B.current.isDirty,o=e!==i.isDirty}if(O.current.dirtyFields&&!n){const n=f(B.current.dirtyFields,e);K(f(D.current,e),t)?Y(B.current.dirtyFields,e):L(B.current.dirtyFields,e,!0),i.dirtyFields=B.current.dirtyFields,o=o||n!==f(B.current.dirtyFields,e)}const s=f(B.current.touchedFields,e);return n&&!s&&(L(B.current.touchedFields,e,n),i.touchedFields=B.current.touchedFields,o=o||O.current.touchedFields&&s!==n),o&&r&&V.current.state.next(i),o?i:{}}),[]),oe=r.useCallback((async(e,t)=>{const n=(await he(f(N.current,e),G))[e];return ee(t,e,n),d(n)}),[G]),le=r.useCallback((async e=>{const{errors:t}=await x.current(R(N),z.current,ae(H.current.mount,N.current,S));if(e)for(const n of e){const e=f(t,n);e?L(B.current.errors,n,e):Y(B.current.errors,n)}else B.current.errors=t;return t}),[S]),de=async(e,t,n={valid:!0})=>{for(const r in e){const i=e[r];if(i){const e=i._f,r=w(i,"_f");if(e){const r=await he(i,G);if(t){if(r[e.name]){n.valid=!1;break}}else r[e.name]?L(B.current.errors,e.name,r[e.name]):Y(B.current.errors,e.name)}r&&await de(r,t,n)}}return n.valid},fe=r.useCallback((async(e,t={})=>{const r=M(e);let i;if(V.current.state.next({isValidating:!0}),n){const t=await le(d(e)?e:r);i=e?r.every((e=>!f(t,e))):k(t)}else e?i=(await Promise.all(r.filter((e=>f(N.current,e))).map((async e=>await oe(e,!0))))).every(Boolean):(await de(N.current),i=k(B.current.errors));return V.current.state.next(Object.assign(Object.assign({},ce(e)?{name:e}:{}),{errors:B.current.errors,isValidating:!1})),t.shouldFocus&&!i&&C(N.current,(e=>f(B.current.errors,e)),r),O.current.isValid&&ye(),i}),[le,oe]),pe=(e,t)=>{const n=f(N.current,e);if(n){const r=d(n._f.value),i=r?f(D.current,e):n._f.value;d(i)?r&&(n._f.value=se(n)):t&&t.defaultChecked?n._f.value=se(n):c(H.current.array,e)?n._f.value=i:te(e,i)}q.current&&O.current.isValid&&ye()},ye=r.useCallback((async(e={})=>{const t=n?k((await x.current(Object.assign(Object.assign({},R(N)),e),z.current,ae(H.current.mount,N.current,S))).errors):await de(N.current,!0);t!==B.current.isValid&&V.current.state.next({isValid:t})}),[S]),be=r.useCallback(((e,t,n)=>Object.entries(t).forEach((([t,r])=>{const i=`${e}.${t}`,o=f(N.current,i);H.current.array.has(e)||!F(r)||o&&!o._f?be(i,r,n):te(i,r,n,!0,!o)}))),[fe]),Se=r.useCallback((async({type:e,target:r,target:{value:o,type:s}})=>{let a,c,l=r.name;const h=f(N.current,l);if(h){let g=s?se(h):void 0;g=d(g)?o:g;const y=e===p,{isOnBlur:b,isOnChange:w}=me(t),v=(m=h._f,!(h._f.mount&&m&&(m.required||m.min||m.max||m.maxLength||m.minLength||m.pattern||m.validate)||n||f(B.current.errors,l))||(({isOnBlur:e,isOnChange:t,isOnTouch:n,isTouched:r,isReValidateOnBlur:i,isReValidateOnChange:o,isBlurEvent:s,isSubmitted:a,isOnAll:u})=>!u&&(!a&&n?!(r||s):(a?i:e)?!s:!(a?o:t)||s))(Object.assign({isBlurEvent:y,isTouched:!!f(B.current.touchedFields,l),isSubmitted:B.current.isSubmitted,isReValidateOnBlur:b,isReValidateOnChange:w},Q))),A=!y&&X(l);d(g)||(h._f.value=g);const _=ie(l,h._f.value,y,!1),M=!k(_)||A;if(v)return!y&&V.current.watch.next({name:l,type:e,values:Ae()}),M&&V.current.state.next(A?{name:l}:Object.assign(Object.assign({},_),{name:l}));if(V.current.state.next({isValidating:!0}),n){const{errors:e}=await x.current(R(N),z.current,ae([l],N.current,S));if(a=f(e,l),i(r)&&!a){const t=u(l),n=f(e,t,{});n.type&&n.message&&(a=n),(n||f(B.current.errors,t))&&(l=t)}c=k(e)}else a=(await he(h,G))[l];!y&&V.current.watch.next({name:l,type:e,values:Ae()}),ee(!1,l,a,_,c,A)}var m}),[]),Ae=e=>{const t=Object.assign(Object.assign({},D.current),R(N));return d(e)?t:ce(e)?f(t,e):e.map((e=>f(t,e)))},ke=r.useCallback(((e,t,n,r)=>{const i=Array.isArray(e),o=r||q.current?Object.assign(Object.assign({},D.current),r||R(N)):d(t)?D.current:i?t:{[e]:t};if(d(e))return n&&(H.current.watchAll=!0),o;const s=[];for(const t of M(e))n&&H.current.watch.add(t),s.push(f(o,t));return i?s:s[0]}),[]),_e=(e,t={})=>{for(const n of e?M(e):H.current.mount)H.current.mount.delete(n),H.current.array.delete(n),f(N.current,n)&&(!t.keepError&&Y(B.current.errors,n),!t.keepValue&&Y(N.current,n),!t.keepDirty&&Y(B.current.dirtyFields,n),!t.keepTouched&&Y(B.current.touchedFields,n),!t.keepDefaultValue&&Y(D.current,n),V.current.watch.next({name:n,values:Ae()}));V.current.state.next(Object.assign(Object.assign({},B.current),t.keepDirty?{isDirty:ne()}:{})),!t.keepIsValid&&ye()},Me=(e,t,n)=>{Ie(e,n);let r=f(N.current,e);const o=(e=>J(e)||i(e))(t);t===r._f.ref||o&&l(r._f.refs||[]).find((e=>e===t))||(r={_f:o?Object.assign(Object.assign({},r._f),{refs:[...l(r._f.refs||[]).filter((e=>ge(e)&&document.contains(e))),t],ref:{type:t.type,name:e}}):Object.assign(Object.assign({},r._f),{ref:t})},L(N.current,e,r),pe(e,t))},Ie=r.useCallback(((e,t={})=>{const n=f(N.current,e);return L(N.current,e,{_f:Object.assign(Object.assign(Object.assign({},n&&n._f?n._f:{ref:{name:e}}),{name:e,mount:!0}),t)}),H.current.mount.add(e),!n&&pe(e),ve?{name:e}:{name:e,onChange:Se,onBlur:Se,ref:n=>{if(n)Me(e,n,t);else{const n=f(N.current,e,{}),r=v||t.shouldUnregister;n._f&&(n._f.mount=!1,d(n._f.value)&&(n._f.value=n._f.ref.value)),r&&(!c(H.current.array,e)||!j.current)&&H.current.unMount.add(e)}}}}),[]),Ee=r.useCallback(((e,t)=>async r=>{r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist());let i=!0,o=R(N);V.current.state.next({isSubmitting:!0});try{if(n){const{errors:e,values:t}=await x.current(o,z.current,ae(H.current.mount,N.current,S));B.current.errors=e,o=t}else await de(N.current);k(B.current.errors)&&Object.keys(B.current.errors).every((e=>f(o,e)))?(V.current.state.next({errors:{},isSubmitting:!0}),await e(o,r)):(t&&await t(B.current.errors,r),b&&C(N.current,(e=>f(B.current.errors,e)),H.current.mount))}catch(e){throw i=!1,e}finally{B.current.isSubmitted=!0,V.current.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:k(B.current.errors)&&i,submitCount:B.current.submitCount+1,errors:B.current.errors})}}),[b,G,S]),Pe=(e,t="")=>{for(const n in e){const r=e[n],i=t+(t?".":"")+n,o=f(N.current,i);o&&o._f||(a(r)||Array.isArray(r)?Pe(r,i):o||Ie(i,{value:r}))}};return r.useEffect((()=>{const e=V.current.state.subscribe({next(e){_(e,O.current,!0)&&(B.current=Object.assign(Object.assign({},B.current),e),T(B.current))}}),t=V.current.array.subscribe({next(e){if(e.values&&e.name&&O.current.isValid){const t=R(N);L(t,e.name,e.values),ye(t)}}});return()=>{e.unsubscribe(),t.unsubscribe()}}),[]),r.useEffect((()=>{const e=e=>!ge(e)||!document.contains(e);q.current||(q.current=!0,O.current.isValid&&ye(),!v&&Pe(D.current));for(const t of H.current.unMount){const n=f(N.current,t);n&&(n._f.refs?n._f.refs.every(e):e(n._f.ref))&&_e(t)}H.current.unMount=new Set})),{control:r.useMemo((()=>({register:Ie,inFieldArrayActionRef:j,getIsDirty:ne,subjectsRef:V,watchInternal:ke,fieldsRef:N,updateIsValid:ye,namesRef:H,readFormStateRef:O,formStateRef:B,defaultValuesRef:D,fieldArrayDefaultValuesRef:U,unregister:_e,shouldUnmount:v})),[]),formState:A(E,P,O),trigger:fe,register:Ie,handleSubmit:Ee,watch:r.useCallback(((e,t)=>ue(e)?V.current.watch.subscribe({next:n=>e(ke(void 0,t),n)}):ke(e,t,!0)),[]),setValue:r.useCallback(((e,t,n={})=>{const r=f(N.current,e),i=H.current.array.has(e);i&&(V.current.array.next({values:t,name:e,isReset:!0}),(O.current.isDirty||O.current.dirtyFields)&&n.shouldDirty&&(L(B.current.dirtyFields,e,W(t,f(D.current,e,[]),f(B.current.dirtyFields,e,[]))),V.current.state.next({name:e,dirtyFields:B.current.dirtyFields,isDirty:ne(e,t)})),!t.length&&L(N.current,e,[])&&L(U.current,e,[])),(r&&!r._f||i)&&!o(t)?be(e,t,i?{}:n):te(e,t,n,!0,!r),X(e)&&V.current.state.next({}),V.current.watch.next({name:e,values:Ae()})}),[be]),getValues:r.useCallback(Ae,[]),reset:r.useCallback(((e,t={})=>{const n=e||D.current;if(I&&!t.keepValues)for(const t of H.current.mount){const n=f(N.current,t);if(n&&n._f){const t=Array.isArray(n._f.refs)?n._f.refs[0]:n._f.ref;try{ge(t)&&t.closest("form").reset();break}catch(e){}}}!t.keepDefaultValues&&(D.current=Object.assign({},n)),t.keepValues||(N.current={},V.current.control.next({values:Object.assign({},n)}),V.current.watch.next({values:Object.assign({},n)}),V.current.array.next({values:Object.assign({},n),isReset:!0})),H.current={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1},V.current.state.next({submitCount:t.keepSubmitCount?B.current.submitCount:0,isDirty:t.keepDirty?B.current.isDirty:!!t.keepDefaultValues&&K(e,D.current),isSubmitted:!!t.keepIsSubmitted&&B.current.isSubmitted,dirtyFields:t.keepDirty?B.current.dirtyFields:{},touchedFields:t.keepTouched?B.current.touchedFields:{},errors:t.keepErrors?B.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),q.current=!!t.keepIsValid}),[]),clearErrors:r.useCallback((e=>{e?M(e).forEach((e=>Y(B.current.errors,e))):B.current.errors={},V.current.state.next({errors:B.current.errors})}),[]),unregister:r.useCallback(_e,[]),setError:r.useCallback(((e,t,n)=>{const r=((f(N.current,e)||{_f:{}})._f||{}).ref;L(B.current.errors,e,Object.assign(Object.assign({},t),{ref:r})),V.current.state.next({name:e,errors:B.current.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()}),[]),setFocus:r.useCallback((e=>f(N.current,e)._f.ref.focus()),[])}},t.useFormContext=S,t.useFormState=P,t.useWatch=function(e){const{control:t,name:n,defaultValue:i}=e||{},o=S(),s=r.useRef(n);s.current=n;const{watchInternal:a,subjectsRef:u}=t||o.control,[c,l]=r.useState(d(i)?a(n):i);return r.useEffect((()=>{a(n);const e=u.current.watch.subscribe({next:({name:e,values:t})=>(!s.current||!e||M(s.current).some((t=>e&&t&&(t.startsWith(e)||e.startsWith(t)))))&&l(a(s.current,i,!1,t))});return()=>e.unsubscribe()}),[]),c}},7504:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(959);function i(){}function o(e){return!!(e||"").match(/\d/)}function s(e){return null==e}function a(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function u(e,t){void 0===t&&(t=!0);var n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}function c(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}function l(e,t){return Array(t+1).join(e)}function d(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}function f(e,t,n){return Math.min(Math.max(e,t),n)}function p(e){return Math.max(e.selectionStart,e.selectionEnd)}var h={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,allowLeadingZeros:!1,isNumericString:!1,type:"text",onValueChange:i,onChange:i,onKeyDown:i,onMouseUp:i,onFocus:i,onBlur:i,isAllowed:function(){return!0}},m=function(e){function t(t){e.call(this,t);var n=t.defaultValue;this.validateProps();var r=this.formatValueProp(n);this.state={value:r,numAsString:this.removeFormatting(r),mounted:!1},this.selectionBeforeInput={selectionStart:0,selectionEnd:0},this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.setState({mounted:!0})},t.prototype.componentDidUpdate=function(e){this.updateValueIfRequired(e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.focusTimeout),clearTimeout(this.caretPositionTimeout)},t.prototype.updateValueIfRequired=function(e){var t=this,n=t.props,r=t.state,i=t.focusedElm,o=r.value,a=r.numAsString;if(void 0===a&&(a=""),e!==n){this.validateProps();var u=this.formatNumString(a),c=s(n.value)?u:this.formatValueProp(),l=this.removeFormatting(c),d=parseFloat(l),f=parseFloat(a);(isNaN(d)&&isNaN(f)||d===f)&&u===o&&(null!==i||c===o)||this.updateValue({formattedValue:c,numAsString:l,input:i,source:"prop",event:null})}},t.prototype.getFloatString=function(e){void 0===e&&(e="");var t=this.props.decimalScale,n=this.getSeparators().decimalSeparator,r=this.getNumberRegex(!0),i="-"===e[0];i&&(e=e.replace("-","")),n&&0===t&&(e=e.split(n)[0]);var o=(e=(e.match(r)||[]).join("").replace(n,".")).indexOf(".");return-1!==o&&(e=e.substring(0,o)+"."+e.substring(o+1,e.length).replace(new RegExp(a(n),"g"),"")),i&&(e="-"+e),e},t.prototype.getNumberRegex=function(e,t){var n=this.props,r=n.format,i=n.decimalScale,o=n.customNumerals,s=this.getSeparators().decimalSeparator;return new RegExp("[0-9"+(o?o.join(""):"")+"]"+(!s||0===i||t||r?"":"|"+a(s)),e?"g":void 0)},t.prototype.getSeparators=function(){var e=this.props.decimalSeparator,t=this.props,n=t.thousandSeparator,r=t.allowedDecimalSeparators;return!0===n&&(n=","),r||(r=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:r}},t.prototype.getMaskAtIndex=function(e){var t=this.props.mask;return void 0===t&&(t=" "),"string"==typeof t?t:t[e]||" "},t.prototype.getValueObject=function(e,t){var n=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(n)?void 0:n}},t.prototype.validateProps=function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")},t.prototype.setPatchedCaretPosition=function(e,t,n){d(e,t),this.caretPositionTimeout=setTimeout((function(){e.value===n&&d(e,t)}),0)},t.prototype.correctCaretPosition=function(e,t,n){var r=this.props,i=r.prefix,s=r.suffix,a=r.format;if(""===e)return 0;if(t=f(t,0,e.length),!a){var u="-"===e[0];return f(t,i.length+(u?1:0),e.length-s.length)}if("function"==typeof a)return t;if("#"===a[t]&&o(e[t]))return t;if("#"===a[t-1]&&o(e[t-1]))return t;var c=a.indexOf("#");t=f(t,c,a.lastIndexOf("#")+1);for(var l=a.substring(t,a.length).indexOf("#"),d=t,p=t+(-1===l?0:l);d>c&&("#"!==a[d]||!o(e[d]));)d-=1;return!o(e[p])||"left"===n&&t!==c||t-d<p-t?o(e[d])?d+1:d:p},t.prototype.getCaretPosition=function(e,t,n){var r,i,o=this.props.format,s=this.state.value,a=this.getNumberRegex(!0),u=(e.match(a)||[]).join(""),c=(t.match(a)||[]).join("");for(r=0,i=0;i<n;i++){var l=e[i]||"",d=t[r]||"";if((l.match(a)||l===d)&&("0"!==l||!d.match(a)||"0"===d||u.length===c.length)){for(;l!==t[r]&&r<t.length;)r++;r++}}return"string"!=typeof o||s||(r=t.length),this.correctCaretPosition(t,r)},t.prototype.removePrefixAndSuffix=function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var o="-"===e[0];o&&(e=e.substring(1,e.length));var s=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==s&&s===e.length-i.length?e.substring(0,s):e,o&&(e="-"+e)}return e},t.prototype.removePatternFormatting=function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,o=t.length;i<=o;i++){var s=t[i]||"",a=i===o?e.length:e.indexOf(s,n);if(-1===a){r=e;break}r+=e.substring(n,a),n=a+s.length}return(r.match(/\d/g)||[]).join("")},t.prototype.removeFormatting=function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"==typeof n?this.removePatternFormatting(e):"function"==typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e},t.prototype.formatWithPattern=function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,o=t.length;i<o;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")},t.prototype.formatAsNumber=function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,o=t.suffix,s=t.allowNegative,a=t.thousandsGroupStyle,l=this.getSeparators(),d=l.thousandSeparator,f=l.decimalSeparator,p=-1!==e.indexOf(".")||n&&r,h=u(e,s),m=h.beforeDecimal,g=h.afterDecimal,y=h.addNegation;return void 0!==n&&(g=c(g,n,r)),d&&(m=function(e,t,n){var r=function(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(n),i=e.search(/[1-9]/);return i=-1===i?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}(m,d,a)),i&&(m=i+m),o&&(g+=o),y&&(m="-"+m),m+(p&&f||"")+g},t.prototype.formatNumString=function(e){void 0===e&&(e="");var t=this.props,n=t.format,r=t.allowEmptyFormatting,i=t.customNumerals,o=e;if(i&&10===i.length){var s=new RegExp("["+i.join("")+"]","g");o=e.replace(s,(function(e){return i.indexOf(e).toString()}))}return""!==e||r?"-"!==e||n?"string"==typeof n?this.formatWithPattern(o):"function"==typeof n?n(o):this.formatAsNumber(o):"-":""},t.prototype.formatValueProp=function(e){var t=this.props,n=t.format,r=t.decimalScale,i=t.fixedDecimalScale,o=t.allowEmptyFormatting,a=this.props,d=a.value,f=a.isNumericString,p=!(d=s(d)?e:d)&&0!==d;return p&&o&&(d=""),p&&!o?"":("number"==typeof d&&(d=function(e){var t="-"===(e+="")[0]?"-":"";t&&(e=e.substring(1));var n=e.split(/[eE]/g),r=n[0],i=n[1];if(!(i=Number(i)))return t+r;var o=1+i,s=(r=r.replace(".","")).length;return o<0?r="0."+l("0",Math.abs(o))+r:o>=s?r+=l("0",o-s):r=(r.substring(0,o)||"0")+"."+r.substring(o),t+r}(d),f=!0),"Infinity"===d&&f&&(d=""),f&&!n&&"number"==typeof r&&(d=function(e,t,n){if(-1!==["","-"].indexOf(e))return e;var r=-1!==e.indexOf(".")&&t,i=u(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNagation,l=parseFloat("0."+(s||"0")),d=(s.length<=t?"0."+s:l.toFixed(t)).split(".");return(a?"-":"")+o.split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),d[0])+(r?".":"")+c(d[1]||"",Math.min(t,s.length),n)}(d,r,i)),f?this.formatNumString(d):this.formatInput(d))},t.prototype.formatNegation=function(e){void 0===e&&(e="");var t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e},t.prototype.formatInput=function(e){return void 0===e&&(e=""),this.props.format||(e=this.removePrefixAndSuffix(e),e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)},t.prototype.isCharacterAFormat=function(e,t){var n=this.props,r=n.format,i=n.prefix,o=n.suffix,s=n.decimalScale,a=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"==typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-o.length||s&&a&&t[e]===u))},t.prototype.correctInputValue=function(e,t,n){var r=this,i=this.props,o=i.format,s=i.allowNegative,a=i.prefix,c=i.suffix,l=i.decimalScale,d=this.getSeparators(),f=d.allowedDecimalSeparators,p=d.decimalSeparator,h=this.state.numAsString||"",m=this.selectionBeforeInput,g=m.selectionStart,y=m.selectionEnd,b=function(e,t){for(var n=0,r=0,i=e.length,o=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[o-1-r]&&o-r>n&&i-r>n;)r++;return{start:n,end:i-r}}(t,n),w=b.start,v=b.end;if(!o&&w===v&&-1!==f.indexOf(n[g])){var S=0===l?"":p;return n.substr(0,g)+S+n.substr(g+1,n.length)}var A=o?0:a.length,k=t.length-(o?0:c.length);if(n.length>t.length||!n.length||w===v||0===g&&y===t.length||0===w&&v===t.length||g===A&&y===k)return n;var _=t.substr(w,v-w);if([].concat(_).find((function(e,n){return r.isCharacterAFormat(n+w,t)}))){var M=t.substr(w),I={},E=[];[].concat(M).forEach((function(e,n){r.isCharacterAFormat(n+w,t)?I[n]=e:n>_.length-1&&E.push(e)})),Object.keys(I).forEach((function(e){E.length>e?E.splice(e,0,I[e]):E.push(I[e])})),n=t.substr(0,w)+E.join("")}if(!o){var P=this.removeFormatting(n),T=u(P,s),O=T.beforeDecimal,x=T.afterDecimal,B=T.addNegation,L=e<n.indexOf(p)+1;if(P.length<h.length&&L&&""===O&&!parseFloat(x))return B?"-":""}return n},t.prototype.updateValue=function(e){var t=e.formattedValue,n=e.input,r=e.setCaretPosition;void 0===r&&(r=!0);var i=e.source,o=e.event,s=e.numAsString,a=e.caretPos,u=this.props.onValueChange,c=this.state.value;if(n)if(r){if(!a){var l=e.inputValue||n.value,d=p(n);n.value=t,a=this.getCaretPosition(l,t,d)}this.setPatchedCaretPosition(n,a,t)}else n.value=t;void 0===s&&(s=this.removeFormatting(t)),t!==c&&(this.setState({value:t,numAsString:s}),u(this.getValueObject(t,s),{event:o,source:i}))},t.prototype.onChange=function(e){var t=e.target,n=t.value,r=this.state,i=this.props,o=i.isAllowed,s=r.value||"",a=p(t);n=this.correctInputValue(a,s,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u),l=o(this.getValueObject(u,c));l||(u=s),this.updateValue({formattedValue:u,numAsString:c,inputValue:n,input:t,event:e,source:"event"}),l&&i.onChange(e)},t.prototype.onBlur=function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,o=t.allowLeadingZeros,s=n.numAsString,a=n.value;if(this.focusedElm=null,clearTimeout(this.focusTimeout),clearTimeout(this.caretPositionTimeout),!r){isNaN(parseFloat(s))&&(s=""),o||(s=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}(s));var u=this.formatNumString(s);if(u!==a)return this.updateValue({formattedValue:u,numAsString:s,input:e.target,setCaretPosition:!1,event:e,source:"event"}),void i(e)}i(e)},t.prototype.onKeyDown=function(e){var t,n=e.target,r=e.key,i=n.selectionStart,o=n.selectionEnd,s=n.value;void 0===s&&(s="");var a=this.props,u=a.decimalScale,c=a.fixedDecimalScale,l=a.prefix,d=a.suffix,f=a.format,p=a.onKeyDown,h=void 0!==u&&c,m=this.getNumberRegex(!1,h),g=new RegExp("-"),y="string"==typeof f;if(this.selectionBeforeInput={selectionStart:i,selectionEnd:o},"ArrowLeft"===r||"Backspace"===r?t=i-1:"ArrowRight"===r?t=i+1:"Delete"===r&&(t=i),void 0!==t&&i===o){var b=t,w=y?f.indexOf("#"):l.length,v=y?f.lastIndexOf("#")+1:s.length-d.length;if("ArrowLeft"===r||"ArrowRight"===r){var S="ArrowLeft"===r?"left":"right";b=this.correctCaretPosition(s,t,S)}else if("Delete"!==r||m.test(s[t])||g.test(s[t])){if("Backspace"===r&&!m.test(s[t]))if(i<=w+1&&"-"===s[0]&&void 0===f){var A=s.substring(1);this.updateValue({formattedValue:A,caretPos:b,input:n,event:e,source:"event"})}else if(!g.test(s[t])){for(;!m.test(s[b-1])&&b>w;)b--;b=this.correctCaretPosition(s,b,"left")}}else for(;!m.test(s[b])&&b<v;)b++;(b!==t||t<w||t>v)&&(e.preventDefault(),this.setPatchedCaretPosition(n,b,s)),e.isUnitTestRun&&this.setPatchedCaretPosition(n,b,s),p(e)}else p(e)},t.prototype.onMouseUp=function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(void 0===i&&(i=""),n===r){var o=this.correctCaretPosition(i,n);o!==n&&this.setPatchedCaretPosition(t,o,i)}this.props.onMouseUp(e)},t.prototype.onFocus=function(e){var t=this;e.persist(),this.focusedElm=e.target,this.focusTimeout=setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.selectionEnd,o=n.value;void 0===o&&(o="");var s=t.correctCaretPosition(o,r);s===r||0===r&&i===o.length||t.setPatchedCaretPosition(n,s,o),t.props.onFocus(e)}),0)},t.prototype.render=function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,o=e.renderText,s=e.getInputRef,a=e.format,u=(e.thousandSeparator,e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle,e.decimalScale,e.fixedDecimalScale,e.prefix,e.suffix,e.removeFormatting,e.mask,e.defaultValue,e.isNumericString,e.allowNegative,e.allowEmptyFormatting,e.allowLeadingZeros,e.onValueChange,e.isAllowed,e.customNumerals,e.onChange,e.onKeyDown,e.onMouseUp,e.onFocus,e.onBlur,e.value,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["type","displayType","customInput","renderText","getInputRef","format","thousandSeparator","decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","decimalScale","fixedDecimalScale","prefix","suffix","removeFormatting","mask","defaultValue","isNumericString","allowNegative","allowEmptyFormatting","allowLeadingZeros","onValueChange","isAllowed","customNumerals","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value"])),c=this.state,l=c.value,d=c.mounted&&function(e){return e||"undefined"!=typeof navigator&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}(a)?"numeric":void 0,f=Object.assign({inputMode:d},u,{type:t,value:l,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return o?o(l,u)||null:r.createElement("span",Object.assign({},u,{ref:s}),l);if(i){var p=i;return r.createElement(p,Object.assign({},f,{ref:s}))}return r.createElement("input",Object.assign({},f,{ref:s}))},t}(r.Component);m.defaultProps=h;const g=m},8370:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(959),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},u=void 0;u="undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g;var c=null,l=null,d=u.clearTimeout,f=u.setTimeout,p=u.cancelAnimationFrame||u.mozCancelAnimationFrame||u.webkitCancelAnimationFrame,h=u.requestAnimationFrame||u.mozRequestAnimationFrame||u.webkitRequestAnimationFrame;null==p||null==h?(c=d,l=function(e){return f(e,20)}):(c=function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,2),n=t[0],r=t[1];p(n),d(r)},l=function(e){var t=h((function(){d(n),e()})),n=f((function(){p(t),e()}),20);return[t,n]});var m=function(e){function t(){var e,n,r;i(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,s=r._parentNode.offsetWidth||0,a=window.getComputedStyle(r._parentNode)||{},u=parseInt(a.paddingLeft,10)||0,c=parseInt(a.paddingRight,10)||0,l=parseInt(a.paddingTop,10)||0,d=parseInt(a.paddingBottom,10)||0,f=o-l-d,p=s-u-c;(!t&&r.state.height!==f||!n&&r.state.width!==p)&&(r.setState({height:o-l-d,width:s-u-c}),i({height:o,width:s}))}},r._setRef=function(e){r._autoSizer=e},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=function(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0,s=void 0,a=void 0,d="undefined"!=typeof document&&document.attachEvent;if(!d){s=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},a=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;s(this),this.__resizeRAF__&&c(this.__resizeRAF__),this.__resizeRAF__=l((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var f=!1,p="";r="animationstart";var h="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g=document.createElement("fakeelement");if(void 0!==g.style.animationName&&(f=!0),!1===f)for(var y=0;y<h.length;y++)if(void 0!==g.style[h[y]+"AnimationName"]){p="-"+h[y].toLowerCase()+"-",r=m[y],f=!0;break}t="@"+p+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",i=p+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,c){if(d)o.attachEvent("onresize",c);else{if(!o.__resizeTriggers__){var l=o.ownerDocument,f=u.getComputedStyle(o);f&&"static"===f.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],s=n.createElement("style");s.id="detectElementResize",s.type="text/css",null!=e&&s.setAttribute("nonce",e),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(n.createTextNode(r)),o.appendChild(s)}}(l),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=l.createElement("div")).className="resize-triggers";var p=l.createElement("div");p.className="expand-trigger",p.appendChild(l.createElement("div"));var h=l.createElement("div");h.className="contract-trigger",o.__resizeTriggers__.appendChild(p),o.__resizeTriggers__.appendChild(h),o.appendChild(o.__resizeTriggers__),s(o),o.addEventListener("scroll",a,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&s(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(d)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",a,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.disableHeight,o=e.disableWidth,a=e.style,u=this.state,c=u.height,l=u.width,d={overflow:"visible"},f={},p=!1;return i||(0===c&&(p=!0),d.height=0,f.height=c),o||(0===l&&(p=!0),d.width=0,f.width=l),(0,r.createElement)("div",{className:n,ref:this._setRef,style:s({},d,a)},!p&&t(f))}}]),t}(r.PureComponent);m.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const g=m},7012:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}n.r(t),n.d(t,{FixedSizeGrid:()=>D,FixedSizeList:()=>F,VariableSizeGrid:()=>T,VariableSizeList:()=>N,areEqual:()=>z,shouldComponentUpdate:()=>j});var a=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function u(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(i=t[n])||a(r)&&a(i)))return!1;var r,i;return!0}const c=function(e,t){var n;void 0===t&&(t=u);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}};var l=n(959);function d(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function p(e){cancelAnimationFrame(e.id)}function h(e,t){var n=f(),r={id:requestAnimationFrame((function i(){f()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var m=-1;function g(e){if(void 0===e&&(e=!1),-1===m||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),m=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return m}var y=null;function b(e){if(void 0===e&&(e=!1),null===y||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?y="positive-descending":(t.scrollLeft=1,y=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),y}return y}var w=function(e){var t=e.columnIndex;return e.data,e.rowIndex+":"+t};function v(e){var t,n=e.getColumnOffset,o=e.getColumnStartIndexForOffset,a=e.getColumnStopIndexForStartIndex,u=e.getColumnWidth,d=e.getEstimatedTotalHeight,f=e.getEstimatedTotalWidth,m=e.getOffsetForColumnAndAlignment,y=e.getOffsetForRowAndAlignment,v=e.getRowHeight,A=e.getRowOffset,k=e.getRowStartIndexForOffset,_=e.getRowStopIndexForStartIndex,M=e.initInstanceProps,I=e.shouldResetStyleCacheOnItemSizeChange,E=e.validateProps;return(t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=M(r.props,i(r)),r._resetIsScrollingTimeoutId=null,r._outerRef=void 0,r.state={instance:i(r),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof r.props.initialScrollLeft?r.props.initialScrollLeft:0,scrollTop:"number"==typeof r.props.initialScrollTop?r.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},r._callOnItemsRendered=void 0,r._callOnItemsRendered=c((function(e,t,n,i,o,s,a,u){return r.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:t,overscanRowStartIndex:n,overscanRowStopIndex:i,visibleColumnStartIndex:o,visibleColumnStopIndex:s,visibleRowStartIndex:a,visibleRowStopIndex:u})})),r._callOnScroll=void 0,r._callOnScroll=c((function(e,t,n,i,o){return r.props.onScroll({horizontalScrollDirection:n,scrollLeft:e,scrollTop:t,verticalScrollDirection:i,scrollUpdateWasRequested:o})})),r._getItemStyle=void 0,r._getItemStyle=function(e,t){var i,o=r.props,s=o.columnWidth,a=o.direction,c=o.rowHeight,l=r._getItemStyleCache(I&&s,I&&a,I&&c),d=e+":"+t;if(l.hasOwnProperty(d))i=l[d];else{var f=n(r.props,t,r._instanceProps),p="rtl"===a;l[d]=i={position:"absolute",left:p?void 0:f,right:p?f:void 0,top:A(r.props,e,r._instanceProps),height:v(r.props,e,r._instanceProps),width:u(r.props,t,r._instanceProps)}}return i},r._getItemStyleCache=void 0,r._getItemStyleCache=c((function(e,t,n){return{}})),r._onScroll=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.clientWidth,o=t.scrollLeft,s=t.scrollTop,a=t.scrollHeight,u=t.scrollWidth;r.setState((function(e){if(e.scrollLeft===o&&e.scrollTop===s)return null;var t=r.props.direction,c=o;if("rtl"===t)switch(b()){case"negative":c=-o;break;case"positive-descending":c=u-i-o}c=Math.max(0,Math.min(c,u-i));var l=Math.max(0,Math.min(s,a-n));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<o?"forward":"backward",scrollLeft:c,scrollTop:l,verticalScrollDirection:e.scrollTop<s?"forward":"backward",scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&p(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=h(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1)}))},r}s(t,e),t.getDerivedStateFromProps=function(e,t){return S(e,t),E(e),null};var P=t.prototype;return P.scrollTo=function(e){var t=e.scrollLeft,n=e.scrollTop;void 0!==t&&(t=Math.max(0,t)),void 0!==n&&(n=Math.max(0,n)),this.setState((function(e){return void 0===t&&(t=e.scrollLeft),void 0===n&&(n=e.scrollTop),e.scrollLeft===t&&e.scrollTop===n?null:{horizontalScrollDirection:e.scrollLeft<t?"forward":"backward",scrollLeft:t,scrollTop:n,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<n?"forward":"backward"}}),this._resetIsScrollingDebounced)},P.scrollToItem=function(e){var t=e.align,n=void 0===t?"auto":t,r=e.columnIndex,i=e.rowIndex,o=this.props,s=o.columnCount,a=o.height,u=o.rowCount,c=o.width,l=this.state,p=l.scrollLeft,h=l.scrollTop,b=g();void 0!==r&&(r=Math.max(0,Math.min(r,s-1))),void 0!==i&&(i=Math.max(0,Math.min(i,u-1)));var w=d(this.props,this._instanceProps),v=f(this.props,this._instanceProps)>c?b:0,S=w>a?b:0;this.scrollTo({scrollLeft:void 0!==r?m(this.props,r,n,p,this._instanceProps,S):p,scrollTop:void 0!==i?y(this.props,i,n,h,this._instanceProps,v):h})},P.componentDidMount=function(){var e=this.props,t=e.initialScrollLeft,n=e.initialScrollTop;if(null!=this._outerRef){var r=this._outerRef;"number"==typeof t&&(r.scrollLeft=t),"number"==typeof n&&(r.scrollTop=n)}this._callPropsCallbacks()},P.componentDidUpdate=function(){var e=this.props.direction,t=this.state,n=t.scrollLeft,r=t.scrollTop;if(t.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("rtl"===e)switch(b()){case"negative":i.scrollLeft=-n;break;case"positive-ascending":i.scrollLeft=n;break;default:var o=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-o-n}else i.scrollLeft=Math.max(0,n);i.scrollTop=Math.max(0,r)}this._callPropsCallbacks()},P.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&p(this._resetIsScrollingTimeoutId)},P.render=function(){var e=this.props,t=e.children,n=e.className,i=e.columnCount,o=e.direction,s=e.height,a=e.innerRef,u=e.innerElementType,c=e.innerTagName,p=e.itemData,h=e.itemKey,m=void 0===h?w:h,g=e.outerElementType,y=e.outerTagName,b=e.rowCount,v=e.style,S=e.useIsScrolling,A=e.width,k=this.state.isScrolling,_=this._getHorizontalRangeToRender(),M=_[0],I=_[1],E=this._getVerticalRangeToRender(),P=E[0],T=E[1],O=[];if(i>0&&b)for(var x=P;x<=T;x++)for(var B=M;B<=I;B++)O.push((0,l.createElement)(t,{columnIndex:B,data:p,isScrolling:S?k:void 0,key:m({columnIndex:B,data:p,rowIndex:x}),rowIndex:x,style:this._getItemStyle(x,B)}));var L=d(this.props,this._instanceProps),C=f(this.props,this._instanceProps);return(0,l.createElement)(g||y||"div",{className:n,onScroll:this._onScroll,ref:this._outerRefSetter,style:r({position:"relative",height:s,width:A,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},v)},(0,l.createElement)(u||c||"div",{children:O,ref:a,style:{height:L,pointerEvents:k?"none":void 0,width:C}}))},P._callPropsCallbacks=function(){var e=this.props,t=e.columnCount,n=e.onItemsRendered,r=e.onScroll,i=e.rowCount;if("function"==typeof n&&t>0&&i>0){var o=this._getHorizontalRangeToRender(),s=o[0],a=o[1],u=o[2],c=o[3],l=this._getVerticalRangeToRender(),d=l[0],f=l[1],p=l[2],h=l[3];this._callOnItemsRendered(s,a,d,f,u,c,p,h)}if("function"==typeof r){var m=this.state,g=m.horizontalScrollDirection,y=m.scrollLeft,b=m.scrollTop,w=m.scrollUpdateWasRequested,v=m.verticalScrollDirection;this._callOnScroll(y,b,g,v,w)}},P._getHorizontalRangeToRender=function(){var e=this.props,t=e.columnCount,n=e.overscanColumnCount,r=e.overscanColumnsCount,i=e.overscanCount,s=e.rowCount,u=this.state,c=u.horizontalScrollDirection,l=u.isScrolling,d=u.scrollLeft,f=n||r||i||1;if(0===t||0===s)return[0,0,0,0];var p=o(this.props,d,this._instanceProps),h=a(this.props,p,d,this._instanceProps),m=l&&"backward"!==c?1:Math.max(1,f),g=l&&"forward"!==c?1:Math.max(1,f);return[Math.max(0,p-m),Math.max(0,Math.min(t-1,h+g)),p,h]},P._getVerticalRangeToRender=function(){var e=this.props,t=e.columnCount,n=e.overscanCount,r=e.overscanRowCount,i=e.overscanRowsCount,o=e.rowCount,s=this.state,a=s.isScrolling,u=s.verticalScrollDirection,c=s.scrollTop,l=r||i||n||1;if(0===t||0===o)return[0,0,0,0];var d=k(this.props,c,this._instanceProps),f=_(this.props,d,c,this._instanceProps),p=a&&"backward"!==u?1:Math.max(1,l),h=a&&"forward"!==u?1:Math.max(1,l);return[Math.max(0,d-p),Math.max(0,Math.min(o-1,f+h)),d,f]},t}(l.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},t}var S=function(e,t){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,t.instance},A=function(e,t){var n=e.rowCount,r=t.rowMetadataMap,i=t.estimatedRowHeight,o=t.lastMeasuredRowIndex,s=0;if(o>=n&&(o=n-1),o>=0){var a=r[o];s=a.offset+a.size}return s+(n-o-1)*i},k=function(e,t){var n=e.columnCount,r=t.columnMetadataMap,i=t.estimatedColumnWidth,o=t.lastMeasuredColumnIndex,s=0;if(o>=n&&(o=n-1),o>=0){var a=r[o];s=a.offset+a.size}return s+(n-o-1)*i},_=function(e,t,n,r){var i,o,s;if("column"===e?(i=r.columnMetadataMap,o=t.columnWidth,s=r.lastMeasuredColumnIndex):(i=r.rowMetadataMap,o=t.rowHeight,s=r.lastMeasuredRowIndex),n>s){var a=0;if(s>=0){var u=i[s];a=u.offset+u.size}for(var c=s+1;c<=n;c++){var l=o(c);i[c]={offset:a,size:l},a+=l}"column"===e?r.lastMeasuredColumnIndex=n:r.lastMeasuredRowIndex=n}return i[n]},M=function(e,t,n,r){var i,o;return"column"===e?(i=n.columnMetadataMap,o=n.lastMeasuredColumnIndex):(i=n.rowMetadataMap,o=n.lastMeasuredRowIndex),(o>0?i[o].offset:0)>=r?I(e,t,n,o,0,r):E(e,t,n,Math.max(0,o),r)},I=function(e,t,n,r,i,o){for(;i<=r;){var s=i+Math.floor((r-i)/2),a=_(e,t,s,n).offset;if(a===o)return s;a<o?i=s+1:a>o&&(r=s-1)}return i>0?i-1:0},E=function(e,t,n,r,i){for(var o="column"===e?t.columnCount:t.rowCount,s=1;r<o&&_(e,t,r,n).offset<i;)r+=s,s*=2;return I(e,t,n,Math.min(r,o-1),Math.floor(r/2),i)},P=function(e,t,n,r,i,o,s){var a="column"===e?t.width:t.height,u=_(e,t,n,o),c="column"===e?k(t,o):A(t,o),l=Math.max(0,Math.min(c-a,u.offset)),d=Math.max(0,u.offset-a+s+u.size);switch("smart"===r&&(r=i>=d-a&&i<=l+a?"auto":"center"),r){case"start":return l;case"end":return d;case"center":return Math.round(d+(l-d)/2);default:return i>=d&&i<=l?i:d>l||i<d?d:l}},T=v({getColumnOffset:function(e,t,n){return _("column",e,t,n).offset},getColumnStartIndexForOffset:function(e,t,n){return M("column",e,n,t)},getColumnStopIndexForStartIndex:function(e,t,n,r){for(var i=e.columnCount,o=e.width,s=_("column",e,t,r),a=n+o,u=s.offset+s.size,c=t;c<i-1&&u<a;)c++,u+=_("column",e,c,r).size;return c},getColumnWidth:function(e,t,n){return n.columnMetadataMap[t].size},getEstimatedTotalHeight:A,getEstimatedTotalWidth:k,getOffsetForColumnAndAlignment:function(e,t,n,r,i,o){return P("column",e,t,n,r,i,o)},getOffsetForRowAndAlignment:function(e,t,n,r,i,o){return P("row",e,t,n,r,i,o)},getRowOffset:function(e,t,n){return _("row",e,t,n).offset},getRowHeight:function(e,t,n){return n.rowMetadataMap[t].size},getRowStartIndexForOffset:function(e,t,n){return M("row",e,n,t)},getRowStopIndexForStartIndex:function(e,t,n,r){for(var i=e.rowCount,o=e.height,s=_("row",e,t,r),a=n+o,u=s.offset+s.size,c=t;c<i-1&&u<a;)c++,u+=_("row",e,c,r).size;return c},initInstanceProps:function(e,t){var n=e,r={columnMetadataMap:{},estimatedColumnWidth:n.estimatedColumnWidth||50,estimatedRowHeight:n.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return t.resetAfterColumnIndex=function(e,n){void 0===n&&(n=!0),t.resetAfterIndices({columnIndex:e,shouldForceUpdate:n})},t.resetAfterRowIndex=function(e,n){void 0===n&&(n=!0),t.resetAfterIndices({rowIndex:e,shouldForceUpdate:n})},t.resetAfterIndices=function(e){var n=e.columnIndex,i=e.rowIndex,o=e.shouldForceUpdate,s=void 0===o||o;"number"==typeof n&&(r.lastMeasuredColumnIndex=Math.min(r.lastMeasuredColumnIndex,n-1)),"number"==typeof i&&(r.lastMeasuredRowIndex=Math.min(r.lastMeasuredRowIndex,i-1)),t._getItemStyleCache(-1),s&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.columnWidth,e.rowHeight}}),O=function(e,t){return e};function x(e){var t,n=e.getItemOffset,o=e.getEstimatedTotalSize,a=e.getItemSize,u=e.getOffsetForIndexAndAlignment,d=e.getStartIndexForOffset,f=e.getStopIndexForStartIndex,m=e.initInstanceProps,y=e.shouldResetStyleCacheOnItemSizeChange,w=e.validateProps;return t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=m(r.props,i(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:i(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=c((function(e,t,n,i){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:i})})),r._callOnScroll=void 0,r._callOnScroll=c((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,i=r.props,o=i.direction,s=i.itemSize,u=i.layout,c=r._getItemStyleCache(y&&s,y&&u,y&&o);if(c.hasOwnProperty(e))t=c[e];else{var l=n(r.props,e,r._instanceProps),d=a(r.props,e,r._instanceProps),f="horizontal"===o||"horizontal"===u,p="rtl"===o,h=f?l:0;c[e]=t={position:"absolute",left:p?void 0:h,right:p?h:void 0,top:f?0:l,height:f?"100%":d,width:f?d:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=c((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===i)return null;var t=r.props.direction,s=i;if("rtl"===t)switch(b()){case"negative":s=-i;break;case"positive-descending":s=o-n-i}return s=Math.max(0,Math.min(s,o-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;r.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&p(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=h(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}s(t,e),t.getDerivedStateFromProps=function(e,t){return B(e,t),w(e),null};var v=t.prototype;return v.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},v.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,o=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var s=0;if(this._outerRef){var a=this._outerRef;s="vertical"===i?a.scrollWidth>a.clientWidth?g():0:a.scrollHeight>a.clientHeight?g():0}this.scrollTo(u(this.props,e,t,o,this._instanceProps,s))},v.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},v.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(b()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var s=o.clientWidth,a=o.scrollWidth;o.scrollLeft=a-s-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},v.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&p(this._resetIsScrollingTimeoutId)},v.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,s=e.height,a=e.innerRef,u=e.innerElementType,c=e.innerTagName,d=e.itemCount,f=e.itemData,p=e.itemKey,h=void 0===p?O:p,m=e.layout,g=e.outerElementType,y=e.outerTagName,b=e.style,w=e.useIsScrolling,v=e.width,S=this.state.isScrolling,A="horizontal"===i||"horizontal"===m,k=A?this._onScrollHorizontal:this._onScrollVertical,_=this._getRangeToRender(),M=_[0],I=_[1],E=[];if(d>0)for(var P=M;P<=I;P++)E.push((0,l.createElement)(t,{data:f,key:h(P,f),index:P,isScrolling:w?S:void 0,style:this._getItemStyle(P)}));var T=o(this.props,this._instanceProps);return(0,l.createElement)(g||y||"div",{className:n,onScroll:k,ref:this._outerRefSetter,style:r({position:"relative",height:s,width:v,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},b)},(0,l.createElement)(u||c||"div",{children:E,ref:a,style:{height:A?"100%":T,pointerEvents:S?"none":void 0,width:A?T:"100%"}}))},v._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"==typeof this.props.onScroll){var o=this.state,s=o.scrollDirection,a=o.scrollOffset,u=o.scrollUpdateWasRequested;this._callOnScroll(s,a,u)}},v._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,o=r.scrollDirection,s=r.scrollOffset;if(0===t)return[0,0,0,0];var a=d(this.props,s,this._instanceProps),u=f(this.props,a,s,this._instanceProps),c=i&&"backward"!==o?1:Math.max(1,n),l=i&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,a-c),Math.max(0,Math.min(t-1,u+l)),a,u]},t}(l.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var B=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},L=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var s=0;if(o>=0){var a=i[o];s=a.offset+a.size}for(var u=o+1;u<=t;u++){var c=r(u);i[u]={offset:s,size:c},s+=c}n.lastMeasuredIndex=t}return i[t]},C=function(e,t,n,r,i){for(;r<=n;){var o=r+Math.floor((n-r)/2),s=L(e,o,t).offset;if(s===i)return o;s<i?r=o+1:s>i&&(n=o-1)}return r>0?r-1:0},R=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,s=0;if(o>=n&&(o=n-1),o>=0){var a=r[o];s=a.offset+a.size}return s+(n-o-1)*i},N=x({getItemOffset:function(e,t,n){return L(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:R,getOffsetForIndexAndAlignment:function(e,t,n,r,i,o){var s=e.direction,a=e.height,u=e.layout,c=e.width,l="horizontal"===s||"horizontal"===u?c:a,d=L(e,t,i),f=R(e,i),p=Math.max(0,Math.min(f-l,d.offset)),h=Math.max(0,d.offset-l+d.size+o);switch("smart"===n&&(n=r>=h-l&&r<=p+l?"auto":"center"),n){case"start":return p;case"end":return h;case"center":return Math.round(h+(p-h)/2);default:return r>=h&&r<=p?r:r<h?h:p}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?C(e,t,i,0,n):function(e,t,n,r){for(var i=e.itemCount,o=1;n<i&&L(e,n,t).offset<r;)n+=o,o*=2;return C(e,t,Math.min(n,i-1),Math.floor(n/2),r)}(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,o=e.height,s=e.itemCount,a=e.layout,u=e.width,c="horizontal"===i||"horizontal"===a?u:o,l=L(e,t,r),d=n+c,f=l.offset+l.size,p=t;p<s-1&&f<d;)p++,f+=L(e,p,r).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),D=v({getColumnOffset:function(e,t){return t*e.columnWidth},getColumnWidth:function(e,t){return e.columnWidth},getRowOffset:function(e,t){return t*e.rowHeight},getRowHeight:function(e,t){return e.rowHeight},getEstimatedTotalHeight:function(e){var t=e.rowCount;return e.rowHeight*t},getEstimatedTotalWidth:function(e){var t=e.columnCount;return e.columnWidth*t},getOffsetForColumnAndAlignment:function(e,t,n,r,i,o){var s=e.columnCount,a=e.columnWidth,u=e.width,c=Math.max(0,s*a-u),l=Math.min(c,t*a),d=Math.max(0,t*a-u+o+a);switch("smart"===n&&(n=r>=d-u&&r<=l+u?"auto":"center"),n){case"start":return l;case"end":return d;case"center":var f=Math.round(d+(l-d)/2);return f<Math.ceil(u/2)?0:f>c+Math.floor(u/2)?c:f;default:return r>=d&&r<=l?r:d>l||r<d?d:l}},getOffsetForRowAndAlignment:function(e,t,n,r,i,o){var s=e.rowHeight,a=e.height,u=e.rowCount,c=Math.max(0,u*s-a),l=Math.min(c,t*s),d=Math.max(0,t*s-a+o+s);switch("smart"===n&&(n=r>=d-a&&r<=l+a?"auto":"center"),n){case"start":return l;case"end":return d;case"center":var f=Math.round(d+(l-d)/2);return f<Math.ceil(a/2)?0:f>c+Math.floor(a/2)?c:f;default:return r>=d&&r<=l?r:d>l||r<d?d:l}},getColumnStartIndexForOffset:function(e,t){var n=e.columnWidth,r=e.columnCount;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getColumnStopIndexForStartIndex:function(e,t,n){var r=e.columnWidth,i=e.columnCount,o=e.width,s=t*r,a=Math.ceil((o+n-s)/r);return Math.max(0,Math.min(i-1,t+a-1))},getRowStartIndexForOffset:function(e,t){var n=e.rowHeight,r=e.rowCount;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getRowStopIndexForStartIndex:function(e,t,n){var r=e.rowHeight,i=e.rowCount,o=e.height,s=t*r,a=Math.ceil((o+n-s)/r);return Math.max(0,Math.min(i-1,t+a-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}}),F=x({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r,i,o){var s=e.direction,a=e.height,u=e.itemCount,c=e.itemSize,l=e.layout,d=e.width,f="horizontal"===s||"horizontal"===l?d:a,p=Math.max(0,u*c-f),h=Math.min(p,t*c),m=Math.max(0,t*c-f+c+o);switch("smart"===n&&(n=r>=m-f&&r<=h+f?"auto":"center"),n){case"start":return h;case"end":return m;case"center":var g=Math.round(m+(h-m)/2);return g<Math.ceil(f/2)?0:g>p+Math.floor(f/2)?p:g;default:return r>=m&&r<=h?r:r<m?m:h}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,i=e.height,o=e.itemCount,s=e.itemSize,a=e.layout,u=e.width,c=t*s,l="horizontal"===r||"horizontal"===a?u:i,d=Math.ceil((l+n-c)/s);return Math.max(0,Math.min(o-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function K(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}var U=["style"],W=["style"];function z(e,t){var n=e.style,r=d(e,U),i=t.style,o=d(t,W);return!K(n,i)&&!K(r,o)}function j(e,t){return!z(this.props,e)||K(this.state,t)}},3354:(e,t,n)=>{"use strict";var r=n(959),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},5257:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var v=w.prototype=new b;v.constructor=w,m(v,y.prototype),v.isPureReactComponent=!0;var S=Array.isArray,A=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)A.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===o?"."+P(u,0):o,S(s)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),T(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(u=0,o=""===o?".":o+":",S(e))for(var c=0;c<e.length;c++){var l=o+P(a=e[c],c);u+=T(a,t,i,l,s)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)u+=T(a=a.value,t,i,l=o+P(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},L={transition:null},C={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)A.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return B.current.useCallback(e,t)},t.useContext=function(e){return B.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return B.current.useDeferredValue(e)},t.useEffect=function(e,t){return B.current.useEffect(e,t)},t.useId=function(){return B.current.useId()},t.useImperativeHandle=function(e,t,n){return B.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return B.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return B.current.useMemo(e,t)},t.useReducer=function(e,t,n){return B.current.useReducer(e,t,n)},t.useRef=function(e){return B.current.useRef(e)},t.useState=function(e){return B.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return B.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return B.current.useTransition()},t.version="18.2.0"},959:(e,t,n)=>{"use strict";e.exports=n(5257)},1527:(e,t,n)=>{"use strict";e.exports=n(3354)},6157:(e,t,n)=>{e.exports=n(4250)},4250:(e,t,n)=>{var r=n(4061);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"==typeof e[i]&&r.push(i);for(var o=0;o<r.length;o++){var s=r[o],a=e[s];e[s]=function(r){var i=t.operation(n),o=Array.prototype.slice.call(arguments,1),s=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),s.apply(this,arguments))})),i.attempt((function(){r.apply(e,o)}))}.bind(e,a),e[s].options=n}}},4061:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var r=this,i=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n);return this._options.unref&&i.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,s=(e[o]||0)+1;e[o]=s,s>=n&&(t=i,n=s)}return t}},7969:(e,t,n)=>{"use strict";var r=n(489);t.K=void 0;var i=r(n(9197)),o=r(n(1568)),s=r(n(3460)),a=r(n(5402)),u=r(n(3670)),c=r(n(2023));var l=function(e){(0,s.default)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.default)(t);if(n){var i=(0,u.default)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,a.default)(this,e)});function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.autoconnect,i=void 0===n||n,s=t.reconnect,a=void 0===s||s,u=t.reconnect_interval,d=void 0===u?1e3:u,f=t.max_reconnects,p=void 0===f?5:f,h=arguments.length>2?arguments[2]:void 0;return(0,o.default)(this,l),r.call(this,c.default,e,{autoconnect:i,reconnect:a,reconnect_interval:d,max_reconnects:p},h)}return(0,i.default)(l)}(r(n(6330)).default);t.K=l},6330:(e,t,n)=>{"use strict";var r=n(489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(8158)),o=r(n(5305)),s=r(n(4445)),a=r(n(1568)),u=r(n(9197)),c=r(n(3460)),l=r(n(5402)),d=r(n(3670)),f=n(1312);var p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},h=function(e){(0,c.default)(y,e);var t,n,r,f,h,m,g=(h=y,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,d.default)(h);if(m){var n=(0,d.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,l.default)(this,e)});function y(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,y);var o=r.autoconnect,s=void 0===o||o,u=r.reconnect,c=void 0===u||u,l=r.reconnect_interval,d=void 0===l?1e3:l,f=r.max_reconnects,h=void 0===f?5:f,m=p(r,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(t=g.call(this)).webSocketFactory=e,t.queue={},t.rpc_id=0,t.address=n,t.autoconnect=s,t.ready=!1,t.reconnect=c,t.reconnect_interval=d,t.max_reconnects=h,t.rest_options=m,t.current_reconnects=0,t.generate_request_id=i||function(){return++t.rpc_id},t.autoconnect&&t._connect(t.address,Object.assign({autoconnect:t.autoconnect,reconnect:t.reconnect,reconnect_interval:t.reconnect_interval,max_reconnects:t.max_reconnects},t.rest_options)),t}return(0,u.default)(y,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(e,t,n,r){var i=this;return r||"object"!==(0,s.default)(n)||(r=n,n=null),new Promise((function(o,s){if(!i.ready)return s(new Error("socket not ready"));var a=i.generate_request_id(e,t),u={jsonrpc:"2.0",method:e,params:t||null,id:a};i.socket.send(JSON.stringify(u),r,(function(e){if(e)return s(e);i.queue[a]={promise:[o,s]},n&&(i.queue[a].timeout=setTimeout((function(){delete i.queue[a],s(new Error("reply timeout"))}),n))}))}))}},{key:"login",value:(f=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("rpc.login",t);case 2:if(n=e.sent){e.next=5;break}throw new Error("authentication failed");case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"listMethods",value:(r=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("__listMethods");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"notify",value:function(e,t){var n=this;return new Promise((function(r,i){if(!n.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:e,params:t||null};n.socket.send(JSON.stringify(o),(function(e){if(e)return i(e);r()}))}))}},{key:"subscribe",value:(n=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=[t]),e.next=3,this.call("rpc.on",t);case 3:if(n=e.sent,"string"!=typeof t||"ok"===n[t]){e.next=6;break}throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"unsubscribe",value:(t=(0,o.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=[t]),e.next=3,this.call("rpc.off",t);case 3:if(n=e.sent,"string"!=typeof t||"ok"===n[t]){e.next=6;break}throw new Error("Failed unsubscribing from an event with: "+n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"close",value:function(e,t){this.socket.close(e||1e3,t)}},{key:"_connect",value:function(e,t){var n=this;this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(function(){n.ready=!0,n.emit("open"),n.current_reconnects=0})),this.socket.addEventListener("message",(function(e){var t=e.data;t instanceof ArrayBuffer&&(t=Buffer.from(t).toString());try{t=JSON.parse(t)}catch(e){return}if(t.notification&&n.listeners(t.notification).length){if(!Object.keys(t.params).length)return n.emit(t.notification);var r=[t.notification];if(t.params.constructor===Object)r.push(t.params);else for(var i=0;i<t.params.length;i++)r.push(t.params[i]);return Promise.resolve().then((function(){n.emit.apply(n,r)}))}if(!n.queue[t.id])return t.method&&t.params?Promise.resolve().then((function(){n.emit(t.method,t.params)})):void 0;"error"in t=="result"in t&&n.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),n.queue[t.id].timeout&&clearTimeout(n.queue[t.id].timeout),t.error?n.queue[t.id].promise[1](t.error):n.queue[t.id].promise[0](t.result),delete n.queue[t.id]})),this.socket.addEventListener("error",(function(e){return n.emit("error",e)})),this.socket.addEventListener("close",(function(r){var i=r.code,o=r.reason;n.ready&&setTimeout((function(){return n.emit("close",i,o)}),0),n.ready=!1,n.socket=void 0,1e3!==i&&(n.current_reconnects++,n.reconnect&&(n.max_reconnects>n.current_reconnects||0===n.max_reconnects)&&setTimeout((function(){return n._connect(e,t)}),n.reconnect_interval))}))}}]),y}(f.EventEmitter);t.default=h},2023:(e,t,n)=>{"use strict";var r=n(489);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new c(e,t)};var i=r(n(1568)),o=r(n(9197)),s=r(n(3460)),a=r(n(5402)),u=r(n(3670));var c=function(e){(0,s.default)(c,e);var t,n,r=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.default)(t);if(n){var i=(0,u.default)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,a.default)(this,e)});function c(e,t,n){var o;return(0,i.default)(this,c),(o=r.call(this)).socket=new window.WebSocket(e,n),o.socket.onopen=function(){return o.emit("open")},o.socket.onmessage=function(e){return o.emit("message",e.data)},o.socket.onerror=function(e){return o.emit("error",e)},o.socket.onclose=function(e){o.emit("close",e.code,e.reason)},o}return(0,o.default)(c,[{key:"send",value:function(e,t,n){var r=n||t;try{this.socket.send(e),r()}catch(e){r(e)}}},{key:"close",value:function(e,t){this.socket.close(e,t)}},{key:"addEventListener",value:function(e,t,n){this.socket.addEventListener(e,t,n)}}]),c}(n(1312).EventEmitter)},1874:(e,t,n)=>{var r=n(5872),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},5568:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,u=e[a],c=a+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[a]=n,r=a);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],l=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function S(e){if(g=!1,v(e),!m)if(null!==r(c))m=!0,L(A);else{var t=r(l);null!==t&&C(S,t.startTime-e)}}function A(e,n){m=!1,g&&(g=!1,b(I),I=-1),h=!0;var o=p;try{for(v(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!T());){var s=f.callback;if("function"==typeof s){f.callback=null,p=f.priorityLevel;var a=s(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?f.callback=a:f===r(c)&&i(c),v(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var d=r(l);null!==d&&C(S,d.startTime-n),u=!1}return u}finally{f=null,p=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,M=null,I=-1,E=5,P=-1;function T(){return!(t.unstable_now()-P<E)}function O(){if(null!==M){var e=t.unstable_now();P=e;var n=!0;try{n=M(!0,e)}finally{n?k():(_=!1,M=null)}}else _=!1}if("function"==typeof w)k=function(){w(O)};else if("undefined"!=typeof MessageChannel){var x=new MessageChannel,B=x.port2;x.port1.onmessage=O,k=function(){B.postMessage(null)}}else k=function(){y(O,0)};function L(e){M=e,_||(_=!0,k())}function C(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,L(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(b(I),I=-1):g=!0,C(S,o-s))):(e.sortIndex=a,n(c,e),m||h||(m=!0,L(A))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},2962:(e,t,n)=>{"use strict";e.exports=n(5568)},3779:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e){return e.toLowerCase()}Object.create,Object.create;var o=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function a(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function u(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?o:n,u=t.stripRegexp,c=void 0===u?s:u,l=t.transform,d=void 0===l?i:l,f=t.delimiter,p=void 0===f?" ":f,h=a(a(e,r,"$1\0$2"),c,"\0"),m=0,g=h.length;"\0"===h.charAt(m);)m++;for(;"\0"===h.charAt(g-1);)g--;return h.slice(m,g).split("\0").map(d).join(p)}(e,r({delimiter:"."},t))}(e,r({delimiter:"_"},t))}},8752:(e,t)=>{"use strict";function n(e,t,n){return t<=e&&e<=n}function r(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var o=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}var a="utf-8";function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,r=0,i=0,a=0,u=128,c=191;this.handler=function(e,l){if(-1===l&&0!==a)return a=0,s(t);if(-1===l)return o;if(0===a){if(n(l,0,127))return l;if(n(l,194,223))a=1,r=l-192;else if(n(l,224,239))224===l&&(u=160),237===l&&(c=159),a=2,r=l-224;else{if(!n(l,240,244))return s(t);240===l&&(u=144),244===l&&(c=143),a=3,r=l-240}return r<<=6*a,null}if(!n(l,u,c))return r=a=i=0,u=128,c=191,e.prepend(l),s(t);if(u=128,c=191,r+=l-128<<6*(a-(i+=1)),i!==a)return null;var d=r;return r=a=i=0,d}}function d(e){e.fatal,this.handler=function(e,t){if(-1===t)return o;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var s=[(t>>6*r)+i];r>0;){var a=t>>6*(r-1);s.push(128|63&a),r-=1}return s}}u.prototype={decode:function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=r(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var s,a=new i(n),u=[];!a.endOfStream()&&(s=this._decoder.handler(a,a.read()))!==o;)null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s));if(!this._streaming){do{if((s=this._decoder.handler(a,a.read()))===o)break;null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(u)}},c.prototype={encode:function(e,t){e=e?String(e):"",t=r(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(t.stream);for(var n,s=[],a=new i(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,u=1023&s;i.push(65536+(a<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(e));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?s.push.apply(s,n):s.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?s.push.apply(s,n):s.push(n);this._encoder=null}return new Uint8Array(s)}},t.TextEncoder=c,t.TextDecoder=u},5408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(e,t){if(!e)throw new Error("Invariant failed")}},755:e=>{e.exports&&(e.exports=function(e){"use strict";return e.prototype.toFormat=function(e,t,n){if(!this.e&&0!==this.e)return this.toString();var r,i,o,s,a,u,c,l,d,f,p,h,m,g,y,b=this.format||{},w=this.constructor.format||{};if(e!=a?"object"==typeof e?(n=e,e=a):t!=a?"object"==typeof t?(n=t,t=a):"object"!=typeof n&&(n={}):n={}:n={},l=(r=this.toFixed(e,t).split("."))[0],d=r[1],u=(c=this.s<0?l.slice(1):l).length,(f=n.decimalSeparator)==a&&(f=b.decimalSeparator)==a&&(f=w.decimalSeparator)==a&&(f="."),(p=n.groupSeparator)==a&&(p=b.groupSeparator)==a&&(p=w.groupSeparator),p&&((h=n.groupSize)==a&&(h=b.groupSize)==a&&(h=w.groupSize)==a&&(h=0),(m=n.secondaryGroupSize)==a&&(m=b.secondaryGroupSize)==a&&(m=w.secondaryGroupSize)==a&&(m=0),m?(i=+m,u-=o=+h):(i=+h,o=+m),i>0&&u>0)){for(s=u%i||i,l=c.substr(0,s);s<u;s+=i)l+=p+c.substr(s,i);o>0&&(l+=p+c.slice(s)),this.s<0&&(l="-"+l)}return d?((g=n.fractionGroupSeparator)==a&&(g=b.fractionGroupSeparator)==a&&(g=w.fractionGroupSeparator),g&&((y=n.fractionGroupSize)==a&&(y=b.fractionGroupSize)==a&&(y=w.fractionGroupSize)==a&&(y=0),(y=+y)&&(d=d.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+g))),l+f+d):l},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},3859:(e,t,n)=>{var r=n(3983),i=n(7311);e.exports={parse:function(e){var t=r.parse(e.toString());return i.compile(t)}}},7311:e=>{"use strict";e.exports={compile:function(e){var t=[],n=[],r="",i=Object.create(null),o=i;return function(e){for(var t,n=0;n<e.length;n++)switch((t=e[n]).type){case"Assign":a(t);break;case"ObjectPath":d(t);break;case"ArrayPath":f(t)}return i}(e);function s(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}function a(e){var i,a=e.key,l=e.value,d=e.line,f=e.column;i=r?r+"."+a:a,void 0!==o[a]&&s("Cannot redefine existing key '"+i+"'.",d,f),o[a]=c(l),u(i)||(t.push(i),n.push(i))}function u(e){return-1!==t.indexOf(e)}function c(e){return"Array"===e.type?function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n];null===t?t=r.type:r.type!==t&&s("Cannot add value of type "+r.type+" to array of type "+t+".",r.line,r.column)}return e.map(c)}(e.value):"InlineTable"===e.type?l(e.value):e.value}function l(e){for(var t=Object.create(null),n=0;n<e.length;n++){var r=e[n];"InlineTable"===r.value.type?t[r.key]=l(r.value.value):"InlineTableValue"===r.type&&(t[r.key]=c(r.value))}return t}function d(e){var n=e.value,a=n.map(h).join("."),c=e.line,l=e.column;u(a)&&s("Cannot redefine existing key '"+n+"'.",c,l),t.push(a),o=p(i,n,Object.create(null),c,l),r=n}function f(e){var n=e.value,a=n.map(h).join("."),c=e.line,l=e.column;if(u(a)||t.push(a),(t=t.filter((function(e){return 0!==e.indexOf(a)}))).push(a),o=p(i,n,[],c,l),r=a,o instanceof Array){var d=Object.create(null);o.push(d),o=d}else s("Cannot redefine existing key '"+n+"'.",c,l)}function p(e,t,r,i,o){for(var a=[],u="",c=(t.join("."),e),l=0;l<t.length;l++){var d=t[l];a.push(d),u=a.join("."),void 0===c[d]?l===t.length-1?c[d]=r:c[d]=Object.create(null):l!==t.length-1&&n.indexOf(u)>-1&&s("Cannot redefine existing key '"+u+"'.",i,o),(c=c[d])instanceof Array&&c.length&&l<t.length-1&&(c=c[c.length-1])}return c}function h(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},3983:e=>{e.exports=function(){function e(e,t,n,r,i,o){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},i={},o={start:Ct},s=Ct,a=function(){return On},u=i,c="#",l={type:"literal",value:"#",description:'"#"'},d=void 0,f={type:"any",description:"any character"},p="[",h={type:"literal",value:"[",description:'"["'},m="]",g={type:"literal",value:"]",description:'"]"'},y=function(e){Bn(Ln("ObjectPath",e,Tt,Ot))},b=function(e){Bn(Ln("ArrayPath",e,Tt,Ot))},w=function(e,t){return e.concat(t)},v=function(e){return[e]},S=function(e){return e},A=".",k={type:"literal",value:".",description:'"."'},_="=",M={type:"literal",value:"=",description:'"="'},I=function(e,t){Bn(Ln("Assign",t,Tt,Ot,e))},E=function(e){return e.join("")},P=function(e){return e.value},T='"""',O={type:"literal",value:'"""',description:'"\\"\\"\\""'},x=null,B=function(e){return Ln("String",e.join(""),Tt,Ot)},L='"',C={type:"literal",value:'"',description:'"\\""'},R="'''",N={type:"literal",value:"'''",description:"\"'''\""},D="'",F={type:"literal",value:"'",description:'"\'"'},K=function(e){return e},U=function(e){return e},W="\\",z={type:"literal",value:"\\",description:'"\\\\"'},j=function(){return""},q="e",V={type:"literal",value:"e",description:'"e"'},H="E",Q={type:"literal",value:"E",description:'"E"'},G=function(e,t){return Ln("Float",parseFloat(e+"e"+t),Tt,Ot)},X=function(e){return Ln("Float",parseFloat(e),Tt,Ot)},Y="+",Z={type:"literal",value:"+",description:'"+"'},$=function(e){return e.join("")},J="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},ne=function(e){return Ln("Integer",parseInt(e,10),Tt,Ot)},re="true",ie={type:"literal",value:"true",description:'"true"'},oe=function(){return Ln("Boolean",!0,Tt,Ot)},se="false",ae={type:"literal",value:"false",description:'"false"'},ue=function(){return Ln("Boolean",!1,Tt,Ot)},ce=function(){return Ln("Array",[],Tt,Ot)},le=function(e){return Ln("Array",e?[e]:[],Tt,Ot)},de=function(e){return Ln("Array",e,Tt,Ot)},fe=function(e,t){return Ln("Array",e.concat(t),Tt,Ot)},pe=function(e){return e},he=",",me={type:"literal",value:",",description:'","'},ge="{",ye={type:"literal",value:"{",description:'"{"'},be="}",we={type:"literal",value:"}",description:'"}"'},ve=function(e){return Ln("InlineTable",e,Tt,Ot)},Se=function(e,t){return Ln("InlineTableValue",t,Tt,Ot,e)},Ae=function(e){return"."+e},ke=function(e){return e.join("")},_e=":",Me={type:"literal",value:":",description:'":"'},Ie=function(e){return e.join("")},Ee="T",Pe={type:"literal",value:"T",description:'"T"'},Te="Z",Oe={type:"literal",value:"Z",description:'"Z"'},xe=function(e,t){return Ln("Date",new Date(e+"T"+t+"Z"),Tt,Ot)},Be=function(e,t){return Ln("Date",new Date(e+"T"+t),Tt,Ot)},Le=/^[ \t]/,Ce={type:"class",value:"[ \\t]",description:"[ \\t]"},Re="\n",Ne={type:"literal",value:"\n",description:'"\\n"'},De="\r",Fe={type:"literal",value:"\r",description:'"\\r"'},Ke=/^[0-9a-f]/i,Ue={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},We=/^[0-9]/,ze={type:"class",value:"[0-9]",description:"[0-9]"},je="_",qe={type:"literal",value:"_",description:'"_"'},Ve=function(){return""},He=/^[A-Za-z0-9_\-]/,Qe={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},Ge=function(e){return e.join("")},Xe='\\"',Ye={type:"literal",value:'\\"',description:'"\\\\\\""'},Ze=function(){return'"'},$e="\\\\",Je={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",nt={type:"literal",value:"\\b",description:'"\\\\b"'},rt=function(){return"\b"},it="\\t",ot={type:"literal",value:"\\t",description:'"\\\\t"'},st=function(){return"\t"},at="\\n",ut={type:"literal",value:"\\n",description:'"\\\\n"'},ct=function(){return"\n"},lt="\\f",dt={type:"literal",value:"\\f",description:'"\\\\f"'},ft=function(){return"\f"},pt="\\r",ht={type:"literal",value:"\\r",description:'"\\\\r"'},mt=function(){return"\r"},gt="\\U",yt={type:"literal",value:"\\U",description:'"\\\\U"'},bt=function(e){return Cn(e.join(""))},wt="\\u",vt={type:"literal",value:"\\u",description:'"\\\\u"'},St=0,At=0,kt=0,_t={line:1,column:1,seenCR:!1},Mt=0,It=[],Et=0,Pt={};if("startRule"in r){if(!(r.startRule in o))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=o[r.startRule]}function Tt(){return xt(At).line}function Ot(){return xt(At).column}function xt(e){return kt!==e&&(kt>e&&(kt=0,_t={line:1,column:1,seenCR:!1}),function(e,n,r){var i,o;for(i=n;i<r;i++)"\n"===(o=t.charAt(i))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(_t,kt,e),kt=e),_t}function Bt(e){St<Mt||(St>Mt&&(Mt=St,It=[]),It.push(e))}function Lt(n,r,i){var o=xt(i),s=i<t.length?t.charAt(i):null;return null!==r&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==n?n:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(r,s),r,s,i,o.line,o.column)}function Ct(){var e,t,n,r=49*St+0,o=Pt[r];if(o)return St=o.nextPos,o.result;for(e=St,t=[],n=Rt();n!==i;)t.push(n),n=Rt();return t!==i&&(At=e,t=a()),e=t,Pt[r]={nextPos:St,result:e},e}function Rt(){var e,t,n,r,o,s,a,c=49*St+1,l=Pt[c];if(l)return St=l.nextPos,l.result;for(e=St,t=[],n=vn();n!==i;)t.push(n),n=vn();if(t!==i)if((n=Nt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i){for(o=[],s=Dt();s!==i;)o.push(s),s=Dt();if(o!==i){if(s=[],(a=Sn())!==i)for(;a!==i;)s.push(a),a=Sn();else s=u;s===i&&(s=kn()),s!==i?e=t=[t,n,r,o,s]:(St=e,e=u)}else St=e,e=u}else St=e,e=u}else St=e,e=u;else St=e,e=u;if(e===i){if(e=St,t=[],(n=vn())!==i)for(;n!==i;)t.push(n),n=vn();else t=u;if(t!==i){if(n=[],(r=Sn())!==i)for(;r!==i;)n.push(r),r=Sn();else n=u;n===i&&(n=kn()),n!==i?e=t=[t,n]:(St=e,e=u)}else St=e,e=u;e===i&&(e=Sn())}return Pt[c]={nextPos:St,result:e},e}function Nt(){var e,t=49*St+2,n=Pt[t];return n?(St=n.nextPos,n.result):((e=Dt())===i&&(e=Ft())===i&&(e=Kt())===i&&(e=jt()),Pt[t]={nextPos:St,result:e},e)}function Dt(){var e,n,r,o,s,a,p=49*St+3,h=Pt[p];if(h)return St=h.nextPos,h.result;if(e=St,35===t.charCodeAt(St)?(n=c,St++):(n=i,0===Et&&Bt(l)),n!==i){for(r=[],o=St,s=St,Et++,(a=Sn())===i&&(a=kn()),Et--,a===i?s=d:(St=s,s=u),s!==i?(t.length>St?(a=t.charAt(St),St++):(a=i,0===Et&&Bt(f)),a!==i?o=s=[s,a]:(St=o,o=u)):(St=o,o=u);o!==i;)r.push(o),o=St,s=St,Et++,(a=Sn())===i&&(a=kn()),Et--,a===i?s=d:(St=s,s=u),s!==i?(t.length>St?(a=t.charAt(St),St++):(a=i,0===Et&&Bt(f)),a!==i?o=s=[s,a]:(St=o,o=u)):(St=o,o=u);r!==i?e=n=[n,r]:(St=e,e=u)}else St=e,e=u;return Pt[p]={nextPos:St,result:e},e}function Ft(){var e,n,r,o,s,a,c=49*St+4,l=Pt[c];if(l)return St=l.nextPos,l.result;if(e=St,91===t.charCodeAt(St)?(n=p,St++):(n=i,0===Et&&Bt(h)),n!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i)if((o=Ut())!==i){for(s=[],a=vn();a!==i;)s.push(a),a=vn();s!==i?(93===t.charCodeAt(St)?(a=m,St++):(a=i,0===Et&&Bt(g)),a!==i?(At=e,e=n=y(o)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;return Pt[c]={nextPos:St,result:e},e}function Kt(){var e,n,r,o,s,a,c,l,d=49*St+5,f=Pt[d];if(f)return St=f.nextPos,f.result;if(e=St,91===t.charCodeAt(St)?(n=p,St++):(n=i,0===Et&&Bt(h)),n!==i)if(91===t.charCodeAt(St)?(r=p,St++):(r=i,0===Et&&Bt(h)),r!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if((s=Ut())!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();a!==i?(93===t.charCodeAt(St)?(c=m,St++):(c=i,0===Et&&Bt(g)),c!==i?(93===t.charCodeAt(St)?(l=m,St++):(l=i,0===Et&&Bt(g)),l!==i?(At=e,e=n=b(s)):(St=e,e=u)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u;return Pt[d]={nextPos:St,result:e},e}function Ut(){var e,t,n,r=49*St+6,o=Pt[r];if(o)return St=o.nextPos,o.result;if(e=St,t=[],(n=zt())!==i)for(;n!==i;)t.push(n),n=zt();else t=u;return t!==i&&(n=Wt())!==i?(At=e,e=t=w(t,n)):(St=e,e=u),e===i&&(e=St,(t=Wt())!==i&&(At=e,t=v(t)),e=t),Pt[r]={nextPos:St,result:e},e}function Wt(){var e,t,n,r,o,s=49*St+7,a=Pt[s];if(a)return St=a.nextPos,a.result;for(e=St,t=[],n=vn();n!==i;)t.push(n),n=vn();if(t!==i)if((n=qt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();r!==i?(At=e,e=t=S(n)):(St=e,e=u)}else St=e,e=u;else St=e,e=u;if(e===i){for(e=St,t=[],n=vn();n!==i;)t.push(n),n=vn();if(t!==i)if((n=Vt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();r!==i?(At=e,e=t=S(n)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}return Pt[s]={nextPos:St,result:e},e}function zt(){var e,n,r,o,s,a,c,l=49*St+8,d=Pt[l];if(d)return St=d.nextPos,d.result;for(e=St,n=[],r=vn();r!==i;)n.push(r),r=vn();if(n!==i)if((r=qt())!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if(46===t.charCodeAt(St)?(s=A,St++):(s=i,0===Et&&Bt(k)),s!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();a!==i?(At=e,e=n=S(r)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u;if(e===i){for(e=St,n=[],r=vn();r!==i;)n.push(r),r=vn();if(n!==i)if((r=Vt())!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if(46===t.charCodeAt(St)?(s=A,St++):(s=i,0===Et&&Bt(k)),s!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();a!==i?(At=e,e=n=S(r)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u}return Pt[l]={nextPos:St,result:e},e}function jt(){var e,n,r,o,s,a,c=49*St+9,l=Pt[c];if(l)return St=l.nextPos,l.result;if(e=St,(n=qt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i)if(61===t.charCodeAt(St)?(o=_,St++):(o=i,0===Et&&Bt(M)),o!==i){for(s=[],a=vn();a!==i;)s.push(a),a=vn();s!==i&&(a=Ht())!==i?(At=e,e=n=I(n,a)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;if(e===i)if(e=St,(n=Vt())!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i)if(61===t.charCodeAt(St)?(o=_,St++):(o=i,0===Et&&Bt(M)),o!==i){for(s=[],a=vn();a!==i;)s.push(a),a=vn();s!==i&&(a=Ht())!==i?(At=e,e=n=I(n,a)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;return Pt[c]={nextPos:St,result:e},e}function qt(){var e,t,n,r=49*St+10,o=Pt[r];if(o)return St=o.nextPos,o.result;if(e=St,t=[],(n=In())!==i)for(;n!==i;)t.push(n),n=In();else t=u;return t!==i&&(At=e,t=E(t)),e=t,Pt[r]={nextPos:St,result:e},e}function Vt(){var e,t,n=49*St+11,r=Pt[n];return r?(St=r.nextPos,r.result):(e=St,(t=Xt())!==i&&(At=e,t=P(t)),(e=t)===i&&(e=St,(t=Zt())!==i&&(At=e,t=P(t)),e=t),Pt[n]={nextPos:St,result:e},e)}function Ht(){var e,t=49*St+12,n=Pt[t];return n?(St=n.nextPos,n.result):((e=Qt())===i&&(e=wn())===i&&(e=rn())===i&&(e=sn())===i&&(e=un())===i&&(e=cn())===i&&(e=pn()),Pt[t]={nextPos:St,result:e},e)}function Qt(){var e,t=49*St+13,n=Pt[t];return n?(St=n.nextPos,n.result):((e=Gt())===i&&(e=Xt())===i&&(e=Yt())===i&&(e=Zt()),Pt[t]={nextPos:St,result:e},e)}function Gt(){var e,n,r,o,s,a=49*St+14,c=Pt[a];if(c)return St=c.nextPos,c.result;if(e=St,t.substr(St,3)===T?(n=T,St+=3):(n=i,0===Et&&Bt(O)),n!==i)if((r=Sn())===i&&(r=x),r!==i){for(o=[],s=en();s!==i;)o.push(s),s=en();o!==i?(t.substr(St,3)===T?(s=T,St+=3):(s=i,0===Et&&Bt(O)),s!==i?(At=e,e=n=B(o)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;else St=e,e=u;return Pt[a]={nextPos:St,result:e},e}function Xt(){var e,n,r,o,s=49*St+15,a=Pt[s];if(a)return St=a.nextPos,a.result;if(e=St,34===t.charCodeAt(St)?(n=L,St++):(n=i,0===Et&&Bt(C)),n!==i){for(r=[],o=$t();o!==i;)r.push(o),o=$t();r!==i?(34===t.charCodeAt(St)?(o=L,St++):(o=i,0===Et&&Bt(C)),o!==i?(At=e,e=n=B(r)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;return Pt[s]={nextPos:St,result:e},e}function Yt(){var e,n,r,o,s,a=49*St+16,c=Pt[a];if(c)return St=c.nextPos,c.result;if(e=St,t.substr(St,3)===R?(n=R,St+=3):(n=i,0===Et&&Bt(N)),n!==i)if((r=Sn())===i&&(r=x),r!==i){for(o=[],s=nn();s!==i;)o.push(s),s=nn();o!==i?(t.substr(St,3)===R?(s=R,St+=3):(s=i,0===Et&&Bt(N)),s!==i?(At=e,e=n=B(o)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;else St=e,e=u;return Pt[a]={nextPos:St,result:e},e}function Zt(){var e,n,r,o,s=49*St+17,a=Pt[s];if(a)return St=a.nextPos,a.result;if(e=St,39===t.charCodeAt(St)?(n=D,St++):(n=i,0===Et&&Bt(F)),n!==i){for(r=[],o=Jt();o!==i;)r.push(o),o=Jt();r!==i?(39===t.charCodeAt(St)?(o=D,St++):(o=i,0===Et&&Bt(F)),o!==i?(At=e,e=n=B(r)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;return Pt[s]={nextPos:St,result:e},e}function $t(){var e,n,r,o=49*St+18,s=Pt[o];return s?(St=s.nextPos,s.result):((e=Pn())===i&&(e=St,n=St,Et++,34===t.charCodeAt(St)?(r=L,St++):(r=i,0===Et&&Bt(C)),Et--,r===i?n=d:(St=n,n=u),n!==i?(t.length>St?(r=t.charAt(St),St++):(r=i,0===Et&&Bt(f)),r!==i?(At=e,e=n=K(r)):(St=e,e=u)):(St=e,e=u)),Pt[o]={nextPos:St,result:e},e)}function Jt(){var e,n,r,o=49*St+19,s=Pt[o];return s?(St=s.nextPos,s.result):(e=St,n=St,Et++,39===t.charCodeAt(St)?(r=D,St++):(r=i,0===Et&&Bt(F)),Et--,r===i?n=d:(St=n,n=u),n!==i?(t.length>St?(r=t.charAt(St),St++):(r=i,0===Et&&Bt(f)),r!==i?(At=e,e=n=K(r)):(St=e,e=u)):(St=e,e=u),Pt[o]={nextPos:St,result:e},e)}function en(){var e,n,r,o=49*St+20,s=Pt[o];return s?(St=s.nextPos,s.result):((e=Pn())===i&&(e=tn())===i&&(e=St,n=St,Et++,t.substr(St,3)===T?(r=T,St+=3):(r=i,0===Et&&Bt(O)),Et--,r===i?n=d:(St=n,n=u),n!==i?(t.length>St?(r=t.charAt(St),St++):(r=i,0===Et&&Bt(f)),r!==i?(At=e,e=n=U(r)):(St=e,e=u)):(St=e,e=u)),Pt[o]={nextPos:St,result:e},e)}function tn(){var e,n,r,o,s=49*St+21,a=Pt[s];if(a)return St=a.nextPos,a.result;if(e=St,92===t.charCodeAt(St)?(n=W,St++):(n=i,0===Et&&Bt(z)),n!==i)if(Sn()!==i){for(r=[],o=An();o!==i;)r.push(o),o=An();r!==i?(At=e,e=n=j()):(St=e,e=u)}else St=e,e=u;else St=e,e=u;return Pt[s]={nextPos:St,result:e},e}function nn(){var e,n,r,o=49*St+22,s=Pt[o];return s?(St=s.nextPos,s.result):(e=St,n=St,Et++,t.substr(St,3)===R?(r=R,St+=3):(r=i,0===Et&&Bt(N)),Et--,r===i?n=d:(St=n,n=u),n!==i?(t.length>St?(r=t.charAt(St),St++):(r=i,0===Et&&Bt(f)),r!==i?(At=e,e=n=K(r)):(St=e,e=u)):(St=e,e=u),Pt[o]={nextPos:St,result:e},e)}function rn(){var e,n,r,o,s=49*St+23,a=Pt[s];return a?(St=a.nextPos,a.result):(e=St,(n=on())===i&&(n=an()),n!==i?(101===t.charCodeAt(St)?(r=q,St++):(r=i,0===Et&&Bt(V)),r===i&&(69===t.charCodeAt(St)?(r=H,St++):(r=i,0===Et&&Bt(Q))),r!==i&&(o=an())!==i?(At=e,e=n=G(n,o)):(St=e,e=u)):(St=e,e=u),e===i&&(e=St,(n=on())!==i&&(At=e,n=X(n)),e=n),Pt[s]={nextPos:St,result:e},e)}function on(){var e,n,r,o,s,a,c=49*St+24,l=Pt[c];return l?(St=l.nextPos,l.result):(e=St,43===t.charCodeAt(St)?(n=Y,St++):(n=i,0===Et&&Bt(Z)),n===i&&(n=x),n!==i?(r=St,(o=En())!==i?(46===t.charCodeAt(St)?(s=A,St++):(s=i,0===Et&&Bt(k)),s!==i&&(a=En())!==i?r=o=[o,s,a]:(St=r,r=u)):(St=r,r=u),r!==i?(At=e,e=n=$(r)):(St=e,e=u)):(St=e,e=u),e===i&&(e=St,45===t.charCodeAt(St)?(n=J,St++):(n=i,0===Et&&Bt(ee)),n!==i?(r=St,(o=En())!==i?(46===t.charCodeAt(St)?(s=A,St++):(s=i,0===Et&&Bt(k)),s!==i&&(a=En())!==i?r=o=[o,s,a]:(St=r,r=u)):(St=r,r=u),r!==i?(At=e,e=n=te(r)):(St=e,e=u)):(St=e,e=u)),Pt[c]={nextPos:St,result:e},e)}function sn(){var e,t,n=49*St+25,r=Pt[n];return r?(St=r.nextPos,r.result):(e=St,(t=an())!==i&&(At=e,t=ne(t)),e=t,Pt[n]={nextPos:St,result:e},e)}function an(){var e,n,r,o,s,a=49*St+26,c=Pt[a];if(c)return St=c.nextPos,c.result;if(e=St,43===t.charCodeAt(St)?(n=Y,St++):(n=i,0===Et&&Bt(Z)),n===i&&(n=x),n!==i){if(r=[],(o=Mn())!==i)for(;o!==i;)r.push(o),o=Mn();else r=u;r!==i?(o=St,Et++,46===t.charCodeAt(St)?(s=A,St++):(s=i,0===Et&&Bt(k)),Et--,s===i?o=d:(St=o,o=u),o!==i?(At=e,e=n=$(r)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;if(e===i)if(e=St,45===t.charCodeAt(St)?(n=J,St++):(n=i,0===Et&&Bt(ee)),n!==i){if(r=[],(o=Mn())!==i)for(;o!==i;)r.push(o),o=Mn();else r=u;r!==i?(o=St,Et++,46===t.charCodeAt(St)?(s=A,St++):(s=i,0===Et&&Bt(k)),Et--,s===i?o=d:(St=o,o=u),o!==i?(At=e,e=n=te(r)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;return Pt[a]={nextPos:St,result:e},e}function un(){var e,n,r=49*St+27,o=Pt[r];return o?(St=o.nextPos,o.result):(e=St,t.substr(St,4)===re?(n=re,St+=4):(n=i,0===Et&&Bt(ie)),n!==i&&(At=e,n=oe()),(e=n)===i&&(e=St,t.substr(St,5)===se?(n=se,St+=5):(n=i,0===Et&&Bt(ae)),n!==i&&(At=e,n=ue()),e=n),Pt[r]={nextPos:St,result:e},e)}function cn(){var e,n,r,o,s,a=49*St+28,c=Pt[a];if(c)return St=c.nextPos,c.result;if(e=St,91===t.charCodeAt(St)?(n=p,St++):(n=i,0===Et&&Bt(h)),n!==i){for(r=[],o=fn();o!==i;)r.push(o),o=fn();r!==i?(93===t.charCodeAt(St)?(o=m,St++):(o=i,0===Et&&Bt(g)),o!==i?(At=e,e=n=ce()):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;if(e===i&&(e=St,91===t.charCodeAt(St)?(n=p,St++):(n=i,0===Et&&Bt(h)),n!==i?((r=ln())===i&&(r=x),r!==i?(93===t.charCodeAt(St)?(o=m,St++):(o=i,0===Et&&Bt(g)),o!==i?(At=e,e=n=le(r)):(St=e,e=u)):(St=e,e=u)):(St=e,e=u),e===i)){if(e=St,91===t.charCodeAt(St)?(n=p,St++):(n=i,0===Et&&Bt(h)),n!==i){if(r=[],(o=dn())!==i)for(;o!==i;)r.push(o),o=dn();else r=u;r!==i?(93===t.charCodeAt(St)?(o=m,St++):(o=i,0===Et&&Bt(g)),o!==i?(At=e,e=n=de(r)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;if(e===i)if(e=St,91===t.charCodeAt(St)?(n=p,St++):(n=i,0===Et&&Bt(h)),n!==i){if(r=[],(o=dn())!==i)for(;o!==i;)r.push(o),o=dn();else r=u;r!==i&&(o=ln())!==i?(93===t.charCodeAt(St)?(s=m,St++):(s=i,0===Et&&Bt(g)),s!==i?(At=e,e=n=fe(r,o)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u}return Pt[a]={nextPos:St,result:e},e}function ln(){var e,t,n,r,o,s=49*St+29,a=Pt[s];if(a)return St=a.nextPos,a.result;for(e=St,t=[],n=fn();n!==i;)t.push(n),n=fn();if(t!==i)if((n=Ht())!==i){for(r=[],o=fn();o!==i;)r.push(o),o=fn();r!==i?(At=e,e=t=pe(n)):(St=e,e=u)}else St=e,e=u;else St=e,e=u;return Pt[s]={nextPos:St,result:e},e}function dn(){var e,n,r,o,s,a,c,l=49*St+30,d=Pt[l];if(d)return St=d.nextPos,d.result;for(e=St,n=[],r=fn();r!==i;)n.push(r),r=fn();if(n!==i)if((r=Ht())!==i){for(o=[],s=fn();s!==i;)o.push(s),s=fn();if(o!==i)if(44===t.charCodeAt(St)?(s=he,St++):(s=i,0===Et&&Bt(me)),s!==i){for(a=[],c=fn();c!==i;)a.push(c),c=fn();a!==i?(At=e,e=n=pe(r)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u;return Pt[l]={nextPos:St,result:e},e}function fn(){var e,t=49*St+31,n=Pt[t];return n?(St=n.nextPos,n.result):((e=vn())===i&&(e=Sn())===i&&(e=Dt()),Pt[t]={nextPos:St,result:e},e)}function pn(){var e,n,r,o,s,a,c=49*St+32,l=Pt[c];if(l)return St=l.nextPos,l.result;if(e=St,123===t.charCodeAt(St)?(n=ge,St++):(n=i,0===Et&&Bt(ye)),n!==i){for(r=[],o=vn();o!==i;)r.push(o),o=vn();if(r!==i){for(o=[],s=hn();s!==i;)o.push(s),s=hn();if(o!==i){for(s=[],a=vn();a!==i;)s.push(a),a=vn();s!==i?(125===t.charCodeAt(St)?(a=be,St++):(a=i,0===Et&&Bt(we)),a!==i?(At=e,e=n=ve(o)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u}else St=e,e=u}else St=e,e=u;return Pt[c]={nextPos:St,result:e},e}function hn(){var e,n,r,o,s,a,c,l,d,f,p,h=49*St+33,m=Pt[h];if(m)return St=m.nextPos,m.result;for(e=St,n=[],r=vn();r!==i;)n.push(r),r=vn();if(n!==i)if((r=qt())!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if(61===t.charCodeAt(St)?(s=_,St++):(s=i,0===Et&&Bt(M)),s!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();if(a!==i)if((c=Ht())!==i){for(l=[],d=vn();d!==i;)l.push(d),d=vn();if(l!==i)if(44===t.charCodeAt(St)?(d=he,St++):(d=i,0===Et&&Bt(me)),d!==i){for(f=[],p=vn();p!==i;)f.push(p),p=vn();f!==i?(At=e,e=n=Se(r,c)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u;if(e===i){for(e=St,n=[],r=vn();r!==i;)n.push(r),r=vn();if(n!==i)if((r=qt())!==i){for(o=[],s=vn();s!==i;)o.push(s),s=vn();if(o!==i)if(61===t.charCodeAt(St)?(s=_,St++):(s=i,0===Et&&Bt(M)),s!==i){for(a=[],c=vn();c!==i;)a.push(c),c=vn();a!==i&&(c=Ht())!==i?(At=e,e=n=Se(r,c)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u}return Pt[h]={nextPos:St,result:e},e}function mn(){var e,n,r,o=49*St+34,s=Pt[o];return s?(St=s.nextPos,s.result):(e=St,46===t.charCodeAt(St)?(n=A,St++):(n=i,0===Et&&Bt(k)),n!==i&&(r=En())!==i?(At=e,e=n=Ae(r)):(St=e,e=u),Pt[o]={nextPos:St,result:e},e)}function gn(){var e,n,r,o,s,a,c,l,d,f,p,h,m=49*St+35,g=Pt[m];return g?(St=g.nextPos,g.result):(e=St,n=St,(r=Mn())!==i&&(o=Mn())!==i&&(s=Mn())!==i&&(a=Mn())!==i?(45===t.charCodeAt(St)?(c=J,St++):(c=i,0===Et&&Bt(ee)),c!==i&&(l=Mn())!==i&&(d=Mn())!==i?(45===t.charCodeAt(St)?(f=J,St++):(f=i,0===Et&&Bt(ee)),f!==i&&(p=Mn())!==i&&(h=Mn())!==i?n=r=[r,o,s,a,c,l,d,f,p,h]:(St=n,n=u)):(St=n,n=u)):(St=n,n=u),n!==i&&(At=e,n=ke(n)),e=n,Pt[m]={nextPos:St,result:e},e)}function yn(){var e,n,r,o,s,a,c,l,d,f,p,h=49*St+36,m=Pt[h];return m?(St=m.nextPos,m.result):(e=St,n=St,(r=Mn())!==i&&(o=Mn())!==i?(58===t.charCodeAt(St)?(s=_e,St++):(s=i,0===Et&&Bt(Me)),s!==i&&(a=Mn())!==i&&(c=Mn())!==i?(58===t.charCodeAt(St)?(l=_e,St++):(l=i,0===Et&&Bt(Me)),l!==i&&(d=Mn())!==i&&(f=Mn())!==i?((p=mn())===i&&(p=x),p!==i?n=r=[r,o,s,a,c,l,d,f,p]:(St=n,n=u)):(St=n,n=u)):(St=n,n=u)):(St=n,n=u),n!==i&&(At=e,n=Ie(n)),e=n,Pt[h]={nextPos:St,result:e},e)}function bn(){var e,n,r,o,s,a,c,l,d,f,p,h,m,g,y,b,w,v=49*St+37,S=Pt[v];return S?(St=S.nextPos,S.result):(e=St,n=St,(r=Mn())!==i&&(o=Mn())!==i?(58===t.charCodeAt(St)?(s=_e,St++):(s=i,0===Et&&Bt(Me)),s!==i&&(a=Mn())!==i&&(c=Mn())!==i?(58===t.charCodeAt(St)?(l=_e,St++):(l=i,0===Et&&Bt(Me)),l!==i&&(d=Mn())!==i&&(f=Mn())!==i?((p=mn())===i&&(p=x),p!==i?(45===t.charCodeAt(St)?(h=J,St++):(h=i,0===Et&&Bt(ee)),h===i&&(43===t.charCodeAt(St)?(h=Y,St++):(h=i,0===Et&&Bt(Z))),h!==i&&(m=Mn())!==i&&(g=Mn())!==i?(58===t.charCodeAt(St)?(y=_e,St++):(y=i,0===Et&&Bt(Me)),y!==i&&(b=Mn())!==i&&(w=Mn())!==i?n=r=[r,o,s,a,c,l,d,f,p,h,m,g,y,b,w]:(St=n,n=u)):(St=n,n=u)):(St=n,n=u)):(St=n,n=u)):(St=n,n=u)):(St=n,n=u),n!==i&&(At=e,n=Ie(n)),e=n,Pt[v]={nextPos:St,result:e},e)}function wn(){var e,n,r,o,s,a=49*St+38,c=Pt[a];return c?(St=c.nextPos,c.result):(e=St,(n=gn())!==i?(84===t.charCodeAt(St)?(r=Ee,St++):(r=i,0===Et&&Bt(Pe)),r!==i&&(o=yn())!==i?(90===t.charCodeAt(St)?(s=Te,St++):(s=i,0===Et&&Bt(Oe)),s!==i?(At=e,e=n=xe(n,o)):(St=e,e=u)):(St=e,e=u)):(St=e,e=u),e===i&&(e=St,(n=gn())!==i?(84===t.charCodeAt(St)?(r=Ee,St++):(r=i,0===Et&&Bt(Pe)),r!==i&&(o=bn())!==i?(At=e,e=n=Be(n,o)):(St=e,e=u)):(St=e,e=u)),Pt[a]={nextPos:St,result:e},e)}function vn(){var e,n=49*St+39,r=Pt[n];return r?(St=r.nextPos,r.result):(Le.test(t.charAt(St))?(e=t.charAt(St),St++):(e=i,0===Et&&Bt(Ce)),Pt[n]={nextPos:St,result:e},e)}function Sn(){var e,n,r,o=49*St+40,s=Pt[o];return s?(St=s.nextPos,s.result):(10===t.charCodeAt(St)?(e=Re,St++):(e=i,0===Et&&Bt(Ne)),e===i&&(e=St,13===t.charCodeAt(St)?(n=De,St++):(n=i,0===Et&&Bt(Fe)),n!==i?(10===t.charCodeAt(St)?(r=Re,St++):(r=i,0===Et&&Bt(Ne)),r!==i?e=n=[n,r]:(St=e,e=u)):(St=e,e=u)),Pt[o]={nextPos:St,result:e},e)}function An(){var e,t=49*St+41,n=Pt[t];return n?(St=n.nextPos,n.result):((e=Sn())===i&&(e=vn()),Pt[t]={nextPos:St,result:e},e)}function kn(){var e,n,r=49*St+42,o=Pt[r];return o?(St=o.nextPos,o.result):(e=St,Et++,t.length>St?(n=t.charAt(St),St++):(n=i,0===Et&&Bt(f)),Et--,n===i?e=d:(St=e,e=u),Pt[r]={nextPos:St,result:e},e)}function _n(){var e,n=49*St+43,r=Pt[n];return r?(St=r.nextPos,r.result):(Ke.test(t.charAt(St))?(e=t.charAt(St),St++):(e=i,0===Et&&Bt(Ue)),Pt[n]={nextPos:St,result:e},e)}function Mn(){var e,n,r=49*St+44,o=Pt[r];return o?(St=o.nextPos,o.result):(We.test(t.charAt(St))?(e=t.charAt(St),St++):(e=i,0===Et&&Bt(ze)),e===i&&(e=St,95===t.charCodeAt(St)?(n=je,St++):(n=i,0===Et&&Bt(qe)),n!==i&&(At=e,n=Ve()),e=n),Pt[r]={nextPos:St,result:e},e)}function In(){var e,n=49*St+45,r=Pt[n];return r?(St=r.nextPos,r.result):(He.test(t.charAt(St))?(e=t.charAt(St),St++):(e=i,0===Et&&Bt(Qe)),Pt[n]={nextPos:St,result:e},e)}function En(){var e,t,n,r=49*St+46,o=Pt[r];if(o)return St=o.nextPos,o.result;if(e=St,t=[],(n=Mn())!==i)for(;n!==i;)t.push(n),n=Mn();else t=u;return t!==i&&(At=e,t=Ge(t)),e=t,Pt[r]={nextPos:St,result:e},e}function Pn(){var e,n,r=49*St+47,o=Pt[r];return o?(St=o.nextPos,o.result):(e=St,t.substr(St,2)===Xe?(n=Xe,St+=2):(n=i,0===Et&&Bt(Ye)),n!==i&&(At=e,n=Ze()),(e=n)===i&&(e=St,t.substr(St,2)===$e?(n=$e,St+=2):(n=i,0===Et&&Bt(Je)),n!==i&&(At=e,n=et()),(e=n)===i&&(e=St,t.substr(St,2)===tt?(n=tt,St+=2):(n=i,0===Et&&Bt(nt)),n!==i&&(At=e,n=rt()),(e=n)===i&&(e=St,t.substr(St,2)===it?(n=it,St+=2):(n=i,0===Et&&Bt(ot)),n!==i&&(At=e,n=st()),(e=n)===i&&(e=St,t.substr(St,2)===at?(n=at,St+=2):(n=i,0===Et&&Bt(ut)),n!==i&&(At=e,n=ct()),(e=n)===i&&(e=St,t.substr(St,2)===lt?(n=lt,St+=2):(n=i,0===Et&&Bt(dt)),n!==i&&(At=e,n=ft()),(e=n)===i&&(e=St,t.substr(St,2)===pt?(n=pt,St+=2):(n=i,0===Et&&Bt(ht)),n!==i&&(At=e,n=mt()),(e=n)===i&&(e=Tn()))))))),Pt[r]={nextPos:St,result:e},e)}function Tn(){var e,n,r,o,s,a,c,l,d,f,p,h=49*St+48,m=Pt[h];return m?(St=m.nextPos,m.result):(e=St,t.substr(St,2)===gt?(n=gt,St+=2):(n=i,0===Et&&Bt(yt)),n!==i?(r=St,(o=_n())!==i&&(s=_n())!==i&&(a=_n())!==i&&(c=_n())!==i&&(l=_n())!==i&&(d=_n())!==i&&(f=_n())!==i&&(p=_n())!==i?r=o=[o,s,a,c,l,d,f,p]:(St=r,r=u),r!==i?(At=e,e=n=bt(r)):(St=e,e=u)):(St=e,e=u),e===i&&(e=St,t.substr(St,2)===wt?(n=wt,St+=2):(n=i,0===Et&&Bt(vt)),n!==i?(r=St,(o=_n())!==i&&(s=_n())!==i&&(a=_n())!==i&&(c=_n())!==i?r=o=[o,s,a,c]:(St=r,r=u),r!==i?(At=e,e=n=bt(r)):(St=e,e=u)):(St=e,e=u)),Pt[h]={nextPos:St,result:e},e)}var On=[];function xn(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}function Bn(e){On.push(e)}function Ln(e,t,n,r,i){var o={type:e,value:t,line:n(),column:r()};return i&&(o.key=i),o}function Cn(e,t,n){var r=parseInt("0x"+e);if(!(!isFinite(r)||Math.floor(r)!=r||r<0||r>1114111||r>55295&&r<57344))return Rn(r);xn("Invalid Unicode escape code: "+e,t,n)}function Rn(){var e,t,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var s="";++i<o;){var a=Number(arguments[i]);a<=65535?r.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,r.push(e,t)),(i+1==o||r.length>n)&&(s+=String.fromCharCode.apply(null,r),r.length=0)}return s}if((n=s())!==i&&St===t.length)return n;throw n!==i&&St<t.length&&Bt({type:"end",description:"end of input"}),Lt(null,It,Mt)}}}()},7952:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},4911:(e,t,n)=>{"use strict";var r=n(2571),i=n(9141),o=n(8572),s=n(5698);function a(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=a(Object.prototype.toString),d=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),p=a(Boolean.prototype.valueOf);if(u)var h=a(BigInt.prototype.valueOf);if(c)var m=a(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===l(e)}function b(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function S(e){return"[object ArrayBuffer]"===l(e)}function A(e){return"undefined"!=typeof ArrayBuffer&&(S.working?S(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===l(e)}function _(e){return"undefined"!=typeof DataView&&(k.working?k(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=i,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||_(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},S.working="undefined"!=typeof ArrayBuffer&&S(new ArrayBuffer),t.isArrayBuffer=A,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=_;var M="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function I(e){return"[object SharedArrayBuffer]"===l(e)}function E(e){return void 0!==M&&(void 0===I.working&&(I.working=I(new M)),I.working?I(e):e instanceof M)}function P(e){return g(e,d)}function T(e){return g(e,f)}function O(e){return g(e,p)}function x(e){return u&&g(e,h)}function B(e){return c&&g(e,m)}t.isSharedArrayBuffer=E,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=P,t.isStringObject=T,t.isBooleanObject=O,t.isBigIntObject=x,t.isSymbolObject=B,t.isBoxedPrimitive=function(e){return P(e)||T(e)||O(e)||x(e)||B(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(A(e)||E(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},3585:(e,t,n)=>{var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),a=r[n];n<o;a=r[++n])g(a)||!S(a)?s+=" "+a:s+=" "+u(a);return s},t.deprecate=function(e,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var o={},s=/^$/;if(process.env.NODE_DEBUG){var a=process.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function u(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),d(r,e,r.depth)}function c(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function l(e,t){return e}function d(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=d(e,i,r)),i}var o=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),k(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(_(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return f(n)}var c,l="",S=!1,M=["{","}"];return h(n)&&(S=!0,M=["[","]"]),_(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(l=" "+RegExp.prototype.toString.call(n)),A(n)&&(l=" "+Date.prototype.toUTCString.call(n)),k(n)&&(l=" "+f(n)),0!==s.length||S&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=S?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)T(t,String(s))?o.push(p(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))})),o}(e,n,r,a,s):s.map((function(t){return p(e,n,r,a,t,S)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,M)):M[0]+l+M[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),T(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=g(n)?d(e,u.value,null):d(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return void 0===e}function v(e){return S(e)&&"[object RegExp]"===M(e)}function S(e){return"object"==typeof e&&null!==e}function A(e){return S(e)&&"[object Date]"===M(e)}function k(e){return S(e)&&("[object Error]"===M(e)||e instanceof Error)}function _(e){return"function"==typeof e}function M(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!o[e])if(s.test(e)){var n=process.pid;o[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else o[e]=function(){};return o[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(4911),t.isArray=h,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=v,t.types.isRegExp=v,t.isObject=S,t.isDate=A,t.types.isDate=A,t.isError=k,t.types.isNativeError=k,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(7952);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=n(2937),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(O&&e[O]){var t;if("function"!=typeof(t=e[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),O&&Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=O,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return r.apply(i,arguments)};e.apply(this,t).then((function(e){process.nextTick(o.bind(null,null,e))}),(function(e){process.nextTick(x.bind(null,e,o))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}},4068:(e,t,n)=>{"use strict";n.d(t,{v4:()=>r.Z});var r=n(2675)},2675:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>l});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&s.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n}(r)}},8572:(e,t,n)=>{"use strict";var r=n(2904),i=n(6668),o=n(3099),s=n(658),a=o("Object.prototype.toString"),u=n(3060)(),c="undefined"==typeof globalThis?n.g:globalThis,l=i(),d=o("String.prototype.slice"),f={},p=Object.getPrototypeOf;u&&s&&p&&r(l,(function(e){if("function"==typeof c[e]){var t=new c[e];if(Symbol.toStringTag in t){var n=p(t),r=s(n,Symbol.toStringTag);if(!r){var i=p(n);r=s(i,Symbol.toStringTag)}f[e]=r.get}}}));var h=n(5698);e.exports=function(e){return!!h(e)&&(u&&Symbol.toStringTag in e?function(e){var t=!1;return r(f,(function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(e){}})),t}(e):d(a(e),8,-1))}},1485:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},5305:e=>{function t(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var s=e.apply(n,r);function a(e){t(s,i,o,a,u,"next",e)}function u(e){t(s,i,o,a,u,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},1568:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9197:(e,t,n)=>{var r=n(9496);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3670:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3460:(e,t,n)=>{var r=n(4185);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},489:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5402:(e,t,n)=>{var r=n(4445).default,i=n(1485);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9032:(e,t,n)=>{var r=n(4445).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new P(r||[]);return s(o,"_invoke",{value:_(e,n,a)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h={};function m(){}function g(){}function y(){}var b={};d(b,u,(function(){return this}));var w=Object.getPrototypeOf,v=w&&w(w(T([])));v&&v!==n&&o.call(v,u)&&(b=v);var S=y.prototype=m.prototype=Object.create(b);function A(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,s,a,u){var c=p(e[i],e,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=M(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function M(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,M(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return g.prototype=y,s(S,"constructor",{value:y,configurable:!0}),s(y,"constructor",{value:g,configurable:!0}),g.displayName=d(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(k.prototype),d(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new k(f(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},A(S),d(S,l,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},4185:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3694:(e,t,n)=>{var r=n(4445).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9496:(e,t,n)=>{var r=n(4445).default,i=n(3694);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},4445:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},8158:(e,t,n)=>{var r=n(9032)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},2627:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.BackpackWalletAdapter=t.BackpackWalletName=void 0;const o=n(8650),s=n(9990);t.BackpackWalletName="Backpack";class a extends o.BaseMessageSignerWalletAdapter{constructor(e={}){super(),this.name=t.BackpackWalletName,this.url="https://backpack.app",this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbvSURBVHgB7Z1dUtxGEMf/LZH3fU0V4PUJQg4QVj5BnBOAT2BzAsMJAicwPoHJCRDrAxifgLVxVV73ObDqdEtsjKn4C8+0NDv9e7AxprRC85uvnp4RYYW5qKpxCVTcYKsgfiDfGjMwIsZIvh7d/lkmzAiYy5fzhultyZhdlagf1vU5VhjCiiGFXq01zYSJdqWgx/hB5AHN5I/6iuilyFBjxVgZAdqCZ34ORoVIqAzSOhxsvq6PsSIkL4A281LwL2IW/F1UhLKgRz/X9QyJUyBhuuae31gWviLjiPF1wxeX29vPkTjJtgAftrd3GHSMnmHw4eZ0uodESVKAoRT+kpQlSE6Ats/XZv/ONK5vZHC49+B1fYjESG4MUDKfYmCFr0ic4fmHqtpCYiQlgA66QsztIzFi5j+RGMl0AXebfgn0aOTuvGG8owIarZsXOj3ronlRuEYnn84CJLo4Lgi/QL/H/LHmy/RwI6GA0RoS4acFHi8kGieFXS/QhmijFfQXmH3uPy5lSkoLbIkYlfyzhuM4juM4juM4juMMj6TzATQ4JH9tlRqFk8BM2aV9RWHB9K5kzK/KLui0KqliSQmgBa4BIS54cpMD0OeawFye3jk19JdKkWq62OAFkEIfrTXNUxBV1okf38Ot3MGjlFqHwQrQZvQ22Cfw7xjg6t8XkZaBGzpKIXdwcAJojZeCP5SC30HipJBEOigBZLn3qdzSPlKr8V9hyEmkgxCgj8zefuD9jen0AAOidwE0i6ZhfjXgRI+gDK016DUjqE3ubPhNLoWvaDLJouHToaSP9SbA0DJ7LekyiviNPgP0TC9dQM6FfxeZ7eyuT6cv0RPmAmjTx11uXx/MiegEDd425cfcwWV+H4O3+uiO+pTAVIA2uMN8av6QiWr5TQ++JVlTc/tEiF3jOMScZGC43kME0VSA95PJhWXhM+Gt1Phn98nStZa1r9mB2SDQPqefjhayfnDfFG2J5882z84eynVM5u3thlONhRhj0gLc5PRfwAw62JjW+wjE5Xa1L0VkshO4kXt/EPDev4ZJCyBRvlcwggjHG4EfYHc9OoIBBWy3mEUX4H1V7Ur7ZvILaT8qy7FRduleF9jXc4RggOUWs/gtANs0nYquvMXaMaTXlQHlE1ggayLvf5OKY0DUMYDWfmpsBjZa+9enOmiLy+VkcmqxaNW2ZgX9GnsLXNQWoGj4KYzQ2g8LyG5WUDR4hshEE6CN+AFmg5lFiRMYcI0uKRQGyIAwegWKJkBjYO8tzq12C7efQ7CK2I00MomIxOsCiCcwQhaW3sEQ6W7sPi/yIDqKAHp8m2nIF7COoc9ghQw4NU8SkYgiQCmLKXCCUSziPc84XYBh83/DSiWR3qUo2tT4ONdGYDTub73cSzD/PNt0rojdQHAByoXxw0E7XfoFhsjnRduD+DnWIkkXXACJl1cwRoMmf3cbRaOjLRzDXnKZVj9GBIILUJBtbVzyj9HAU19AgR6I9VzDtwCgMXpAo2Yxp0v/Ybi49ennJtIFEPMY/TCKHTvv+aTSUQzBgwrQ92YHbQVi3UN3GAVZhrf/jzECE1SAq/7n4yOJ074KPSBcJoii598vxgwrqAByg70HZJZbr0JJ0G5XZz5Z1e1rYccA5TAicqEk0O5ECl/3LvYys7mLTLHHCEzS7wz6Esv3+nyYTF58rwha63XAl8PG1aCnhesWq6EdOcKM3WvmXRHh+Gvv/tNVTJlJPC4a3RVEK72+sCSZ4+J/FBVhTUS43J7gJqFjrnl33A3sxtCa3nAWhX6bbAT4hJugCsNZ2TGA8224AJnjAmSOC5A5LkDmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnjAmSOC5A5LkDmuACZ4wJkjguQOWEFYJvz85xwBBWgKM1P68oKKsI/36ACdC9nsDlWPTsIJ5t1Hfw01OBjgI1p/YwLegIibw0CwESz9gUYZ2d/wHEcx3Ecx3Ecx3Ecx3HuS5QjfdrXxTHv3JzEkd2xKwHR9xPNuKGjzdf1MSIQXAA9XUsuuw8nKPpK3PWzs+AvrgwqgP1LojOjoEf3fRv6Zy+JgBSLOGfaOx1NE/6o+rCrgeT9fWp4SljmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnjAmSOC5A5LkDmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnj5wRmTlABqHQBohKhggUVYAEEP8fO+UiMgziDCvCwrnU3aw0nOATMQu8LVIIPAq+JdAerdwWBaQ/fjEBwAaQVmMnN7sEJCB3EqP3tlRGJy6qqmPkFMcZw7sucmfZiHQ6hRBNgSXdaCHbA7KeFfBvz9pxlxtl1gcN2XBWRfwHK959XFRG6AgAAAABJRU5ErkJggg==",this.supportedTransactionVersions=null,this._readyState="undefined"==typeof window||"undefined"==typeof document?o.WalletReadyState.Unsupported:o.WalletReadyState.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new o.WalletDisconnectedError),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==o.WalletReadyState.Unsupported&&(0,o.scopePollingDetectionStrategy)((()=>{var e;return!!(null===(e=window.backpack)||void 0===e?void 0:e.isBackpack)&&(this._readyState=o.WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0)}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!(null===(e=this._wallet)||void 0===e?void 0:e.isConnected)}get readyState(){return this._readyState}connect(){return r(this,void 0,void 0,(function*(){try{if(this.connected||this.connecting)return;if(this._readyState!==o.WalletReadyState.Installed)throw new o.WalletNotReadyError;this._connecting=!0;const e=window.backpack;try{yield e.connect()}catch(e){throw new o.WalletConnectionError(null==e?void 0:e.message,e)}if(!e.publicKey)throw new o.WalletAccountError;let t;try{t=new s.PublicKey(e.publicKey.toBytes())}catch(e){throw new o.WalletPublicKeyError(null==e?void 0:e.message,e)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}))}disconnect(){return r(this,void 0,void 0,(function*(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{yield e.disconnect()}catch(e){this.emit("error",new o.WalletDisconnectionError(null==e?void 0:e.message,e))}}this.emit("disconnect")}))}sendTransaction(e,t,n={}){return r(this,void 0,void 0,(function*(){try{const r=this._wallet;if(!r)throw new o.WalletNotConnectedError;const{signers:s}=n,a=i(n,["signers"]);try{return yield r.send(e,s,a,t,this.publicKey)}catch(e){throw new o.WalletSendTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signTransaction(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{return yield t.signTransaction(e,this.publicKey)}catch(e){throw new o.WalletSignTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signAllTransactions(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{return yield t.signAllTransactions(e,this.publicKey)}catch(e){throw new o.WalletSignTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signMessage(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{return yield t.signMessage(e,this.publicKey)}catch(e){throw new o.WalletSignMessageError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}}t.BackpackWalletAdapter=a},7641:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2627),t)},9420:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.scopePollingDetectionStrategy=t.BaseWalletAdapter=t.WalletReadyState=t.EventEmitter=void 0;const o=i(n(1312));t.EventEmitter=o.default;const s=n(4374);var a;(a=t.WalletReadyState||(t.WalletReadyState={})).Installed="Installed",a.NotDetected="NotDetected",a.Loadable="Loadable",a.Unsupported="Unsupported";class u extends o.default{get connected(){return!!this.publicKey}prepareTransaction(e,t,n={}){return r(this,void 0,void 0,(function*(){const r=this.publicKey;if(!r)throw new s.WalletNotConnectedError;return e.feePayer=e.feePayer||r,e.recentBlockhash=e.recentBlockhash||(yield t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}))}}t.BaseWalletAdapter=u,t.scopePollingDetectionStrategy=function(e){if("undefined"==typeof window||"undefined"==typeof document)return;const t=[];function n(){if(e())for(const e of t)e()}const r=setInterval(n,1e3);t.push((()=>clearInterval(r))),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push((()=>document.removeEventListener("DOMContentLoaded",n)))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),t.push((()=>window.removeEventListener("load",n)))),n()}},4374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletWindowClosedError=t.WalletWindowBlockedError=t.WalletTimeoutError=t.WalletSignTransactionError=t.WalletSignMessageError=t.WalletSendTransactionError=t.WalletNotConnectedError=t.WalletKeypairError=t.WalletPublicKeyError=t.WalletAccountError=t.WalletDisconnectionError=t.WalletDisconnectedError=t.WalletConnectionError=t.WalletConfigError=t.WalletLoadError=t.WalletNotReadyError=t.WalletError=void 0;class n extends Error{constructor(e,t){super(e),this.error=t}}t.WalletError=n,t.WalletNotReadyError=class extends n{constructor(){super(...arguments),this.name="WalletNotReadyError"}},t.WalletLoadError=class extends n{constructor(){super(...arguments),this.name="WalletLoadError"}},t.WalletConfigError=class extends n{constructor(){super(...arguments),this.name="WalletConfigError"}},t.WalletConnectionError=class extends n{constructor(){super(...arguments),this.name="WalletConnectionError"}},t.WalletDisconnectedError=class extends n{constructor(){super(...arguments),this.name="WalletDisconnectedError"}},t.WalletDisconnectionError=class extends n{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},t.WalletAccountError=class extends n{constructor(){super(...arguments),this.name="WalletAccountError"}},t.WalletPublicKeyError=class extends n{constructor(){super(...arguments),this.name="WalletPublicKeyError"}},t.WalletKeypairError=class extends n{constructor(){super(...arguments),this.name="WalletKeypairError"}},t.WalletNotConnectedError=class extends n{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},t.WalletSendTransactionError=class extends n{constructor(){super(...arguments),this.name="WalletSendTransactionError"}},t.WalletSignMessageError=class extends n{constructor(){super(...arguments),this.name="WalletSignMessageError"}},t.WalletSignTransactionError=class extends n{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},t.WalletTimeoutError=class extends n{constructor(){super(...arguments),this.name="WalletTimeoutError"}},t.WalletWindowBlockedError=class extends n{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}},t.WalletWindowClosedError=class extends n{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}},3924:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9420),t),i(n(4374),t),i(n(8503),t),i(n(3957),t)},8503:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMessageSignerWalletAdapter=t.BaseSignerWalletAdapter=void 0;const o=n(9420),s=n(4374);class a extends o.BaseWalletAdapter{sendTransaction(e,t,n={}){return r(this,void 0,void 0,(function*(){let r=!0;try{if("version"in e){if(!this.supportedTransactionVersions)throw new s.WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new s.WalletSendTransactionError(`Sending transaction version ${e.version} isn't supported by this wallet`);try{const r=(e=yield this.signTransaction(e)).serialize();return yield t.sendRawTransaction(r,n)}catch(e){if(e instanceof s.WalletSignTransactionError)throw r=!1,e;throw new s.WalletSendTransactionError(null==e?void 0:e.message,e)}}else try{const{signers:r}=n,o=i(n,["signers"]);e=yield this.prepareTransaction(e,t,o),(null==r?void 0:r.length)&&e.partialSign(...r);const s=(e=yield this.signTransaction(e)).serialize();return yield t.sendRawTransaction(s,o)}catch(e){if(e instanceof s.WalletSignTransactionError)throw r=!1,e;throw new s.WalletSendTransactionError(null==e?void 0:e.message,e)}}catch(e){throw r&&this.emit("error",e),e}}))}signAllTransactions(e){return r(this,void 0,void 0,(function*(){for(const t of e)if("version"in t){if(!this.supportedTransactionVersions)throw new s.WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new s.WalletSignTransactionError(`Signing transaction version ${t.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(yield this.signTransaction(n));return t}))}}t.BaseSignerWalletAdapter=a,t.BaseMessageSignerWalletAdapter=class extends a{}},3957:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletAdapterNetwork=void 0,(n=t.WalletAdapterNetwork||(t.WalletAdapterNetwork={})).Mainnet="mainnet-beta",n.Testnet="testnet",n.Devnet="devnet"},1699:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.scopePollingDetectionStrategy=t.BaseWalletAdapter=t.WalletReadyState=t.EventEmitter=void 0;const o=i(n(1312));t.EventEmitter=o.default;const s=n(8749);var a;(a=t.WalletReadyState||(t.WalletReadyState={})).Installed="Installed",a.NotDetected="NotDetected",a.Loadable="Loadable",a.Unsupported="Unsupported";class u extends o.default{get connected(){return!!this.publicKey}prepareTransaction(e,t,n={}){return r(this,void 0,void 0,(function*(){const r=this.publicKey;if(!r)throw new s.WalletNotConnectedError;return e.feePayer=e.feePayer||r,e.recentBlockhash=e.recentBlockhash||(yield t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}))}}t.BaseWalletAdapter=u,t.scopePollingDetectionStrategy=function(e){if("undefined"==typeof window||"undefined"==typeof document)return;const t=[];function n(){if(e())for(const e of t)e()}const r=setInterval(n,1e3);t.push((()=>clearInterval(r))),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push((()=>document.removeEventListener("DOMContentLoaded",n)))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),t.push((()=>window.removeEventListener("load",n)))),n()}},8749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletWindowClosedError=t.WalletWindowBlockedError=t.WalletTimeoutError=t.WalletSignTransactionError=t.WalletSignMessageError=t.WalletSendTransactionError=t.WalletNotConnectedError=t.WalletKeypairError=t.WalletPublicKeyError=t.WalletAccountError=t.WalletDisconnectionError=t.WalletDisconnectedError=t.WalletConnectionError=t.WalletConfigError=t.WalletLoadError=t.WalletNotReadyError=t.WalletError=void 0;class n extends Error{constructor(e,t){super(e),this.error=t}}t.WalletError=n,t.WalletNotReadyError=class extends n{constructor(){super(...arguments),this.name="WalletNotReadyError"}},t.WalletLoadError=class extends n{constructor(){super(...arguments),this.name="WalletLoadError"}},t.WalletConfigError=class extends n{constructor(){super(...arguments),this.name="WalletConfigError"}},t.WalletConnectionError=class extends n{constructor(){super(...arguments),this.name="WalletConnectionError"}},t.WalletDisconnectedError=class extends n{constructor(){super(...arguments),this.name="WalletDisconnectedError"}},t.WalletDisconnectionError=class extends n{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},t.WalletAccountError=class extends n{constructor(){super(...arguments),this.name="WalletAccountError"}},t.WalletPublicKeyError=class extends n{constructor(){super(...arguments),this.name="WalletPublicKeyError"}},t.WalletKeypairError=class extends n{constructor(){super(...arguments),this.name="WalletKeypairError"}},t.WalletNotConnectedError=class extends n{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},t.WalletSendTransactionError=class extends n{constructor(){super(...arguments),this.name="WalletSendTransactionError"}},t.WalletSignMessageError=class extends n{constructor(){super(...arguments),this.name="WalletSignMessageError"}},t.WalletSignTransactionError=class extends n{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},t.WalletTimeoutError=class extends n{constructor(){super(...arguments),this.name="WalletTimeoutError"}},t.WalletWindowBlockedError=class extends n{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}},t.WalletWindowClosedError=class extends n{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}},8650:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1699),t),i(n(8749),t),i(n(8697),t),i(n(6854),t)},8697:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMessageSignerWalletAdapter=t.BaseSignerWalletAdapter=void 0;const o=n(1699),s=n(8749),a=n(6854);class u extends o.BaseWalletAdapter{sendTransaction(e,t,n={}){return r(this,void 0,void 0,(function*(){let r=!0;try{if((0,a.isVersionedTransaction)(e)){if(!this.supportedTransactionVersions)throw new s.WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new s.WalletSendTransactionError(`Sending transaction version ${e.version} isn't supported by this wallet`);try{const r=(e=yield this.signTransaction(e)).serialize();return yield t.sendRawTransaction(r,n)}catch(e){if(e instanceof s.WalletSignTransactionError)throw r=!1,e;throw new s.WalletSendTransactionError(null==e?void 0:e.message,e)}}else try{const{signers:r}=n,o=i(n,["signers"]);e=yield this.prepareTransaction(e,t,o),(null==r?void 0:r.length)&&e.partialSign(...r);const s=(e=yield this.signTransaction(e)).serialize();return yield t.sendRawTransaction(s,o)}catch(e){if(e instanceof s.WalletSignTransactionError)throw r=!1,e;throw new s.WalletSendTransactionError(null==e?void 0:e.message,e)}}catch(e){throw r&&this.emit("error",e),e}}))}signAllTransactions(e){return r(this,void 0,void 0,(function*(){for(const t of e)if((0,a.isVersionedTransaction)(t)){if(!this.supportedTransactionVersions)throw new s.WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new s.WalletSignTransactionError(`Signing transaction version ${t.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(yield this.signTransaction(n));return t}))}}t.BaseSignerWalletAdapter=u,t.BaseMessageSignerWalletAdapter=class extends u{}},6854:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.isVersionedTransaction=t.WalletAdapterNetwork=void 0,(n=t.WalletAdapterNetwork||(t.WalletAdapterNetwork={})).Mainnet="mainnet-beta",n.Testnet="testnet",n.Devnet="devnet",t.isVersionedTransaction=function(e){return"version"in e}},5627:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.GlowWalletAdapter=t.GlowWalletName=void 0;const o=n(8650),s=n(9990);t.GlowWalletName="Glow";class a extends o.BaseMessageSignerWalletAdapter{constructor(e={}){if(super(),this.name=t.GlowWalletName,this.url="https://glow.app",this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAB4FBMVEUAAACjON6dNNyjONd7C+GIHNq1S+K9W+O3TeLAVOe6TuSJHtqcMdPBVeiuQt2kOdeRJc7AVeeyRd95COR9DeF7CuKWKtCaL9KoPdr78/789/7//f+zPt7u0Pi7ROG5SuK9TOT67/315PzVYfHAT+bx1Pry4PuiMNWmMdaqN9moM9fv2vqvOdvtzff15/ysN9mxO9yzRN/13/ysPdz46Py/SeTFVemPE+/EUOe5QeC3P+DJW+y9SOOfLtPZYvT46/2TGOu2R+GNEPKaI9/PXO7t1fjbZfWgLNfu0/jIV+rQX++ZKdCQIdSWIOGmN9iYJNvCVOjRVe/CTOaKE+eZKNSgKd2TIdnLV+yECfGfKdqKEO2dJ9ylL9iNHdr02/uHC/KjLdp+BfCcKdbKU+t7B+eUJs+dLNKTHeG+ROXUW/GLGeCFFd6PHN+JDfOuQd3JS+vNWu2EEeGOF+WiNtbOUe2BDOf02fuSGuWOFOuUJdPWXfGFDuvMT+yVHOWIF9vCSOiZJteACeyLHNV9C+N4A+x1A+mGGOPHUOmKHN2aLtKFEOWXHubarPLXju7CfevoxvffuPXQmu7QfuvnvfXJje3dnPHBauTOcOu4bfDjp/SqUOytStugNu6yXd6bKueVNOUmkAxzAAAAGXRSTlMAIxB+3D9C/WLfo2CcxcXf34TffL6cvc/vU7i1KQAAOkJJREFUeNrElMFuqlAQhivICpLehFofgb6ET1CjCwk7drZNwA0SFqYJ8Upq1Ke+/wwz9hwurtT2m5lT0933z+jDLRgMPN/3w3AEnoihkAt1l10PU3SHN+aP8EwEQeC6ru973sB5+GWgHY4gW5jk1LlNjSFruy13FLEz5KGP/p9X5Xg8jp8D1/cGDz+N44WjYd6cKRorAozBDgHUaIX1YV13lo8WdS5OgKfrrxwFDsL1fuogHH80bHrcG/MEUAbqv6PC37ROU3v/zI7mjYb/ofZd/TfUUeyVyQQ9Du5/C174tGxsEEFViX7znYEF++/0AlJF/MmbS+Dtb2C7QZmQvHA2R5uM3Ttm4ITDJWg6EVTwRwsNHwBaqQ0QgrpTEa28wQat9Bx/+5q77/Lo3ycD72nJWOpsL/4NTV4Q3evP2krrQ4rz7zCdog3gzxFg/Wg27/nqvxvyR5qyLCPUJIomUeDdT395tucAyL8p+EEAyt5MwOBwsN0TLmRgAn3lLG4e/yvswdmerctyIoUUwNi/i76eAA3Loxu8NKeWYr/fFwu8pyzPEUSW11mW1TX1IevY69/pFC36SSL2cbyJ2RyNR3kXe4H0eaShj8H7eLsrGOj2vxo8/AlTVeTN6ixPb1GcsgL6GUWAb0IGyJ8TYFbpCtghYEg9QYM2gVh4pbHtgS4fq9fF4wi6BIMb/fSJPRfbV7AXOILWXi8A+idM1gvrrwiSp1a2WpsY+hguiuCSP906tPkC+nFvcf1DtV8qpE+jQF5ZIAHaPqYvgwPkoU9vukosNlr4SPom6m/IR2hOAK8ym83KWWlx9ffAGen1f9tTG/IoNlcWSgbWFy8A/miTrVYM7AhIHk36SiTAEto96PfAuW79JP5Fj/IX/gafmIXtvpcS5TXNCupo3j2eD06ASKnnsNf1b7cxdWzxrlj2ZfTyEkWia9RMX+bxil+CEOpfNEszgcriE71g4P/J5sJ6sRbIXAIgPmhA8pEw8/m8fbYEJ2DKm/r29l+QgOhe5IpfAmf0j9SyaWkjisIwrS0I7bbgIn/AUDBlFm4Ds8hKs2lloouQILrLIiATGAQDycZf3ed85c4dTTX2Oefe+LF6znlndGv2eQKUh7XKNzQ8oE5BigD6mFvxlam7OTef6N+r99h4CrL1z3/P74JcX+xzTuVw5Xz0Mfj0ZauE/kblOQ9afDbKs5hzuKhnTQDXMgLg9kupezEPrqgLs7+SekojwFtKL3D/3F5xccBeL/+CuwWPwUcef8jyr/pBs25aeAT0LGX90A0A8nSoI8/+XZ71y6Fh/jTPuZun+Ef2Q7+vgjgDd2EfoJ//MYFvBB+4N5tbGv3Zeq++FFxzHPbPZbD7WjMQj74yZgIXF2NPQHoIuvrJHlrr79v+T+mckC/8KCfHB/pvFey3txv8Z7cz/BNNhok3DIB2edG3DNS1qtPBlbgbZTkuYwREwNefE/LJX+j3+5f95Fvo9uOmikspvZSjg17/4c8ERB//dgAqumoPICH6Qo2/URvy7gt/2z/rl97p34wFVZ5oz0ejOTUy/46+4f7hzSn0FPY9aEiUo4P9Af3ZZqbs078mAKlSAuItWC/VnwkYZm5XaZg+TT3d2ADUH338R7hLOaGf9m/OdIIfKTEMncDB/gTAJ8DlEah2NHQ3AKuV+HNgpfrBfRuxd0pB9DlywWQ+gVEbt4+nP20fzpL4Ty86wa89DMcHPv9BSkCFv16N1nU1NfsUACbg21/VMoM6oea4O2OpFAHcXf9m4owS2V8/9++r/dkplcw5r3N5+d4JfL0N/7DfaK1lCFWbaTWdTq+b9v6BCbB7j0A2gMd72OmXbD8Y0+g7XXt4GQBfPnVWnLnkgJO+WFiZPingTXny6b3//4S+uQdVNaua2D76Qpb/AHd62B4A9o++/6BkAoEFwNiz/zwA7i9Y9tW6p6dHFxBDcMjA2/8PfO74awJcn9PZPvqcYJXA3dj5Gzt3lw9CPgUgi0CuH/4uj77lfoB3gm8W3Rgwgbf+K/6xNdzfymH/0EiZfh4AXgDOkh4OaZnDMA2ADAS5fjlO+kFXHzJ/DUCkfzAoegPoLVoFi0WWAV6G39/8A5DvP6MKEKdoKrE6TwkAnYDKox+8OoCbMtt/sDcA/vYHe/cNlF5ONgM6ZnD0zxeA+cf+YdPVb/RMXybg/Bx/118Nawp9G8AL/449144/O/3JngCEvQ1AMH0aYw5N/er1aPvJX9rN5bWpIIzi+BYFFz7AqOSWLBTflSKloQsTEFcuBR+BVHBbQUEUpIviMjFtbSmllv6tnvkePTN37qRW6ZmZGxvr4nfmfN8MCQKfMTgxtQHk/Y/5dzl+uv/OzwR81QTgdcU1Go1evsR8SX6sV3Tg1bs0AYM7gzuYoG8KAOBBpAb4tpuehAXpu3ORBVPawLW0/DFzA4ZhQGoB8Q8SMB/wJQMSA2hlRAMCfFjkBz6m0TMB0JImAPjgN/wkAbr7c6CfJbvimwFYeHovMBWL4EzS/+gA2PEwftUyxnDYRwSUHvhvA7zQm4z+2SjI8GHASGT8YJcl9K/wIP8SDBB6237Meybtf1IAef1z88GukjciC84WDKidgGkBEN8cEANE/f686huGw2OAHuOZ4pMfCwEYRfjGj2kGhOeLpRdLA5HwswCCAdx/zATf4amPmHiPKSgVwZVaAJRcZ7b/y8vgDwnoiwVmgEzh9weebgCeFgDDpwVAlwX5/mMGiQGDgd0ATcr/2NsfJiWZ73bJTx/owKniCQA5PwbF64/zQ8M+ZA0Q8gpgAr5KBFgBln5Mp9ceIOjUm7CWVANRHADQewBmzYFI3Vvdbneh+wQO9Gr8qIKg4klwjfyEfx0eQ+M/CD/xYQCWByBYUGsBkDuA7dfhGWACVPQB9W9SfnNA+EGv4glICf3CAvAXYEAPSm1wBy6VOmC9/0F5BcAAzP6yBiDil6fBf/YAIAIrGGkPBD5FAzwARp8HgAbMzTXhgx0jqIfpiqrAe+HZUgdUC8guz1oHcFkCpAWYvAnOB3ywi4TYEwDt7Uy2xutrnU7rpqjVub+2Pt6YnKtyA1Sof0zgqwGYNID4EOBdPRggj5CENARNEbioXwA4PS3AyPlZA6p5SughwfcegCXa35mMO0Au6v7mxrm75GcFRB8CCL/guwGsfvK32712L8oAliYA4lGYBeADO0C6/8N8/xv52QSUHvtvCdgj+yHqbE6qmL92CfLyB37Cj/B3ia8WVJEJUyNwJnwFCDEAbP/N/OgBhQBYBr56DGTnx4j7UdQZb98dDOhAnACI/HEFOL2pCqtHWRdojMA14ce3PzwANQJ5/pmAsgHGji6I+O9P1m7+k9Ymv5t64F29A0BpACDlT9SrggniQ9wGahE4cfAdsNKzBZT4+4UA1LW/C/p/1+YEBtzLWsADVUMCJPqJqoopEHq/DpxMvgeCYACvQAJPlfe/HACM3a1C8o9SC7/LPSA5AS0BNXgoFEJV7wPpdfA0+P0b0OYPQModsJwAbv7/6eF2/FF48yWILSDBD8tf1AD2gUtxC9QEQJL/1YS/0P+oZv6dqfg3dOrjUHUmtY8CD/hn4wuw81NAp5gBMSBqg1eiAKyyA/AAsNtfKQAU8W83UxOb5DfiUbLgl1qg/HkPzM4AaLFytWVUtaPgFCvA+YGPscoEJOkfEr/IT/ycnha4iFx+jxYEAx6zBbAC8v1fxAgGtDGzCHgGLvEMcPE7cOC78v5XdIC1nyNhMgEyigngr6UWbHsPVEkFMACgjwxok32x5oCHAOcAz4Afwv/+g9KTf+iiAYfw763X6ZOf/En0JBHsDvxNar1KL4LpHUDwGQFhl4HpOUgicJ63IJXhvwZ/Af/wApi0GuC5u3zBYDRu2Ip+lT9Eam2kPZABqDfARagK0yKgFvBKGBw45S2ABqgF+ArsSPtPA/aeJ/SOxx+zzJPTX5O/zEL0qCoYUA8AJPz2jKvAE3BZ+U9GLcBEAwr4BQO2ai3PFP0pfsr7GTTTIL+U18IGSyA2oJscAAeawZIU0AA6oE3gjLcASPFX2QBKNwDyU779hjRNtMbtoBl8W15pURSC5kMw5a+wPAfsA0kXOMtbQJIAsH9X/iOcAFr9bHT/p/q/T1LQ+mkGzBZKYJGamUEGsCoXbwPeBa/mFQB8LOcf/k0BjDaiA+wYlKZg/EQc4D0wSwAF+pm4EUT3wQtJD/zCCgj4UHr9L+Sf8Vf84+DPU/BoxvlZAbUO+FTgRfInJsAjYFehT94DvqQJ8Bvw3wRgt8XtP07RgkfbWQ+o7/9TYcfS13oNQNflHij/ASY2wL4ErtV/Tk9NDP8Y6WmB6w9v5/7aZhWHccVLRUHw9kO80L6hBrUaFdu1IJIpFBWVjnlBNm84UFj7SyeSiSjiYMY1TROb1Rrb+a/6fO/n5OStlzmfc96TqKB8nvOc75t0fb/uugHCXxqwsgITlB8GLKQGyGeB2+kmcMX41QDAWw2o/wJEwzX+3/jjpgBdTwPgDjj9wgpdC4nKCNBt4D4yQB8C0gAI/od/9xNAfwq/gesWKkLQdwPK/cfmqwF+BiIDbsA9dBcUA74W0W8Bx03wHP8haNCX+CU/1LDl1pgRGRiGAWGBJUCO/0qRgNSAO+ibABug+MiAHgDAn9Pb4GufFviJAetJ8Ws0MCG8ykL8eMF0W+LdTchq4dJ8+V1Y+FV/4QDdBx9OA8APAcCANAEn7v/O6qCyO5/BhwfhREhcMldkoVVl/ya3q0ZxCGBAyY+L+c2BxbIKmAF3SgL8CEBUACQBmPJnwHUGrA9Wj1rOX6/woRRnRC4FFvoiKeGIWFANHp97wmuACehMD15e8bIYEVjIDKCvQ5spP+DVAZZwY62vf50jfAgU/H+rR8MHUUQk3pcpeey5ucfnm6gDVgLiLuDxx8KvZkFEIAy4UhoAAV62/1x5/EP08be1c/ry4VLKfxNW8PAJYbUhHmPVAzLC5wAUYHXA9z9LANAJfsUPwfSNEF+GcwPUAvsNKFx5BBw/7v8j/F7A0ahxSxVumCWtuWcff/wX+TxA/O5A3AMF/+zK4uLiAl2lAfRJ6Hbm31b+LAEYLDhQ//kPWzGBAwhBQ1Vh3ALlh2T0Ir4MLTT1MyGdgcCPMwB8SgBbIJpfCAfEgLskALkD51LVff6dMD/UPoIB72YhqGzcGk/25ujPx1/Ys/vhr/4T0eC3/OPiCNghyMvg3TCABH6W8tMw5fQhFH+Iq99Qfkv+aMnRQ5kL/40T7fHTT9OPRHb9dtiYyz8IMz+T8/678kMgn4XvKxMAJftPi+OHdpwfOgQ/6XD9nyWg+jf4o5f4h+PPzi833IHWgpVA49ftF3otA5KBLAH3sAHcAKLmBOh9cHVaI+eHmjv6sNQfg8bfS0BF17+pGvizUv4Twpde6jcgc+C3tARqAII+IpA6IF8GHrqyLQG4RgZcKwwA+rnVkn9g/KIxJ+Aq5h+jEjB/X2H6q6sqnJo2ibQ/x78wSgn4pQFFBnbjBKQF0Oj51TKQnIE71AAE4Bqkz0GeS7U6S0eV8psm9tTwVbMAqipQJJxVAR//sFT5T/aP6bdm5bfl5lFwzAIpA8oPxR3wrPJHAEoD9FPANrUB0Mdf/9qAVsJfEefQ+cmCwbpsoe8l1KgdVb7/9jqVpHb/+BV/au7p568rv2fgkyIB2H58CMglBsQZeOC2R7a3v6bhDQC+pcc/DZ7GDI2dvzIdMj+m6HCdmTENqWI1Sn76R+EVzdw8qTLjr754RQzgBMwbfzhwPSkBtv8YZ/MUBD8bcC++DcMBiA3Qh4Czp0ASnaYJHQl/YOGltcMlIDQZVaVKfD/qNf+sIu0fywPEkYB+o3TgQAJg9DQXCZ9nmQAzYBuKBMgRwLAEkPhXYMsDQPgdQ+sMQB/axPjjcFjNNCETg2besOL90vgrbx9iCThopEoOARng4v3HsqYGlA7AgIe3SVkCsodAcGHRAOA6LQdA8t9JHGh1we0maC8l8uCmtDQ6juZB4IfIgOfyEumHIBKAIfSsxVBUwdSAa6IIAMZlOMD0wh9//l15AXB1MAaCHxG4aQ+G4+Op/jF6BAZWHXMHGqeSACySBSaEYHFN+HMD7mcDwgHgk/ghQMxVnr77GPCg7/wdF3nQ+i7n36Srt0nXZPyPTVgfHbzCjbSCP4rgEqHzCcnLwJ4bcJYdCBVVoM4APgTpU5CrMiIBkzgAUxok+GDH2sPa6232oC8ng/56x+NCk18wptUajo5/zvvnZQY8NeDsRQbiEPwaCWDsMGCtPANhwJUsAcYfFjA6Llar4De1uoGP2SP+ngzVxmQwHu4JepCHBet7o8HxV9FFL+2gZPzQvvB7qQwH3vA/EWD4OABra2vGv5hEAAZYR1Cit88BKb/8Dnzo0G4AnVKDogTABKX/HtfHNKA/fj8eDMaj/lA1Go3Gg4Pjr37+hhT4ZgDRYxr/XFXIHdjVBOQG0H1gdgQehAHKzxZwAtAR4TKG7b+hFwGojcDFi3QEeoSf6PuP2QLT24UMXy3w+Pv+awnsn2DAshhAnwCNXSZCMIOfDLBOmJQAa4AC/EhAxn/o/O1Ou8LAmzbT03oI9ovE30PrPNl6WuWd49fzg90TMLsCQr9Xs+QRKBIAer0TrpU3QjJAdJWWd6+GBSKCvlwGoGLkSoa+wJGh8GNhD1gRAOd/GwMz7aaZN1HEDE3tPwegPgPLOf8aLxBlwBQ1gBNwRR24ui3faC/RCAMu1wQAvApu/LBkQvS9q9h/zICP/e+FBbVNJIHPY2b+6R5Y60BEIHZfBimNwDxLDJBWoIQfjcDCAFYZAMaFBRBeXCPuGMcuyBL0zi5DE1AG4BvwJyr4B3zjqD8Eb2QBcC3yIppRBNmAbWXHoFczoAxARfD5YFXt1jvcMi/1gLUlAQhFAj7AAH/gSw/N8vzrs7P79B/CVBPKCPxKd0HbfSxYhd8DYA5EDUAb3DwCl1j+FLhpzwNQNw63ROQDzd4WsW9R+Le8i2YeAOCHyu0Peub/ndmxYC0MKCKwFlqUmUcABoBd+DEUXgZagAh86Ogv+dtDghcLMHHBAtHHNQFI+YV+6vNPdA+iHwbucgBUFc8iAil/fgoEPz0Dt20CHxc74Am4JNJH4N2GvhiAA1DvwA3BReM4lXXQpGGNdL9R/g+ijfJ7mNQ6EtPw38puf/rY4HrHpZ+k4zSoAb/FCWAFf/HTcTJAxQmwCHAbGEt/xKAVARCV/O3B1iXtm8aDuUWgtz66eAd4lrDTOqODquHHc7NzgR8hYCOiDDbOiAPBHg6o0gSorl2UBOgRgLgPSvTC8BIIzELE7mfgyxB7AAEdF1ags6SJLhblx+4zPhbb/ah+SeeIUadUJS5EBH6RBET+g39NzsDMBFgAQI+pNSBNwBAGcABO1A3tmCZT36cNVGX7pYsqVuw87T6GKGue7Pj22CyfgOXCAjsHEoEn9QyclIAFws8NoI9wYFd8PgTY+HgQ/sgrwIkaaLswdwGDuscx/Abv/gZetI3qD8Q+pS8Kfn9car5zkjwCp+pPwJmpM2AGXNzkLsCMbl2gTuc6tACcrCHgIfZAV+Br21S84JXpOQCEX9KXN3/rm/YLth+jTnYjuA7+mRYY/mKSABPzwwFeoK4UAH8I/vSeBeBkLd0g5ugXt4GZigygBrLcQRfCEvQqo4/tBzxpn+CX/zICT+oRKFR+I8wNIHShNwNCN+gERADqNbFOYRs09B2odUA/hNA41fQ5FLufGhB9k5YhOIBFFYaUZ6CsARhn3ADmLwzASPvA8QOgch/ACZAANNsna8z7XvQM8wQAO/idniX4UIb/jPVMeP5gWdShJSwIWRncXVH8+gjUJwBL1yXwmN1+BKDZbLoNpR3DIM+lm7+B6dvPw/QK0ef4WdeMZ0cM7+Io8BQrIgL7HoAyA6xIgP9PQDQBOb/gd2m2ogQ2obbMWboB/lLaM9Kap85QRp+dfusatW/obYxUHgM1oJEa8NOpIgJRBMwALYKSgK5Z8F0XDSCIf6c7kXsA6Bkdrzwg+2v7G83JLAMYH9d5mucz8NdJSm+KtnFp07A2sDEz+igLePEIvJwYcIouT8BaGPBqHIHvv/cEcACC/zSaP5AHh3YCmq62v9FVPRioAdErbQML6FneNvPzaBj3OVuAMdU3L7afdUAGGH+YkBYGM+B68Bt+fQLAbwZsSRvkpA0i8PFmpztMDGjxJYo3bfOgnwbg/eiWF/xZx7hQ0TVPy9+zqnHbIqBrqU5SBDj+GKd4YBJ+/oXwVTaA6MEvBmCgD3TCT+pGCWDUFkYTSzN945HYMwNAThbU8efw2e7nj4pbw4hhWxyIWQiHgA1YFgNAjxIARQL0ThgJQP2LAACfZAFwdW9wCaAAKG2bkf1Nlof3s0Zx3CMt2gWGMv5i+5P8m/baoghBfQTezIpgODD9o+HbLAAia4E/ZUCXamBWAmACLfEGw4LRnBC/4bPOswPWLC3k/KqsZ3RC/wIvhg9ZNaw1YPes4WsEwoLFMzgBJE1AHgHgk7L9RzUcSwngAADWlnhDabAwDBhfQ+AKenlFuyzf/Y+KpqnJ8beuYXOC7/zt2QZUXgVB/9MFOgai9PtA1ACgO34YAH2XaagnQHMur0quPkQ0xnoEYv9d2fZ/hvGRbD8cyPsFPa8GRL8U3ARSGXvpgFZBLv8/Af+C8mMm9wFLgP0/0KIGCH83d2A9NcAy0G61gj0OQrMv/FCQJx5oqzjGJ2UtI/OekYGPazfD57W+CCxLAuQEYLK8CCxEDQD7j/z/gepFDehSAMKALzHTEtDiBRJm5EFccO2l6T+fROAzDFpMH5mYvrz7RQBIfYMPE06ognoXvIBTAAOsDJgFkQDQs3oegUv6Ew2z4B28Wg0U7ta0mjKhFg8+Alz04AIug5c3oeAvm0VBwu7aF+bEAMzaIvAyGwD8C6gDloDAx7QEkAW9qIGQFoF3MCBaJlwDEQADTlV68ZLy57LNLwPwjPLnx3/agCfkkza4m/CB8We5oAbsEi1t/wWWOHBGIpAmwALQI36rAdEF/Ttc8OLQSkAddf76uycA+x/4uGp3vwyApd/VbsZXEFyqMgKZAT8RPE0xgEKgRSASoAbo7osB0Qedf7A1Lgw4UQfgB75l4LzhY6mPv/PXBOBPys7tJ64qjOJVY+o16otaK6WFTlERtQwYLV7SWJSi9mKaEqMSY2PFxAhJDYmmCY0vjQmUFgpIGv9X13fba1/mUF3nMjNeHtZvr+/bew4zZ05n7zfUPpJgAHBUTQAA9g2A2g//ECNQ9AD84Q4BoH+zT607gHLYubcAvhGx/X19YPm/kRNQ++XNchTAYZgPBraLvBJaANspAAUA+oc8Af4roLD/Hey3AJCAu+yBjHq37lysekBjH3t9u9Dy6ke4p3Z98CF95hSsIPIIGIBNser+CeC9S7EWZBOEDIAiwDXsFsCXm0fZA0dqBu3L+/5zCSkAHf0/3BfrX+w2AxLAqwagfvuN3aVdseyCPQJQBK5LeRMggLAfBVADmCWAjhZY1MM9vfIBVfa7OyAXQGo/BO/Y7bSlrtkICAMTgxAoAUx5CwgxA5dsKsxXghoAQ2B/zviy0qkAMO6m47GVA2j8d9qvbhfIBhjD/6oR2PJBj4dWU+CA08cG4PZtBMAInM8jcMmaABPACoD8V4CqAPx0AgB8EhhX/wcjWJcSeLh/I9B2ALNf3Tb8nY1klEGILBBJmgePZAF4FwhwSgAMgQGIFui/gxkFcLFsgkcdQG573DcRwRiA2v/XrX+6L94BVDeLo38DwPQz/ykAdo6FwG0oCJzHFgnQErAm4CVAAvUc+AkBaAnQN7aSBB7IYN1KwGe/cv3TUf8QO6DK218OYBI7VtqtyIEA3rtd9QACYA0gARAB6CSAv+PE7+Bgkxc/YSXcJIAswreDCADyxj/sU+0CMJTyT/sh4SAAaJePVAmAywCM/3lNACcCJiD3f/UX7QDZj+B4EpAAWQeN0HWbfr4MAHrhQ+wPaAAIvqu2b3eNHwgABCwEB4oJYAWgBbAJQHFJgAAgAIB9yAPwSYw/fhjNALxVuBwPGhx6fSQAqBn/jgCw/ov7hVKeAEyzxiFYtBHwpSAAsAMsnIfePZ+KQNyzBByBfHIBCWAAZPcewJWwe20fWAcG4GtV2f6prvzTfwtA7E8yBrKJ+LwBcNsBuOqJkADcPpTG3xKAXQGcUAAjZpGO/RgnCW+Ct3j1uwHQ+m8ngMEAJjH+CiEYpCBMYVMSUEyDt6Hcv7QC1oBfGQUAlSZAFQFQAgmALITYAzzu6jpynyOxEuj2X8e/vQRG+9TWJCKgG62ThR1AEQmYUvtOQErAqiAmQlUA+O7PlIAvr8YvAToDfUkAYrgoBI5/Vg73fgj7GYAu+yUA+m8BjFgGJsM2/WevIwGT6Y3AwoIQWDD/DqA7ARfhHs4pDcSmLYQ8ADb8yXdwYCDu4zcTTZ3pZ/7pvqMBMgGSgawR1idsLIFeJADOPQIkwIVA3QMuQjQvIdBF4d1YCI0PlFKxklDdAQBXd/dvABT+W+1OZjVg403/bAUBYCI6wAISgF3l/knAAXzBACQCFAisE0AHAT9qAB3L/3r9f/AEcEbPhydDWQ8clIApBbBtABauLUBKwWUEmADYVwCeAGw1AawM70cJjB8gMvgnADSrX9rv/hsA1PiHjk+SgJ1om3tKwH4AUPO0XyyFDIB8aNsB+Md46h/Du3iHCXiICOAz/dtf4/+Njvybe78CMFCTpQrjLAdbCuOiqANwkQEAMAIOQBPgAZAdrulf9Pf/A/BAAUDff1b6by+A0j8vgZQ/GwRZCibC+Sk7Ff75xAFsGQAYN7EPFguBQ2JfE/AFe4CcywT0/x8A/9yLMChXfy0Be/9XNEDaD9nL7SoAZRTSamDqhALYM//UiiNgDRgAIyD+2QPgWa1/YwHAyS+K/jcAQwDQ2Dfntf0k1n81+kSwU/g/hd02YpAtAGgASGBGM0ACJ50AAMSXtwyAC97FNwCYTuHd0H8GsH4FAExE0LZ/Eujof/QPGASQE4CMgrrXScAATBYAVlZWFlayubBNgAKIDHyDDQhkj5LAPJgAzGIL8SmFhSABcPrj5f9m+neJ/ToAlK2EOO7MgO9WAX5ZfKL2D5UALnkCYN0Q6KeXmQB7MBgxDWAtHI5BgU8rGHcSgG8/o30TAYgq+1Az/ARwuAnAIs6LiiBqIS0D9mMdCPtQICCAVAL86pKNPzzrZntoNwDAprknB4ehe8yC6ccim+7XPfxtB3zffj3MAQxn7rFxl5eL+jDCSSBLQALANhgAmICrmoCLkQEyMApfcxowl7O+EQifPUgVQP/Mf+X/7e7xf18kZ0cwAY9BgBDUvQeAPXAlJgECUARG4JITAACzbwREt2j+Gyh9tvWUTwNhk5sT4bOJK1ECY5qAdvLDHwAPan+8YbwpUrCPuOf2Pfl8IAB9M0z/LIK6DQKAILiqBYAIQBeVgQkUzP8tdkFGnb6LBKwTAET7B+XflLm38FNCYMesLqpVL/5F1gF29kADEPYZAb84RgAYf5N/iUPk/kkA/0y64MAEBASe7l+hf89+2/1oH2rLP90pNSewt7iItEvgZefQZ/UQPXAD9nMA56ILtAlIkgiYxDalAK72y2kg3OuZu/dAyD/8WF/9MP9R/V0XwCL/xyCc5VESMLy4CN8CYbFYCSAU8Sp64N5NAqCsDbIJEMBVScCtIPDND5n/H6QAQOCEdUF3HxD4klkYg/8PLQBV/Pl7ad3tjw0Q1pMsA5uIgMVeQHj64yQNIiYBtgAZfQgR4ExQJuDHmAR/D/8/AMDXsI5DdQsqm8BsBoGjP4vn0N0rP1zvAJB//rWq/9q/D3yJYGdRA6BFQAQ4DAqqw9eB2zdvOgDaZxvkRIhZIH2DXwBcDQBqHwDkQ+14eatqAux4DkMeoyruXZHvPjT+Ofqmjukv818A0G6wtQi5ddusF0QJsAUIgN8WFi7D/+VzJgVAAiyBHxUAhC+xiX3oa0oIQLdujflKQEfa7OLsDyZ7+s91AOB3Pvlzye34w34NoMh/HYFhA5AlINci3wuvSAAuw6xavywQuBpSRQ2kBEBXDEBFwPxDm/F+aLZS9Q/GrqMC1H85/cvsb+IHAAavf2m/JiBNQCGkEOQCAJsEewjAb7/BrJnvigAB/GgA4B87ARQJuJJqYPZArV/h9/7Ki99F+Lv6P/PfyJoACGBzAhoFChVgV4MUwOWFc3kCCCDvglYC9vVtVdgnANMVqwFrAgdplwD40Q8r/3b51z3/txIoux4AJyDmmQMCmJcOIC0gEsAIdCQgKoAEKgTy71gDB+nBdQAI/wMXPzg6/LP+g8AHVQSG1HwhEoirQRPWAi+7dSCYd//QIABMQADABU07cF1HauCK6B/OA93avp4BUO+Mfzn8fPvf+C9/MosEpAag8aIERJYDzgEggArA6HsC5ueFQQ3gkpeABYA1AMG3CQwSgbETnAc6db8JAPx31L/5J4D2F7Owf6B7ENhdXI0aoGI6iFXQ8s2b6AAWgJ9//lnME4AsB2dAIAHgFEAAMvCZtAag+1kbHJqNkz1hBbADMP3038a/+c28LAAiQ+A6OYQA6E6ldsBV0E34dwDnfsY+D5UJIACMf7QABqCS18CDsg3SOp9uf84AtG/9Wf2dy1/aJwArgyX9RzuWgGBAZS0QBcAEmOa1CLgaJIDnpQIaAESQA0AblIsCCmBIdhxVCHZRAc0X/zn3t/5pnwBY/5SHYGlvFd5Xx3GulFpgb1n9MwHz2ByASv5UEE3gSQCA8hJoAwAedRuEX9mwk4OeL6QAcPFL/53tn+Xf/lwOtXRsaenY0CrMrzYBKFrgbxEAAHCxCvQieQ0ACFoAlMZCIxAXxmAWMgi26b6OALADDux+NN+Mfwtg2o5pOS19sCQENlYXJQBCYRxHHYC2BcpG/wAww2mAAH7EDVxMrICKwHX8S74jUvtGQU/2uGsdkA2g6f2mgf4ZfwKgLANLSydXxb0icK0yAEckADmAeSAY/Xl+dHQeGEAgpoEZAuDd+zgJmMZ0U5l/SC4NTr1lAKA5bFAg2GYHzH4pPgfQ7d9U268QLEF3hYDEQM84VGkOFP/RAuAeCEZFFoEVAgABA0D7SuB6IkBhVJ3A53xDEO5xThzuMwCsfyn+7sVPs/4hgHBPLQEB2qAZt14gT4sAWAVAmP7UPgDMWwAsAjPoAYMAMAFyPSdCQAKobgD4/FTeBeYm5Mws9BmA8meyu6/9Mv7Y2vy3CDQClKcgOgADwP4HBCKLwLmVmRn41xKAagDXr4v9H+ifGbgO4T+qIgACc1b+eHaP/r0B9Duq//jx3b29rQ3X1tbe7u7Jevw7tLS0tVqrXAWrfxDwBojxH5UT2yAQeAIA4CUCAIG4i4td0cIhAocPIQGACMhaYMojMJtvCADv/RwNsF+O/tnDexs769tzcz3ss3Ozs71eb67nmri7v7G1d9KHv5vAV0MNgHoKgHTw//jj5z/EvkkJlACePfQiAcBeBkCMi+xRCWgE/knLQe99OGy/92EA8G//FZd9Tx/eugfnFKzDf6vt/Y29k5n/r3yjNjoDsMUASP/D4dZ187dE8L+gNfBuDYD+FQAFACIAgPCJMSwHIwLY49QvCiCb/mB+Y108z85RcC8HznKarSns7M1U3gPBUh0BaYHWAbeXAcD9ewJGM/lEcE67gDVBAjAFgBh9NaQA2AX6fFPIVQB0j/6L/nd4C+aH5nDImbI60ANnIWHexzMI9jsB78ntIBSHI9gYGICjR+ZTAMy9A/jDMyAR0HkA8hpoAfBWPpWI4D5XQ2HfA8AGEPYPb2yrb84Vg4UE0D61ub/1VRIQrE1Pr2F7b2i1h83EKXBf/AcAcc8AsAewBgzAM4MT4IIfJMDkAIBgln3QNJsFIC0AZOw3hyhNQKeQAOy0nzHYyxHkXaBXd8AiAAEAR0wDo04AALwHPAUA3QF4DTsJMAP6tnhqBATEu6tv/tP4n76zTt+y6Qs9wEF3ymqgS5sbM04AhbAm29pmr0f/fBvMDugRGC2lBGYgJAD+HQAJ0L8BoMoQ3GMRRATuZP4BYHhjk0tlWlcNToBs3WIMtAzW9no9+JejLgB2gI/U8kfYmAFNgAFgAtoCaP2/FgCMgRSBL4dMd/u5/8M++LZYnMAc4SMvmxKoO0Iv2mGrcY/BltmXA7rbE/vw3xQAhNH34Q8IKkUQACwCLxx6rADQjP8b2AZk4AFmgqIN7Ga3voV996fmITzB5gFozBMC9v+AQLWwqgQ4A9QFAOno0zwToDpfAWAHoH1jADkDpuC+LYcmT42rn/X0ZwCzPzE0MTE3IeM/FAlQFHje0Q57B9dAi2CjVyyBdqIAIPP/EQBg8HE4BJ8Iw78n4Onk/y8HkI9/CEFgBlRlG+hH/mHf/NuwT5hvP+P1rGxFAyyrgHXQhSAAXNssGsAyAfj4W/0rAPq3ElhRAJcA4IkcQBMAOKI0AmRwIbUBZOCON4Bhs2+b7ZZ+tS4IojOoPAqMAHUgguXltbXltT3xHw1gYbnugBp/kXIoegCnAQB4XAG0/nlVX8o6EMSyEEIbCALb9n/079O+JgCGgwIeZnFoEeCZcTAKZp8xEM2lbYD2Z0AACHbYAOfNPwNgBFQMQERgRmQA8IuT1RTY3tFMKbiiDwiDf45GI3yg/8edTfiESWfAk21zeCHuxbofegox/Q+Pwsay6NpQrAD22gIQ53pAZQKg6AHvAsAjBuAvCwCcVffzAwA7vBUIAYdw3wiM3Jf/48G62mUGsFebw4nh50YRgQWguw6EwF40wOXlpgN+hD2pXg3PpB7wCACwA0QA2m+0GYiog9A9JTBhw+9Df5D/WS8FeXAIOLI2kFrhw7V/DgT24Z8NkAGAfScw+qluXAxFBM5bCTx66FB0AAIob2lH4ZUAyBisg8DsAxl+eJMAQAGAIEjATt4WsUwwAL6r/VxD2LpgrC4O7YFATyeAfAnkAXD/nz4sAfjl6efVP0qAARCTvKOHHZoCy4ApCNwZe+3OOBZEUuO5e7LgFv9SW4IslHxlyNWwusauh51b+QIIyZ8/cXQbHGL86d/cf4qdTcACQAD469hhBUD/TQN4G7uLCAKAzAnj98b66/q+CBkwhVUcAaKgwDYJ/xMegCHPPk5BQFh0MPAF0OL88sYkht8bAN8FswF4GTADBiBWgs8CwIuSgDoAF/hnvVJMgan/2oNTRz5GJ5QMBAKPerite0L+JNogACgFaM4QYPNz63/SF0AnNpZXNP91AXgEIgHsAZn/GQfwDOyLCKD5Rnsfx5v9Nx1AMHAMm9oJfUU0MUiKoc5BahMiWw9g/MM23aeaoLJLIJPivl4BRP1bDbgGJ+ApAHjMAOQVcKFw3+/DPvwrAgj+k4TVuhPA+4JeTYBloQeHPxBwGvAnZp/55+7SN4Dx5cibzD9nAI4/xCbAJsgEvAAAT5ctEPYvXKhuakf12QsoJfAxCIw7gQ4KEgI9kwMB6FP4rHoAdxzuf4T+1T6U/EM+/h0AoCwBTwDA46kCxkiAf9fq93lbU1EiIIj881/3lMAUvrTERtApLpZqyehDDEC9M/42/6t7jn8RAHOvJ9GgaVAWggDwCAFAN8bMfwqAePfd1Q8ElN1sDgQYgg6xIKAKQk8OH+0O+/SP26aGfwLIGgBkCEaRAUlAaoPwr8KXBrAQ1HmQADwAr1+wHoDh7wsBV98gvF0ikGXC7sgrbAQMQZc4TRICJV47hz/8H9li/MM/J0DzzgQwAkUCsAyAXkpzwI0bYzcUQPhPACimoNDwSDQChGBubuI/qiVA89Uew/+xtf9RWC/8Q3kDZAKcQMcyAHrG/EM3UAL0/7oCoP1Xcwb9AgEycdpuOfifQ8CVUgXAoEQK2uG39neO7lXW/4IAAwDVACDxLwSeUgBPGwD6B4BIAOwXt7QqYoB/r977ViobJ17xXkgEne5dRFCItln9kxz+Izs+9ysA5p/+KSTAFoOpBUCcBESPA0D4v3Ej9w8ZANinLAtWCYDAzz9YGWgIJlcflgJeLxgsdU77HH6Jf9b96wUQ/ZcJ4CwQ7wRsEoAeZQLgvwTA73O3CMCm1s5RD8EIPrrYe3gh2DujLgA+J9C+3yz0Zlv+HH8CSHXQtIB4M/juo4dUzzMBJQBIC6BVtIRwjif64riEIBCsdiLg+6LODEz0aF/Tj7WPDv8e3/wX/jkD0L7tQDA4AeiB3gXZA9S/SyqbAajFnqhh0CfQzgmpgxNThmCcDLpAdKqnMvueflQ/F38Hjz81ygAUk6D2wOiCat9LAHL/TuDVbhUTpJ2P4/MDCQFjcPCaqB1/iOGP9E+M3hTV/q3+sdF+XQFcCfN6kLSAaAK6ChAGuX8I7gv/ZwZBwFbd/rVGAAZD/y8D7r6w38OFwNY/pP47AuAI0iTAOUDWga4X473wjQrAoI+0d3EwCHbecgSYEYzBuNTzAf2gY/BpH5e+9VJw65/V32m/bYKoAGkBoccsAfks2DcCdQCwq/AwgACzQASIgc4JqwhCXQ3F2yJ96BXuZeL30Yd9UVf+OxoAFwJ5ACIBL4R/rAQ8AFAEIAHgLR2S3vfHzqZABGRgEExptDkJ0rslfyT/0Zwhs88CoP9y/EeTCKCzB6ICQi/pm+G2BACAovX3/c4Gorocompw3poAApsVjYFBSBgoeod5uLfoq32v/RoA819eAoFz3UzpzUC9DJRFwJNqnTUwFj0AcgD1dzrju/xJXUGIyjl5V2MABg4BFBSDgaAWoUmId8Y195j49veWkzgDlv1fpGlX/yKF4BNBcTGAq4AnMgCPpiag9rH1X/cA/EoC4fwYDiIIKaMWxta2/14/GACCUQCHWiMq+6kg/obw0N41Mb6Ggx2ge/4f1RM3fc0CYAs8f0krgHqxnAUusAQq/3Rv32tXBl2N8YwyOYlSUAaA4BQcBMWfSUrm4X4H7s15HoBknzMA4x8MrAxsHTRKAvU7QbbBKgEO4NVIwGlYeT99pUFPOGyHoi2KX86TbJvDW6gFhwAKygEkku30o7FmHu6PbG9cW7PBl4d2BoB7VVn/Mf66Q6j/rgDYKogRiGkgawF4058K4PTpVACNLAZymP8ztZTP7samQRAOLlhW2+HcRn5qe2dmbc3th+Lyf9kAIdqPAOR1UAJw/1wE5BEggJgFISQgAHgABgOA2AzkqP0bvuG9nc1xWASIVkfN+9btNZfaX+uYANv6H/UDmz31BAz6qyBbICPgABgBUdh/9fSZM6cVQJcMQRRDq2zy2MUnxu9uTqyOHDmqOjI1NbS5vbOxNbO0tLaG3aXu6V8BVAEY5QogtpgCcOqqgBnOgXkE6N8yEAkwCPxWd5fMXetcdtZPDnGpFc2HmP92BqB/dcwm4C8+yqbAUQaAHaCIwFhFIEsAAnD6YQDS/NAMPHY5+fnYmaX3sZXu12xbSwS0+xX51w7QOf6Q9/7Bw99cDGz1CPxn82DfaiBmAahugh/IaXhwDBwDB9/+6RJ23+AaEUjuVeHfnVf5p//mCmAQ4AJAX5d/EWMAuAYo9Jh3QVXZBdEDAOAs/Wdf7tSzZ8BEwyaOP3zL0Z0A+s8SMNA/lwCcAXyvA8DxtwDwbVCpR58TAFwK9Z1AGYGzdG9nEf+Bq1gu6iv3zvF3BAwACbD7037rn1MACRQtwOy31wLZAes+2DQBSLqg+T8r9ulf86/usctWSQccUsNnjtG9RP8Y7ScItK8EOPzWAJJ9NsBR+rfUKwH3zjVw9akAdsBGz3ApxBqIAIDAaU2Al746H/5gePgDVw1hCf0uhh0vfGua/xrd19N/W//4LrT45x9BiUDEK+H2T8I/AYh/FkBbBDealYC6x24IIJh3Bm4dDMDBGTQQuHX5h6ax5/4h3Boe9pv+d84DYO3N/uSBs8545UXArABoXwLw5KOHOvVIXgNsAgHgrEi8GwMxHgoCpBBn9WxP3L4hYOPHN0AQgOks/V8pghj/azH8Nv7zVgFOADIAFM2XCwDOAN16LACwC8osQAAQnGMXJdfHSaBJgvrFA31XCdDvgDAAX4n929jUv98U7vLlFf82+LwkYBT+1X6a97KCkIMfEM8nQGwsgK424ASgvAaQAQUgXfCsRiAYwDn8Hz+OAximiQAHfIvUvj8WUuc4sLnM/W0WgN8STMcf0gTo+AcB2iaK0RD9138LOLANtF2APUC64FlxDgZmH7ax47BzLSkF2MfRaBoyBmF/TbL/3m3VtaQFIRD2kYBRBCAEAhECq4IMwDz2wv9BDYBtQAi4f9YAS4BtQCnoNGAR8BywKzAK0JId2vH4tVBjoOYh/7XoZRJQ97wlmBYAirr4MlAqAP9ILPZEoB7/J9kAugm8DACpBIiADLIeYC7NOxkcnwYGmCxugkEO04V93XX0Re6e/oXAyoLZRwSg5I8UfOCr3teO/2H6P0BPpwio+f6vv/pKiCEYzsQEZDJz8MqTGaf/TF/F8GsAVOV9oc9FA4BgrBJ983nr/zwvAvwvAkxAMRNk9mUHgW6pZ2NCtfbRAGGfHYD+IQUwLxVg5rDTcoWBX5Mtxp/+H6rHog1eIIHTTQaIQDPQyQD1EF7xorFvAHzscdB/DWAeAEZBwPtbGwX6Z/t3vcsV4H8jwC4A+0bg1wzA8Fmal/NxmQs7ExAg6D//Vvx708i+IIAMAX8fp0oAlAY4eaVvumf8PQD0/38IeBfQUxYBIggI0PFh+m01zYciBCenxbnsMK8A6J8JYASgPAE5DrpX87V95P9/6d/izp+1kRiI4l4vKOvFdvBVKY642ebKI7AEXLm0K5HmvkUI3PeHe9LM5K2klTnsmPz0x06KwHt6M1pIsd3TXysCMcEiAGZqANCDEogOW/z8PHuoH4bh7W2I8g15S7ae/8nkw4CPsxgQjjdLwJlDofyT6H+o6q8/D0xrAPz+WY1AbIMX9A/6CcnxR3wMyuswFQ/5StAPRL95AF1ngxlg7LX0Vb4ZYPf/NQ78kgjIZYgAvGMkjfAZg8CDug8DAj9ggw1T9HXgYgDW+DoKagCYWBCwJAS93Hn0qfzxSv1guQ4ZeDFgASPAEJTkwmWXGUkcCPKB7qMhAQhFAKgfU1C91B2X2EP5Wv79cnEd7acD75oBjMQE1sB/ZMAMqCbA4/iVUwTypQ+YB2gEMgC/qnZA9dTP9ndVGaANGNGCIgVVihgwBKUJwHtsdIAWiAMHyJeN0ifYr6byR3Bl/FkGvAmyDBwnPGfSGYecIawCy4CHAZ4OKAcxAaI+dKAUDvHYOQ6UzssP7JaL23CP9i8CZoBlYKTdkPL3WQXEmTng4xbVez96YAaEhYP8ozkQYepDmOSMlYU//pmVW9xOiypgBhILjvSAHTE3oWTI8TEE0I8ZGDFpAQi3GU2ow9r3PP6badZsBOIA9BtHsq9QGoBRWGA5MCwFYUghIAtiwrwRvPdOIn/TUMPNdfCShQBjzoNYCHlH0L3qgRf5r/pdsVaAKTmAOig0+Vgfc+oPo+A3bvGVdFv2gawOaEJZD7waZcMigwxM4NkRzQEM2mClcNKQJ4mPG+Rjp/yvxq1pgVC3YC/7bDVgowWYZoHXGfGAPmAG+OJUOeyTjpB6KOdrdUfIvwdN91hJAT3IfYDoI2MwfzlMrwa64DPGBFEr/YHSgfcbtL670bTbLAVhJNAEpqFoCLXeCNKCyCy4jA/q3eLONG6tJogBrISUoidgS/uCUvGAPmQ2YIRNpxjjw+dq1/Hs78vStf32iZUwfUC84MM+8YF1gZXfD9hYEIqv8rDpO3d/8WUWOviwfRITFH677ENigzBTEjqJxySrVd/vOtcsvpll41zXtW3b9zAE/FAgXGb+4CgWpGmQNfPYuFI2oAe73a7rnGu+RPc/7NDmX/6EDAkAAAAASUVORK5CYII=",this.supportedTransactionVersions=null,this._readyState="undefined"==typeof window||"undefined"==typeof document?o.WalletReadyState.Unsupported:o.WalletReadyState.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new o.WalletDisconnectedError),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._network=e.network||null,this._readyState!==o.WalletReadyState.Unsupported){const e=t=>{"object"==typeof t.data&&t.data.__glow_loaded&&(this._readyState!==o.WalletReadyState.Installed&&(this._readyState=o.WalletReadyState.Installed,this.emit("readyStateChange",this._readyState)),window.removeEventListener("message",e))};window.addEventListener("message",e),(0,o.scopePollingDetectionStrategy)((()=>{var t;return!!(null===(t=window.glowSolana)||void 0===t?void 0:t.isGlow)&&(window.removeEventListener("message",e),this._readyState!==o.WalletReadyState.Installed&&(this._readyState=o.WalletReadyState.Installed,this.emit("readyStateChange",this._readyState)),!0)}))}}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!(null===(e=this._wallet)||void 0===e?void 0:e.isConnected)}get readyState(){return this._readyState}connect(){return r(this,void 0,void 0,(function*(){try{if(this.connected||this.connecting)return;if(this._readyState!==o.WalletReadyState.Installed)throw new o.WalletNotReadyError;this._connecting=!0;const e=window.glowSolana;try{yield e.connect()}catch(e){throw new o.WalletConnectionError(null==e?void 0:e.message,e)}if(!e.publicKey)throw new o.WalletAccountError;let t;try{t=new s.PublicKey(e.publicKey.toBytes())}catch(e){throw new o.WalletPublicKeyError(null==e?void 0:e.message,e)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}))}disconnect(){return r(this,void 0,void 0,(function*(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{yield e.disconnect()}catch(e){this.emit("error",new o.WalletDisconnectionError(null==e?void 0:e.message,e))}}this.emit("disconnect")}))}sendTransaction(e,t,n={}){return r(this,void 0,void 0,(function*(){try{const r=this._wallet;if(!r)throw new o.WalletNotConnectedError;try{const{signers:o}=n,s=i(n,["signers"]);e=yield this.prepareTransaction(e,t,s),(null==o?void 0:o.length)&&e.partialSign(...o),s.preflightCommitment=s.preflightCommitment||t.commitment;const{signature:a}=yield r.signAndSendTransaction(e,Object.assign(Object.assign({},s),{network:this._network}));return a}catch(e){if(e instanceof o.WalletError)throw e;throw new o.WalletSendTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signTransaction(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{return(yield t.signTransaction(e,this._network))||e}catch(e){throw new o.WalletSignTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signAllTransactions(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{return(yield t.signAllTransactions(e,this._network))||e}catch(e){throw new o.WalletSignTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signMessage(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{const{signature:n}=yield t.signMessage(e);return n}catch(e){throw new o.WalletSignMessageError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}}t.GlowWalletAdapter=a},7424:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5627),t)},8466:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.PhantomWalletAdapter=t.PhantomWalletName=void 0;const o=n(8650),s=n(9990);t.PhantomWalletName="Phantom";class a extends o.BaseMessageSignerWalletAdapter{constructor(e={}){super(),this.name=t.PhantomWalletName,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?o.WalletReadyState.Unsupported:o.WalletReadyState.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new o.WalletDisconnectedError),this.emit("disconnect"))},this._accountChanged=e=>{const t=this._publicKey;if(t){try{e=new s.PublicKey(e.toBytes())}catch(e){return void this.emit("error",new o.WalletPublicKeyError(null==e?void 0:e.message,e))}t.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==o.WalletReadyState.Unsupported&&(0,o.scopePollingDetectionStrategy)((()=>{var e,t,n;return!(!(null===(t=null===(e=window.phantom)||void 0===e?void 0:e.solana)||void 0===t?void 0:t.isPhantom)&&!(null===(n=window.solana)||void 0===n?void 0:n.isPhantom)||(this._readyState=o.WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),0))}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!(null===(e=this._wallet)||void 0===e?void 0:e.isConnected)}get readyState(){return this._readyState}connect(){var e;return r(this,void 0,void 0,(function*(){try{if(this.connected||this.connecting)return;if(this._readyState!==o.WalletReadyState.Installed)throw new o.WalletNotReadyError;this._connecting=!0;const t=(null===(e=window.phantom)||void 0===e?void 0:e.solana)||window.solana;if(!t.isConnected)try{yield t.connect()}catch(e){throw new o.WalletConnectionError(null==e?void 0:e.message,e)}if(!t.publicKey)throw new o.WalletAccountError;let n;try{n=new s.PublicKey(t.publicKey.toBytes())}catch(e){throw new o.WalletPublicKeyError(null==e?void 0:e.message,e)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}))}disconnect(){return r(this,void 0,void 0,(function*(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{yield e.disconnect()}catch(e){this.emit("error",new o.WalletDisconnectionError(null==e?void 0:e.message,e))}}this.emit("disconnect")}))}sendTransaction(e,t,n={}){return r(this,void 0,void 0,(function*(){try{const r=this._wallet;if(!r)throw new o.WalletNotConnectedError;try{const{signers:s}=n,a=i(n,["signers"]);(0,o.isVersionedTransaction)(e)?(null==s?void 0:s.length)&&e.sign(s):(e=yield this.prepareTransaction(e,t,a),(null==s?void 0:s.length)&&e.partialSign(...s)),a.preflightCommitment=a.preflightCommitment||t.commitment;const{signature:u}=yield r.signAndSendTransaction(e,a);return u}catch(e){if(e instanceof o.WalletError)throw e;throw new o.WalletSendTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signTransaction(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{return(yield t.signTransaction(e))||e}catch(e){throw new o.WalletSignTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signAllTransactions(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{return(yield t.signAllTransactions(e))||e}catch(e){throw new o.WalletSignTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signMessage(e){return r(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new o.WalletNotConnectedError;try{const{signature:n}=yield t.signMessage(e);return n}catch(e){throw new o.WalletSignMessageError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}}t.PhantomWalletAdapter=a},4842:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8466),t)},7939:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionProvider=void 0;const s=n(9990),a=o(n(959)),u=n(7949);t.ConnectionProvider=({children:e,endpoint:t,config:n={commitment:"confirmed"}})=>{const r=(0,a.useMemo)((()=>new s.Connection(t,n)),[t,n]);return a.default.createElement(u.ConnectionContext.Provider,{value:{connection:r}},e)}},4879:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletProvider=void 0;const a=n(8650),u=o(n(959)),c=n(5825),l=n(2980),d=n(4137),f={wallet:null,adapter:null,publicKey:null,connected:!1};t.WalletProvider=({children:e,wallets:t,autoConnect:n=!1,onError:r,localStorageKey:i="walletName"})=>{const[o,p]=(0,l.useLocalStorage)(i,null),[{wallet:h,adapter:m,publicKey:g,connected:y},b]=(0,u.useState)(f),w=(null==m?void 0:m.readyState)||a.WalletReadyState.Unsupported,[v,S]=(0,u.useState)(!1),[A,k]=(0,u.useState)(!1),_=(0,u.useRef)(!1),M=(0,u.useRef)(!1),I=(0,u.useRef)(!1),[E,P]=(0,u.useState)((()=>t.map((e=>({adapter:e,readyState:e.readyState})))));(0,u.useEffect)((()=>{function e(e){P((t=>{const n=t.findIndex((({adapter:e})=>e===this));if(-1===n)return t;const{adapter:r}=t[n];return[...t.slice(0,n),{adapter:r,readyState:e},...t.slice(n+1)]}))}return P((e=>t.map(((t,n)=>{const r=e[n];return r&&r.adapter===t&&r.readyState===t.readyState?r:{adapter:t,readyState:t.readyState}})))),t.forEach((t=>t.on("readyStateChange",e,t))),()=>t.forEach((t=>t.off("readyStateChange",e,t)))}),[t]),(0,u.useEffect)((()=>{const e=o&&E.find((({adapter:e})=>e.name===o));b(e?{wallet:e,adapter:e.adapter,connected:e.adapter.connected,publicKey:e.adapter.publicKey}:f)}),[o,E]),(0,u.useEffect)((()=>{function e(){I.current=!0}return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[I]);const T=(0,u.useCallback)((()=>{m&&b((e=>Object.assign(Object.assign({},e),{connected:m.connected,publicKey:m.publicKey})))}),[m]),O=(0,u.useCallback)((()=>{I.current||p(null)}),[I,p]),x=(0,u.useCallback)((e=>(I.current||(r||console.error)(e),e)),[I,r]);(0,u.useEffect)((()=>{if(m)return m.on("connect",T),m.on("disconnect",O),m.on("error",x),()=>{m.off("connect",T),m.off("disconnect",O),m.off("error",x)}}),[m,T,O,x]),(0,u.useEffect)((()=>()=>{null==m||m.disconnect()}),[m]),(0,u.useEffect)((()=>{_.current||y||!n||!m||w!==a.WalletReadyState.Installed&&w!==a.WalletReadyState.Loadable||function(){s(this,void 0,void 0,(function*(){_.current=!0,S(!0);try{yield m.connect()}catch(e){p(null)}finally{S(!1),_.current=!1}}))}()}),[_,y,n,m,w,p]);const B=(0,u.useCallback)((()=>s(void 0,void 0,void 0,(function*(){if(!(_.current||M.current||y)){if(!m)throw x(new c.WalletNotSelectedError);if(w!==a.WalletReadyState.Installed&&w!==a.WalletReadyState.Loadable)throw p(null),"undefined"!=typeof window&&window.open(m.url,"_blank"),x(new a.WalletNotReadyError);_.current=!0,S(!0);try{yield m.connect()}catch(e){throw p(null),e}finally{S(!1),_.current=!1}}}))),[_,M,y,m,w,x,p]),L=(0,u.useCallback)((()=>s(void 0,void 0,void 0,(function*(){if(!M.current){if(!m)return p(null);M.current=!0,k(!0);try{yield m.disconnect()}catch(e){throw p(null),e}finally{k(!1),M.current=!1}}}))),[M,m,p]),C=(0,u.useCallback)(((e,t,n)=>s(void 0,void 0,void 0,(function*(){if(!m)throw x(new c.WalletNotSelectedError);if(!y)throw x(new a.WalletNotConnectedError);return yield m.sendTransaction(e,t,n)}))),[m,x,y]),R=(0,u.useMemo)((()=>m&&"signTransaction"in m?e=>s(void 0,void 0,void 0,(function*(){if(!y)throw x(new a.WalletNotConnectedError);return yield m.signTransaction(e)})):void 0),[m,x,y]),N=(0,u.useMemo)((()=>m&&"signAllTransactions"in m?e=>s(void 0,void 0,void 0,(function*(){if(!y)throw x(new a.WalletNotConnectedError);return yield m.signAllTransactions(e)})):void 0),[m,x,y]),D=(0,u.useMemo)((()=>m&&"signMessage"in m?e=>s(void 0,void 0,void 0,(function*(){if(!y)throw x(new a.WalletNotConnectedError);return yield m.signMessage(e)})):void 0),[m,x,y]);return u.default.createElement(d.WalletContext.Provider,{value:{autoConnect:n,wallets:E,wallet:h,publicKey:g,connected:y,connecting:v,disconnecting:A,select:p,connect:B,disconnect:L,sendTransaction:C,signTransaction:R,signAllTransactions:N,signMessage:D}},e)}},5825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletNotSelectedError=void 0;const r=n(8650);class i extends r.WalletError{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}t.WalletNotSelectedError=i},6165:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7939),t),i(n(5825),t),i(n(9933),t),i(n(7949),t),i(n(2980),t),i(n(4137),t),i(n(4879),t)},9933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAnchorWallet=void 0;const r=n(959),i=n(4137);t.useAnchorWallet=function(){const{publicKey:e,signTransaction:t,signAllTransactions:n}=(0,i.useWallet)();return(0,r.useMemo)((()=>e&&t&&n?{publicKey:e,signTransaction:t,signAllTransactions:n}:void 0),[e,t,n])}},7949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useConnection=t.ConnectionContext=void 0;const r=n(959);t.ConnectionContext=(0,r.createContext)({}),t.useConnection=function(){return(0,r.useContext)(t.ConnectionContext)}},2980:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLocalStorage=void 0;const r=n(959);t.useLocalStorage=function(e,t){const n=(0,r.useState)((()=>{try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){"undefined"!=typeof window&&console.error(e)}return t})),i=n[0],o=(0,r.useRef)(!0);return(0,r.useEffect)((()=>{if(o.current)o.current=!1;else try{null===i?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(i))}catch(e){"undefined"!=typeof window&&console.error(e)}}),[i,e]),n}},4137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWallet=t.WalletContext=void 0;const r=n(959),i=[],o={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(e){console.error(s("get","select"))},connect:()=>Promise.reject(console.error(s("get","connect"))),disconnect:()=>Promise.reject(console.error(s("get","disconnect"))),sendTransaction:(e,t,n)=>Promise.reject(console.error(s("get","sendTransaction"))),signTransaction:e=>Promise.reject(console.error(s("get","signTransaction"))),signAllTransactions:e=>Promise.reject(console.error(s("get","signAllTransactions"))),signMessage:e=>Promise.reject(console.error(s("get","signMessage")))};function s(e,t){return`You have tried to  ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext`}Object.defineProperty(o,"wallets",{get:()=>(console.error(s("read","wallets")),i)}),Object.defineProperty(o,"wallet",{get:()=>(console.error(s("read","wallet")),null)}),Object.defineProperty(o,"publicKey",{get:()=>(console.error(s("read","publicKey")),null)}),t.WalletContext=(0,r.createContext)(o),t.useWallet=function(){return(0,r.useContext)(t.WalletContext)}},2337:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SolflareWalletAdapter=t.SolflareWalletName=void 0;const a=n(8650),u=n(9990);t.SolflareWalletName="Solflare";class c extends a.BaseMessageSignerWalletAdapter{constructor(e={}){super(),this.name=t.SolflareWalletName,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?a.WalletReadyState.Unsupported:a.WalletReadyState.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new a.WalletDisconnectedError),this.emit("disconnect"))},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==a.WalletReadyState.Unsupported&&(0,a.scopePollingDetectionStrategy)((()=>{var e;return!(!(null===(e=window.solflare)||void 0===e?void 0:e.isSolflare)&&!window.SolflareApp||(this._readyState=a.WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),0))}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!(null===(e=this._wallet)||void 0===e?void 0:e.connected)}get readyState(){return this._readyState}connect(){return s(this,void 0,void 0,(function*(){try{if(this.connected||this.connecting)return;if(this._readyState!==a.WalletReadyState.Loadable&&this._readyState!==a.WalletReadyState.Installed)throw new a.WalletNotReadyError;let e,t,r;try{e=(yield Promise.resolve().then((()=>o(n(2495))))).default}catch(e){throw new a.WalletLoadError(null==e?void 0:e.message,e)}try{t=new e({network:this._config.network})}catch(e){throw new a.WalletConfigError(null==e?void 0:e.message,e)}if(this._connecting=!0,!t.connected)try{yield t.connect()}catch(e){throw new a.WalletConnectionError(null==e?void 0:e.message,e)}if(!t.publicKey)throw new a.WalletConnectionError;try{r=new u.PublicKey(t.publicKey.toBytes())}catch(e){throw new a.WalletPublicKeyError(null==e?void 0:e.message,e)}t.on("disconnect",this._disconnected),this._wallet=t,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}))}disconnect(){return s(this,void 0,void 0,(function*(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{yield e.disconnect()}catch(e){this.emit("error",new a.WalletDisconnectionError(null==e?void 0:e.message,e))}}this.emit("disconnect")}))}signTransaction(e){return s(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new a.WalletNotConnectedError;try{return(yield t.signTransaction(e))||e}catch(e){throw new a.WalletSignTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signAllTransactions(e){return s(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new a.WalletNotConnectedError;try{return(yield t.signAllTransactions(e))||e}catch(e){throw new a.WalletSignTransactionError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}signMessage(e){return s(this,void 0,void 0,(function*(){try{const t=this._wallet;if(!t)throw new a.WalletNotConnectedError;try{return yield t.signMessage(e,"utf8")}catch(e){throw new a.WalletSignMessageError(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}}))}}t.SolflareWalletAdapter=c},2742:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2337),t)},6668:(e,t,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof i[r[t]]&&(e[e.length]=r[t]);return e}},8624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(e,t){if(!e)throw new Error("Invariant failed")}}}]);
//# sourceMappingURL=main-0.1.6.vendors.js.map